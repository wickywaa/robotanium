/*! For license information please see main.60e91b5f.js.LICENSE.txt */
(function(){var __webpack_modules__={3161:function(module,__unused_webpack_exports,__webpack_require__){var _wrapNativeSuper3=__webpack_require__(3496).default,_construct2=__webpack_require__(3515).default,_get3=__webpack_require__(1588).default,_getPrototypeOf2=__webpack_require__(3808).default,_assertThisInitialized3=__webpack_require__(6115).default,_inherits=__webpack_require__(1655).default,_createSuper=__webpack_require__(6389).default,_objectSpread=__webpack_require__(2122).default,_slicedToArray=__webpack_require__(7424).default,_regeneratorRuntime=__webpack_require__(7061).default,_asyncToGenerator3=__webpack_require__(7156).default,_createForOfIteratorHelper=__webpack_require__(4704).default,_createClass3=__webpack_require__(9728).default,_classCallCheck2=__webpack_require__(6690).default,_defineProperty=__webpack_require__(8416).default,_toConsumableArray=__webpack_require__(861).default,factory;window,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=340)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(395)),o=r(n(196)),a=r(n(124)),s=(0,o.default)((function(e){var t={};return Object.keys(a.default).forEach((function(n){var r=a.default[n].method,o=(0,i.default)("OpenTok:".concat(e,":").concat(n.toLowerCase()));o.log=console[r].bind(console),t[n.toLowerCase()]=o})),t}));s.setLogLevel=function(e){var t;try{t=(void 0!==typeof window?window:__webpack_require__.g).localStorage.debug}catch(o){t=""}var n=Object.keys(a.default).map((function(t){return"".concat(e>=a.default[t].priority?"":"-","(autogen)?OpenTok:*:").concat(t.toLowerCase())})),r=[].concat(_toConsumableArray(n),_toConsumableArray((t||"").split(/[\s,]/).filter((function(e){return-1===e.indexOf("(autogen)?")})))).filter((function(e){return e})).join(",");i.default.enable(r)};var u=s;t.default=u},function(e,t,n){(function(t){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function n(e){return"function"===typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){w[i]=e,w[i+1]=t,2===(i+=2)&&(a?a(E):_())};function u(e){a=e}function c(e){s=e}var l="undefined"!==typeof window?window:void 0,d=l||{},f=d.MutationObserver||d.WebKitMutationObserver,p="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),h="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function v(){return function(){return t.nextTick(E)}}function m(){return"undefined"!==typeof o?function(){o(E)}:b()}function g(){var e=0,t=new f(E),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=E,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(E,1)}}var w=new Array(1e3);function E(){for(var e=0;e<i;e+=2)(0,w[e])(w[e+1]),w[e]=void 0,w[e+1]=void 0;i=0}function k(){try{var e=Function("return this")().require("vertx");return o=e.runOnLoop||e.runOnContext,m()}catch(t){return b()}}var _=void 0;function S(e,t){var n=this,r=new this.constructor(T);void 0===r[x]&&Y(r);var i=n._state;if(i){var o=arguments[i-1];s((function(){return U(i,r,o,n._result)}))}else G(n,r,e,t);return r}function C(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(T);return j(n,e),n}_=p?v():f?g():h?y():void 0===l?k():b();var x=Math.random().toString(36).substring(2);function T(){}var I=void 0,R=1,O=2;function A(){return new TypeError("You cannot resolve a promise with itself")}function N(){return new TypeError("A promises callback cannot return that same promise.")}function P(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function L(e,t,n){s((function(e){var r=!1,i=P(n,t,(function(n){r||(r=!0,t!==n?j(e,n):V(e,n))}),(function(t){r||(r=!0,Z(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,Z(e,i))}),e)}function M(e,t){t._state===R?V(e,t._result):t._state===O?Z(e,t._result):G(t,void 0,(function(t){return j(e,t)}),(function(t){return Z(e,t)}))}function D(e,t,r){t.constructor===e.constructor&&r===S&&t.constructor.resolve===C?M(e,t):void 0===r?V(e,t):n(r)?L(e,t,r):V(e,t)}function j(t,n){if(t===n)Z(t,A());else if(e(n)){var r=void 0;try{r=n.then}catch(i){return void Z(t,i)}D(t,n,r)}else V(t,n)}function F(e){e._onerror&&e._onerror(e._result),W(e)}function V(e,t){e._state===I&&(e._result=t,e._state=R,0!==e._subscribers.length&&s(W,e))}function Z(e,t){e._state===I&&(e._state=O,e._result=t,s(F,e))}function G(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+R]=n,i[o+O]=r,0===o&&e._state&&s(W,e)}function W(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?U(n,r,i,o):i(o);e._subscribers.length=0}}function U(e,t,r,i){var o=n(r),a=void 0,s=void 0,u=!0;if(o){try{a=r(i)}catch(c){u=!1,s=c}if(t===a)return void Z(t,N())}else a=i;t._state!==I||(o&&u?j(t,a):!1===u?Z(t,s):e===R?V(t,a):e===O&&Z(t,a))}function X(e,t){try{t((function(t){j(e,t)}),(function(t){Z(e,t)}))}catch(n){Z(e,n)}}var B=0;function H(){return B++}function Y(e){e[x]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}function z(){return new Error("Array Methods must be provided an Array")}var K=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[x]||Y(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?V(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&V(this.promise,this._result))):Z(this.promise,z())}return e.prototype._enumerate=function(e){for(var t=0;this._state===I&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===C){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(u){a=!0,o=u}if(i===S&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(n===te){var s=new n(T);a?Z(s,o):D(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===I&&(this._remaining--,e===O?Z(r,n):this._result[t]=n),0===this._remaining&&V(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;G(e,void 0,(function(e){return n._settledAt(R,t,e)}),(function(e){return n._settledAt(O,t,e)}))},e}();function J(e){return new K(this,e).promise}function Q(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function q(e){var t=new this(T);return Z(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[x]=H(),this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!==typeof t&&$(),this instanceof e?X(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,r=t.constructor;return n(e)?t.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):t.then(e,e)},e}();function ne(){var e=void 0;if("undefined"!==typeof(void 0!==typeof window?window:__webpack_require__.g))e=void 0!==typeof window?window:__webpack_require__.g;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(r){}if("[object Promise]"===n&&!t.cast)return}e.Promise=te}return te.prototype.then=S,te.all=J,te.race=Q,te.resolve=C,te.reject=q,te._setScheduler=u,te._setAsap=c,te._asap=s,te.polyfill=ne,te.Promise=te,te}()}).call(this,n(43))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(451)).default.parse();t.default=i},function(e,t,n){e.exports=n(391)},function(e,t,n){(function(t){function n(e,n,r,i,o,a,s){try{var u=e[a](s),c=u.value}catch(l){return void r(l)}u.done?n(c):t.resolve(c).then(i,o)}e.exports=function(e){return function(){var r=this,i=arguments;return new t((function(t,o){var a=e.apply(r,i);function s(e){n(a,t,o,s,u,"next",e)}function u(e){n(a,t,o,s,u,"throw",e)}s(void 0)}))}}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=new a.default;t.on("newListener",(function(e){t.emit("".concat(e,":added"))})),t.on("removeListener",(function(e){t.emit("".concat(e,":removed"))}));var n={eventsDispatched:{},on:function(e,n,r){return"string"===typeof e&&n?e.split(" ").forEach((function(e){t.on(e,(0,u.default)(n,r))})):Object.keys(e).forEach((function(r){t.on(r,(0,u.default)(e[r],n))})),this},off:function(e,n,r){return"string"===typeof e?this.off(e.split(" "),n,r):Array.isArray(e)?e.forEach((function(e){n&&(0,o.default)(n)?t.removeListener(e,(0,u.default)(n,r)):t.removeAllListeners(e)})):e?Object.keys(e).forEach((function(r){t.removeListener(r,(0,u.default)(e[r],n))})):t.removeAllListeners(),this},once:function(e,n,r){return"string"===typeof e&&n?e.split(" ").forEach((function(e){t.once(e,(0,u.default)(n,r))})):Object.keys(e).forEach((function(r){t.once(r,(0,u.default)(e[r],n))})),this},dispatchEvent:function(e){if(!e.type)throw new Error("dispatchEvent: Event has no type");return e.target||(e.target=this),this.trigger(e.type,e),this},dispatchEventOnce:function(e,t){this.isEventDispatched(e.type,t)||(this.dispatchEvent(e),this.eventsDispatched[e.type]?this.eventsDispatched[e.type].push(t):this.eventsDispatched[e.type]=[t])},isEventDispatched:function(e,t){var n;return null==(n=this.eventsDispatched[e])?void 0:n.includes(t)},trigger:function(e){try{for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}catch(o){c.error("An error occurred in an event handler",o)}return this},emit:function(){return e.trigger.apply(e,arguments)},addEventListener:function(t,n,r){return c.warn("The addEventListener() method is deprecated. Use on() or once() instead."),e.on(t,n,r)},removeEventListener:function(t,n,r){return c.warn("The removeEventListener() method is deprecated. Use off() instead."),e.off(t,n,r)},listenerCount:function(e){return t.listenerCount(e)}};return(0,i.default)(e,n)};var i=r(n(9)),o=r(n(17)),a=r(n(14)),s=r(n(1)),u=r(n(398)),c=(0,s.default)("Events")},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(130)),o=r(n(211)),a=r(n(6)),s=r(n(1)),u=r(n(3)),c=r(n(213)),l=r(n(212)),d=r(n(214)),f=r(n(463)),p=r(n(216)),h=r(n(221)),v=r(n(554)),m=r(n(255));o.default.logging=(0,s.default)("OT.$"),o.default.env=u.default,o.default.ElementCollection=l.default,o.default.ajax=d.default,o.default.statable=f.default,o.default.Analytics=p.default,o.default.Collection=h.default,o.default.domExtras=v.default,o.default.Error=m.default,(0,c.default)(o.default,"useLogHelpers",{value:function(e){var t=(0,s.default)("useLogHelpersDeprecatedMixin");return Object.keys(t).forEach((function(n){e[n]=t[n]})),e},name:"OT.useLogHelpers",getWarning:"Please use an external library for your debugging needs"}),o.default.defaults=i.default,(0,c.default)(o.default,"eventing",{value:a.default,name:"OT.$.eventing",getWarning:"Please use an external library to create an event emitter."}),Object.keys(o.default).forEach((function(e){var t=o.default[e]._attachToOTHelpers||{};Object.keys(t).forEach((function(n){!Object.hasOwnProperty.call(o.default,n)||"util"===e&&"bind"===n||console.warn("More than one module is trying to define ".concat(n," on OTHelpers.")),o.default[n]=t[n]}))}));var g=o.default;t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={AUTHENTICATION_ERROR:"OT_AUTHENTICATION_ERROR",BADLY_FORMED_RESPONSE:"OT_BADLY_FORMED_RESPONSE",CHROME_MICROPHONE_ACQUISITION_ERROR:"OT_CHROME_MICROPHONE_ACQUISITION_ERROR",CONNECT_FAILED:"OT_CONNECT_FAILED",CONNECTION_LIMIT_EXCEEDED:"OT_CONNECTION_LIMIT_EXCEEDED",CONSTRAINTS_NOT_SATISFIED:"OT_CONSTRAINTS_NOT_SATISFIED",CREATE_PEER_CONNECTION_FAILED:"OT_CREATE_PEER_CONNECTION_FAILED",DISCONNECTED:"OT_DISCONNECTED",EMPTY_RESPONSE_BODY:"OT_EMPTY_RESPONSE_BODY",GET_RTC_STATS_REPORT_NOT_SUPPORTED:"OT_GET_RTC_STATS_REPORT_NOT_SUPPORTED",HARDWARE_UNAVAILABLE:"OT_HARDWARE_UNAVAILABLE",ICE_WORKFLOW_FAILED:"OT_ICE_WORKFLOW_FAILED",INVALID_HTTP_STATUS:"OT_INVALID_HTTP_STATUS",INVALID_PARAMETER:"OT_INVALID_PARAMETER",INVALID_SESSION_ID:"OT_INVALID_SESSION_ID",MEDIA_ERR_ABORTED:"OT_MEDIA_ERR_ABORTED",MEDIA_ERR_DECODE:"OT_MEDIA_ERR_DECODE",MEDIA_ERR_NETWORK:"OT_MEDIA_ERR_NETWORK",MEDIA_ERR_SRC_NOT_SUPPORTED:"OT_MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ENDED:"OT_MEDIA_ENDED",NO_DEVICES_FOUND:"OT_NO_DEVICES_FOUND",NO_VALID_CONSTRAINTS:"OT_NO_VALID_CONSTRAINTS",NOT_CONNECTED:"OT_NOT_CONNECTED",NOT_FOUND:"OT_NOT_FOUND",NOT_SUPPORTED:"OT_NOT_SUPPORTED",PEER_CONNECTION_NOT_CONNECTED:"OT_PEER_CONNECTION_NOT_CONNECTED",PERMISSION_DENIED:"OT_PERMISSION_DENIED",RATE_LIMIT_EXCEEDED:"OT_RATE_LIMIT_EXCEEDED",REPORT_ISSUE_FAILED:"OT_REPORT_ISSUE_FAILED",SCREEN_SHARING_EXTENSION_NOT_INSTALLED:"OT_SCREEN_SHARING_EXTENSION_NOT_INSTALLED",SCREEN_SHARING_EXTENSION_NOT_REGISTERED:"OT_SCREEN_SHARING_EXTENSION_NOT_REGISTERED",SCREEN_SHARING_NOT_SUPPORTED:"OT_SCREEN_SHARING_NOT_SUPPORTED",SET_REMOTE_DESCRIPTION_FAILED:"OT_SET_REMOTE_DESCRIPTION_FAILED",FAILED_SET_CONFIGURATION:"OT_FAILED_SET_CONFIGURATION",SOCKET_ALREADY_CONNECTED_CONNECTING:"OT_SOCKET_ALREADY_CONNECTED_CONNECTING",SOCKET_CLOSE_ABNORMAL:"OT_SOCKET_CLOSE_ABNORMAL",SOCKET_CLOSE_CONNECT_EXCEPTION:"OT_SOCKET_CLOSE_CONNECT_EXCEPTION",SOCKET_CLOSE_CONNECTIVITY_LOSS:"OT_SOCKET_CLOSE_CONNECTIVITY_LOSS",SOCKET_CLOSE_FALLBACK_CODE:"OT_SOCKET_CLOSE_FALLBACK_CODE",SOCKET_CLOSE_INCONSISTENT_DATA:"OT_SOCKET_CLOSE_INCONSISTENT_DATA",SOCKET_CLOSE_NO_STATUS:"OT_SOCKET_CLOSE_NO_STATUS",SOCKET_CLOSE_POLICY_VIOLATION:"OT_SOCKET_CLOSE_POLICY_VIOLATION",SOCKET_CLOSE_GOING_AWAY:"OT_SOCKET_CLOSE_GOING_AWAY",SOCKET_CLOSE_PROTOCOL_ERROR:"OT_SOCKET_CLOSE_PROTOCOL_ERROR",SOCKET_CLOSE_TIMEOUT:"OT_SOCKET_CLOSE_TIMEOUT",SOCKET_CLOSE_TOO_LARGE:"OT_SOCKET_CLOSE_TOO_LARGE",SOCKET_CLOSE_UNEXPECTED_CONDITION:"OT_SOCKET_CLOSE_UNEXPECTED_CONDITION",SOCKET_CLOSE_UNSUPPORTED:"OT_SOCKET_CLOSE_UNSUPPORTED",STREAM_CREATE_FAILED:"OT_STREAM_CREATE_FAILED",STREAM_DESTROYED:"OT_STREAM_DESTROYED",STREAM_LIMIT_EXCEEDED:"OT_STREAM_LIMIT_EXCEEDED",STREAM_NOT_FOUND:"OT_STREAM_NOT_FOUND",UNABLE_TO_SUBSCRIBE:"OT_UNABLE_TO_SUBSCRIBE",TERMS_OF_SERVICE_FAILURE:"OT_TERMS_OF_SERVICE_FAILURE",TIMEOUT:"OT_TIMEOUT",CANCEL:"OT_CANCEL",UNABLE_TO_CAPTURE_MEDIA:"OT_UNABLE_TO_CAPTURE_MEDIA",UNABLE_TO_CAPTURE_SCREEN:"OT_UNABLE_TO_CAPTURE_SCREEN",UNEXPECTED_ERROR_CODE:"OT_UNEXPECTED_ERROR_CODE",UNEXPECTED_HTTP_STATUS:"OT_UNEXPECTED_HTTP_STATUS",UNEXPECTED_SERVER_RESPONSE:"OT_UNEXPECTED_SERVER_RESPONSE",UNKNOWN_HTTP_ERROR:"OT_UNKNOWN_HTTP_ERROR",UNSUPPORTED_BROWSER:"OT_UNSUPPORTED_BROWSER",USER_MEDIA_ACCESS_DENIED:"OT_USER_MEDIA_ACCESS_DENIED",XDOMAIN_OR_PARSING_ERROR:"OT_XDOMAIN_OR_PARSING_ERROR",API_KEY_DISABLED:"OT_API_KEY_DISABLED",UNABLE_TO_ACCESS_MEDIA_ENGINE:"OT_UNABLE_TO_ACCESS_MEDIA_ENGINE",SET_PROXY_URL_TIMING_ERROR:"OT_SET_PROXY_URL_TIMING_ERROR",PROXY_URL_ALREADY_SET_ERROR:"OT_PROXY_URL_ALREADY_SET_ERROR",SET_VIDEO_SOURCE_FAILURE:"OT_SET_VIDEO_SOURCE_FAILURE",INVALID_VIDEO_SOURCE:"OT_INVALID_VIDEO_SOURCE",REQUESTED_DEVICE_PERMISSION_DENIED:"OT_REQUESTED_DEVICE_PERMISSION_DENIED",INVALID_AUDIO_OUTPUT_SOURCE:"OT_INVALID_AUDIO_OUTPUT_SOURCE",INVALID_ENCRYPTION_SECRET:"OT_INVALID_ENCRYPTION_SECRET"}},function(e,t,n){var r=n(84),i=n(41),o=n(193),a=n(24),s=n(68),u=n(31),c=Object.prototype.hasOwnProperty,l=o((function(e,t){if(s(t)||a(t))i(t,u(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])}));e.exports=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={JS_EXCEPTION:2e3,AUTHENTICATION_ERROR:1004,INVALID_SESSION_ID:1005,CONNECT_FAILED:1006,CONNECT_REJECTED:1007,CONNECTION_TIMEOUT:1008,NOT_CONNECTED:1010,INVALID_PARAMETER:1011,P2P_CONNECTION_FAILED:1013,API_RESPONSE_FAILURE:1014,PEER_CONNECTION_NOT_CONNECTED:1015,TERMS_OF_SERVICE_FAILURE:1026,CONNECTION_LIMIT_EXCEEDED:1027,UNABLE_TO_PUBLISH:1500,UNABLE_TO_SUBSCRIBE:1501,UNSUPPORTED_VIDEO_CODEC:1502,UNABLE_TO_FORCE_DISCONNECT:1520,UNABLE_TO_FORCE_UNPUBLISH:1530,UNABLE_TO_FORCE_MUTE:1540,PUBLISHER_ICE_WORKFLOW_FAILED:1553,SUBSCRIBER_ICE_WORKFLOW_FAILED:1554,STREAM_LIMIT_EXCEEDED:1605,UNEXPECTED_SERVER_RESPONSE:2001,REPORT_ISSUE_ERROR:2011,SET_PROXY_URL_TIMING_ERROR:2021,PROXY_URL_ALREADY_SET_ERROR:2022,GET_RTC_STATS_REPORT_NOT_SUPPORTED:2031,ANVIL_BADLY_FORMED_RESPONSE:3001,ANVIL_INVALID_HTTP_STATUS:3002,ANVIL_XDOMAIN_OR_PARSING_ERROR:3003,ANVIL_UNKNOWN_HTTP_ERROR:3004,ANVIL_UNEXPECTED_ERROR_CODE:3005,ANVIL_EMPTY_RESPONSE_BODY:3006,ANVIL_CONNECT_FAILED:3007,UNABLE_TO_ACCESS_MEDIA_ENGINE:5001};t.default=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.Errors||o.default,n=e.OTErrorClass||i.default,r=Object.keys(t).map((function(e){return t[e]}));return function(e,t,i){if(-1===r.indexOf(e))return new Error("Attempt to use invalid error name (".concat(e,"). Original message: ").concat(t.message));if(!(t instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(t))))return new Error("Did not pass Error as second argument: ".concat(t));var o=new n(void 0,t.message);if(o.name=e,!t.stack)try{throw t}catch(a){}return o.stack=t.stack,i&&(o.code=i),o}};var i=r(n(21)),o=r(n(8))},function(e,t,n){"use strict";(function(t){var n,r="object"===typeof Reflect?Reflect:null,i=r&&"function"===typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,n){return new t((function(t,r){function i(t){e.removeListener(n,o),r(t)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),t([].slice.call(arguments))}m(e,n,o,{once:!0}),"error"!==n&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)i(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}}).call(this,n(2))},function(e,t,n){var r=n(175),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(464),i=n(465),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r=n(30),i=n(11);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(225),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(3)),s=r(n(94)),u=r(n(209)),c=r(n(455)),l=r(n(210)),d=function(t){void 0===t&&(t={});var n=t.getNativeEnumerateDevices||(0,u.default)(),r=t.getNativeMediaDevices||(0,c.default)(),d=(t.currentAudioOutputDevice||s.default).getCurrentAudioOutputDeviceId,f=(t.currentAudioInputDevice||l.default).getCurrentAudioInputDevice,p=t.env||a.default,h=t.global||(void 0!==typeof window?window:__webpack_require__.g),v={},m={audio:"audioInput",video:"videoInput",audioinput:"audioInput",videoinput:"videoInput",audiooutput:"audioOutput",audioInput:"audioInput",videoInput:"videoInput",audioOutput:"audioOutput"};return v.getNativeMediaDevices=function(){return r()},v.hasEnumerateDevicesCapability=function(){return"function"===typeof n()},v.hasDeviceChangeCapability=function(){var e=r();return!(!e||!("ondevicechange"in e))},v.hasSetSinkIdCapability=function(){return"setSinkId"in(null==h?void 0:h.HTMLMediaElement.prototype)},v.hasAudioOutputApiSupport=function(){var e=t.hasSetSinkIdCapability,n=void 0===e?v.hasSetSinkIdCapability:e,r=t.hasDeviceChangeCapability,i=void 0===r?v.hasDeviceChangeCapability:r;return!(null!=p&&p.isFirefox)&&n()&&i()},v.hasEnumerateDevicesBug=function(){return p.isSafari&&13.1===p.version},v.getMediaDevices=function(){return v.hasEnumerateDevicesCapability()?n()().then((function(e){return e.map((function(e){return{deviceId:e.deviceId||e.id,label:e.label,kind:m[e.kind]}}))})):e.reject(new Error("This browser does not support enumerateDevices APIs"))},v.getInputMediaDevices=function(){return v.getMediaDevices().then((function(e){return e.filter((function(e){return/^(audio|video)Input$/.test(e.kind)}))}))},v.getAudioOutputMediaDevices=function(){return v.getMediaDevices().then((function(e){return e.filter((function(e){return"audioOutput"===e.kind})).map((function(e){return{deviceId:e.deviceId,label:e.label}}))}))},v.getAudioInputMediaDevices=function(){return v.getMediaDevices().then((function(e){return e.filter((function(e){return"audioInput"===e.kind})).map((function(e){return{deviceId:e.deviceId,label:e.label}}))}))},v.shouldAskForDevices=function(){return v.hasEnumerateDevicesCapability()?v.getInputMediaDevices().then((function(e){if(0===e.length)return{video:!0,audio:!0};var t=e.filter((function(e){return"audioInput"===e.kind})),n=e.filter((function(e){return"videoInput"===e.kind}));return v.hasEnumerateDevicesBug()&&0===n.length?{audio:!0,video:!0}:{video:n.length>0,audio:t.length>0,videoDevices:n,audioDevices:t}})).catch((function(){return{video:!0,audio:!0}})):e.resolve({video:!0,audio:!0})},v.getDefaultAudioOutputDeviceId=function(e){return Array.isArray(e)&&0!==e.length?(e.find((function(e){return"default"===e.deviceId}))||e[0]).deviceId:""},v.getDefaultAudioInputDevice=function(e){return Array.isArray(e)&&0!==e.length?e.find((function(e){return"default"===e.deviceId}))||e[0]:""},v.hasDevice=function(e,t){var n=e;return Array.isArray(n)||(n=[]),n.some((function(e){return e.deviceId===t}))},v.getActiveAudioInputDevice=(0,o.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAudioInputMediaDevices();case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",{deviceId:null,label:null});case 5:return(n=f())||(r=v.getDefaultAudioInputDevice(t),n=t.find((function(e){return e===r}))),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),v.getActiveAudioOutputDevice=(0,o.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.getAudioOutputMediaDevices();case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:if(0!==t.length){e.next=11;break}return e.abrupt("return",{deviceId:null,label:null});case 11:return(n=t.find((function(e){return e.deviceId===d()})))||(r=v.getDefaultAudioOutputDeviceId(t),n=t.find((function(e){return e.deviceId===r}))),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[0,6]])}))),v};t.default=d}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(6)),o=r(n(1)),a=r(n(22)),s=r(n(26)),u=r(n(479)),c=(0,o.default)("GlobalExceptionHandler"),l=(0,a.default)(),d=function(e,t){Error.call(this),this.code=e,this.message=t};(d.prototype=Object.create(Error.prototype)).constructor=d,(0,i.default)(d),d.getTitleByCode=function(e){return u.default[+e]},d.handleJsException=function(e){var t=e.error,n=e.errorMsg,r=e.code,i=e.target,o=e.analytics;if(!i)throw new Error("handleJsException requires target");var a=function(){return void 0!==r?r:t&&t.code},u=function(){return void 0!==n?n:t&&t.message},f=d.getTitleByCode(a());c.error("OT.exception :: title: ".concat(f," (").concat(a(),") msg: ").concat(u()));try{var p={partnerId:i.session?i.session.apiKey:i.apiKey,sessionId:i.session?i.session.sessionId:i.sessionId};o.logError(a(),"tb.exception",f,{details:u()},p);var h=new l.ExceptionEvent(s.default.EXCEPTION,u(),f,a(),i,i,t);if(t)h.stack=t.stack;else try{throw new Error}catch(v){h.stack=v.stack}d.dispatchEvent(h)}catch(m){c.error("OT.exception :: Failed to dispatch exception - ".concat(m.toString()))}};var f=d;t.default=f},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.logging||(0,a.default)("Events"),n={ExceptionEvent:function(e,t,n,r,i,o,a){return new s.default(e,!1,{error:a,message:t,title:n,code:r,component:i,target:o})},IssueReportedEvent:function(e,t){return new s.default(e,!1,{issueId:t})},EnvLoadedEvent:function(e){return new s.default(e,!1)}},r=!1;n.ConnectionEvent=function(e){function n(t,n,r){return e.call(this,t,!1,{connection:n,reason:r})||this}return(0,o.default)(n,e),(0,i.default)(n,[{key:"connections",get:function(){return r||(t.warn("OT.ConnectionEvent connections property is deprecated, use connection instead."),r=!0),[this.connection]}}]),n}(s.default);var c=!1;n.StreamEvent=function(e){function n(t,n,r,i){return e.call(this,t,i,{stream:n,reason:r})||this}return(0,o.default)(n,e),(0,i.default)(n,[{key:"streams",get:function(){return c||(t.warn("OT.StreamEvent streams property is deprecated, use stream instead."),c=!0),[this.stream]}}]),n}(s.default);var l=!1,d=!1,f=!1;return n.SessionConnectEvent=function(e){function n(t){return e.call(this,t,!1)||this}return(0,o.default)(n,e),(0,i.default)(n,[{key:"connections",get:function(){return l||(t.warn("OT.SessionConnectedEvent no longer includes connections. Listen for connectionCreated events instead."),l=!0),[]}},{key:"streams",get:function(){return d||(t.warn("OT.SessionConnectedEvent no longer includes streams. Listen for streamCreated events instead."),d=!0),[]}},{key:"archives",get:function(){return f||(t.warn("OT.SessionConnectedEvent no longer includes archives. Listen for archiveStarted events instead."),f=!0),[]}}]),n}(s.default),n.SessionReconnectingEvent=function(){return new s.default(u.default.SESSION_RECONNECTING,!1)},n.SessionReconnectedEvent=function(){return new s.default(u.default.SESSION_RECONNECTED)},n.SessionDisconnectEvent=function(e,t,n){return new s.default(e,n,{reason:t})},n.StreamPropertyChangedEvent=function(e,t,n,r,i){return new s.default(e,!1,{stream:t,changedProperty:n,oldValue:r,newValue:i})},n.VideoDimensionsChangedEvent=function(e,t,n){return new s.default("videoDimensionsChanged",!1,{target:e,oldValue:t,newValue:n})},n.ArchiveEvent=function(e,t){return new s.default(e,!1,{id:t.id,name:t.name,status:t.status,archive:t})},n.ArchiveUpdatedEvent=function(e,t,n,r){return new s.default("updated",!1,{target:e,changedProperty:t,oldValue:n,newValue:r})},n.SignalEvent=function(e,t,n){return new s.default(e?"signal:".concat(e):u.default.SIGNAL,!1,{data:t,from:n})},n.CaptionReceivedEvent=function(e,t,n){return new s.default("caption",!1,{caption:e,streamId:t,isFinal:n})},n.PublisherCaptionsEnabled=function(e){return new s.default("publisherCaptionsEnabled",!1,{captionsEnabled:e})},n.StreamUpdatedEvent=function(e,t,n,r){return new s.default("updated",!1,{target:e,changedProperty:t,oldValue:n,newValue:r})},n.DestroyedEvent=function(e,t,n){return new s.default(e,!1,{target:t,reason:n})},n.ConnectionStateChangedEvent=function(e,t){return new s.default(e,!1,{target:t})},n.VideoEnabledChangedEvent=function(e,t){return new s.default(e,!1,{reason:t.reason})},n.VideoDisableWarningEvent=function(e){return new s.default(e,!1)},n.AudioLevelUpdatedEvent=function(e){return new s.default(u.default.AUDIO_LEVEL_UPDATED,!1,{audioLevel:e})},n.MediaStoppedEvent=function(e,t){return new s.default(u.default.MEDIA_STOPPED,!0,{target:e,track:t})},n.MuteForcedEvent=function(e){return new s.default(u.default.MUTE_FORCED,!1,e)},n.VideoElementCreatedEvent=function(e){return new s.default(u.default.VIDEO_ELEMENT_CREATED,!1,{element:e})},n};var i=r(n(46)),o=r(n(47)),a=r(n(1)),s=r(n(131)),u=r(n(26))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(221)),o={publishers:new i.default("guid"),subscribers:new i.default("widgetId"),sessions:new i.default};t.default=o},function(e,t,n){var r=n(17),i=n(114);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(46)),s=r(n(6)),u=r(n(222)),c=r(n(216)),l=r(n(135)),d=r(n(35)),f=r(n(548)),p=r(n(550)),h=r(n(553)),v=(0,d.default)(),m=function(){function e(e){var t=void 0===e?{}:e,n=t.staticConfig,r=void 0===n?v.onlyLocal():n,i=t.sessionInfo,o=void 0===i?new l.default:i,a=t.ajax,s=t.queue,u=t.getUserAgentClientHintData,c=void 0===u?h.default:u,d=t.userAgentData,f=void 0===d?"undefined"!==typeof navigator&&navigator.userAgentData:d;this.getTurnServerName=function(e){var t,n;return e&&"object"===typeof e?((Array.isArray(e)?e:[e]).forEach((function(e){var r=e.urls||e.url;(Array.isArray(r)?r:[r]).forEach((function(e){var r=e.indexOf(":")+1,i=e.lastIndexOf(":");e.includes("turns")?n=e.substring(r,i):t=e.substring(r,i)}))})),n||t):t},this.ajax=a,this.queue=s,this.sessionInfo=o,this.getUserAgentClientHintData=c,this.userAgentData=f,this.staticConfig=r}var t=e.prototype;return t._getCachedUserAgentData=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cachedUserAgentData){e.next=4;break}return e.next=3,this.getUserAgentClientHintData(this.userAgentData);case 3:this.cachedUserAgentData=e.sent;case 4:return e.abrupt("return",this.cachedUserAgentData);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.commonQoSFields=function(){var e=this._analytics.proxyUrl,t=this.sessionInfo.messagingURL;return{clientVersion:this.staticConfig.clientVersion,buildHash:this.staticConfig.buildHash,source:(void 0!==typeof window?window:__webpack_require__.g).location&&(void 0!==typeof window?window:__webpack_require__.g).location.href,logVersion:"2",apiServer:this.staticConfig.apiUrl,clientSystemTime:(new Date).getTime(),sessionId:this.sessionInfo.sessionId,mediaServerName:this.sessionInfo.mediaServerName,relayServer:this.getTurnServerName(this.sessionInfo.iceServers),p2p:this.sessionInfo.p2pEnabled,messagingServer:this.sessionInfo.messagingServer,messagingUrl:(0,f.default)(e,t),version:this.staticConfig.version,partnerId:this.sessionInfo.partnerId}},t._getCommonDataFields=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.getAsync();case 2:return t=e.sent,e.next=5,this._getCachedUserAgentData();case 5:return n=e.sent,e.abrupt("return",Object.assign({guid:t},this.commonQoSFields(),n));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.logError=function(t,n,r,i,o){var a=this;void 0===o&&(o={}),this._getCommonDataFields().then((function(s){var u,c=[t,n,r,i,Object.assign({},s,o)];e.emit.apply(e,["logError"].concat(c)),(u=a._analytics).logError.apply(u,c)}))},t.logEvent=function(t,n,r){var i=this;void 0===t&&(t={}),this._getCommonDataFields().then((function(o){var a=Object.assign({},o,t);e.emit("logEvent",a),i._analytics.logEvent(a,!1,n,r)}))},t.logQOS=function(t){var n=this;void 0===t&&(t={}),this._getCommonDataFields().then((function(r){var i=Object.assign({duration:0},r,t);(0,p.default)(i),e.emit("logQOS",i),n._analytics.logQOS(i)}))},(0,a.default)(e,[{key:"staticConfig",get:function(){return this._staticConfig},set:function(e){this._staticConfig=e,this._analytics=new c.default({loggingUrl:this.staticConfig.loggingUrl,ajax:this.ajax,queue:this.queue})}}]),e}();t.default=m,(0,s.default)(m),e.exports=m},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={ACTIVE:"active",INACTIVE:"inactive",UNKNOWN:"unknown",PER_SESSION:"perSession",PER_STREAM:"perStream",EXCEPTION:"exception",ISSUE_REPORTED:"issueReported",SESSION_CONNECTED:"sessionConnected",SESSION_RECONNECTING:"sessionReconnecting",SESSION_RECONNECTED:"sessionReconnected",SESSION_DISCONNECTED:"sessionDisconnected",STREAM_CREATED:"streamCreated",STREAM_DESTROYED:"streamDestroyed",CONNECTION_CREATED:"connectionCreated",CONNECTION_DESTROYED:"connectionDestroyed",SIGNAL:"signal",STREAM_PROPERTY_CHANGED:"streamPropertyChanged",MICROPHONE_LEVEL_CHANGED:"microphoneLevelChanged",RESIZE:"resize",SETTINGS_BUTTON_CLICK:"settingsButtonClick",DEVICE_INACTIVE:"deviceInactive",INVALID_DEVICE_NAME:"invalidDeviceName",ACCESS_ALLOWED:"accessAllowed",ACCESS_DENIED:"accessDenied",ACCESS_DIALOG_OPENED:"accessDialogOpened",ACCESS_DIALOG_CLOSED:"accessDialogClosed",ECHO_CANCELLATION_MODE_CHANGED:"echoCancellationModeChanged",MEDIA_STOPPED:"mediaStopped",PUBLISHER_DESTROYED:"destroyed",MUTE_FORCED:"muteForced",SUBSCRIBER_DESTROYED:"destroyed",SUBSCRIBER_CONNECTED:"connected",SUBSCRIBER_DISCONNECTED:"disconnected",SUBSCRIBER_CAPTION_RECEIVED:"captionReceived",DEVICES_DETECTED:"devicesDetected",DEVICES_SELECTED:"devicesSelected",CLOSE_BUTTON_CLICK:"closeButtonClick",MICLEVEL:"microphoneActivityLevel",MICGAINCHANGED:"microphoneGainChanged",ENV_LOADED:"envLoaded",ENV_UNLOADED:"envUnloaded",AUDIO_LEVEL_UPDATED:"audioLevelUpdated",VIDEO_ELEMENT_CREATED:"videoElementCreated"}},function(e,t,n){"use strict";var r=!0,i=!0;function o(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}e.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"===typeof window){if(r)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(9)),o=r(n(62)),a=r(n(279)),s=r(n(132)),u=r(n(280));function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r(n(1)).default)("SDPHelpers"),f={getSections:function(e){return e.split(/\r\n|\r|\n/).reduce((function(e,t){var n=t.match(/^m=(\w+) \d+/);return n&&(e.sections[e.section=n[1]]=[]),e.sections[e.section].push(t),e}),{sections:{header:[]},section:"header"}).sections},getCodecsFromSection:function(e){return{codecs:e[0].match(/m=\w+ \d+ [A-Z/]+ ([\d ]+)$/)[1].split(" "),codecMap:i.default.apply(void 0,_toConsumableArray(e.filter((function(e){return e.match(/^a=rtpmap:\d+/)})).map((function(e){return e.match(/^a=rtpmap:(\d+) ([\w-]+)/).splice(1)})).map((function(e){var t=e[0],n=e[1];return _defineProperty({},t,n)}))))}},getCodecsAndCodecMap:function(e,t){var n=f.getSections(e)[t];if(!n)throw new Error("no mediaType ".concat(t));return f.getCodecsFromSection(n)},getCodecs:function(e,t){var n=f.getCodecsAndCodecMap(e,t);return n.codecs.map((function(e){return n.codecMap[e]||"Unknown codec"}))},mediaDirections:{INACTIVE:"inactive",RECVONLY:"recvonly",SENDONLY:"sendonly",SENDRECV:"sendrecv"},getMLineIndex:function(e,t){var n="m=".concat(t);return(0,a.default)(e,(function(e){return-1!==e.indexOf(n)}))},getMLine:function(e,t){var n=f.getMLineIndex(e,t);return n>-1?e[n]:void 0},hasMediaType:function(e,t){var n=new RegExp("^m=".concat(t)),r=e.split("\r\n");return(0,a.default)(r,(function(e){return n.test(e)}))>=0},hasMLinePayloadType:function(e,t,n){var r=f.getMLine(e,t);return f.getMLinePayloadTypes(r,t).indexOf(n)>-1},getMLinePayloadTypes:function(e,t){var n=new RegExp("^m=".concat(t," \\d+(/\\d+)? [a-zA-Z0-9/]+(( [a-zA-Z0-9/]+)+)$"),"i"),r=e.match(n);return!r||r.length<2?[]:r[2].trim().split(" ")},splitSections:function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},changeMediaDirection:function(e,t){var n=f.splitSections(e),r=n.shift();return n.forEach((function(e){var n=e.includes("m=video")?function(e){var n=t===f.mediaDirections.RECVONLY?"a=inactive":"a=recvonly",r=new RegExp(n,"g");return e.replace(r,"a=".concat(t))}(e):e;r+=n})),r},removeTypesFromMLine:function(e,t){var n=/[0-9 ]*$/.exec(e)[0],r=n.split(" ").filter((function(e){return""!==e&&-1===t.indexOf(e)}));return e.replace(n," ".concat(r.join(" ")))},removeMediaEncoding:function(e,t,n){var r,i,o,a=e.split("\r\n"),s=f.getMLineIndex(a,t),u=s>-1?a[s]:void 0,c=[];if(-1===s)return a.join("\r\n");if(0===f.getMLinePayloadTypes(u,t).length)return a.join("\r\n");for(r=s;r<a.length;r++){var l=new RegExp(n,"i");0===a[r].indexOf("a=rtpmap:")&&2===(o=a[r].split(" ")).length&&l.test(o[1])&&c.push(o[0].substr(9))}if(!c.length)return a.join("\r\n");for(r=s;r<a.length;r++)if(0===a[r].indexOf("a=fmtp:"))for(o=a[r].split(" "),i=0;i<c.length;i++)2===o.length&&o[1]==="apt=".concat(c[i])&&c.push(o[0].substr(7));return a=a.filter((function(e){for(var t=0;t<c.length;t++)if(0===e.indexOf("a=rtpmap:".concat(c[t]," "))||0===e.indexOf("a=fmtp:".concat(c[t]," "))||0===e.indexOf("a=rtcp-fb:".concat(c[t]," ")))return!1;return!0})),c.length>0&&s>-1&&(a[s]=f.removeTypesFromMLine(u,c)),a.join("\r\n")},disableMediaType:function(e,t){var n,r,i=e.split("\r\n"),o=[];i.forEach((function(e){var t=e;/^m=/.test(t)&&(r=void 0),r||(r=[],o.push(r)),r.push(t)}));var a=new RegExp("^m=".concat(t," \\d+ ([^ ]+) [0-9 ]+$")),s=o.map((function(e){var n=e[0].match(a);return n?["m=".concat(t," 0 ").concat(n[1]," 0"),"a=inactive"].concat(_toConsumableArray(e.filter((function(e){return/^c=/.test(e)||/^a=mid:/.test(e)||""===e})))):e}));return(n=[]).concat.apply(n,_toConsumableArray(s)).join("\r\n")},removeVideoCodec:function(e,t){return f.removeMediaEncoding(e,"video",t)}},p=function(e,t){var n=t.filterByName("ssrc-group:FID");switch((n=0===n.length?[]:n[0].value.split(" ")).length){case 0:case 1:var r=t.find((function(e){return 0===e.name.indexOf("rtpmap:")&&e.value.indexOf("rtx/90000")>-1}));if(!r)return!1;var i=r.name.split(":")[1];return i.indexOf("/")>-1&&(i=i.split("/")[0]),f.hasMLinePayloadType(e,"video",i);default:return d.debug("SDP Helpers: There are more than two FIDs, RTX is definitely enabled"),!0}};f.getAttributesForMediaType=function(e,t){for(var n,r,i,a,s,u,c,l,d,h,v=f.getMLineIndex(e,t),m=new RegExp("m=(?!".concat(t,").+ "),"i"),g=new RegExp("a=ssrc:\\d+ .*","i"),y=new RegExp("a=ssrc-group:(SIM|FID) (\\d+).*?","i"),b=new RegExp("a=([a-z0-9:/-]+) (.*)","i"),w=[],E=v+1;E<e.length;E++){if(m.test(e[E])){void 0!==n&&(r=E-1);break}s=e[E].match(y),u=e[E].match(g),void 0===n&&(s||u)&&(n=E,s&&(a=/^(FID|SIM)$/.test(s[1])?s[2]:s[1])),(c=e[E].match("a=ssrc:".concat(a," msid:(.+)")))&&(l=c[1]);var k=g.test(e[E]),_=y.test(e[E]);void 0!==n&&(void 0!==r||k||_?E===e.length-1&&(r=E):r=E-1);var S=e[E].match(/a=mid:(.+)/);S&&(d=S[1],h=E),(i=b.exec(e[E]))&&3===i.length&&w.push({lineIndex:E,name:i[1],value:i[2]})}return w.ssrcStartIndex=n,w.ssrcEndIndex=r,w.msid=l,w.mid=d,w.midIndex=h,w.isUsingRTX=p.bind(null,e,w),w.filterByName=function(e){return this.filter((function(t){return t.name===e}))},w.getRtpNumber=function(e){var t=new RegExp("rtpmap:(.+)");return(0,o.default)(w.map((function(n){var r=n.name.match(t);return r&&n.value.indexOf(e)>=0?r[1]:null})),(function(e){return null!==e}))},w},f.modifyDtx=function(e,t){var n=e.split("\r\n");if(!f.getMLine(n,"audio"))return d.debug("No audio m-line, not enabling dtx."),e;var r=f.getAttributesForMediaType(n,"audio"),i=r.getRtpNumber("opus");if(!i)return d.debug("Could not find rtp number for opus, not enabling dtx."),e;var o=r.find((function(e){return e.name==="fmtp:".concat(i)}));if(!o)return d.debug("Could not find a=fmtp line for opus, not enabling dtx."),e;var a=n[o.lineIndex],s=/usedtx=\d+([\s;]*)/;return s.test(o.value)?a=a.replace(s,t?"usedtx=1$1":""):t&&(a+="; usedtx=1"),a=a.replace(/[;\s]*$/,""),n[o.lineIndex]=a,n.join("\r\n")};var h=function(e,t,n){var r=t.split("\r\n");if(!f.getMLine(r,"audio"))return d.debug("No audio m-line, not enabling stereo."),t;var i=f.getAttributesForMediaType(r,"audio"),o=i.getRtpNumber("opus");if(!o)return d.debug("Could not find rtp number for opus, not enabling stereo."),t;var a=i.find((function(e){return e.name==="fmtp:".concat(o)}));if(!a)return d.debug("Could not find a=fmtp line for opus, not enabling stereo."),t;var s,u=r[a.lineIndex];switch(e){case"send":(s=/sprop-stereo=\d+([\s;]*)/).test(a.value)?u=u.replace(s,n?"sprop-stereo=1$1":""):n&&(u+="; sprop-stereo=1");break;case"receive":(s=/([^-])stereo=\d+([\s;]*)/).test(a.value)?u=u.replace(s,n?"$1stereo=1$2":"$1"):n&&(u+="; stereo=1");break;default:throw new Error("Invalid type ".concat(e," passed into enableStereo"))}return u=u.replace(/[;\s]*$/,""),r[a.lineIndex]=u,r.join("\r\n")};f.modifySendStereo=h.bind(null,"send"),f.modifyReceiveStereo=h.bind(null,"receive"),f.setAudioBitrate=function(e,t){var n=f.getAudioBitrate(e);if(void 0!==n)return d.debug("Audio bitrate already set to ".concat(n,", not setting audio bitrate")),e;var r=e.split("\r\n");if(!f.getMLine(r,"audio"))return d.debug("No audio m-line, not setting audio bitrate"),e;var i=f.getAttributesForMediaType(r,"audio"),o=i.getRtpNumber("opus");if(!o)return d.debug("Could not find rtp number for opus, not setting audio bitrate."),e;var a=i.find((function(e){return e.name==="fmtp:".concat(o)}));if(!a)return d.debug("Could not find a=fmtp line for opus, not setting audio bitrate."),e;var s=r[a.lineIndex];return s=(s+="; maxaveragebitrate=".concat(t)).replace(/[;\s]*$/,""),r[a.lineIndex]=s,r.join("\r\n")},f.removeVideoOrientation=function(e){var t=e.split("\r\n");return(t=t.filter((function(e){return!e.includes("urn:3gpp:video-orientation")}))).join("\r\n")},f.hasSendStereo=function(e){return/[\s;]sprop-stereo=1/.test(e)},f.hasSendDtx=function(e){return/[\s;]usedtx=1/.test(e)},f.getAudioBitrate=function(e){var t=e.match(/[\s;]maxaveragebitrate=(\d+)/);if(t)return Number(t[1])},f.MAX_SSRCS=10,f.getSSRCGroupType=function(e){return["SIM","FID"].find((function(t){return e.filterByName("ssrc-group:".concat(t))[0]}))},f.getSSRCGroup=function(e){var t=f.getSSRCGroupType(e);return e.filterByName("ssrc-group:".concat(t))[0]},f.getSSRCGroupSSRCs=function(e){var t=f.getSSRCGroup(e);return t?t.value.split(" ").slice(0,f.MAX_SSRCS):[]},f.getAllowedSSRCs=function(e,t){var n=t.slice();return e.filterByName("ssrc-group:FID").forEach((function(e){var t=e.value.split(" ");(0,s.default)(n,t).length&&Array.prototype.push.apply(n,t)})),(0,u.default)(n)},f.filterExcessSSRCs=function(e){var t,n=e.split("\r\n"),r=f.getAttributesForMediaType(n,"video"),i=f.getSSRCGroupType(r),o=r.ssrcStartIndex;if(void 0===o)return e;var a=function(e){var t=null;return e.match(/^a=ssrc:(\d+)/)&&(t=RegExp.$1),t};if(i){var s=f.getSSRCGroupSSRCs(r),u=["a=ssrc-group:".concat(i)].concat(_toConsumableArray(s)).join(" ");n[r.find((function(e){return e.name.startsWith("ssrc-group:")})).lineIndex]=u,t=f.getAllowedSSRCs(r,s)}else t=[],r.ssrcStartIndex&&t.push(a(n[r.ssrcStartIndex]));return n.filter((function(e,n){if(n<o||n>r.ssrcEndIndex)return!0;if(n===o){if(!i){var s=a(e);return s?t.includes(s):!/^a=ssrc:(\d+)/.test(e)}return!0}var u=a(e);if(u)return t.includes(u);if(e.match(/^a=ssrc-group:FID (\d+)/)){var c=RegExp.$1;return t.includes(c)}return!e.match(/^a=ssrc-group:SIM /)})).join("\r\n")},f.enableSimulcast=function(e,t){var n,r,i=e.split("\r\n");if(!f.getMLine(i,"video"))return d.debug("No video m-line, not enabling simulcast."),e;var o=f.getAttributesForMediaType(i,"video");if(o.filterByName("ssrc-group:SIM").length>0)return d.debug("Simulcast is already enabled in this SDP, not attempting to enable again."),f.filterExcessSSRCs(e);if(!o.msid)return d.debug("No local stream attached, not enabling simulcast."),e;var a=o.isUsingRTX(),s=[],u=[];for(r=0;r<t;++r)s.push(1e4+r),a&&u.push(2e4+r);if(n=["a=ssrc-group:SIM ".concat(s.join(" "))],a)for(r=0;r<t;++r)n.push("a=ssrc-group:FID ".concat(s[r]," ").concat(u[r]));for(r=0;r<t;++r)n.push("a=ssrc:".concat(s[r]," cname:localCname"),"a=ssrc:".concat(s[r]," msid:").concat(o.msid));if(a)for(r=0;r<t;++r)n.push("a=ssrc:".concat(u[r]," cname:localCname"),"a=ssrc:".concat(u[r]," msid:").concat(o.msid));return n.unshift(o.ssrcStartIndex,o.ssrcEndIndex-o.ssrcStartIndex+1),i.splice.apply(i,_toConsumableArray(n)),i.join("\r\n")},f.reprioritizeVideoCodec=function(e,t,n){var r=e.split("\r\n"),i=f.getMLineIndex(r,"video");if(-1===i)return e;var o=f.getMLinePayloadTypes(r[i],"video"),a=new RegExp("^a=rtpmap:(\\d+).* ".concat(t),"i"),s=r.map((function(e){return e.match(a)})).filter((function(e){return null!==e}));if(0===s.length)return e;var u,c=s.map((function(e){return e[1]})),l=o.filter((function(e){return-1===c.indexOf(e)}));if("top"===n)(u=l).unshift.apply(u,_toConsumableArray(c));else if("bottom"===n){var p;(p=l).push.apply(p,_toConsumableArray(c))}else d.error("Unexpected location param: ".concat(n,"; not changing ").concat(t," priority")),l=o;var h=r[i].replace(o.join(" "),l.join(" "));return r[i]=h,r.join("\r\n")},f.getSetupRole=function(e){for(var t,n=c(e.split(/\r\n|\r|\n/));!(t=n()).done;){var r=t.value.match(/^a=setup:(\w+)/);if(r)return r[1]}return""},f.setSetupRole=function(e,t){return e.split(/\r\n|\r|\n/).map((function(e){return e.match(/^a=setup:(\w+)/)?"a=setup:".concat(t):e})).join("\r\n")},f.changeSetupRole=function(e,t,n){return e.map((function(e){return e.includes("a=setup:".concat(t))?"a=setup:".concat(n):e}))},f.patterns={bundle:"a=group:BUNDLE",address:"c=IN IP4",rtcp:"a=rtcp:",direction:["a=inactive","a=sendonly","a=recvonly","a=sendrecv"],rsize:"a=rtcp-rsize",ssrc:"a=ssrc:",msid:"a=msid:"},f.getIndexStartingWith=function(e,t,n){var r=e.slice(n),i=t.map((function(e){return r.findIndex((function(t){return t.includes(e)}))})).filter((function(e){return e>-1}));return i.length?n+Math.min.apply(Math,_toConsumableArray(i)):e.length},f.getLastIndexPriorTo=function(e,t,n){return e.slice(0,n).map((function(e){return e.includes(t)})).lastIndexOf(!0)},f.includesAny=function(e,t){for(var n=0;n<t.length;n++)if(e.includes(t[n]))return!0;return!1},f.isVersionLine=function(e){return/^o=/.test(e)},f.getVersionLine=function(e){return e.find(f.isVersionLine)},f.getVersion=function(e){var t=f.getVersionLine(e);if(void 0!==t){var n=Number(t.match(/ (\d+) IN /)[1]);return Number.isInteger(n)?n:void 0}},f.updateVersion=function(e,t,n){var r=_toConsumableArray(e),i=r.findIndex((function(e){return f.isVersionLine(e)}));return r[i]=r[i].replace(" ".concat(t," ")," ".concat(n," ")),r},f.isBundleLine=function(e){return e.includes(f.patterns.bundle)},f.getBundleLine=function(e){return e.find(f.isBundleLine)},f.createBundleLine=function(e){return"".concat(f.patterns.bundle," ").concat(e.join(" "))},f.updateBundleLine=function(e,t){var n=_toConsumableArray(e),r=f.createBundleLine(t),i=n.findIndex((function(e){return f.isBundleLine(e)}));return n[i]=r,n},f.parseMLine=function(e){var t=e.match(/^(m=(?:audio|video)) (\d+) (.+)/),n=t[1];return{port:t[2],transport:t[3],mediaType:n}},f.disableTrack=function(e){var t=f.parseMLine(e),n=t.mediaType,r=t.transport;return"".concat(n," 0 ").concat(r)},f.setMediaDirection=function(e,t){if(!Object.values(f.mediaDirections).includes(t))return e;var n=e.slice(),r=n.findIndex((function(e){return f.includesAny(e,f.patterns.direction)}));return-1===r||(n[r]="a=".concat(t)),n},f.disableTrackSection=function(e){var t=e.mid,n=e.sdp,r=n.filter((function(e){var t=f.patterns,n=t.address,r=t.rtcp,i=t.rsize,o=t.ssrc,a=t.msid;return!f.includesAny(e,[n,r,i,o,a])}));return r[0]=f.disableTrack(n[0]),{mid:t,sdp:r=f.setMediaDirection(r,f.mediaDirections.INACTIVE)}},f.getEnabledTracks=function(e){return f.getBundleLine(e).match(new RegExp("^".concat(f.patterns.bundle," (.+)$")))[1].split(" ")},f.getDisabledTracks=function(e,t){return e.filter((function(e){return!t.includes(e)}))},f.getTrackSection=function(e,t){var n=e.findIndex((function(e){return e.includes("a=mid:".concat(t))})),r=t.includes("a")?"audio":"video",i=f.getLastIndexPriorTo(e,"m=".concat(r),n),o=f.getIndexStartingWith(e,["m=audio","m=video"],n),a=e.slice(i,o);return{mid:t,sdp:a}},f.getHeaders=function(e){var t=e.findIndex((function(e){return e.includes("m=audio")||e.includes("m=video")}));return e.slice(0,t)},f.disableTracks=function(e,t){return e.map((function(e){return t.includes(e.mid)?f.disableTrackSection(e):e}))},f.getSDPLines=function(e){return e.split("\r\n").filter((function(e){return e}))},f.getTrackMids=function(e){var t="a=mid:";return e.filter((function(e){return e.match(new RegExp("^".concat(t,"\\d+")))})).map((function(e){return e.substring(6)}))},f.getTrackSections=function(e){return f.getTrackMids(e).map((function(t){return f.getTrackSection(e,t)}))},f.parseMantisSDP=function(e){var t=f.getSDPLines(e),n=f.changeSetupRole(t,"actpass","passive");return f.parseSDP(n)},f.parseSDP=function(e){var t=Array.isArray(e)?e:f.getSDPLines(e);return{bundle:f.getBundleLine(t),headers:f.getHeaders(t),version:f.getVersion(t),tracks:f.getEnabledTracks(t),trackSections:f.getTrackSections(t)}},f.createSDP=function(e,t){var n=_toConsumableArray(e);return t.forEach((function(e){return n.push.apply(n,_toConsumableArray(e.sdp))})),n.push(""),n.join("\r\n")},f.removePayloadTypeFromSection=function(e,t){return e.filter((function(e){return!e.includes("a=rtpmap:".concat(t," "))&&!e.includes("a=fmtp:".concat(t," "))&&!e.includes("a=rtcp-fb:".concat(t," "))}))},f.getRtxPayloadType=function(e,t){var n=e.filter((function(e){return e.includes("apt=".concat(t))}))[0];return null==n?void 0:n.match(/^a=fmtp:(\d+) /)[1]},f.removeRtxPayloadTypeFromSection=function(e,t){var n=_toConsumableArray(e),r=f.getRtxPayloadType(n,t);return r&&(n=f.removePayloadTypeFromSection(n,r)),n},f.trimUnusedCodecs=function(e,t){var n=e[0].split(" "),r=n.slice(3),i=n.slice(0,3),o=f.getCodecsFromSection(e),a=_toConsumableArray(e),s=[];r.forEach((function(e){var n=o.codecMap[e];if(t.includes(n)){s.push(e);var r=f.getRtxPayloadType(a,e);r&&s.push(r)}else a=f.removePayloadTypeFromSection(a,e),a=f.removeRtxPayloadTypeFromSection(a,e)}));var u=s.length?s:[0];return a[0]=[].concat(_toConsumableArray(i),_toConsumableArray(u)).join(" "),a},f.removeUnusedCodecs=function(e,t){if(!t)return e;var n=f.parseSDP(e),r=n.headers,i=n.trackSections,o=f.parseSDP(t).trackSections,a=i.map((function(e){var t=e.mid,n=e.sdp,r=o.find((function(e){return e.mid===t}));if(!r)return n;var i=Object.values(f.getCodecsFromSection(r.sdp).codecMap);return f.trimUnusedCodecs(n,i)})),s=_toConsumableArray(r);return a.forEach((function(e){return s.push.apply(s,_toConsumableArray(e))})),s.push(""),s.join("\r\n")},f.updateSDPWithNewOffer=function(e,t){var n=e.headers,r=e.version,i=e.tracks,o=e.trackSections,a=f.getSDPLines(t),s={};s.version=f.getVersion(a),s.headers=f.updateVersion(n,r,s.version),s.tracks=f.getEnabledTracks(a);var u=f.getDisabledTracks(i,s.tracks);return s.headers=f.updateBundleLine(s.headers,s.tracks),s.trackSections=f.disableTracks(o,u),s};var v=f;t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.MEDIUM=t.LOW=t.CongestionLevels=t.CRITICAL=void 0,t.CRITICAL=2,t.MEDIUM=1,t.LOW=0;var r={CRITICAL:2,MEDIUM:1,LOW:0};t.CongestionLevels=r},function(e,t,n){var r=n(40),i=n(352),o=n(353),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(179),i=n(116),o=n(24);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){"use strict";var r=n(44);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var r=n(56),i=n(201),o=n(127),a=n(202),s=n(203),u=e.exports=function(e,t){var n,i,u,c,l;return arguments.length<2||"string"!==typeof e?(c=t,t=e,e=null):c=arguments[2],r(e)?(n=s.call(e,"c"),i=s.call(e,"e"),u=s.call(e,"w")):(n=u=!0,i=!1),l={value:t,configurable:n,enumerable:i,writable:u},c?o(a(c),l):l};u.gs=function(e,t,n){var u,c,l,d;return"string"!==typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],r(t)?i(t)?r(n)?i(n)||(l=n,n=void 0):n=void 0:(l=t,t=n=void 0):t=void 0,r(e)?(u=s.call(e,"c"),c=s.call(e,"e")):(u=!0,c=!1),d={get:t,set:n,configurable:u,enumerable:c},l?o(a(l),d):d}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(46)),o=r(n(224)),a=r(n(500)),s=r(n(544)),u=r(n(58)),c=r(n(1)),l=r(n(96)),d=(0,c.default)("StaticConfig"),f=(0,u.default)({version:"v2.25.5",buildHash:"bb5187397",minimumVersion:{firefox:52,chrome:49},debug:!1,websiteURL:"http://www.tokbox.com",configURL:"https://config.opentok.com",ipWhitelistConfigURL:"",cdnURL:"https://static.opentok.com",loggingURL:"https://hlg.tokbox.com/prod",apiURL:"https://anvil.opentok.com"}),p=(0,s.default)(["apiURL","assetURL","cdnURL","sessionInfoOverrides","loggingURL"]),h={apiUrl:"apiURL",loggingUrl:"loggingURL"},v=(0,a.default)((function(e){return h[e]})),m=function(t){var n=(void 0===t?{}:t).axios,r=void 0===n?o.default:n;return function(){function t(e){Object.defineProperty(this,"config",{value:Object.freeze((0,u.default)(e))})}return t.onlyLocal=function(){var e=(0,u.default)((void 0!==typeof window?window:__webpack_require__.g).OTProperties);return new t(Object.assign({},f,p(e)))},t.get=function(n){var i=this,o=n.partnerId,a=n.token,s=n.useIpWhitelistConfigUrl,c=n.proxyUrl;return function(){var t=i.onlyLocal();if(!t.configUrl)return e.resolve({});if(!0===s&&!t.ipWhitelistConfigUrl)return e.resolve({});var n=!0===s?t.ipWhitelistConfigUrl:t.configUrl;return n=(0,l.default)(n,c),r.get("".concat(n,"/project/").concat(o,"/config.json"),{headers:{"X-TB-TOKEN-AUTH":a}}).then((function(e){return e.data}))}().catch((function(e){return d.error("could not reach live config service",e),{}})).then((function(e){var n=(0,u.default)((void 0!==typeof window?window:__webpack_require__.g).OTProperties);return new t(Object.assign({},f,p(n),v(e)))}))},(0,i.default)(t,[{key:"configUrl",get:function(){return this.config.configURL}},{key:"ipWhitelistConfigUrl",get:function(){return this.config.ipWhitelistConfigURL}},{key:"apiUrl",get:function(){return this.config.apiURL}},{key:"loggingUrl",get:function(){return this.config.loggingURL}},{key:"apiEnabled",get:function(){return"undefined"===typeof this.config.apiEnabled||this.config.apiEnabled}},{key:"version",get:function(){return this.config.version}},{key:"clientVersion",get:function(){return"js-".concat((this.version||"unknown").replace("v",""))}},{key:"buildHash",get:function(){return this.config.buildHash}},{key:"minimumVersion",get:function(){return this.config.minimumVersion}},{key:"websiteUrl",get:function(){return this.config.websiteURL}},{key:"debug",get:function(){return"true"===this.config.debug||!0===this.config.debug}},{key:"sessionInfoOverrides",get:function(){return this.config.sessionInfoOverrides}},{key:"cdnUrl",get:function(){return this.config.cdnURL||"".concat((void 0!==typeof window?window:__webpack_require__.g).location.protocol,"//").concat((void 0!==typeof window?window:__webpack_require__.g).location.host)}},{key:"assetUrl",get:function(){return this.config.assetURL||"".concat(this.cdnUrl,"/webrtc/").concat(this.version)}}]),t}()};t.default=m}).call(this,n(2))},function(e,t,n){var r=n(526),i=n(532),o=n(89),a=n(12),s=n(535);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n,r=t||{};e.setDisplayMode=function(e){var t=e||"auto";n!==t&&(i.default.removeClass(this.domElement,"OT_mode-".concat(n)),i.default.addClass(this.domElement,"OT_mode-".concat(t)),n=t)},e.getDisplayMode=function(){return n},e.showAfterLoading=function(){i.default.removeClass(this.domElement,"OT_hide-forced")},e.hideWhileLoading=function(){i.default.addClass(this.domElement,"OT_hide-forced")},e.destroy=function(){return r.onDestroy&&r.onDestroy(this.domElement),this.domElement&&i.default.removeElement(this.domElement),e},e.appendTo=function(t){return this.domElement=i.default.createElement(r.nodeName||"div",r.htmlAttributes,r.htmlContent),r.onCreate&&r.onCreate(this.domElement),e.setDisplayMode(r.mode),"auto"===r.mode&&(i.default.addClass(e.domElement,"OT_mode-on-hold"),setTimeout((function(){i.default.removeClass(e.domElement,"OT_mode-on-hold")}),2e3)),t.appendChild(this.domElement),e}};var i=r(n(7))},function(e,t,n){var r=n(78);e.exports=function(e){return r(e,4)}},function(e,t,n){var r=n(351),i=n(356);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(15).Symbol;e.exports=r},function(e,t,n){var r=n(84),i=n(63);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(380),i=n(111),o=n(381),a=n(187),s=n(188),u=n(30),c=n(176),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",v=c(r),m=c(i),g=c(o),y=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=l||o&&w(o.resolve())!=d||a&&w(new a)!=f||s&&w(new s)!=p)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case m:return l;case g:return d;case y:return f;case b:return p}return t}),e.exports=w},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(401)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=n(415)()?n(92).Symbol:n(418)},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(71);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(545),i=n(145)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return r.now?r.timing.navigationStart+r.now():Date.now()};var r=(void 0!==typeof window?window:n.g).performance||{}},function(e,t,n){var r=n(586);e.exports=function(e){return r(2,e)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(51)),o=r(n(1)),a=r(n(594)),s=r(n(35)),u=r(n(3)),c=r(n(595)),l=(0,s.default)(),d=function(e){void 0===e&&(e={});var t=e.env||u.default,n=e.hasGetUserMediaCapability||a.default,r=e.hasPeerConnectionCapability||c.default,i=e.logging||(0,o.default)("hasOpenTokSupport"),s=((e.staticConfig||l.onlyLocal()).minimumVersion||{})[t.name.toLowerCase()];return s&&s>t.version?(i.debug("Support for",t.name,"is disabled because we require",s,"but this is",t.version),!1):"Node"===t.name||n()&&r()},f=(0,i.default)((function(){return d()})),p={check:d,once:f};t.default=p},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(179),i=n(375),o=n(24);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){"use strict";e.exports=function(e){return void 0!==e&&null!==e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=[];return{on:function(n,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(t.push({eventName:n,handler:r,args:o}),e.on)e.on(n,r);else{if(!e.addEventListener)throw new Error("Object does not support events",e);e.addEventListener.apply(e,[n,r].concat(o))}},off:function(t,n){if(e.off)e.off(t,n);else{if(!e.removeEventListener)throw new Error("Object does not support events",e);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.removeEventListener.apply(e,[t,n].concat(i))}},once:function(n,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];t.push({eventName:n,handler:r,args:o}),e.once(n,r)},removeAll:function(){var e=this;t.forEach((function(t){var n=t.eventName,r=t.handler,i=t.args;e.off.apply(e,[n,r].concat(_toConsumableArray(i)))})),t.splice(0,t.length)}}}},function(e,t,n){var r=n(78);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(101);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(12),i=n(136),o=n(223),a=n(61);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(481);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(611)(n(279));e.exports=r},function(e,t,n){var r=n(177);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(370),i=n(18),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(15),i=n(371),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(85)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";e.exports=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i,o,a=r(n(7));if("Node"===(null==a.default||null==(i=a.default.env)?void 0:i.name))o="";else{var s,u,c=null==(s=Array.prototype.slice.call(document.getElementsByTagName("script")))||null==(u=s.pop())?void 0:u.getAttribute("src");o=(c&&c.match(/[?&]apikey=([^&]+)/i)||[])[1]||""}var l={value:o};t.default=l},function(e,t,n){var r=n(30),i=n(18);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,r){void 0===r&&(r=1/0);var i=null,o=!1,a=1,s=1e3/t,u=function t(){!o||a>r||(a+=1,e(),i=setTimeout(t,s))};this.start=function(){o||(o=!0,setTimeout(u,s))},this.stop=function(){(void 0!==typeof window?window:n.g).clearTimeout(i),o=!1}}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.hasValidPeerConnection||_.default,r=t.applySdpTransform||S.default,G=t.createPeerConnection||C.default,W=t.env||v.default,U=t.sdpTransformDefaults||x.default,X=t.getStatsAdapter||T.default,B=t.getRtcStatsReportAdapter||I.default,H=t.getSynchronizationSources||R.default,Y=t.IceCandidateProcessor||O.default,z=t.logging||h.default,K=t.offerProcessor||A.default,J=t.PeerConnectionChannels||N.default,Q=t.subscribeProcessor||P.default,q=L.default,$=t.changeMediaDirection||M.default,ee=$.changeMediaDirectionToInactive,te=$.changeMediaDirectionToRecvOnly,ne=t.Qos||D.default,re=t.global||(void 0!==typeof window?window:__webpack_require__.g),ie=t.debounce||l.default,oe=t.needsToSwapH264Profiles||j.default.once,ae=t.NativeRTCIceCandidate||re.RTCIceCandidate,se=t.NativeRTCSessionDescription||re.RTCSessionDescription,ue=t.Errors||F.default,ce=t.OTErrorClass||g.default,le=t.ExceptionCodes||m.default,de=t.hasPictureInPictureBug||V.default,fe=function(){};return function(t){void 0===t&&(t={});var l,h,v,m,g,_=!1,S=t,C=S.iceConfig,x=void 0===C?{servers:[]}:C,T=S.sendMessage,I=S.isPublisher,R=S.offerOverrides,O=S.answerOverrides,A=S.p2p,N=S.codecFlags,P=S.sourceStreamId,L=S.keyStore,M=S.sFrameClientStore,D=S.isE2ee,j=S.removeUnusedCodecs,F=t,V=F.logAnalyticsEvent,$=void 0===V?fe:V,pe=F.remoteConnectionId,he=!1,ve=oe(),me=0,ge=!1,ye=new q($),be=(0,b.default)();function we(e,t){if(!_&&["candidate","offer","answer","pranswer"].indexOf(e)>-1){var n="candidate"===e?t.candidate:t.sdp;_=-1!==n.indexOf("typ relay")}T(e,t)}var Ee=(0,Z.default)();$("createPeerConnection","Attempt");var ke={};ke.id=(0,f.default)();var _e=z("PeerConnection:".concat(ke.id));_e.debug("construct",{id:ke.id,options:t});var Se,Ce,xe,Te,Ie,Re=U,Oe=(0,d.default)(t,["isPublisher","logAnalyticsEvent","offerOverrides","answerOverrides","sendMessage"]),Ae=[],Ne=function(){var e=Oe.overrideSimulcastEnabled||!1;return{get:function(){return e},set:function(t){var n=Boolean(t)&&Oe.capableSimulcastStreams>1;n!==e&&void 0===Oe.overrideSimulcastEnabled&&(e=n,ke.generateOfferAndSend())}}}(),Pe=function(){var e=!1;return{get:function(){return e},set:function(t){var n=Boolean(t);n!==e&&(e=n)&&(ke.iceConnectionStateIsConnected()?_e.debug("iceRestart is going to wait until we disconnect or negotiationNeeded and then restart ice"):ke.generateOfferAndSend())}}}(),Le={clean:function(){delete this.promise,delete this.resolve,delete this.reject}};Le.promise=new e((function(e,t){Le.resolve=e,Le.reject=t}));var Me=new Y,De="new";Object.defineProperty(ke,"signalingState",{get:function(){return Se.signalingState},set:function(e){return Se.signalingState=e,e}}),(0,p.default)(ke),ke.addOptions=function(e){pe=e.remoteConnectionId,$=e.logAnalyticsEvent},ke.startEncryption=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return m=(0,k.default)(t),e.next=5,M.createSender(m);case 5:return v=e.sent,e.next=8,L.get();case 8:return n=e.sent,e.next=11,v.setSenderEncryptionKey(n);case 11:g=function(e){v.setSenderEncryptionKey(e)},L.on("keyChanged",g),Se.getTransceivers().forEach((function(e){return v.encrypt(e.mid,e.sender)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke.once("iceConnected",(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={pcc:parseInt((0,Z.default)()-Ee,10),hasRelayCandidates:_,proxyInfo:""},Se&&Se.proxyInfo&&(t.proxyInfo=Se.proxyInfo),$("createPeerConnection","Success",t);case 4:case"end":return e.stop()}}),e)})))),Le.resolve();var je=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get();case 2:if(t=e.sent,m=(0,k.default)(pe),h=M.getReceiver(m)){e.next=14;break}return e.next=8,M.createReceiver(m);case 8:(h=e.sent).addReceiver(m),h.setReceiverEncryptionKey(m,t),L.on("keyChanged",(function(e){h.setReceiverEncryptionKey(m,e)})),h.addEventListener("decryptFailed",(function(){ke.trigger("decryptFailed")})),h.addEventListener("decryptionRestored",(function(){ke.trigger("decryptRestored")}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(e){if(_e.debug("internalCreatePeerConnection: called"),Se)return _e.debug("internalCreatePeerConnection: resolving synchronously"),void e.call(null,null,Se);if(Ae.push(e),!(Ae.length>1)){if(_e.debug('Creating peer connection config "'.concat(JSON.stringify(Oe),'".')),0===x.servers.length&&(_e.error("No ice servers present"),$("Error","noIceServers")),"relay"===x.transportPolicy){var t=function(e){return e&&0===e.indexOf("turn")};x.servers=x.servers.map((function(e){var n=(0,u.default)(e);return Array.isArray(n.urls)||(n.urls=[n.urls]),n.urls=n.urls.filter(t),0===n.urls.length?void 0:n})).filter((function(e){return void 0!==e}))}Oe.iceTransportPolicy=x.transportPolicy,Oe.iceServers=x.servers,D&&(Oe.forceEncodedVideoInsertableStreams=!0,Oe.forceEncodedAudioInsertableStreams=!0,Oe.encodedInsertableStreams=!0),n(re.RTCPeerConnection).then((function(e){if(!e)throw _e.error("createPeerConnection: Invalid RTCPeerConnection object"),new Error("Failed to create valid RTCPeerConnection object");return G({window:re,config:Oe})})).then(function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I||!D){e.next=3;break}return e.next=3,je();case 3:Ve(null,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Ve(e)}))}},Ve=function(e,t){if(e)return Ye({reason:"Failed to create PeerConnection, exception: ".concat(e),prefix:"NewPeerConnection"}),void(Ae=[]);_e.debug("OT attachEventsToPeerConnection"),Se=t,Me&&Me.setPeerConnection(t),Ce=new J(Se),Oe.channels&&Ce.addMany(Oe.channels);var n=function(e){var t=e.sendMessage,n=e.logging,r={};return function(e){e.candidate?(r[e.candidate.sdpMid]=e.candidate.sdpMLineIndex,t("candidate",{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid||"",sdpMLineIndex:e.candidate.sdpMLineIndex||0})):n.debug("IceCandidateForwarder: No more ICE candidates.")}}({sendMessage:we,logging:_e}),r=function(e){var t;Le.resolve(),t=e.candidate,"relay"!==x.transportPolicy||null==t||-1!==t.candidate.indexOf("typ relay")?n(e):_e.debug("Ignore candidate",e.candidate.candidate)},a=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xe(t),!I&&h&&h.decrypt(t.transceiver.mid,t.receiver);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=Se.iceConnectionState,u=function(e){Se?(_e.debug("iceconnectionstatechange",Se.iceConnectionState),"connected"===Se.iceConnectionState?("disconnected"===s&&ke.clearFailedTimeout(),ke.emit("iceConnected"),Pe.set(!1)):"completed"===Se.iceConnectionState&&W.isLegacyEdge&&setTimeout((function(){return Qe.startCollecting(Se)}),1e3)):_e.debug("iceconnectionstatechange on peerConnection that no longer exists",ke);var t=e.target.iceConnectionState;ke.trigger("iceConnectionStateChange",t),$("attachEventsToPeerConnection","iceconnectionstatechange",t),"disconnected"===t&&(Pe.get()?(_e.debug("Restarting ice!"),ke.generateOfferAndSend()):(0,E.default)()||(Ie=setTimeout((function(){var e="failed";$("attachEventsToPeerConnection","iceconnectionstatechange",e),s=e,ke.trigger("iceConnectionStateChange",e)}),1e4))),"disconnected"!==s&&"failed"===t&&Ye({reason:"The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",prefix:"ICEWorkflow"}),s=t},c=function(){$("peerConnection:negotiationNeeded","Event"),I&&ke.generateOfferAndSend(),ke.trigger("negotiationNeeded")};Se.addEventListener("track",a),Se.addEventListener("icecandidate",r),Se.addEventListener("signalingstatechange",We),Se.addEventListener("negotiationneeded",c),Se.addEventListener("iceconnectionstatechange",u),be.add((function(){Se&&(Se.removeEventListener("track",a),Se.removeEventListener("icecandidate",r),Se.removeEventListener("signalingstatechange",We),Se.removeEventListener("negotiationneeded",c),Se.removeEventListener("iceconnectionstatechange",u))})),Ze(null)},Ze=function(){for(;Ae.length;)Ae.shift().call(null)},Ge=function(){Me&&(Me.destroy(),Me=null),Ae=[],Qe.stopCollecting(),be.releaseAll(),Le.clean(),null!==Se&&(Se.destroy&&Se.destroy(),Se=null,ke.trigger("close")),ke.off()},We=function(e){var t=e.target.signalingState;ke.emit("signalingStateChange",t),"stable"===t&&ke.emit("signalingStateStable"),t&&t!==De&&(De=t,_e.debug("stateChange: ".concat(De)),"closed"===De)&&Ge()},Ue=function(){var e;if(Se.getRemoteStreams)e=Se.getRemoteStreams();else{if(!Se.remoteStreams)throw new Error("Invalid Peer Connection object implements no method for retrieving remote streams");e=Se.remoteStreams}return Array.prototype.slice.call(e)},Xe=function(e){var t,n=e.track,r=e.transceiver,i=e.stream||(null==(t=e.streams)?void 0:t[0]);$("createPeerConnection","TrackAdded"),ke.trigger("trackAdded",{stream:i,track:n,transceiver:r})},Be=function(e,t,n){he=!1,Ye({reason:"PeerConnection.offerProcessor ".concat(e,": ").concat(t),prefix:n})},He=function e(t){if(he)l=t;else{he=!0,$("peerConnection:processOffer","Event");var n=new se({type:"offer",sdp:t.content.sdp}),r=function(t){he=!1,Me&&Me.process(),we("answer",t),W.isLegacyEdge||Qe.startCollecting(Se,I),l&&(e(l),l=null)},i=function(e){return ke.trigger("remoteVideoSupported",e)};Fe((function(){K(Se,re.RTCPeerConnection,re.RTCSessionDescription,se,Re,n,N,A,r,Be,i,ve,P)}))}};ke.generateOfferAndSend=function(){ke.generateOffer((function(e){_e.debug("processSubscribe: sending offer"),we("offer",e)}))},ke.generateOfferAndAnswer=function(e){ke.generateOffer((function(t){e(t)}))},ke.generateOffer=ie((function(e){void 0===e&&(e=function(){}),ye.enqueueOfferAnswer((function(){return function(e){var t,n;if("closed"!==(null==(t=Se)||null==(n=t.signalingState)?void 0:n.toLowerCase())){$("peerConnection:processSubscribe","Event"),_e.debug("processSubscribe: Sending offer to subscriber.");var r=Ne.get()?Oe.capableSimulcastStreams:1;"P2P"===P&&!A&&(r=1),Fe((function(){Q({peerConnection:Se,NativeRTCSessionDescription:se,sdpTransforms:Re,numSimulcastStreams:r,removeVideoOrientation:de(),offerOverrides:R,offerConstraints:{iceRestart:Pe.get()},replaceBaselineProfile:ve,removeUnusedCodecs:j}).then((function(t){_e.debug("processSubscribe: got offer, waiting for _readyToCompleteOffer"),xe=t,Le.promise.then((function(){return e(xe)}))}),(function(e){Ye({reason:"subscribeProcessor ".concat(e.message,": ").concat(e.reason),prefix:e.prefix})})),Pe.set(!1)}))}}(e)}))}),100);var Ye=function(e){var t=e.reason,n=e.prefix;_e.error(t,"in state",Se?{connectionState:Se.connectionState,iceConnectionState:Se.iceConnectionState,iceGatheringState:Se.iceGatheringState,signalingState:Se.signalingState}:"(none)"),ke.trigger("error",{reason:t,prefix:n})};function ze(e){this.track=e}ke.addTrack=function(t,n){var r=new e((function(e,t){Fe((function(n){if(n)return t(n);e()}))})).then((function(){if(Se.addTrack)return Se.addTrack(t,n);var e=Se.getLocalStreams()[0];if(void 0===e)throw new Error("PeerConnection has no existing streams, cannot addTrack");e.addTrack(t),ke.generateOfferAndSend()})).then((function(){return new e((function(e){ke.once("signalingStateStable",(function(){e()}))}))}));return(0,a.default)(r,15e3,"Renegotiation timed out")},ke.setIceConfig=function(e){try{W.isFirefox&&(e.certificates=Se.getConfiguration().certificates),Se.setConfiguration(e)}catch(t){throw new y.default("A peer connection failed to set configuration with ".concat(t.message),ue.FAILED_SET_CONFIGURATION)}return Pe.set(!0),Se},ke.removeTrack=function(t){var n=e.resolve().then((function(){return t instanceof ze?(Se.getLocalStreams()[0].removeTrack(t.track),void ke.generateOfferAndSend()):Se.removeTrack(t)})).then((function(){return new e((function(e){ke.once("signalingStateStable",(function(){e()}))}))}));return(0,a.default)(n,15e3,"Renegotiation timed out")},ke.addLocalStream=function(t){return new e((function(e,n){Fe((function(r){if(r)n(r);else{try{t.getTracks&&t.getTracks().forEach((function(e){return Se.addTrack(e,t)}))}catch(i){return void n(i)}e()}}))}))},ke.getLocalStreams=function(){return Se.getLocalStreams()},ke.getSenders=function(){return Se.getSenders?Se.getSenders():Se.getLocalStreams()[0].getTracks().map((function(e){return new ze(e)}))},ke.disconnect=function(){var e;Me&&(Me.destroy(),Me=null),null!=(e=Se)&&e.signalingState&&"closed"!==Se.signalingState.toLowerCase()&&(Se.close(),"function"===typeof g&&L.off("keyChanged",g),v=null,m=null,setTimeout(Ge))},ke.iceRestart=function(){return Pe.set(!0)},ke.clearFailedTimeout=function(){return clearTimeout(Ie)};var Ke=function(t){var n=t?ee:te;return new e((function(e){ye.enqueueOfferAnswer((0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Se);case 2:ye.setResolved(),e();case 4:case"end":return t.stop()}}),t)}))))}))};ke.changeMediaDirectionToRecvOnly=function(){return Ke(!1)},ke.changeMediaDirectionToInactive=function(){return Ke(!0)},ke.processMessage=function(e,t){switch(_e.debug("processMessage: Received ".concat(e," from ").concat(t.fromAddress),t),_e.debug(t),e){case"generateoffer":t.content&&void 0!==t.content.simulcastEnabled&&Ne.set(t.content.simulcastEnabled),ke.generateOfferAndSend(),i();break;case"offer":He(t),i();break;case"answer":case"pranswer":!function(e){$("peerConnection:processAnswer","Event");var t=function(e){e.includes("Failed to parse SessionDescription. a=extmap-allow-mixed Expects at least 2 fields.")&&(e="SessionDescription issue has been fixed in Chrome 71 and above. Please update your browser."),Ye({reason:"Error while setting RemoteDescription ".concat(e),prefix:"SetRemoteDescription"})};e.content.sdp?(Te=new se({type:"answer",sdp:r(Re,"remote","answer",(0,s.default)({replaceBaselineProfile:ve},O),e.content.sdp).local}),Se.setRemoteDescription(Te).then((function(){_e.debug("processAnswer: setRemoteDescription Success"),Me&&Me.process()})).catch(t),ye.setResolved(),W.isLegacyEdge||Qe.startCollecting(Se,I)):t("Weird answer message, no SDP.")}(t);break;case"candidate":var n=new ae(t.content);Me&&Me.addIceCandidate(n).catch((function(e){_e.warn("Error while adding ICE candidate: ".concat(JSON.stringify(n),": ").concat(e.toString()))}));break;default:_e.debug("processMessage: Received an unexpected message of type ".concat(e," from ").concat(t.fromAddress,": ").concat(JSON.stringify(t)))}function i(){me+=1,Qe.handleOfferMessageReceived(),me>1&&($("Renegotiation","Attempt"),ge=!0)}return ke},ke.stopTransceivers=function(e){(function(e){return e.sort((function(e,t){return e.mid<t.mid?1:e.mid>t.mid?-1:0}))})(Se.getTransceivers().filter((function(t){return e.includes(t.mid)}))).forEach((function(e){return e.stop()}))},ke.remoteStreams=function(){return Se?Ue():[]},ke.remoteTracks=function(){return Se?Se.getReceivers?Array.prototype.slice.apply(Se.getReceivers()).map((function(e){return e.track})):Array.prototype.concat.apply([],Ue().map((function(e){return e.getTracks()}))):[]},ke.remoteDescription=function(){return Se.remoteDescription},ke.getStats=function(e){if(Se)X(Se,e);else{var t=le.PEER_CONNECTION_NOT_CONNECTED;e(new y.default(ce.getTitleByCode(t),ue.PEER_CONNECTION_NOT_CONNECTED,{code:t}))}},ke.getRtcStatsReport=function(e){if(Se)B(Se,e);else{var t=le.PEER_CONNECTION_NOT_CONNECTED;e(new y.default(ce.getTitleByCode(t),ue.PEER_CONNECTION_NOT_CONNECTED,{code:t}))}},ke.getSynchronizationSources=function(e){if(!I){if(!Se){var t=le.PEER_CONNECTION_NOT_CONNECTED;return void e(new y.default(ce.getTitleByCode(t),ue.PEER_CONNECTION_NOT_CONNECTED,{code:t}))}H(Se,e)}};var Je=function e(t,n,r,i){var o,a=Ce.get(n,r);if(!a){if(t>0)return void setTimeout(e.bind(null,t-1,n,r,i),200);o=new y.default("".concat("A channel with that label and options could not be found. Label:").concat(n,". Options: ").concat(JSON.stringify(r)))}i(o,a)};ke.getDataChannel=function(e,t,n){Se?Je(100,e,t,n):n(new y.default("Cannot create a DataChannel before there is a connection."))},ke.getSourceStreamId=function(){return P},ke.iceConnectionStateIsConnected=function(){return Se&&["connected","completed"].indexOf(Se.iceConnectionState)>-1},ke.hasTrack=function(e){return Se.getSenders().some((function(t){return t.track===e}))},ke.findAndReplaceTrack=function(t,n){return e.resolve().then((function(){var r=Se.getSenders().filter((function(e){return e.track===t}))[0];if(!r)return e.resolve();if("function"!==typeof r.replaceTrack)throw new Error("Sender does not support replaceTrack");return r.replaceTrack(n)}))},ke.hasRelayCandidates=function(){return _},ke.getNegotiatedCodecs=function(){if(!Se.localDescription||!Se.remoteDescription)return null;var e=function(e){return(0,c.default)(w.default.getCodecs(Se.localDescription.sdp,e),w.default.getCodecs(Se.remoteDescription.sdp,e))};return{audio:e("audio"),video:e("video")}},ke.on("signalingStateStable",(function(){ge&&(ge=!1,$("Renegotiation","Success",ke.getNegotiatedCodecs()))})),ke.on("error",(function(e){var t=e.prefix;ge&&-1!==["CreateOffer","SetRemoteDescription"].indexOf(t)&&(ge=!1,$("Renegotiation","Failure"))})),ke.on("close",(function(){ge&&(ge=!1,$("Renegotiation","Cancel"))}));var Qe=new ne;return Qe.on("stats",(function(e){e.dataChannels=Ce.sampleQos(),ke.trigger("qos",{parsedStats:e,simulcastEnabled:Ne.get()})})),ke}};var i=r(n(4)),o=r(n(5)),a=r(n(156)),s=r(n(9)),u=r(n(58)),c=r(n(132)),l=r(n(605)),d=r(n(278)),f=r(n(16)),p=r(n(6)),h=r(n(1)),v=r(n(3)),m=r(n(10)),g=r(n(21)),y=r(n(255)),b=r(n(157)),w=r(n(28)),E=r(n(74)),k=r(n(614)),_=r(n(615)),S=r(n(158)),C=r(n(616)),x=r(n(618)),T=r(n(281)),I=r(n(284)),R=r(n(622)),O=r(n(623)),A=r(n(625)),N=r(n(627)),P=r(n(629)),L=r(n(630)),M=r(n(632)),D=r(n(285)),j=r(n(636)),F=r(n(8)),V=r(n(637)),Z=r(n(50))}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(){return!((i.default.isChrome||i.default.isElectron)&&i.default.version>=90||i.default.isOpera&&i.default.version>=76)&&(i.default.isChrome&&i.default.version>71||i.default.isChromiumEdge&&i.default.version<90||i.default.isOpera&&i.default.version>58)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={ACTIVE_VIDEO:0,ACTIVE_VIDEO_WITH_WARNING:1,SUSPENDED_VIDEO:2};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(49)),o=r(n(661)),a=r(n(11)),s=r(n(159)),u={};function c(e){return Number(e.framerateMean||e.googFrameRateSent||e.googFrameRateReceived||e.googFrameRateInput||e.googFrameRateOutput||0)}function l(e){return Number(e.framesEncoded||e.framesDecoded)}function d(e,t){if(c(e))return c(e);if(l(e)){var n,r=u[e.id]?u[e.id].frames:0,i=u[e.id]?u[e.id].timestamp:t;return n=(0,s.default)({currentStatFrames:l(e),currentTimestamp:e.timestamp,prevStatFrames:r,prevTimestamp:i}),u[e.id]={frames:l(e),timestamp:e.timestamp},n}}function f(e,t){if(!t)return{};var n=t.filter((function(t){return t.id===e.mediaTrackId}));return n.length?n[0]:{}}function p(e,t){return"packetsLost"in t?e+t.packetsLost:e}var h={isVideoStat:function(e,t){var n=f(e,t);return"video"===e.kind&&["outbound-rtp","inbound-rtp"].includes(e.type)||"video"===e.mediaType||"googFrameWidthReceived"in e||"googFrameWidthInput"in e||"inbound-rtp"===e.type&&-1!==e.id.indexOf("Video")||"inboundrtp"===e.type&&0!==n.frameWidth},isAudioStat:function(e,t){var n=f(e,t);return"audio"===e.kind&&["outbound-rtp","inbound-rtp"].includes(e.type)||"audio"===e.mediaType||"audioInputLevel"in e||"audioOutputLevel"in e||"inbound-rtp"===e.type&&-1!==e.id.indexOf("Audio")||"inboundrtp"===e.type&&0===n.frameWidth},isInboundStat:function(e){return"bytesReceived"in e||"packetsReceived"in e},isOutboundStat:function(e){return"bytesSent"in e||"packetsSent"in e},isVideoTrackStat:function(e){return"track"===e.type&&(e.frameHeight>0||e.frameWidth>0||e.framesCorrupted>0||e.framesDecoded>0||e.framesPerSecond>0||e.framesSent>0||e.framesReceived>0)},isVideoRemoteInboundRtpStat:function(e){return"remote-inbound-rtp"===e.type&&"video"===e.kind},isAudioRemoteInboundRtpStat:function(e){return"remote-inbound-rtp"===e.type&&"audio"===e.kind},isVideoInboundRtpStat:function(e){return"inbound-rtp"===e.type&&"video"===e.kind},parseStatCategory:function(e){var t={packetsLost:0,packetsReceived:0,bytesReceived:0};return"packetsReceived"in e&&(t.packetsReceived=parseInt(e.packetsReceived,10)),"packetsLost"in e&&(t.packetsLost=parseInt(e.packetsLost,10)),"bytesReceived"in e&&(t.bytesReceived=parseInt(e.bytesReceived,10)),this.isVideoStat(e)&&("framerateMean"in e?t.frameRate=Number(e.framerateMean):"googFrameRateOutput"in e?t.frameRate=Number(e.googFrameRateOutput):"googFrameRateInput"in e&&(t.frameRate=Number(e.googFrameRateInput))),t},getVideoPacketsLost:function(e){var t=this;return e.filter((function(n){return t.isVideoRemoteInboundRtpStat(n,e)})).reduce(p,0)},getAudioPacketsLost:function(e){var t=this;return e.filter((function(n){return t.isAudioRemoteInboundRtpStat(n,e)})).reduce(p,0)},normalizeTimestamp:function(e,t){return void 0===t&&(t=Date.now()),(0,a.default)(e)&&"getTime"in e?e.getTime():Math.abs(e/(1e3*t)-1)<.05?e/1e3:e},normalizeStats:function(e,t,n){var r=this;void 0===t&&(t=!0);var a=e.filter((function(t){return h.isVideoStat(t,e)})).filter((function(e){return h.isInboundStat(e)===t})),s=e.filter((function(t){return r.isAudioStat(t,e)})).filter((function(e){return r.isInboundStat(e)===t}))[0],u=a[0];if(!s&&!u)throw new Error("could not find stats for either audio or video");var c=h.normalizeTimestamp(u?u.timestamp:s.timestamp),l={timestamp:c};u&&!t&&void 0===u.packetsLost&&(u.packetsLost=this.getVideoPacketsLost(e)),s&&!t&&void 0===s.packetsLost&&(s.packetsLost=this.getAudioPacketsLost(e));var f=["packetsSent","packetsLost","bytesSent"],p=t?function(e){return(0,i.default)(e,["packetsReceived","packetsLost","bytesReceived"])}:function(e){return(0,i.default)(e,f)};if(a&&a.length>0){var v=function(e){var t=f.concat(["framerateMean","googFrameRateSent","googFrameRateReceived","googFrameRateInput","googFrameRateOutput","framesEncoded","framesDecoded"]),n={timestamp:c,id:u.id};return t.forEach((function(t){n[t]=e.map((function(e){return Number(e[t]||0)})).reduce((function(e,t){return e+t}),0)})),n}(a);l.video=Object.assign({frameRate:d(v,n)},(0,o.default)(p(v),Number))}return s&&(l.audio=(0,o.default)(p(s),Number)),l}},v=h;t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.messages=t.default=t.codes=void 0;var r={1e3:"The connection successfully completed the purpose for which it was created.",1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error. (CLOSE_PROTOCOL_ERROR)",1003:"The connection is being terminated because the endpoint has indicated that reconnections are not available. (CLOSE_UNSUPPORTED)",1005:"Indicates that no status code was provided even though one was expected. (CLOSE_NO_STATUS)",1006:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected. (CLOSE_ABNORMAL)",1007:"Indicates that an endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [RFC3629] data within a text message)",1008:"Indicates that an endpoint is terminating the connection because it has received a message that violates its policy.  This is a generic status code that can be returned when there is no other more suitable status code (e.g., 1003 or 1009) or if there is a need to hide specific details about the policy",1009:"Indicates that an endpoint is terminating the connection because it has received a message that is too big for it to process (CLOSE_TOO_LARGE)",1011:"Indicates that a server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request",4001:"Connectivity loss was detected as it was too long since the socket received the last PONG message",4010:"Timed out while waiting for the Rumor socket to connect.",4020:"Error code unavailable.",4030:"Exception was thrown during Rumor connection, possibly because of a blocked port."};t.messages=r;var i={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA:1007,CLOSE_POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_CONNECTIVITY_LOSS:4001,CLOSE_TIMEOUT:4010,CLOSE_FALLBACK_CODE:4020,CLOSE_CONNECT_EXCEPTION:4030,ALREADY_CONNECTED_CONNECTING:null};t.codes=i;var o={messages:r,codes:i};t.default=o},function(e,t,n){var r=n(79),i=n(113),o=n(84),a=n(178),s=n(374),u=n(181),c=n(55),l=n(377),d=n(379),f=n(184),p=n(186),h=n(42),v=n(382),m=n(383),g=n(191),y=n(12),b=n(65),w=n(387),E=n(11),k=n(389),_=n(31),S=n(54),C="[object Arguments]",x="[object Function]",T="[object Object]",I={};I[C]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[T]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[x]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,R,O,A,N){var P,L=1&n,M=2&n,D=4&n;if(R&&(P=A?R(t,O,A,N):R(t)),void 0!==P)return P;if(!E(t))return t;var j=y(t);if(j){if(P=v(t),!L)return c(t,P)}else{var F=h(t),V=F==x||"[object GeneratorFunction]"==F;if(b(t))return u(t,L);if(F==T||F==C||V&&!A){if(P=M||V?{}:g(t),!L)return M?d(t,s(P,t)):l(t,a(P,t))}else{if(!I[F])return A?t:{};P=m(t,F,L)}}N||(N=new r);var Z=N.get(t);if(Z)return Z;N.set(t,P),k(t)?t.forEach((function(r){P.add(e(r,n,R,r,t,N))})):w(t)&&t.forEach((function(r,i){P.set(i,e(r,n,R,i,t,N))}));var G=j?void 0:(D?M?p:f:M?S:_)(t);return i(G||t,(function(r,i){G&&(r=t[i=r]),o(P,i,e(r,n,R,i,t,N))})),P}},function(e,t,n){var r=n(80),i=n(346),o=n(347),a=n(348),s=n(349),u=n(350);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t,n){var r=n(341),i=n(342),o=n(343),a=n(344),s=n(345);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(53);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(39)(Object,"create");e.exports=r},function(e,t,n){var r=n(365);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(63),i=n(53),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(372),i=n(67),o=n(115),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(11),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(89),i=n(194),o=n(122);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===i}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(e){return"string"===typeof e||e&&"object"===typeof e&&(e instanceof String||r.call(e)===i)||!1}},function(e,t,n){"use strict";e.exports=n(416)()?globalThis:n(417)},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(t){return new e((function(e){return setTimeout(e,t)}))}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r="",i={getCurrentAudioOutputDeviceId:function(){return r},setCurrentAudioOutputDeviceId:function(e){r=e}};t.default=i},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n={};Object.keys(t).forEach((function(r){n[r]=o(e,t[r].get,t[r].set)})),(0,i.default)(e,n)};var i=r(n(9)),o=function(e,t,n){return t&&!n?function(){return t.call(e)}:t&&n?function(r){return void 0!==r&&n.call(e,r),t.call(e)}:function(t){void 0!==t&&n.call(e,t)}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(219)),o=function(e){return e.replace(/\/$/,"")},a=function(e,t){if(!t)return e;var n=i.default.parse(t),r=i.default.parse(e);if(!n.protocol||!r.protocol)return e;var a=n.protocol.match(/^https/),s=r.protocol.match(/^ws/i),u=o("".concat((s?"ws":"http")+(a?"s":""),"://").concat(n.host).concat(n.pathname)),c=o("".concat(r.host).concat(r.pathname).concat(r.search||""));return"".concat(u,"/").concat(c)};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.getProxyUrl=t.errorMessages=t.clearProxyUrl=void 0,t.setProxyUrl=function(e){var t,r=n(25),f=l.default,p=new r,h=s.default.sessions.length()>0,v=s.default.publishers.length()>0;if(h){var m=s.default.sessions.find((function(e){return"connected"===e.currentState}));t=m?m.sessionId:s.default.sessions.find().sessionId}else t="";var g={sessionId:t,apiKey:f.value};if(v||h){var y=(0,u.default)()(c.default.SET_PROXY_URL_TIMING_ERROR,new Error(d.SET_PROXY_URL_TIMING_ERROR),o.default.SET_PROXY_URL_TIMING_ERROR);a.default.handleJsException({error:y,target:g,analytics:p})}else if(i){var b=(0,u.default)()(c.default.PROXY_URL_ALREADY_SET_ERROR,new Error(d.PROXY_URL_ALREADY_SET_ERROR),o.default.PROXY_URL_ALREADY_SET_ERROR);a.default.handleJsException({error:b,target:g,analytics:p})}else i=e};var i,o=r(n(10)),a=r(n(21)),s=r(n(23)),u=r(n(13)),c=r(n(8)),l=r(n(70)),d={SET_PROXY_URL_TIMING_ERROR:"The proxyUrl was set after a session or publisher was created.",PROXY_URL_ALREADY_SET_ERROR:"The proxyUrl has already been set. Setting it again will not have any effect."};t.errorMessages=d,t.getProxyUrl=function(){return i},t.clearProxyUrl=function(){i=null}},function(e,t,n){var r=n(112),i=n(473),o=n(474);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t,n){var r=n(475);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(60),i=n(48);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(87),i=n(11);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t,n){var r=n(519);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(254),i=n(31);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(192)),o=function(e){var t=(void 0===e?{}:e).NativeVideoElementWrapper,n=void 0===t?(0,i.default)():t;return function(e){var t=void 0===e?{}:e,r=t.fallbackText,i=void 0===r?"Sorry, Web RTC is not available in your browser":r,o=t.fitMode,a=t.muted,s=t._inject,u=t.widgetType;return new n({fallbackText:i,fitMode:o,muted:a,defaultAudioVolume:50,_inject:s,widgetType:u})}};t.default=o},function(e,t,n){"use strict";function r(e){return e.map((function(e){return{url:e.url,urls:e.urls||[e.url],username:e.username,credential:e.credential}}))}t.__esModule=!0,t.adaptIceServers=r,t.parseIceServers=function(e){var t;try{t=JSON.parse(e.data).content.iceServers}catch(n){return[]}return r(t)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(){return"Chrome"===i.default.name&&i.default.version>=58||-1!==["Firefox","Edge","Safari","Opera"].indexOf(i.default.name)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=null,n=!1,r=function r(){n&&(e(),t=window.requestAnimationFrame(r))};this.start=function(){n||(n=!0,window.requestAnimationFrame(r))},this.stop=function(){window.cancelAnimationFrame(t),n=!1}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i,o,a=r(n(52)),s=!!window.crypto,u=!(null==(i=window.RTCRtpSender)||!i.prototype.createEncodedStreams)||!(null==(o=window.RTCRtpSender)||!o.prototype.createdEncodedVideoStreams),c=!!window.Worker,l=function(){return s&&u&&c};t.default=function(e){void 0===e&&(e={});var t=e.hasOpenTokSupport||a.default.once,n=e.isE2eeSupported||l;return t()&&n()}},function(e,t,n){var r=n(39)(n(15),"Map");e.exports=r},function(e,t,n){var r=n(357),i=n(364),o=n(366),a=n(367),s=n(368);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var r=n(175),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(85)(e))},function(e,t,n){var r=n(68),i=n(373),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(378),i=n(182),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(180)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(189);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(393),i=n(195)(r);e.exports=i},function(e,t,n){var r=n(53),i=n(24),o=n(66),a=n(11);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={error:{priority:1,method:"error"},warn:{priority:2,method:"warn"},info:{priority:3,method:"info"},log:{priority:4,method:"log"},debug:{priority:5,method:"debug"},spam:{priority:6,method:"log"}};t.default=r},function(e,t,n){"use strict";e.exports=n(198)()?Object.setPrototypeOf:n(199)},function(e,t,n){"use strict";var r=n(56),i={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(i,typeof e)}},function(e,t,n){"use strict";e.exports=n(407)()?Object.assign:n(408)},function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.AudioContext||(void 0!==typeof window?window:n.g).AudioContext||(void 0!==typeof window?window:n.g).webkitAudioContext;return function(){if(null==(r=r||t&&new t))throw new Error("AudioContext could not be created, hardware limit reached.");return r}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e){this._analyser=null,this._timeDomainData=null,this._sourceNode=null,this._audioContext=e}var t=e.prototype;return t._initAudioAnalyser=function(e){this._analyser=this._audioContext.createAnalyser(),this._sourceNode=this._audioContext.createMediaStreamSource(e),this._sourceNode.connect(this._analyser),this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)},t.webRTCStream=function(e){this._sourceNode&&this._sourceNode.disconnect(this._analyser),"suspended"===this._audioContext.state&&this._audioContext.resume(),this._initAudioAnalyser(e)},t.destroy=function(){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._timeDomainData=null},t.sample=function(e){if("function"===typeof e)throw new Error("sample no longer takes a callback");if(this._analyser&&this._timeDomainData){this._analyser.getByteTimeDomainData(this._timeDomainData);for(var t=0,n=this._timeDomainData.length-1;n>=0;n-=1)t=Math.max(t,Math.abs(this._timeDomainData[n]-128));return t/128}return null},e}();t.default=r},function(e,t,n){var r=n(88),i=n(53),o=n(123),a=n(54),s=Object.prototype,u=s.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(r=1);++n<r;)for(var l=t[n],d=a(l),f=-1,p=d.length;++f<p;){var h=d[f],v=e[h];(void 0===v||i(v,s[h])&&!u.call(e,h))&&(e[h]=l[h])}return e}));e.exports=c},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(9)),o=r(n(132)),a=(0,r(n(1)).default)("Event"),s=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n={}),this.type=e,this.cancelable=t,this._defaultPrevented=!1;var r=(0,o.default)(Object.keys(this),Object.keys(n));if(r.length>0)throw new Error("Cannot used reserved property names: ".concat(r.join(",")));(0,i.default)(this,n)}var t=e.prototype;return t.preventDefault=function(){this.cancelable?this._defaultPrevented=!0:a.warn("Event.preventDefault :: Trying to preventDefault on an event that isn't cancelable")},t.isDefaultPrevented=function(){return this._defaultPrevented},e}();t.default=s},function(e,t,n){var r=n(34),i=n(472),o=n(88),a=n(478),s=o((function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]}));e.exports=s},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(24),i=n(18);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(46)),o=r(n(58)),a=r(n(59)),s=function(){function e(e){void 0===e&&(e={}),Object.defineProperty(this,"_rawSessionInfo",{value:(0,o.default)(e)})}return(0,i.default)(e,[{key:"sessionId",get:function(){return this._rawSessionInfo.session_id}},{key:"partnerId",get:function(){return this._rawSessionInfo.partner_id}},{key:"messagingServer",get:function(){return this._rawSessionInfo.messaging_server_url}},{key:"mediaServerName",get:function(){return this._rawSessionInfo.media_server_hostname}},{key:"messagingURL",get:function(){return this._rawSessionInfo.messaging_url}},{key:"symphonyAddress",get:function(){return this._rawSessionInfo.symphony_address}},{key:"iceServers",get:function(){return this._rawSessionInfo.ice_servers}},{key:"simulcast",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.simulcast")}},{key:"e2ee",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.e2ee",!1)}},{key:"reconnection",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.reconnection",!1)}},{key:"renegotiation",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.renegotiation",!1)}},{key:"p2pEnabled",get:function(){return"enabled"===(0,a.default)(this._rawSessionInfo,"properties.p2p.preference.value")}},{key:"hybridSession",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.hybridSession",!1)}},{key:"isAdaptiveEnabled",get:function(){return"adaptive"===(0,a.default)(this._rawSessionInfo,"properties.p2p.preference.value")}},{key:"priorityVideoCodec",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.priorityVideoCodec","")}},{key:"h264",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.h264",!0)}},{key:"vp8",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.vp8",!0)}},{key:"vp9",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.vp9",!0)}},{key:"singlePeerConnection",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.singlePeerConnection",!1)}},{key:"clientCandidates",get:function(){var e=(0,a.default)(this._rawSessionInfo,"properties.clientCandidates");return"relayed"===e?"relay":e}}]),e}();t.default=s},function(e,t,n){var r=n(12),i=n(71),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";(function(t){var r=n(19),i=n(487),o=n(227),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(228)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n(43))},function(e,t){e.exports={}},function(e,t,n){var r=n(234),i=n(505),o=n(506),a=n(236),s=n(517),u=n(240),c=n(518),l=n(243),d=n(244),f=n(103),p=Math.max;e.exports=function(e,t,n,h,v,m,g,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var w=h?h.length:0;if(w||(t&=-97,h=v=void 0),g=void 0===g?g:p(f(g),0),y=void 0===y?y:f(y),w-=v?v.length:0,64&t){var E=h,k=v;h=v=void 0}var _=b?void 0:u(e),S=[e,t,n,h,v,E,k,m,g,y];if(_&&c(S,_),e=S[0],t=S[1],n=S[2],h=S[3],v=S[4],!(y=S[9]=void 0===S[9]?b?0:e.length:p(S[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||16==t?o(e,t,y):32!=t&&33!=t||v.length?a.apply(void 0,S):s(e,t,n,h);else var C=i(e,t,n);return d((_?r:l)(C,S),e,t)}},function(e,t,n){var r=n(87),i=n(141);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}},function(e,t,n){var r=n(30),i=n(119),o=n(18),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(e,t,n){var r=n(528),i=n(18);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(539),i=n(194),o=n(122);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return{ROTATED_NORMAL:0,ROTATED_LEFT:270,ROTATED_RIGHT:90,ROTATED_UPSIDE_DOWN:180}}},function(module,exports,__nested_webpack_require_520745__){"use strict";var _interopRequireDefault=__nested_webpack_require_520745__(0);exports.__esModule=!0,exports.default=createWindowMock;var _adapter_factory=_interopRequireDefault(__nested_webpack_require_520745__(559)),_log=_interopRequireDefault(__nested_webpack_require_520745__(1)),_extendES5Native=_interopRequireDefault(__nested_webpack_require_520745__(570)),_env=_interopRequireDefault(__nested_webpack_require_520745__(3)),logging=(0,_log.default)("createWindowMock"),windowKeys=[{key:"location",type:"object"},{key:"setTimeout",type:"function"},{key:"requestAnimationFrame",type:"function"},{key:"URL",type:"function"},{key:"MediaStream",type:"class"},{key:"webkitMediaStream",type:"class"},{key:"RTCIceCandidate",type:"class"},{key:"mozRTCIceCandidate",type:"class"},{key:"RTCSessionDescription",type:"class"},{key:"mozRTCSessionDescription",type:"class"},{key:"RTCIceGatherer",type:"class"},{key:"RTCIceTransport",type:"class"},{key:"RTCDtlsTransport",type:"class"},{key:"RTCSctpTransport",type:"class"},{key:"RTCRtpReceiver",type:"class"},{key:"HTMLMediaElement",type:"class"},{key:"RTCPeerConnection",type:"class"},{key:"webkitRTCPeerConnection",type:"class"},{key:"mozRTCPeerConnection",type:"class"},{key:"MediaStreamTrack",type:"class"},{key:"RTCRtpSender",type:"class"},{key:"RTCTrackEvent",type:"class"},{key:"RTCTransceiver",type:"class"},{key:"RTCDtmfSender",type:"class"},{key:"RTCDTMFSender",type:"class"},{key:"MediaStreamTrackEvent",type:"class"}],navigatorKeys=[{key:"userAgent",type:"string"},{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"webkitGetUserMedia",type:"function"},{key:"mozGetUserMedia",type:"function"}],mediaDevicesKeys=[{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"enumerateDevices",type:"function"},{key:"getSupportedConstraints",type:"function"},{key:"addEventListener",type:"function"},{key:"removeEventListener",type:"function"}],bindWithStaticProperties=function(e,t){if("function"!==typeof t)return logging.warn("Non-function passed into bindWithStaticProperties()"),t;var n=t.bind(e);return Object.keys(t).forEach((function(e){n[e]=t[e]})),n},extendParentClass=function extendParentClass(ParentClass){try{var ChildClass=eval('\n      "use strict"; // Chrome<49 requires strict mode\n\n      const getOwnProperties = (target) => {\n        const properties = {};\n        Object.getOwnPropertyNames(target).forEach((key) => {\n          properties[key] = Object.getOwnPropertyDescriptor(target, key);\n        });\n        return properties;\n      };\n\n      class ChildClass extends ParentClass {\n        constructor(...args) {\n          super(...args);\n          try {\n            this.__proto__ = ChildClass.prototype;\n          } catch (e) {}\n        }\n      };\n\n      Object.defineProperties(ChildClass.prototype, getOwnProperties(ParentClass.prototype));\n      Object.keys(ParentClass)\n        .forEach((staticKey) => {\n          ChildClass[staticKey] = ParentClass[staticKey];\n        });\n\n      ChildClass; // Ensure the final statement is returned in FF\n    ');if(ChildClass&&ChildClass.prototype instanceof ParentClass)return ChildClass}catch(e){}return null},canUseES6Class=function(e){var t=e.RTCPeerConnection||e.webkitRTCPeerConnection||e.mozRTCPeerConnection,n=extendParentClass(t);if(n)try{n.prototype.foo="bar";var r=new n({iceServers:[]}),i="bar"===r.foo;try{r.close()}catch(o){}return i}catch(o){}return!1},extendClass=function(e,t,n){if("function"!==typeof e)return logging.warn("Non-function passed into extendClass()"),e;var r=n&&extendParentClass(e);return r||(r=(0,_extendES5Native.default)(e)),r},getCopyProperties=function(e){return function(t,n,r){r.forEach((function(r){var i=r.key,o=r.type,a=n[i];if(void 0!==a){switch(o){case"function":a=bindWithStaticProperties(n,a);break;case"class":a=extendClass(a,i,e);break;case"string":case"object":break;default:throw new Error("Invalid type of window key: ".concat(o))}t[i]=a}}))}},cloneWindow=function(e){var t={},n=getCopyProperties(canUseES6Class(e));return n(t,e,windowKeys),void 0!==e.navigator&&(t.navigator={},n(t.navigator,e.navigator,navigatorKeys),void 0!==e.navigator.mediaDevices&&(t.navigator.mediaDevices={},n(t.navigator.mediaDevices,e.navigator.mediaDevices,mediaDevicesKeys))),t};function createWindowMock(e){if(void 0!==e.adapter||_env.default.isLegacyEdge)return e;var t=cloneWindow(e);return(0,_adapter_factory.default)({window:t}),t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=null;this.transform=function(t){e=null===e||t>=e?t:.3*t+.7*e;var n=Math.log(e)/Math.LN10/1.5+1;return Math.min(Math.max(n,0),1)}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=this,n={},r=function(r,o){(0,i.default)(o,{parent:t}),o.appendTo(e.parent),n[r]=o,t[r]=o};e.parent&&((0,o.default)(this),this.destroy=function(){t.off(),t.hideWhileLoading(),a(n).forEach((function(e){return e.destroy()}))},this.showAfterLoading=function(){a(n).forEach((function(e){return e.showAfterLoading()}))},this.hideWhileLoading=function(){a(n).forEach((function(e){return e.hideWhileLoading()}))},this.set=function(e,n){return"string"===typeof e&&n?r(e,n):Object.keys(e).forEach((function(t){r(t,e[t])})),t})};var i=r(n(9)),o=r(n(6)),a=function(e){return Object.keys(e).map((function(t){return e[t]}))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(6)),o=r(n(26)),a=r(n(571)),s=(0,r(n(22)).default)(),u=new function(){var e=this;function t(){return a.default.isDomLoaded()&&!a.default.isDomUnloaded()}function n(){e.dispatchEvent(new s.EnvLoadedEvent(o.default.ENV_UNLOADED))}(0,i.default)(e),a.default.whenLoaded.then((function(){a.default.whenUnloaded.then(n),t()&&e.dispatchEvent(new s.EnvLoadedEvent(o.default.ENV_LOADED))})),this.onLoad=function(n,r){t()?n.call(r):e.on(o.default.ENV_LOADED,n,r)},this.onUnload=function(t,n){this.isUnloaded()?t.call(n):e.on(o.default.ENV_UNLOADED,t,n)},this.isUnloaded=function(){return a.default.isDomUnloaded()}};t.default=u},function(e,t,n){"use strict";var r=n(576);function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return(void 0!==typeof window?window:__webpack_require__.g).Buffer&&"function"===typeof(void 0!==typeof window?window:__webpack_require__.g).Buffer.isBuffer?(void 0!==typeof window?window:__webpack_require__.g).Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(577),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function d(e){return!o(e)&&"function"===typeof(void 0!==typeof window?window:__webpack_require__.g).ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=y,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function v(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!a.isFunction(e))return a.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||g(e,!0,t,"==",f.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return b(e=u.call(e),t=u.call(t),n);var s,c,l=_(e),d=_(t);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),c=l.length-1;c>=0;c--)if(l[c]!==d[c])return!1;for(c=l.length-1;c>=0;c--)if(!b(e[s=l[c]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var o="string"===typeof r,s=!e&&i&&!n;if((!e&&a.isError(i)&&o&&E(i,n)||s)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!E(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return v(m(e.actual),128)+" "+e.operator+" "+v(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=g,f.ok=y,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){k(!0,e,t,n)},f.doesNotThrow=function(e,t,n){k(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||g(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var _=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(584)),a=r(n(271));t.default=function(e){return i.default.isElectron?"screen"===e||(0,a.default)(e):o.default.indexOf(e)>-1}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){this.id=e.id,this.type=e.type,this.active=(0,a.default)(e.active),this.orientation=e.orientation||s.ROTATED_NORMAL,e.frameRate&&(this.frameRate=parseFloat(e.frameRate)),e.preferredFrameRate&&(this.preferredFrameRate=parseFloat(e.preferredFrameRate)),e.preferredWidth&&(this.preferredWidth=parseInt(e.preferredWidth,10)),e.preferredHeight&&(this.preferredHeight=parseInt(e.preferredHeight,10)),this.width=parseInt(e.width,10),this.height=parseInt(e.height,10),this.source=e.source||"camera",this.fitMode=e.fitMode||"cover",(0,i.default)(this),this.update=function(e){var t={},n={};for(var r in e)if(e.hasOwnProperty(r)){var i=this[r];switch(r){case"active":this.active=(0,a.default)(e[r]);break;case"disableWarning":this.disableWarning=(0,a.default)(e[r]);break;case"frameRate":this.frameRate=parseFloat(e[r],10);break;case"width":case"height":this[r]=parseInt(e[r],10),t[r]=this[r],n[r]=i;break;case"orientation":this[r]=e[r],t[r]=this[r],n[r]=i;break;case"fitMode":case"source":this[r]=e[r];break;case"sourceStreamId":break;default:return u.debug("Tried to update unknown key ".concat(r," on ").concat(this.type," channel ").concat(this.id)),!1}this.trigger("update",this,r,i,this[r])}return Object.keys(t).length&&this.trigger("update",this,"videoDimensions",n,t),!0}};var i=r(n(6)),o=r(n(1)),a=r(n(274)),s=(0,r(n(146)).default)(),u=(0,o.default)("StreamChannel")},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n,r){if(!e.trigger)throw new Error("OT.StylableComponent is dependent on the eventing mixin. Ensure that this is included in the object before StylableComponent.");r=r||function(){};var i=!1;!1===n&&(t={buttonDisplayMode:"off",nameDisplayMode:"off",audioLevelDisplayMode:"off",videoDisabledDisplayMode:"off",audioBlockedDisplayMode:"off"},i=!0,r({showControls:!1}));var c=new a.default(t,(function(t,n,r){r?e.trigger("styleValueChanged",t,n,r):e.trigger("styleValueChanged",t,n)}));e.getStyle=function(e){return c.get(e)},e.setStyle=function(e,t,n){return i?(u.warn("Calling setStyle() has no effect because theshowControls option was set to false"),this):("string"!==typeof e?a=e:(a={})[e]=t,a.backgroundImageURI&&(a.backgroundImageURI=(0,o.default)(a.backgroundImageURI)),c.setAll(a,n),r((0,s.default)(a)),this);var a}};var i=r(n(1)),o=r(n(592)),a=r(n(593)),s=r(n(275)),u=(0,i.default)("StylableComponent")},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(51)),o=r(n(1)),a=r(n(25)),s=r(n(52)),u=r(n(596)),c=r(n(597)),l=r(n(35)),d=r(n(70)),f=r(n(150)),p=r(n(7)),h=r(n(598)),v=r(n(599)),m=(0,l.default)(),g=(0,o.default)("systemRequirements"),y=m.onlyLocal(),b=s.default.once,w=new a.default,E=(0,i.default)((function(){w.logEvent({action:"checkSystemRequirements",variation:"notHasRequirements",partnerId:d.default.value,payload:{userAgent:p.default.env.userAgent}})})),k=(0,i.default)((function(){(0,h.default)()})),_=!1,S={check:function(){g.debug("OT.checkSystemRequirements()");var e=Number(u.default&&b());return k(),e||E(),e},upgrade:function(e){var t=void 0===e?{}:e,n=t.isSupportedButOld,r=void 0===n?p.default.env.name.toLowerCase()in y.minimumVersion:n,i=t.userAgent,o=void 0===i?navigator.userAgent:i;f.default.onLoad((function(){if(!_){var e,t=new c.default(v.default);_=!0,t.on("close",(function(){_=!1})),t.open(),e=o.match(/(iPad|iPhone|iPod|android|webOS)/i)?"".concat(r?"supported-":"","mobile-browser"):"".concat(r?"upgrade":"normal","-install"),t.el("#section-".concat(e)).style.display="block"}}))}};t.default=S},function(e,t,n){"use strict";(function(t){var r=n(0),i=r(n(47)),o=r(n(600)),a=n(604),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).name="TimeoutError",n}return(0,i.default)(t,e),t}((0,o.default)(Error));e.exports=function(e,n,r){return new t((function(t,i){if("number"!==typeof n||n<0)throw new TypeError("Expected `ms` to be a positive number");var o=setTimeout((function(){if("function"!==typeof r){var o="string"===typeof r?r:"Promise timed out after ".concat(n," milliseconds"),a=r instanceof Error?r:new s(o);"function"===typeof e.cancel&&e.cancel(),i(a)}else try{t(r())}catch(a){i(a)}}),n);a(e.then(t,i),(function(){clearTimeout(o)}))}))},e.exports.TimeoutError=s}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){var e=[];return{add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},releaseAll:function(){for(var t=[];e.length>0;){var n=e.pop();try{n()}catch(i){t.push(i)}}var r=t.length;if(r>0)throw new Error("Failed to complete ".concat(r," cleanup job").concat(1===r?"":"s",": ").concat(t.map((function(e){return"<".concat(e,">")})).join(", ")))}}};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=(0,r(n(1)).default)("applySdpTransform");t.default=function(e,t,n,r,o){var a=e[t][n],s="".concat(t," ").concat(n),u="sdpTransforms (".concat("local offer"===s||"remote answer"===s?"publisher":"subscriber","): ").concat(t," ").concat(n),c="local"===t?"created":"received";i.debug("".concat(u,": ").concat(c,":\n").concat(o));var l=a(r,o);return l.local===o?i.debug("".concat(u,": not modified")):i.debug("".concat(u,": modified to:\n").concat(l.local)),l}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(void 0===e&&(e={}),!e)return 0;var t=e,n=t.currentStatFrames,r=void 0===n?0:n,i=t.prevStatFrames,o=void 0===i?0:i,a=t.currentTimestamp,s=void 0===a?0:a,u=t.prevTimestamp,c=void 0===u?0:u;if(r>=o&&s>c){var l=(r-o)/((s-c)/1e3);return Math.round(100*l)/100}return 0};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(59)),o="function"===typeof(0,i.default)(void 0!==typeof window?window:__webpack_require__.g,"navigator.getDisplayMedia",(0,i.default)(void 0!==typeof window?window:__webpack_require__.g,"navigator.mediaDevices.getDisplayMedia"));t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(){return function(e,t,n){var r=t.slice(),o=(0,i.default)(n);return function(t){var n=e,i=null;function a(e,r){t({message:e,newState:r,currentState:n,previousState:i})}function s(e){return t=e,-1===r.indexOf(t)?(a("'".concat(e,"' is not a valid state"),e),!1):(s=e,!(!o[i=n]||-1===o[i].indexOf(s))||(a("'".concat(n,"' cannot transition to '").concat(e,"'"),e),!1));var t,i,s}this.current=n,this.set=function(e){s(e)&&(i=n,this.current=e,n=e)}}}};var i=r(n(38))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.chromeExtensionHelper||(0,s.default)(),r=t.electronExtensionHelper||(0,u.default)(),f=t.Errors||a.default,p=t.firefoxExtensionHelper||c.default,h=t.getDisplayMediaExtensionHelper||l.default,v=t.otError||(0,o.default)(),m=t.OTHelpers||d.default,g={extensionByKind:{},extensionClasses:{},registerExtensionHelper:function(e,t){g.extensionClasses[e]=t,t.autoRegisters&&t.isSupportedInThisBrowser&&g.registerExtension(e)},registerExtension:function(e){var t;if(null==g.extensionClasses[e])throw new Error("Unsupported kind passed to OT.registerScreenSharingExtension");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(t=g.extensionClasses[e]).register.apply(t,r);g.extensionByKind[e]=o}},y=function(){var e=(0,i.default)(Object.keys(g.extensionClasses).sort((function(e){return"electron"===e?-1:1})),(function(e){return g.extensionClasses[e].isSupportedInThisBrowser}));return void 0===e?{}:{name:e,proto:g.extensionClasses[e],instance:g.extensionByKind[e]}};g.pickHelper=function(){return y()},g.checkCapability=function(e){var t={supported:!1,extensionRequired:void 0,extensionRegistered:void 0,extensionInstalled:void 0,supportedSources:{}},n=y();if(void 0!==n.name){if(t.supported=!0,t.extensionRequired=n.proto.extensionRequired?n.name:void 0,t.supportedSources={screen:n.proto.sources.screen,application:n.proto.sources.application,window:n.proto.sources.window,browser:n.proto.sources.browser},!n.instance)return t.extensionRegistered=!1,t.extensionRequired&&(t.extensionInstalled=!1),void setTimeout(e.bind(null,t));t.extensionRegistered=!!t.extensionRequired||void 0,n.instance.isInstalled((function(n){t.extensionInstalled=t.extensionRequired||"Firefox"===m.env.name?n:void 0,e(t)}))}else setTimeout(e.bind(null,t))},g.registerExtensionHelper("electron",r),g.registerExtensionHelper("getDisplayMedia",h),g.registerExtensionHelper("chrome",n),g.registerExtensionHelper("firefox",p);var b=function(){};return g.getConstraints=function(t){var n=t.onAccessDialogOpened,r=void 0===n?b:n,i=t.onAccessDialogClosed,o=void 0===i?b:i,a=t.videoSource,s=t.constraints;return new e((function(e,t){g.checkCapability((function(n){if(n.supported)if(!1===n.extensionRegistered)t(v(f.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,new Error("Screen Sharing support in this browser requires an extension, but one has not been registered.")));else if(n.extensionRequired&&!1===n.extensionInstalled)t(v(f.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Screen Sharing support in this browser requires an extension, but the extension is not installed.")));else{var i=g.pickHelper();i.proto.getConstraintsShowsPermissionUI&&r(),i.instance.getConstraints(a,s,(function(n,r){i.proto.getConstraintsShowsPermissionUI&&o(),n?t(n):e(r)}))}else{var u="Screen Sharing is not supported in this browser";m.env.isElectron?u="Set the webPreferences.contextIsolation option of the Electron BrowserWindow to false or use a preload script to access the desktop capturer. For more information, see https://tokbox.com/developer/guides/screen-sharing/js/.":"Chrome"===m.env.name&&m.env.version>73&&"https:"!==(void 0!==typeof window?window:__webpack_require__.g).location.protocol&&(u="https:// is required for screen sharing"),t(v(f.SCREEN_SHARING_NOT_SUPPORTED,new Error(u)))}}))}))},g};var i=r(n(62)),o=r(n(13)),a=r(n(8)),s=r(n(287)),u=r(n(641)),c=r(n(643)),l=r(n(294)),d=r(n(7))}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.Errors||a.default,n=e.ExceptionCodes||i.default,r=e.otError||(0,o.default)(),s={ICEWorkflow:t.ICE_WORKFLOW_FAILED,NewPeerConnection:t.CREATE_PEER_CONNECTION_FAILED,SetRemoteDescription:t.SET_REMOTE_DESCRIPTION_FAILED,Subscribe:_defineProperty({404:t.STREAM_NOT_FOUND},n.STREAM_LIMIT_EXCEEDED,t.STREAM_LIMIT_EXCEEDED)};return function(e,i,o,a,u){var c="".concat((o?"".concat(o,": "):"")+u," PeerConnection with connection ").concat(a," failed: ").concat(i),l=s[o]||{},d="string"===typeof l?l:l[e],f="Publisher"===u?n.UNABLE_TO_PUBLISH:n.UNABLE_TO_SUBSCRIBE;if(!d){var p=new Error(c);return p.code=f,p}var h="ICEWorkflow"===o?"Publisher"===u?n.PUBLISHER_ICE_WORKFLOW_FAILED:n.SUBSCRIBER_ICE_WORKFLOW_FAILED:d===t.STREAM_LIMIT_EXCEEDED?n.STREAM_LIMIT_EXCEEDED:f;return r(d,new Error(c),h)}};var i=r(n(10)),o=r(n(13)),a=r(n(8))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.OTHelpers||i.default,n=(e.global||(void 0!==typeof window?window:__webpack_require__.g)).RTCPeerConnection;return function(e,r){"Firefox"===t.env.name&&n&&n.generateCertificate?n.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}).catch((function(e){r(e)})).then((function(t){e.certificates=[t],r(void 0,e)})):setTimeout((function(){r(void 0,e)}))}};var i=r(n(7))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={bandwidthCriticalThreshold:7e4,bandwidthFairThreshold:0,packetLossCriticalThreshold:.15,packetLossCriticalThresholdMediumBw:.2,criticalCongestionPeriod:4e3};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(46)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(167)),u=r(n(6)),c=r(n(1)),l=r(n(57)),d=r(n(3)),f=r(n(668)),p=r(n(669)),h=r(n(7)),v=r(n(106)),m=r(n(670)),g=r(n(671)),y=r(n(672)),b=r(n(673)),w=r(n(674)),E=r(n(168));function k(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}var _=(0,c.default)("WidgetView");(0,v.default)();var S=function(e){var t=void 0===e?{}:e,n=t.logging,r=void 0===n?_:n,c=t.OTHelpers,k=void 0===c?h.default:c,S=t.waitForVideoToBePlaying,C=void 0===S?b.default:S,x=t.VideoElementFacade,T=void 0===x?(0,v.default)():x,I=t.env,R=void 0===I?d.default:I,O=(0,p.default)({window:void 0!==typeof window?window:__webpack_require__.g}),A=function(e){if(e.isCanceled())throw r.debug("bindVideo bailing due to cancellation"),new s.CancellationError("CANCEL")},N=function(){function e(e,t){var n=this,i=void 0===t?{}:t,o=i.insertDefaultUI,a=void 0===o||o,s=i.width,c=void 0===s?264:s,d=i.height,p=void 0===d?198:d,h=i.fitMode,v=void 0===h?"cover":h,m=i.mirror,b=void 0!==m&&m,w=i.insertMode,E=i.classNames,_=i.style,S=i.widgetType,C=i.initials;this._videoElementFacade=void 0,this._container=void 0,this._posterContainer=document.createElement("div"),this._widgetContainer=document.createElement("div"),this._loading=!0,this._audioOnly=!1,this._showPoster=void 0,this._poster=void 0,this._cancelBind=void 0,this.MAX_VIDEO_LOADED=5e3,(0,u.default)(this),!1===/^(contain|cover)$/.test(v)&&r.warn('Invalid fit value "'.concat(v,'" passed. Only "contain" and "cover" can be used.')),this._widgetType=S,this._fitMode=v,this._insertDefaultUI=a;var x=(0,l.default)(this._widgetContainer);if(x.on("click",this.userGesture.bind(this)),x.on("touchstart",this.userGesture.bind(this),!!O&&{passive:!0}),this.once("destroy",(function(){return x.removeAll()})),this._widgetContainer.classList.add("OT_widget-container"),this._widgetContainer.style.width="100%",this._widgetContainer.style.height="100%",!1!==a){this._container=(0,g.default)(e,w),R.isSafari&&R.isiOS&&R.iOSVersion&&R.iOSVersion<11.2&&this._container.classList.add("OT_ForceContain"),this._container.style.width=(0,f.default)(c),this._container.style.height=(0,f.default)(p),this._container.style.overflow="hidden",(0,y.default)(this._container),b&&k.addClass(this._container,"OT_mirrored"),E&&E.trim().split(/\s+/).forEach((function(e){return n._container.classList.add(e)})),this._container.classList.add("OT_loading"),this._container.classList.add("OT_fit-mode-".concat(v)),this._container.appendChild(this._widgetContainer);var T=k(this._container).observeSize((function(){return(0,y.default)(n._container)}))[0],I=k.observeNodeOrChildNodeRemoval(this._container,(function(e){n._videoElementFacade&&e.some((function(e){return e===n._widgetContainer||e===n._videoElementFacade.domElement()}))&&n.destroyVideo()}));this.once("destroy",(function(){r.debug("disconnecting observers"),T.disconnect(),I.disconnect()}))}this._posterContainer.classList.add("OT_video-poster"),this._widgetContainer.appendChild(this._posterContainer);var A=document.createElement("div");A.classList.add("OT_video-loading");var N=document.createElement("div");N.classList.add("OT_video-loading-spinner"),A.appendChild(N),this._widgetContainer.appendChild(A),_&&_.backgroundImageURI?this.setBackgroundImageURI(_.backgroundImageURI):C&&this.setInitials(C)}var t=e.prototype;return t.addError=function(e,t,n){this._container&&(this._container.innerHTML="<p>".concat(e).concat(t?' <span class="ot-help-message">'.concat(t,"</span>"):"","</p>"),k.addClass(this._container,n||"OT_subscriber_error"),this._container.querySelector("p").offsetHeight>this._container.offsetHeight&&(this._container.querySelector("span").style.display="none"))},t.destroy=function(){this.emit("destroy"),this.destroyVideo(),this._container&&(k.removeElement(this._container),this._container=null)},t.setBackgroundImageURI=function(e){k.css(this._posterContainer,"backgroundImage","url(".concat(e,")")),k.css(this._posterContainer,"backgroundSize","contain"),k.css(this._posterContainer,"opacity","1.0")},t.setInitials=function(e){var t=(0,m.default)(e),n=(new XMLSerializer).serializeToString(t);k.css(this._posterContainer,"backgroundImage","url('data:image/svg+xml,".concat(n,"')")),k.css(this._posterContainer,"backgroundSize","auto 55%"),k.css(this._posterContainer,"opacity","1.0")},t.isAudioBlocked=function(){return Boolean(this._videoElementFacade&&this._videoElementFacade.isAudioBlocked())},t.unblockAudio=function(){return this._videoElementFacade.unblockAudio()},t.userGesture=function(){this.isAudioBlocked()&&(0,E.default)().then((function(){return r.debug("Successfully unblocked audio")}),(function(e){return r.error("Error retrying audio on user interaction:",e)}))},t.setAudioBlockedUi=function(e){this._container&&(e?this._container.classList.add("OT_container-audio-blocked"):this._container.classList.remove("OT_container-audio-blocked"))},t.rebindSrcObject=function(){this._videoElementFacade&&this._videoElementFacade._rebindSrcObject()},t.pauseAndPlayVideoElement=function(){this._videoElementFacade&&this._videoElementFacade._pauseAndPlay()},t._createBufferVideoElement=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),r=n.createElement?n:document,o=!1,(a=r.createElement("video")).srcObject=t,e.prev=5,a.play(),e.next=9,C(a,this.MAX_VIDEO_LOADED);case 9:return o=e.sent,e.abrupt("return",o?a:null);case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}(),t._emitAMREvent=function(e,t,n){this.emit("amrLogEvent",e,t,n)},t._createVideoElementFacade=function(e){var t=this,n=e._inject,i=e.audioVolume,o=e.fallbackText,a=e.muted;this._videoElementFacade=new T({defaultAudioVolume:parseFloat(i),fallbackText:o,fitMode:this._fitMode,_inject:n,muted:a,widgetType:this._widgetType});var s=(0,l.default)(this._videoElementFacade);if(this._videoFacadeEvents=s,s.on("error",(function(){t.trigger("error")})),s.on("videoDimensionsChanged",(function(e,n){t.trigger("videoDimensionsChanged",e,n)})),s.on("mediaStopped",(function(e){t.trigger("mediaStopped",e)})),s.on("audioBlocked",(function(){return t.trigger("audioBlocked")})),s.on("audioUnblocked",(function(){return t.trigger("audioUnblocked")})),this._videoElementFacade.audioChannelType("telephony"),r.debug("Appending the video facade"),this._videoElementFacade.appendTo(this._widgetContainer),"undefined"!==typeof i)try{this._videoElementFacade.setAudioVolume(i)}catch(u){r.warn("bindVideo ".concat(u))}},t._bindToStream=function(){var e=(0,o.default)(i.default.mark((function e(t,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._videoElementFacade.bindToStream(t);case 3:e.next=14;break;case 5:if(e.prev=5,e.t0=e.catch(0),!n.isCanceled()){e.next=12;break}throw r.debug("Refusing to destroyVideo as bindVideo was cancelled"),new s.CancellationError("CANCEL");case 12:throw this.destroyVideo(),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),t._getNewBindCancellation=function(){this._cancelBind&&(r.debug("Cancelling last bindVideo request"),this._cancelBind.cancel());var e=new s.default;return this._cancelBind=e,this.once("destroy",(function(){return e.cancel()})),e},t._triggerVideoElementCreated=function(){var e=this,t=function(t){e.trigger("videoElementCreated",t),e._insertDefaultUI&&k.addClass(t,"OT_video-element")};this._videoElementFacade.domElement()?t(this._videoElementFacade.domElement()):this._videoFacadeEvents.on("videoElementCreated",(function(e){t(e)}))},t._waitForVideoResolution=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioOnly()||!(t.getVideoTracks().length>0)){e.next=5;break}return r.debug("Waiting for correct resolution"),e.next=4,(0,w.default)(this._videoElementFacade,5e3);case 4:r.debug("Resolution: ".concat(this._videoElementFacade.videoWidth(),"x").concat(this._videoElementFacade.videoHeight()));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bindVideo=function(){var e=(0,o.default)(i.default.mark((function e(t,n,o){var a,s,u,c,l,d,f,p;return i.default.wrap((function(e){for(var i=this;;)switch(e.prev=e.next){case 0:if(a=n.audioVolume,s=n.muted,u=n.fallbackText,c=n._inject,void 0===o&&(o=!1),r.debug("bindVideo ",{webRTCStream:t}),l=!!this._videoElementFacade,f=this._getNewBindCancellation(),l){e.next=9;break}this._createVideoElementFacade({_inject:c,audioVolume:a,fallbackText:u,muted:s}),e.next=22;break;case 9:if(!(t instanceof MediaStream)){e.next=22;break}return this._emitAMREvent("AMRLoadVideoBuffer","Attempt"),e.next=13,this._createBufferVideoElement(t);case 13:if(d=e.sent){e.next=20;break}if(this._emitAMREvent("AMRLoadVideoBuffer","Failure"),!o){e.next=18;break}throw new Error("bufferFailed: videoBuffer failed to load or timeout");case 18:e.next=21;break;case 20:this._emitAMREvent("AMRLoadVideoBuffer","Success");case 21:this._videoFacadeEvents.on("amrLogEvent",(function(e,t,n){i._emitAMREvent(e,t,n)}));case 22:return e.next=24,this._bindToStream(t,f);case 24:return l||this._triggerVideoElementCreated(),A(f),p=C(this._videoElementFacade,5e3),e.next=29,this._waitForVideoResolution(t);case 29:return r.debug("Waiting for video to be playing"),e.next=32,p;case 32:r.debug("Video is playing"),A(f),d&&(d.remove&&d.remove(),d=null);case 35:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.bindAudioTrackOnly=function(){this._videoElementFacade&&this._videoElementFacade.bindAudioTrackOnly()},t.destroyVideo=function(){this._videoElementFacade&&(this._videoElementFacade.destroy(),this._videoElementFacade=null)},t.video=function(){return this._videoElementFacade},t.showPoster=function(e){return void 0===e?!k.isDisplayNone(this._posterContainer):(this._showPoster=e,k[e?"show":"hide"](this._posterContainer),this.showPoster())},t.poster=function(e){return void 0===e?k.css(this._posterContainer,"backgroundImage"):(this._poster=e,k.css(this._posterContainer,"backgroundImage","url(".concat(e,")")),this.poster())},t.loading=function(e){return void 0===e?this._loading:(this._loading=Boolean(e),this._container&&this._container.classList[e?"add":"remove"]("OT_loading"),this.loading())},t.audioOnly=function(e){return void 0===e?this._audioOnly:(this._audioOnly=e,this._container&&this._container.classList[e?"add":"remove"]("OT_audio-only"),this.audioOnly())},t.domId=function(){return this._container&&this._container.getAttribute("id")},t.setSinkId=function(e){if(this._videoElementFacade)return this._videoElementFacade.setSinkId(e)},(0,a.default)(e,[{key:"domElement",get:function(){return this._container}},{key:"videoElement",get:function(){return this._videoElementFacade&&this._videoElementFacade.domElement()||void 0}},{key:"width",get:function(){return this.videoElement&&this.videoElement.offsetWidth}},{key:"height",get:function(){return this.videoElement&&this.videoElement.offsetHeight}}]),e}();return N};t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationError=t.default=void 0;var r=o(n(667)),i=o(n(309));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,t.CancellationError=i.default},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(23));t.default=function(){return e.all(i.default.subscribers.where().map((function(e){if(e.isAudioBlocked())return e._.unblockAudio()})))}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"P2P"===e?"RELAYED":"ROUTED"}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t,r=(0,s.default)({},((0,a.default)(n),n));["processPubOptions"].forEach((function(e){(0,g.default)(r[e],"".concat(e," dependency must be injected into Publisher"))}));var z=r.AnalyticsHelper||j.default,we=r.createAudioFallbackCoordinator||_.default,_e=r.calculateCapableSimulcastStreams||te.default,Se=r.createChromeMixin||(0,ne.default)(),Ce=r.deviceHelpers||(0,I.default)(),xe=r.EnvironmentLoader||re.default,Te=r.Errors||U.default,Ie=r.Events||(0,ie.default)(),Re=r.ExceptionCodes||N.default,Oe=r.interpretPeerConnectionError||(0,oe.default)(),Ae=r.IntervalRunner||A.default,Ne=r.logging||(0,C.default)("Publisher"),Pe=r.Microphone||(0,ae.default)(),Le=r.otError||(0,G.default)(),Me=r.OTErrorClass||P.default,De=r.OTHelpers||se.default,je=r.parseIceServers||ue.parseIceServers,Fe=r.PUBLISH_MAX_DELAY||ce.default,Ve=r.PublisherPeerConnection||(0,le.default)(),Ze=r.PublishingState||(0,de.default)(),Ge=r.StreamChannel||fe.default,We=r.systemRequirements||pe.default,Ue=r.VideoOrientation||(0,M.default)(),Xe=r.WidgetView||Ee,Be=r.global||(void 0!==typeof window?window:__webpack_require__.g),He=r.createSendMethod||he.default,Ye=r.MediaProcessor||ve.default,ze=me.default,Ke=r.shouldLogMediaProcessorEvents||ge.default,Je=r.processPubOptions,Qe=r.KEEP_SENDING_MEDIA_AFTER_TRANSITIONED||5e3,qe=r.KEEP_SENDING_MEDIA_TO_KEEP_ALIVE||3e3,$e=r.KEEP_SENDING_RTCP_DELAY||3e4;return function(t){var n=this,r=this;void 0===t&&(t={});var a=(0,S.default)({}),s=new b.default,g=new R.default,_=function(e){return s.get(e)};(0,S.default)(this);var C,I,A,N,P,M,j,G,U,te,ne,re,ie,oe=(0,H.default)(),ae=new z;We.check()||We.upgrade();var se,ue,ce,le,de,fe,pe,he,ve=!1,me={},ge={},Ee=!1,et=function(){return n.session||he||{isConnected:function(){return!1}}},tt=[],nt=new Ye,rt=new be.default;function it(){return{connectionId:et().isConnected()?et().connection.connectionId:null,streamId:I,widgetType:"Publisher"}}this.once("publishComplete",(function(e){var t;e||(ve=!0,se=null!=(t=n.session)&&t.sessionInfo.p2pEnabled?"P2P":"MANTIS")})),this.on("sourceStreamIdChanged",(function(e){se=e,g.finishTransitionTo(se)})),this.on("audioAcquisitionProblem",(function(e){var t=e.method;St("publisher:audioAcquisitionProblem","Event",{didPublishComplete:ve,method:t})}));var ot=function(e){throw e instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(e))||(e=new Error("Unknown error has occurred. Stream is not available.")),e.name===Te.USER_MEDIA_ACCESS_DENIED||e.name===Te.NOT_SUPPORTED&&e.originalMessage.match(/Only secure origins/)?function(e){var t,r=(0,l.default)(e);try{t=window.self!==window.top}catch(i){}"https:"!==(void 0!==typeof window?window:__webpack_require__.g).location.protocol&&(vt?r.message+=" Note: https:// is required for screen sharing.":(0,Z.default)()&&"localhost"!==De.env.hostName&&(r.message+=" Note: ".concat(De.env.name," requires HTTPS for camera and microphone access."))),t&&!vt&&(r.message+=" Note: Check that the iframe has the allow attribute for camera and microphone"),Ne.error(r.message),M.set("Failed"),r.message="OT.Publisher Access Denied: Permission Denied: ".concat(r.message),r.code=Re.UNABLE_TO_PUBLISH,C&&(C.destroy(),C=null),xt("Cancel",{reason:"AccessDenied"}),n.trigger("publishComplete",r),n.dispatchEvent(new B.default(D.default.ACCESS_DENIED))}(e):Je.isScreenSharing?function(e){var t=(0,l.default)(e);t.code=Re.UNABLE_TO_PUBLISH,Ne.error("OT.Publisher.onScreenSharingError ".concat(t.message)),M.set("Failed"),t.message="Screensharing: ".concat(t.message),n.trigger("publishComplete",t),xt("Failure",{},{failureReason:"ScreenSharing",failureMessage:t.message}),C&&(C.destroy(),C=null)}(e):function(e){var t=Object.keys(Te).map((function(e){return Te[e]})),r=Le(t.indexOf(e.name)>-1?e.name:Te.MEDIA_ERR_ABORTED,e,Re.UNABLE_TO_PUBLISH);Ne.error("onStreamAvailableError ".concat(r.name,": ").concat(r.message)),M.set("Failed"),C&&(C.destroy(),C=null);var i={failureReason:"GetUserMedia",failureCode:Re.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to access camera/mic: ".concat(r.message)};xt("Failure",{},i),Me.handleJsException({error:r,errorMsg:i.failureReason,code:i.failureCode,target:n,analytics:ae}),n.trigger("publishComplete",r)}(e),e},at=function(){St("accessDialog","Opened"),n.dispatchEvent(new B.default(D.default.ACCESS_DIALOG_OPENED,!0))},st=function(){St("accessDialog","Closed"),n.dispatchEvent(new B.default(D.default.ACCESS_DIALOG_CLOSED,!1))},ut=(0,y.default)(),ct={},lt=!1,dt={},ft=!1,pt=Je(t,"OT.Publisher",(function(){return M&&M.isDestroyed()}));pt.on({accessDialogOpened:at,accessDialogClosed:st});var ht=pt,vt=ht.isScreenSharing,mt=ht.isCustomAudioTrack,gt=ht.isCustomVideoTrack,yt=ht.shouldAllowAudio,bt=ht.properties,wt=ht.getUserMedia;function Et(e){e.forEach((function(e){return e()}))}Object.defineProperty(this,"loudness",{writable:!1,value:void 0,configurable:!0});var kt=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}):function(){}};(function(){var e=this,t=[];a.on("streamDestroy",(function(){return Et(t)})),a.on("streamChange",(function(){Et(t);var n=A.getAudioTracks().map((function(t){return kt(t,"ended",(function(){ft=!0,e.trigger("audioAcquisitionProblem",{method:"trackEndedEvent"})}))}));t.splice.apply(t,[0,t.length].concat(_toConsumableArray(n)))}))}).call(this),function(){var e=[];a.on("streamDestroy",(function(){return Et(e)})),a.on("streamChange",(function(){Et(e),_t()||A.getTracks().forEach((function(t){t.addEventListener&&(e.push(kt(t,"mute",(function(){tn()}))),e.push(kt(t,"unmute",(function(){tn()}))))}))}))}();var _t=function(){if(vt)return!0;var e=["text","detail"].includes(bt.videoContentHint);return gt&&e},St=t.logAnalyticsEvent||function(e,t,n,r,i){var o=(0,c.default)({action:e,variation:t,payload:n},it(),r);"Failure"===t&&(o=(0,c.default)(dt,o)),dt=(0,p.default)(o,"sessionId","connectionId","partnerId"),ae.logEvent(o,i)},Ct=function(){if(Ke(n.session)){var e=n.session.apiKey;nt.enableLogging(e)}else nt.disableLogging()},xt=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),"Non-fatal"!==n.failureReason&&("Attempt"===e&&(G=(new Date).getTime(),pe&&(pe.stop(),Ne.error("_connectivityAttemptPinger should have been cleaned up")),pe=new Ae((function(){St("Publish","Attempting",t,Object.assign({},it(),n))}),.2,6)),"Failure"===e||"Success"===e||"Cancel"===e?(pe?(pe.stop(),pe=void 0):Ne.warn('Received connectivity event: "'.concat(e,'" without "Attempt"')),St("Publish",e,Object.assign({videoInputDevices:te,audioInputDevices:U,videoInputDeviceCount:te?te.length:void 0,audioInputDeviceCount:U?U.length:void 0,selectedVideoInputDeviceId:ne,selectedAudioInputDeviceId:re},t),Object.assign({attemptDuration:(new Date).getTime()-G},n))):St("Publish",e,t,n))},Tt=function(e,t){St("ICERestart",e,t)},It=function(e,t,n){"Attempt"===t?(me[e]=(new Date).getTime(),St(e,t,n)):"Failure"!==t&&"Success"!==t||St(e,t,n,{attemptDuration:(new Date).getTime()-me[e]})},Rt=function(e,t){void 0===t&&(t={}),It("RoutedToRelayedTransition",e,t)},Ot=function(e,t){void 0===t&&(t={}),It("RelayedToRoutedTransition",e,t)},At=(0,h.default)((function(){St("GetStats","Called")})),Nt=(0,h.default)((function(){St("GetRtcStatsReport","Called")})),Pt=function(){var e,t,n=(null==(e=bt.videoDimensions)?void 0:e.width)||640,r=(null==(t=bt.videoDimensions)?void 0:t.height)||480;if(bt.publishVideo){var i,o=null==(i=C)?void 0:i.video();n=(null==o?void 0:o.videoWidth())||n,r=(null==o?void 0:o.videoHeight())||r}return{width:n,height:r}},Lt=function(e){var t=Le(Te.CONNECT_FAILED,e,Re.P2P_CONNECTION_FAILED);t.message="OT.Publisher PeerConnection Error: ".concat(t.message),xt("Failure",{},{failureReason:"PeerConnectionError",failureCode:t.code,failureMessage:t.message}),M.set("Failed"),n.trigger("publishComplete",t),Me.handleJsException({error:t,target:n,analytics:ae})},Mt=function(){A&&(a.emit("streamDestroy"),Be.MediaStreamTrack&&Be.MediaStreamTrack.prototype.stop?A.getTracks().forEach((function(e){return e.stop()})):A.stop())},Dt=function(){var e=T.default.isiOS&&T.default.iOSVersion>=15&&T.default.iOSVersion<15.2,t=A.getVideoTracks()[0];e&&t&&document.addEventListener("visibilitychange",(function(){!document.hidden&&C&&C.rebindSrcObject()}))},jt=function(){var e=T.default.isiOS&&T.default.iOSVersion>=13.3,t=A.getAudioTracks()[0];e&&t&&(t.onmute=function(){return Wn(t)},t.onunmute=function(){return Un(t)})},Ft=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={muted:!0},C){e.next=3;break}throw new Error("Cannot bind video after widget view has been destroyed");case 3:return e.abrupt("return",C.bindVideo(A,t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne.debug("OT.Publisher.onStreamAvailable"),M.set("BindingMedia"),void 0!==bt.videoContentHint&&(0,L.setVideoContentHint)(t,bt.videoContentHint),Mt(),A=t,!bt.videoFilter){e.next=14;break}return e.prev=6,e.next=9,r.applyVideoFilter(bt.videoFilter);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),Ne.error("Error applying video filter: ".concat(e.t0));case 14:a.emit("streamChange"),jt(),Dt(),ne=(n=function(e,t){var n;return e.forEach((function(e){if(e.deviceId)n=e.deviceId.toString();else if(e.label&&t){var r=(0,d.default)(t,(function(t){return t.label===e.label}));r&&(n=r.deviceId)}})),n})(A.getVideoTracks(),te),re=n(A.getAudioTracks(),U),P=new Pe(A,!bt.publishAudio),bn(),vn(),r.accessAllowed=!0,r.dispatchEvent(new B.default(D.default.ACCESS_ALLOWED,!1));case 25:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}(),Zt=function(e){var t=Le(Te.MEDIA_ERR_DECODE,e,Re.UNABLE_TO_PUBLISH);t.message="OT.Publisher while playing stream: ".concat(t.message),Ne.error("OT.Publisher.onVideoError:",t),St("stream",null,{reason:t.message});var r=M.isAttemptingToPublish();M.set("Failed"),r?n.trigger("publishComplete",t):n.trigger("error",t.message),Me.handleJsException({error:t,target:n,analytics:ae})};this._setWebRTCStream=function(e){A=e},this._setCurrentVideoFilter=function(e){gn=e},this._getCurrentVideoFilter=function(){return gn},this._getMediaProcessor=function(){return nt},this._removePeerConnection=function(e){var t;if(e){var n=_(e).peerConnectionId;delete ct[n],e.destroy(),null==(t=_n)||t.onPeerConnectionDisconnected()}},this._removeSubscriber=function(e){n.session.sessionInfo.isAdaptiveEnabled&&"P2P"===se&&n._.startRelayedToRoutedTransition(),Ht(e).then((function(e){e.forEach((function(e){return n._removePeerConnection(e)}))}))};var Gt=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var o,a,s,u,c,l,d,f,p,h;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.reason,a=n.prefix,s=r.session&&r.session.sessionInfo,!("ICEWorkflow"===a&&s&&s.reconnection&&lt)){e.next=5;break}return Ne.debug("Ignoring peer connection failure due to possibility of reconnection."),e.abrupt("return");case 5:return u=_(t)||{},c=u.remoteConnectionId,l=void 0===c?"(not found)":c,d=u.peerConnectionId,f=Oe(void 0,o,a,l,"Publisher"),p={hasRelayCandidates:t&&t.hasRelayCandidates()},h={failureReason:a||"PeerConnectionError",failureCode:f.code,failureMessage:f.message},M.isPublishing()?h.reason="Non-fatal":r.trigger("publishComplete",f),xt("Failure",p,h),Me.handleJsException({errorMsg:"OT.Publisher PeerConnection Error: ".concat(o),code:f.code,target:r,analytics:ae}),e.next=14,ct[d];case 14:e.sent.destroy(),delete ct[d];case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var o,a,s,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.session.sessionInfo.isAdaptiveEnabled,a=n.getSourceStreamId(),ge[a]=t,"disconnected"===t&&setTimeout((function(){var e=r.session._.isSocketReconnecting,t=r.session._.getSocket().is("connected")&&!e();if("disconnected"===ge[a]&&t){var i=_(n).remoteConnectionId;Tt("Attempt",{remoteConnectionId:i}),n.iceRestart()}}),2e3),"connected"!==t){e.next=14;break}if(clearTimeout(fe),!o){e.next=14;break}return e.next=9,Kt();case 9:return s=e.sent.iceConnectionStateIsConnected(),e.next=12,Jt();case 12:u=e.sent.iceConnectionStateIsConnected(),s&&u&&on();case 14:if("failed"!==t){e.next=21;break}if(c=r.session._.isSocketReconnecting,r.session._.getSocket().is("connected")&&!c()){e.next=20;break}return e.abrupt("return");case 20:o&&a===se&&"P2P"===a?r._.startRelayedToRoutedTransition():fe=setTimeout((function(){r.session._.streamDestroy(r.streamId,a)}),5e3);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(e){e.setP2PMaxBitrate(),e.startEncryption(n.session.connection.id),function(e){return n.session.sessionInfo.isAdaptiveEnabled&&"P2P"===e.getSourceStreamId()}(e)&&Rt("Success")},Xt=function(r){var i=r.peerConnectionId,o=r.send,a=r.log,s=r.logQoS,u=r.sourceStreamId;if(Yt(i))return e.reject(new Error("PeerConnection already exists"));var c=_e({isChromiumEdge:De.env.isChromiumEdge,browserName:De.env.name,isScreenSharing:vt,isCustomVideoTrack:gt,sessionInfo:n.session.sessionInfo,constraints:bt.constraints,videoDimensions:Pt(),capableSimulcastScreenshare:bt.capableSimulcastScreenshare,scalableVideo:bt.scalableVideo});return ct[i]=e.all([n.session._.getIceConfig(),n.session._.getVideoCodecsCompatible(A)]).then((function(r){var i=r[0],l=r[1],d=A;if(!l){var f=(d=A.clone()).getVideoTracks()[0];f&&(f.stop(),d.removeTrack(f))}var p=new Ve({iceConfig:i,sendMessage:function(e,t){"offer"===e&&n.trigger("connected"),o(e,t)},webRTCStream:d,channels:bt.channels,capableSimulcastStreams:c,overrideSimulcastEnabled:t._enableSimulcast,logAnalyticsEvent:a,offerOverrides:{enableDtx:bt.enableDtx,enableStereo:bt.enableStereo,audioBitrate:bt.audioBitrate,priorityVideoCodec:bt._priorityVideoCodec||n.session.sessionInfo.priorityVideoCodec,codecFlags:bt._codecFlags||n.session._.getCodecFlags()},answerOverrides:n.session.sessionInfo.p2pEnabled?void 0:{audioBitrate:bt.audioBitrate},sourceStreamId:u,isP2pEnabled:n.session.sessionInfo.p2pEnabled,sessionId:n.session.id,keyStore:n.session.keyStore,sFrameClientStore:n.session.sFrameClientStore,isE2ee:n.session._.isE2ee(),audioFallbackEnabled:bt.publisherAudioFallbackEnabled,resolution:{width:n.videoWidth(),height:n.videoHeight()}});return p.on({disconnected:function(){return function(e){var t=_(e),r=t.remoteSubscriberId,i=t.peerConnectionId;Ne.debug("Subscriber has been disconnected from the Publisher's PeerConnection"),St("disconnect","PeerConnection",{subscriberConnection:i}),n._removeSubscriber(r)}(p)},error:function(e){var t=e.reason,n=e.prefix;return Gt(p,{reason:t,prefix:n})},qos:s,iceRestartSuccess:function(){return function(e){var t=_(e).remoteConnectionId;Tt("Success",{remoteConnectionId:t})}(p)},iceRestartFailure:function(){return function(e){var t=_(e).remoteConnectionId;Tt("Failure",{reason:"ICEWorkflow",message:"OT.Publisher PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",remoteConnectionId:t})}(p)},iceConnectionStateChange:function(e){return Wt(e,p)},audioAcquisitionProblem:function(){ft=!0,n.trigger("audioAcquisitionProblem",{method:"getStats"})},audioFallbackStateChange:function(e){var t,r,i;return _n.onPeerConnectionStateChange(Object.assign({},e,{peerConnection:p,publishVideo:bt.publishVideo,stream:n.stream,connectionId:null==(t=n.session)||null==(r=t.connection)?void 0:r.connectionId,sessionId:null==(i=n.session)?void 0:i.sessionId,peerId:_(p).peerId}))}}),p.once("connected",(function(){return Ut(p)})),new e((function(e,t){var n=function(e){t(e)};p.once("error",n),p.init(j,(function(r){if(r)return t(r);p.off("error",n),e(p)}))}))})),Yt(i)},Bt=function(){return e.all(Object.keys(ct).map(Yt))},Ht=function(e){return Bt().then((function(t){return t.filter((function(t){return _(t).remoteSubscriberId===e}))}))},Yt=function(e){return ct[e]},zt=function(e){var t=Object.keys(ct).find((function(t){return t.endsWith("~".concat(e))}));return ct[t]},Kt=function(){return zt("MANTIS")},Jt=function(){return zt("P2P")},Qt=Se(this,{name:bt.name,publishAudio:bt.publishAudio,publishVideo:bt.publishVideo,audioSource:bt.audioSource,showControls:bt.showControls,shouldAllowAudio:yt,logAnalyticsEvent:St}),qt=function(){n.off("publishComplete",tn),Qt&&Qt.reset(),oe.releaseAll(),n.disconnect(),P=null,Mt(),A=null,C&&(C.destroy(),C=null),n.session&&n._.unpublishFromSession(n.session,"reset"),nt.getVideoFilter()&&wn(),n.id=null,n.stream=null,lt=!1,n.session=null,M.isDestroyed()||M.set("NotPublishing")},$t=function(){if(!A||0===A.getVideoTracks().length)return!1;var e=["text","detail"].includes(bt.videoContentHint),t=gt&&e,n=De.env.isChromium&&(vt||t);return A.getVideoTracks().reduce((function(e,t){return e&&(!t.muted||!!n)&&t.enabled&&"ended"!==t.readyState}),bt.publishVideo)},en=function(){return!(!A||0===A.getAudioTracks().length)&&A.getAudioTracks().length>0&&A.getAudioTracks().reduce((function(e,t){return e&&!t.muted&&t.enabled&&"ended"!==t.readyState}),bt.publishAudio)},tn=function e(t){var r;C&&(C.audioOnly(!$t()),C.showPoster(!$t())),Qt&&Qt.setAudioOnly(!$t()&&en()),n.stream?(Ee&&$t()&&(r=k.CongestionLevels.LOW,Ee=!1),n.stream.setChannelActiveState("audio",en(),t),n.stream.setChannelActiveState("video",$t(),t,r)):(n.off("publishComplete",e),n.once("publishComplete",e))},nn=function(t,r){var i=!1;if("function"===typeof t?r=t:i="rtcStatsReport"===t,i?Nt():At(),!i||V.default)Bt().then((function(e){if(0===e.length){var t=Re.PEER_CONNECTION_NOT_CONNECTED;throw Le(Te.PEER_CONNECTION_NOT_CONNECTED,new Error(Me.getTitleByCode(t)),t)}return e})).then((function(e){return n.session.sessionInfo.isAdaptiveEnabled?e.filter((function(e){return e.getSourceStreamId()===se})):e})).then((function(t){return e.all(t.map((function(e){return(i?(0,F.default)(e.getRtcStatsReport.bind(e)):(0,F.default)(e.getStats.bind(e)))().then((function(t){return{pc:e,stats:t}}))})))})).then((function(e){var t=N?N.getTime():Date.now(),n=e.map((function(e){var n=e.pc,r=e.stats,o=_(n),a=o.remoteConnectionId,s=o.remoteSubscriberId;return(0,c.default)(a.match(/^symphony\./)?{}:{subscriberId:s,connectionId:a},i?{rtcStatsReport:r}:{stats:X.default.normalizeStats(r,!1,t)})}));r(null,n)})).catch(r);else{var o=Re.GET_RTC_STATS_REPORT_NOT_SUPPORTED;r(Le(Te.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(Me.getTitleByCode(o)),o))}},rn=function(e,t){var r={name:bt.name||"",streamId:n.streamId,subscriberAudioFallbackEnabled:bt.subscriberAudioFallbackEnabled,channels:tt,minBitrate:bt.minVideoBitrate,sourceStreamId:e,e2ee:n.session._.isE2ee(),publisherAudioFallbackEnabled:bt.publisherAudioFallbackEnabled,customProperties:{initials:bt.initials}};n.session._.streamCreate(r,t)},on=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce=!1,e.next=3,Kt();case 3:if(!(t=e.sent)){e.next=18;break}return r.trigger("sourceStreamIdChanged","P2P"),bt.publisherAudioFallbackEnabled&&t.disableCongestionLevelEstimation(),e.next=9,(0,x.default)(Qe);case 9:if(!ce){e.next=12;break}return Ne.debug("Cancelling stop sending RTP to MANTIS."),e.abrupt("return");case 12:return rt.muteAudioInPeerConnection(A,t),e.next=15,t.changeMediaDirectionToInactive();case 15:if(!(De.env.isFirefox&&De.env.version<96)){e.next=18;break}return e.next=18,sn();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce=!0,e.next=3,Kt();case 3:if(!(t=e.sent)){e.next=22;break}return rt.unmuteAudioInPeerConnection(A,t),e.next=8,t.changeMediaDirectionToRecvOnly();case 8:if(ue&&clearTimeout(ue),r.trigger("sourceStreamIdChanged","MANTIS"),!bt.publisherAudioFallbackEnabled){e.next=22;break}return e.t0=t,e.next=14,Jt();case 14:if(e.t1=n=e.sent,null!=e.t1){e.next=19;break}e.t2=void 0,e.next=20;break;case 19:e.t2=n.getAudioFallbackState();case 20:e.t3=e.t2,e.t0.enableCongestionLevelEstimation.call(e.t0,e.t3);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sn=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt();case 2:(t=e.sent)&&(ue=setTimeout((0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"!==se){e.next=9;break}return e.next=3,t.changeMediaDirectionToRecvOnly();case 3:return e.next=5,(0,x.default)(qe);case 5:return e.next=7,t.changeMediaDirectionToInactive();case 7:return e.next=9,sn();case 9:case"end":return e.stop()}}),e)}))),$e));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),un=function(){if(Rt("Attempt"),n.session){var e=setTimeout((function(){Rt("Failure",{reason:"Timeout"})}),Fe);n.once("streamCreateForP2PComplete",(function(){clearTimeout(e)})),Ne.debug("streamCreateWithSource: send a message to RUMOR for "+"creating the stream with the sourceStreaId P2P and stream ".concat(n.streamId)),rn("P2P",(function(e){e?function(e){var t=(0,$.default)(e);n.trigger("streamCreateForP2PComplete",t),Rt("Failure",{reason:t.message})}(e):n.trigger("streamCreateForP2PComplete")}))}else Rt("Failure",{reason:"Not connected to the session."})},cn=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"===se){e.next=2;break}return e.abrupt("return");case 2:if(Ot("Attempt"),r.session){e.next=6;break}return Ot("Failure",{reason:"Not connected to the session."}),e.abrupt("return");case 6:if(r.streamId){e.next=9;break}return Ot("Failure",{reason:"No streamId available"}),e.abrupt("return");case 9:return e.next=11,an();case 11:return r.session._.streamDestroy(r.streamId,"P2P"),e.t0=r,e.next=15,Jt();case 15:e.t1=e.sent,e.t0._removePeerConnection.call(e.t0,e.t1),Ot("Success"),r.trigger("streamDestroyForP2PComplete");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this.publish=function(e){return Ne.debug("OT.Publisher: publish"),(M.isAttemptingToPublish()||M.isPublishing())&&qt(),M.set("GetUserMedia"),bt.style&&n.setStyle(bt.style,null,!0),bt.classNames="OT_root OT_publisher",xe.onLoad((function(){Ne.debug("OT.Publisher: publish: environment loaded"),C=new Xe(e,Object.assign({},bt,{widgetType:"publisher"})),yt&&(0,K.default)({publisher:n,widgetView:C}),C.on("error",Zt),n.id=C.domId(),n.element=C.domElement,n.element&&Qt&&Qt.init(C),C.on("videoDimensionsChanged",(function(e,t){bt.publishVideo&&(n.stream&&n.stream.setVideoDimensions(t.width,t.height),n.dispatchEvent(new Ie.VideoDimensionsChangedEvent(n,e,t)))})),C.on("mediaStopped",(function(e){var t=new Ie.MediaStoppedEvent(n,e);if(n.dispatchEvent(t),!t.isDefaultPrevented())if(e){var r=String(e.kind).toLowerCase();"audio"===r?vn():"video"===r?bn():Ne.warn("Track with invalid kind has ended: ".concat(e.kind))}else n.session?n._.unpublishFromSession(n.session,"mediaStopped"):n.destroy("mediaStopped")})),C.on("videoElementCreated",(function(e){var t=new Ie.VideoElementCreatedEvent(e);n.dispatchEvent(t)})),wt().catch(ot).then(function(){var e=(0,o.default)(i.default.mark((function e(t){var o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U=pt.audioDevices,te=pt.videoDevices,o=!!bt.videoFilter,(0,ye.default)(r),o&&(mn=(0,q.default)(t,te)),e.next=7,Vt(t);case 7:return bt.publishVideo||r._toggleVideo(bt.publishVideo,Pt()),vt||gt||o||(mn=(0,q.default)(t,te),bt.publishVideo&&jn(mn)),e.abrupt("return",Ft().catch((function(e){if(!(e instanceof w.CancellationError))throw e})).then((function(){M.isDestroyed()?C&&C.destroyVideo():(Ne.debug("OT.Publisher.onLoaded; resolution:","".concat(n.videoWidth(),"x").concat(n.videoHeight())),M.set("MediaBound"),(0,J.default)().catch(Ne.error),C.loading(!!n.session&&!n.stream),lt=!0),M.isDestroyed()||(r.trigger("initSuccess"),r.trigger("loaded",r))}),(function(e){Ne.error("OT.Publisher.publish failed to bind video: ".concat(e)),Lt(e)})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),n},this._setScalableValues=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt().then((function(e){return e[0].getSenders().filter((function(e){return"video"===e.track.kind}))}));case 2:return r=e.sent,o=r[0],(a=o.getParameters()).encodings.forEach((function(e,r){e[t]=n[r]})),e.next=8,o.setParameters(a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this._setScalableFramerates=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=pn(t))||!dn(n)){e.next=4;break}return e.next=4,r._setScalableValues("maxFramerate",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._setScalableVideoLayers=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=pn(t))||!fn(n)){e.next=4;break}return e.next=4,r._setScalableValues("scaleResolutionDownBy",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ln,dn=function(e){var t=0;return e.every((function(e){return!(15!==e&&30!==e||e<t)&&(t=e,!0)}))},fn=function(e){var t=17;return e.every((function(e){return!(e<1||e>=t)&&(t=e,!0)}))},pn=function(e){var t;if("string"!==typeof e)return t;var n=e.split(":");return 0===n.length||n.length>3?t:n.every((function(e){return!isNaN(e)}))?t=n.map((function(e){return parseInt(e,10)})).reverse():t},hn=function(e){return A&&A["get".concat((0,m.default)(e),"Tracks")]().length>0&&A["get".concat((0,m.default)(e),"Tracks")]().every((function(e){return"ended"!==e.readyState}))},vn=function(e){var t=hn("audio")&&bt.publishAudio;Qt&&Qt.setMuted(!t),P&&P.muted(!t),de&&de.originalTrack&&(de.originalTrack.enabled=t),tn(e)};this.publishAudio=function(e){St("publishAudio","Attempt",{publishAudio:e}),bt.publishAudio=e;try{vn(),St("publishAudio","Success",{publishAudio:e})}catch(t){St("publishAudio","Failure",{message:t.message})}return n},this.publishCaptions=function(e){St("publishCaptions","Attempt");try{a.dispatchEvent(new Ie.PublisherCaptionsEnabled(e)),n.stream.setChannelActiveState("data",e),St("publishCaptions","Success")}catch(t){St("publishCaptions","Failure",{message:t.message})}};var mn,gn,yn=!1,bn=function(){var e=hn("video")&&bt.publishVideo;if("Chrome"===T.default.name&&T.default.version>=69&&(0,o.default)(i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ln&&ln.cancel(),ln=new w.default,n=ln,t.next=5,Bt();case 5:r=t.sent,n.isCanceled()||r.forEach((function(t){t.setVideoActiveState(e)}));case 7:case"end":return t.stop()}}),t)})))(),gt&&nt){var t=nt.getOriginalVideoTrack();t&&(t.enabled=e)}if(gt&&le){var n=le.originalTrack;n&&(n.enabled=e)}A&&A.getVideoTracks().forEach((function(t){t.enabled=e,t.isCreatedCanvas&&(t.enabled=!1)})),tn()},wn=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=nt.getOriginalVideoTrack(),e.prev=1,e.next=4,nt.destroy();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Ne.warn("Error cleaning up mediaProcessor: ".concat(e.t0));case 9:t.stop();case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),En=function(e){return!gn&&!le&&e===Dn()},kn=function(e,t){return!(!gn&&!le)||(e?mn!==t:void 0!==t)};this._toggleVideo=(0,O.default)(function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,s,u,c,l,d,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(vt||gt||yn)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fn();case 4:if(o=e.sent,s=Mn()){e.next=8;break}throw Le(Te.NOT_SUPPORTED,new Error("Publisher._toggleVideo cannot toggleVideo when you have no video source."));case 8:if(u=null==(r=o.find((function(e){return e.label===s.label})))?void 0:r.deviceId,kn(t,u)){e.next=11;break}return e.abrupt("return");case 11:if("ended"!==s.readyState){e.next=14;break}return yn=!0,e.abrupt("return");case 14:if(t&&De.env.isAndroid&&De.env.isChrome&&s&&s.stop&&s.stop(),t){e.next=31;break}e.prev=16,c=(0,Q.default)(n),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(16),e.abrupt("return");case 23:if(u&&(mn=u),jn(c.label),!(l=nt.getVideoFilter())){e.next=30;break}return gn=l,e.next=30,wn();case 30:le&&(le.destroy(),le.stopOriginalTrack());case 31:if(!mn||-1!==o.findIndex((function(e){return e.deviceId===mn}))){e.next=33;break}throw Le(Te.NO_DEVICES_FOUND,new Error("Previous device no longer available - deviceId not found"));case 33:if(a.emit("streamDestroy"),!t){e.next=64;break}if(!En(mn)){e.next=37;break}return e.abrupt("return");case 37:return e.prev=37,e.next=40,Ln(mn);case 40:c=e.sent,e.next=47;break;case 43:throw e.prev=43,e.t1=e.catch(37),Ne.error("Error getting new track for current device(".concat(mn,"): ").concat(e.t1)),e.t1;case 47:if(c){e.next=50;break}return Ne.error("Failed to enable video. It was not possible to get a new track from the camera"),e.abrupt("return");case 50:if(!gn){e.next=59;break}return d=nt.getOriginalVideoTrack(),e.next=54,nt.setVideoFilter(gn);case 54:return e.next=56,nt.setMediaStream(A);case 56:return e.next=58,nt.setVideoTrack(c);case 58:c=e.sent;case 59:if(!le){e.next=64;break}return d=le.originalTrack,e.next=63,le.setTrack(c);case 63:c=e.sent;case 64:return e.prev=64,e.next=67,Pn(s,c);case 67:null==(f=d)||f.stop(),e.next=73;break;case 70:throw e.prev=70,e.t2=e.catch(64),e.t2;case 73:case"end":return e.stop()}}),e,null,[[16,20],[37,43],[64,70]])})));return function(t,n){return e.apply(this,arguments)}}());var _n,Sn=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(n=Qt)||n.videoDisabledIndicator.disableVideo(!1),null==(o=Qt)||o.videoDisabledIndicator.setWarning(!1),t===E.default.SUSPENDED_VIDEO?r.trigger("videoEnabled",{reason:"quality"}):r.trigger("videoDisableWarningLifted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cn=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.publishVideo&&(null==(t=Qt)||t.videoDisabledIndicator.disableVideo(!0)),r.trigger("videoDisabled",{reason:"quality"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(bt.publisherAudioFallbackEnabled){var xn;_n=we({getAllPeerConnections:Bt,AnalyticsHelper:z});var Tn=(_defineProperty(xn={},E.default.ACTIVE_VIDEO,Sn),_defineProperty(xn,E.default.ACTIVE_VIDEO_WITH_WARNING,(function(){var e;bt.publishVideo&&(null==(e=Qt)||e.videoDisabledIndicator.setWarning(!0)),n.trigger("videoDisableWarning")})),_defineProperty(xn,E.default.SUSPENDED_VIDEO,Cn),xn);_n.on("stateChange",(function(e){var t=e.previousState,n=e.state;try{Tn[n](t)}catch(r){throw Ne.error("Audio fallback error: ".concat(r)),r}}))}this.publishVideo=function(e){if(bt.publishVideo===e)return n;St("publishVideo","Attempt",{publishVideo:e});var t=Pt();bt.publishVideo=e,!1===e&&bt.publisherAudioFallbackEnabled&&_n.getState()!==E.default.ACTIVE_VIDEO&&(Ee=!0,function(){var e,t;_n.reset(),null==(e=Qt)||e.videoDisabledIndicator.disableVideo(!1),null==(t=Qt)||t.videoDisabledIndicator.setWarning(!1)}());try{n._toggleVideo(bt.publishVideo,t),bn(),St("publishVideo","Success",{publishVideo:e})}catch(r){St("publishVideo","Failure",{message:r.message})}return n},this.setVideoContentHint=function(e){return(0,L.setVideoContentHint)(A,e)},this.getVideoContentHint=function(){return(0,L.getVideoContentHint)(A)},this.destroy=function(e,t){return M.isAttemptingToPublish()&&this.session&&xt("Cancel",{reason:"destroy"}),M.isDestroyed()||(M.set("Destroyed"),qt(),pt&&(pt.off(),pt=null),Qt&&(Qt.destroy(),Qt=null),a&&(a.off(),a=null),!0!==t&&this.dispatchEvent(new Ie.DestroyedEvent(D.default.PUBLISHER_DESTROYED,this,e)),this.off(),le&&(le.destroy(),le.stopOriginalTrack()),de&&(de.destroy(),de.stopOriginalTrack())),this},this.disconnect=function(){Object.keys(ct).forEach((function(e){var t=Yt(e);delete ct[e],t.then((function(e){return n._removePeerConnection(e)}))})),tt.length=0},this.processMessage=function(e,r,i){var o=(0,u.default)(i,"params.subscriber",r).replace(/^INVALID-STREAM$/,r),a=(0,u.default)(i,"content.peerId"),l=(0,u.default)(i,"content.sourceStreamId","MANTIS"),d="".concat(o,"~").concat(a,"~").concat(l);Ne.debug("OT.Publisher.processMessage: Received ".concat(e," from ").concat(r," for ").concat(d)),Ne.debug(i);var p=Yt(d),h=n.session.sessionInfo.isAdaptiveEnabled;if("unsubscribe"===e)n._removeSubscriber(o);else if(p)p.then((function(t){return t.processMessage(e,i)}));else{if(h&&Jt())return;!function(){var u=He({socket:n.session._.getSocket(),uri:i.uri,content:{peerId:a,sourceStreamId:l}});Xt({peerConnectionId:d,send:u,log:function(e,t,n,r,i){void 0===r&&(r={});var o=Object.assign({peerId:a,sourceStreamId:(0,ee.default)(l)},r);return St(e,t,n,o,i)},logQoS:function(e){l===se&&function(e){var r=e.parsedStats,i=e.simulcastEnabled,o=e.remoteConnectionId,a=e.peerId,s=e.sourceStreamId,u={peerId:a,widgetType:"Publisher",connectionId:n.session&&n.session.isConnected()?n.session.connection.connectionId:null,streamId:I,width:C.width,height:C.height,audioTrack:A&&A.getAudioTracks().length>0,hasAudio:en(),publishAudio:bt.publishAudio,videoTrack:A&&A.getVideoTracks().length>0,hasVideo:$t(),publishVideo:bt.publishVideo,audioSource:mt?"Custom":void 0,duration:N?Math.round(((new Date).getTime()-N.getTime())/1e3):0,remoteConnectionId:o,scalableVideo:i,sourceStreamId:(0,ee.default)(s)},l=(vt&&gt?"Screen":vt&&t.videoSource)||gt&&"Custom"||bt.constraints.video&&"Camera"||null;(0,f.default)(l)&&(l=(0,v.default)(l)),u.videoSource=l;var d={videoWidth:n.videoWidth(),videoHeight:n.videoHeight()},p=(0,c.default)({},u,r,d);ae.logQOS(p),n.trigger("qos",p)}(Object.assign({},e,{peerId:a,remoteConnectionId:r,sourceStreamId:l}))},sourceStreamId:l}).then((function(t){return function(e,t){s.set(e,t)}(t,{remoteConnectionId:r,remoteSubscriberId:o,peerId:a,sourceStreamId:l,peerConnectionId:d}),t.processMessage(e,i),null})).catch((function(e){Ne.error("OT.Publisher failed to create a peerConnection",e)}))}()}},this.getImgData=function(){if(!lt)return Ne.error("OT.Publisher.getImgData: Cannot getImgData before the Publisher is publishing."),null;var e=C&&C.video();return e?e.imgData():null};var In=function(e){e.getSenders().forEach((function(e){return"audio"===e.track.kind&&A.getAudioTracks().length?e.replaceTrack(A.getAudioTracks()[0]):"video"===e.track.kind&&A.getVideoTracks().length?e.replaceTrack(A.getVideoTracks()[0]):void 0}))},Rn=function(t){return void 0===t&&(t=In),Bt().then((function(n){return n.map(t),e.all([])}))},On=0,An=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De.env.isLegacyEdge&&Be.RTCRtpSender&&"function"===typeof Be.RTCRtpSender.prototype.replaceTrack){e.next=2;break}throw Le(Te.UNSUPPORTED_BROWSER,new Error("Publisher#cycleVideo is not supported in your browser."),Re.UNABLE_TO_PUBLISH);case 2:if(!gt&&!vt){e.next=4;break}throw Le(Te.NOT_SUPPORTED,new Error("Publisher#cycleVideo: The publisher is not using a camera video source"));case 4:if(Mn()){e.next=7;break}throw Le(Te.NOT_SUPPORTED,new Error("Publisher#cycleVideo cannot cycleVideo when you have no video source."));case 7:return On+=1,e.next=10,Fn();case 10:if((t=e.sent).filter((function(e){return e.deviceId!==mn})).length>0){e.next=14;break}return e.abrupt("return",mn);case 14:for(;t[On%t.length].deviceId===mn;)On+=1;return a.emit("streamDestroy"),n=t[On%t.length],r=n.deviceId,e.next=20,zn(r);case 20:return e.abrupt("return",mn);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this.cycleVideo=(0,O.default)((0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:t=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),Ne.error("Publisher#cycleVideo: could not cycle video: ".concat(e.t0)),e.t0;case 10:return e.abrupt("return",{deviceId:t});case 11:case"end":return e.stop()}}),e,null,[[0,6]])}))));var Nn,Pn=function(){var t=(0,o.default)(i.default.mark((function t(n,s){var u,c,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bt();case 2:return u=t.sent,t.next=5,e.all(u.map(function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findAndReplaceTrack(n,s);case 2:t.setP2PMaxBitrate();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:if(A.removeTrack(n),A.addTrack(s),n&&n.stop){try{c=s instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(s).toString().includes("MediaStreamTrackGenerator")}catch(d){c=!1}c||n.stop()}"Firefox"!==De.env.name&&"Safari"!==De.env.name||(r.videoElement().srcObject=null,r.videoElement().srcObject=A),(l=C&&C.video())&&l.refreshTracks(),a.emit("streamChange"),bn();case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ln=function(){var e=(0,o.default)(i.default.mark((function e(n){var r,o,a,s,u,c,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Dn(),jn(n),(a=(0,l.default)(t)).audioSource=null,a.videoSource=n,(pt=Je(a,"OT.Publisher.getTrackFromDeviceId",(function(){return M&&M.isDestroyed()}))).on({accessDialogOpened:at,accessDialogClosed:st}),s=pt.getUserMedia,e.prev=8,e.next=11,s();case 11:u=e.sent,e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(8),Ne.error(e.t0),e.t0;case 18:return c=null==(r=u)?void 0:r.getVideoTracks(),(d=c[0])||jn(o),e.abrupt("return",d);case 21:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){return A.getVideoTracks()[0]},Dn=function(){return ie},jn=function(e){ie=e},Fn=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.shouldAskForDevices();case 2:if(t=e.sent,n=t.videoDevices,t.video&&n&&n.length){e.next=6;break}throw Le(Te.NO_DEVICES_FOUND,new Error("No video devices available"),Re.UNABLE_TO_PUBLISH);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vn=function(){var t=(0,o.default)(i.default.mark((function t(n,o){var a,s,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.session.sessionInfo.isAdaptiveEnabled){t.next=14;break}return t.next=4,zt(se);case 4:return a=t.sent,t.next=7,a.findAndReplaceTrack(n,o);case 7:if("P2P"!==se){t.next=12;break}return t.next=10,Kt();case 10:s=t.sent,rt.replaceTrackInMutedAudioTracks(s,n,o);case 12:t.next=19;break;case 14:return t.next=16,Bt();case 16:return u=t.sent,t.next=19,e.all(u.map((function(e){return e.findAndReplaceTrack(n,o)})));case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Zn=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Vn(t,n);case 4:n&&A.addTrack(n),t&&A.removeTrack(t),(r=C&&C.video())&&r.refreshTracks(),Qt&&(n&&!t&&Qt.addAudioTrack(),t&&!n&&Qt.removeAudioTrack());try{o=n instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(n).toString().includes("MediaStreamTrackGenerator")}catch(i){o=!1}t&&t.stop&&!o&&t.stop(),n&&(vn(),P=new Pe(A,!bt.publishAudio)),a.emit("streamChange"),tn();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gn=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getSettings().deviceId,e.prev=1,e.next=4,r.setAudioSource(n);case 4:(o=A.getAudioTracks()[0])&&(o.onmute=function(){return Wn(o)},o.onunmute=function(){return Un(o)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Ne.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Wn=function(e){var t=!1;bt.publishVideo&&document.hidden&&(t=!0,n.publishVideo(!1));var a=function(){var n=(0,o.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(document.hidden){n.next=5;break}return n.next=3,Gn(e);case 3:t&&r.publishVideo(!0),document.removeEventListener("visibilitychange",a);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();document.addEventListener("visibilitychange",a)},Un=function(e){var t;en()&&($t()?n.videoElement().pause():Gn(e)),null==n||null==(t=n.session)||t.trigger("gsmCallEnded")},Xn=!(De.env.isLegacyEdge||!Be.RTCRtpSender||"function"!==typeof Be.RTCRtpSender.prototype.replaceTrack),Bn=function(){return Le(Te.CANCEL,new Error("Operation did not succeed due to a new request."))},Hn=function(){var e=(0,o.default)(i.default.mark((function e(n){var o,a,s,u,c,d,f,p,h,v,m;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xn){e.next=2;break}throw Le(Te.UNSUPPORTED_BROWSER,new Error("Publisher#setAudioSource is not supported in your browser."));case 2:if(Nn&&Nn.cancel(),o=Nn=new w.default,a=function(e){if(o.isCanceled())throw e.getTracks((function(e){return e.stop()})),Bn();return Hn(e.getAudioTracks()[0])},s=r.getAudioSource()){e.next=7;break}throw Le(Te.NOT_SUPPORTED,new Error("Publisher#setAudioSource cannot add an audio source when you started without one."));case 7:if(!(n instanceof MediaStreamTrack)){e.next=26;break}if(!o.isCanceled()){e.next=10;break}throw Bn();case 10:if(!de){e.next=23;break}return e.prev=11,e.next=14,de.setTrack(n);case 14:return u=e.sent,e.next=17,Zn(s,u);case 17:return e.abrupt("return",e.sent);case 20:e.prev=20,e.t0=e.catch(11),Ne.error("Error setting track on audioMediaProcessorConnector: ".concat(e.t0));case 23:return e.abrupt("return",Zn(s,n));case 26:if("string"!==typeof n){e.next=73;break}return(c=(0,l.default)(t)).audioSource=n,c.videoSource=null,(pt=Je(c,"OT.Publisher.setAudioSource",(function(){return o.isCanceled()||M&&M.isDestroyed()}))).on({accessDialogOpened:at,accessDialogClosed:st}),d=s.label,f=s.getConstraints&&s.getSettings().deviceId||void 0,s&&s.stop(),p=pt.getUserMedia,e.prev=36,e.t1=a,e.next=40,p();case 40:return e.t2=e.sent,e.next=43,(0,e.t1)(e.t2);case 43:return e.abrupt("return",e.sent);case 46:if(e.prev=46,e.t3=e.catch(36),!o.isCanceled()){e.next=50;break}throw Bn();case 50:if((h=(0,l.default)(t)).videoSource=null,h.audioSource=f,h.audioSource||!d){e.next=60;break}return e.next=56,ke();case 56:if(v=e.sent.find((function(e){return e.label===d})),!o.isCanceled()){e.next=59;break}throw Bn();case 59:v&&(h.audioSource=v.deviceId);case 60:if(h.audioSource){e.next=63;break}throw e.t3.message+=" (could not determine previous audio device)",Le(Te.NOT_FOUND,e.t3);case 63:return pt=Je(h,"OT.Publisher.setAudioSource",(function(){return o.isCanceled()||M&&M.isDestroyed()})),e.next=66,pt.getUserMedia().catch((function(e){throw e.message+=" (could not obtain previous audio device)",e}));case 66:return m=e.sent,e.next=69,a(m);case 69:throw e.t3.message+=" (reverted to previous audio device)",e.t3;case 71:e.next=74;break;case 73:throw Le(Te.INVALID_PARAMETER,new Error("Invalid parameter passed to OT.Publisher.setAudioSource(). Expected string or MediaStreamTrack."));case 74:case"end":return e.stop()}}),e,null,[[11,20],[36,46]])})));return function(t){return e.apply(this,arguments)}}();this.setAudioSource=Hn,this.getAudioSource=function(){return A&&A.getAudioTracks().length>0?A.getAudioTracks()[0]:null};var Yn=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Le(Te.INVALID_VIDEO_SOURCE,new Error("Invalid video source. Video source must be a valid video input deviceId"),1041),r=Le(Te.SET_VIDEO_SOURCE_FAILURE,new Error("You cannot reset the video source on a publisher that does not currently use a camera source."),1040),!De.env.isLegacyEdge&&Be.RTCRtpSender&&"function"===typeof Be.RTCRtpSender.prototype.replaceTrack){e.next=4;break}throw Le(Te.UNSUPPORTED_BROWSER,new Error("setVideoSource is not supported in your browser."),Re.UNABLE_TO_PUBLISH);case 4:if("string"===typeof t){e.next=6;break}throw n;case 6:if(o=!A||0===A.getVideoTracks().length,!(gt||vt||o)){e.next=9;break}throw r;case 9:return e.next=11,ke();case 11:if(e.sent.find((function(e){return"videoInput"===e.kind&&e.deviceId===t}))){e.next=15;break}throw n;case 15:return e.next=17,zn(t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();this.setVideoSource=Yn;var zn=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o,a,s,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=mn,mn=t,bt.publishVideo){e.next=4;break}return e.abrupt("return");case 4:if(!En(t)){e.next=6;break}return e.abrupt("return");case 6:if(a=Mn(),!bt.publishVideo||!De.env.isAndroid||!De.env.isChrome&&!De.env.isFirefox){e.next=14;break}if(!gn){e.next=13;break}return s=gn,e.next=12,wn();case 12:gn=null;case 13:a&&a.stop&&a.stop();case 14:return e.prev=14,e.next=17,Ln(t);case 17:u=e.sent,e.next=25;break;case 20:throw e.prev=20,e.t0=e.catch(14),mn=o,Ne.error(e.t0),e.t0;case 25:if(u){e.next=28;break}return Ne.warn("Unable to aquire video track. Moving to next device."),e.abrupt("return");case 28:if(!gn){e.next=33;break}return c=nt.getOriginalVideoTrack(),e.next=32,nt.setVideoTrack(u);case 32:u=e.sent;case 33:if(!le){e.next=38;break}return c=le.originalTrack,e.next=37,le.setTrack(u);case 37:u=e.sent;case 38:return e.next=40,Pn(a,u);case 40:if(!s){e.next=43;break}return e.next=43,r.applyVideoFilter(s);case 43:null==(n=c)||n.stop(),bt.publishVideo&&(yn=!1);case 45:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(t){return e.apply(this,arguments)}}();this.getVideoSource=function(){var e={},t=!A||0===A.getVideoTracks().length;return e.track=A&&bt.publishVideo&&A.getVideoTracks()[0]||null,e.deviceId=vt||gt||!mn?null:mn,e.type=gt?"custom":vt?"screen":t?null:"camera",e},this._={privateEvents:a,setIceConfig:function(e){return(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bt();case 2:t.sent.forEach((function(t){return t.setIceConfig(e)}));case 4:case"end":return t.stop()}}),t)})))()},publishToSession:function(t,r){r&&(ae=r),he=t,n.session=t;var i=(0,y.default)();I=i,n.streamId=i,xt("Attempt",{dataChannels:bt.channels,properties:(0,Y.default)(bt)});var o=new e((function(e,t){lt?e():(n.once("initSuccess",e),n.once("destroyed",(function(e){var n=e.reason,r="";n&&(r=" Reason: ".concat(n)),t(new Error("Publisher destroyed before it finished loading.".concat(r)))})))}));Ne.debug("publishToSession: waiting for publishComplete, which is triggered by stream#created from rumor");var a=new e((function(e,t){n.once("publishComplete",(function(r){r?t(r):(n._setScalableFramerates(bt.scalableFramerates),n._setScalableVideoLayers(bt.scalableVideoLayers),n.stream&&(n.stream.setChannelActiveState("audio",en()),n.stream.setChannelActiveState("video",$t())),Ne.debug("publishToSession: got publishComplete"),e())}))}));Ne.debug("publishToSession: waiting for loaded");var s=o.then((function(){return t._.getVideoCodecsCompatible(A)})).then((function(r){if(Ne.debug("publishToSession: loaded"),n.session){var i=setTimeout((function(){!function(e){var t,r;Ne.error("OT.Publisher.onPublishingTimeout"),ft?(t=Te.CHROME_MICROPHONE_ACQUISITION_ERROR,r="Unable to publish because your browser failed to get access to your microphone. You may need to fully quit and restart your browser to get it to work. See https://bugs.chromium.org/p/webrtc/issues/detail?id=4799 for more details."):(t=Te.TIMEOUT,r="Could not publish in a reasonable amount of time");var i={failureReason:"ICEWorkflow",failureCode:Re.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to publish in a reasonable amount of time (timeout)"};xt("Failure",{},i),Me.handleJsException({errorMsg:i.failureReason,code:i.failureCode,target:n,analytics:ae}),e.isConnected()&&n.streamId&&e._.streamDestroy(n.streamId),n.disconnect(),n.session=null,M.isDestroyed()||M.set("MediaBound"),n.trigger("publishComplete",Le(t,new Error(r),Re.UNABLE_TO_PUBLISH))}(t)}),Fe);n.once("publishComplete",(function(){clearTimeout(i)})),M.set("PublishingToSession");var o=r&&C&&C.video(),a=A.getVideoTracks().length>0,s=null!==bt.videoSource&&!1!==bt.videoSource;o&&a&&s&&tt.push(new Ge({id:"video1",type:"video",active:bt.publishVideo,orientation:Ue.ROTATED_NORMAL,frameRate:bt.frameRate,width:n.videoWidth(),height:n.videoHeight(),e2ee:t._.isE2ee(),source:vt?"screen":gt?"custom":"camera",fitMode:bt.fitMode}));var u=A.getAudioTracks().length>0,c=null!==bt.audioSource&&!1!==bt.audioSource;return c&&u&&tt.push(new Ge({id:"audio1",type:"audio",active:bt.publishAudio})),c&&u&&tt.push(new Ge({id:"caption1",type:"data",active:bt.publishCaptions})),n._.streamChannels=tt,Ne.debug("publishToSession: creating rumor stream id"),new e((function(e,t){rn(null,(function(r,i,o){r?t(function(e){var t=(0,$.default)(e);throw xt("Failure",{},{failureReason:"Publish",failureCode:t.code,failureMessage:t.message}),M.isAttemptingToPublish()&&n.trigger("publishComplete",t),Me.handleJsException({errorMsg:e.message,code:t.code,target:n,error:e,analytics:ae}),t}(r)):e({streamId:i,message:o})}))}))}})).then((function(e){if(void 0!==e){var t=e.streamId,r=e.message;if(Ne.debug("publishToSession: rumor stream id created:",t,"(this is different from stream#created, which requires media to actually be flowing for mantis sessions)"),t!==i)throw new Error("streamId response does not match request");n.streamId=t,j=je(r)}})).catch((function(e){throw n.trigger("publishComplete",e),e}));return e.all([s,a])},unpublishFromSession:function(e,t){if(!n.session||e.id!==n.session.id){if("unpublished"===t){var r=n.session&&n.session.id||"no session";Ne.warn("The publisher ".concat(ut," is trying to unpublish from a session ").concat(e.id," it is not ")+"attached to (it is attached to ".concat(r,")"))}return n}if(e.isConnected()&&(n.stream||M.isAttemptingToPublish())&&e._.streamDestroy(n.streamId),oe.releaseAll(),n.disconnect(),M.isAttemptingToPublish()){xt("Cancel",{reason:"unpublish"});var i=new Error(function(){switch(t){case"mediaStopped":return"The video element fired the ended event, indicating there is an issue with the media";case"unpublished":return"The publisher was unpublished before it could be published";case"reset":return"The publisher was reset";default:return"The publisher was destroyed due to ".concat(t)}}());n.trigger("publishComplete",Le("mediaStopped"===t?Te.MEDIA_ENDED:Te.CANCEL,i))}return n.session=null,St("unpublish","Success"),n._.streamDestroyed(t),n},unpublishStreamFromSession:function(e,t,r){return I&&e.id===I?n._.unpublishFromSession(t,r):(Ne.warn("The publisher ".concat(ut," is trying to destroy a stream ").concat(e.id," that is not attached to it (it has ").concat(I||"no stream"," attached to it)")),n)},streamDestroyed:function(e){["reset"].indexOf(e)<0&&(M.isDestroyed()||M.set("MediaBound"));var t=new Ie.StreamEvent("streamDestroyed",n.stream,e,!0);n.dispatchEventOnce(t,n.streamId),t.isDefaultPrevented()||n.destroy()},archivingStatus:function(e){return Qt&&Qt.setArchivingStatus(e),e},webRtcStream:function(){return A},switchTracks:function(){return(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt().catch(ot);case 3:t=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),Ne.error("OT.Publisher.switchTracks failed to getUserMedia: ".concat(e.t0)),e.t0;case 10:n=t,Mt(),A=n,a.emit("streamChange"),P=new Pe(A,!bt.publishAudio),e.prev=11,Ft(),e.next=21;break;case 15:if(e.prev=15,e.t1=e.catch(11),!(e.t1 instanceof w.CancellationError)){e.next=19;break}return e.abrupt("return");case 19:throw Ne.error("Error while binding video",e.t1),e.t1;case 21:e.prev=21,Rn(),e.next=29;break;case 25:throw e.prev=25,e.t2=e.catch(21),Ne.error("Error replacing tracks",e.t2),e.t2;case 29:case"end":return e.stop()}var n}),e,null,[[0,6],[11,15],[21,25]])})))()},getDataChannel:function(e,t,n){var r=Yt(Object.keys(ct)[0]);r?r.then((function(r){r.getDataChannel(e,t,n)})):n(new De.Error("Cannot create a DataChannel before there is a subscriber."))},iceRestart:function(e){void 0===e&&(e=!1),Bt().then((function(t){t.forEach((function(t){var n=_(t).remoteConnectionId;Tt("Attempt",{remoteConnectionId:n}),Ne.debug("Publisher: ice restart attempt"),t.iceRestart(),e&&t.generateOffer()}))}))},getState:function(){return M},demoOnlyCycleVideo:this.cycleVideo,testOnlyGetFramesEncoded:function(){return(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt();case 2:if((t=e.sent).length){e.next=5;break}throw new Error("No established PeerConnections yet");case 5:return e.abrupt("return",t[0]._testOnlyGetFramesEncoded());case 6:case"end":return e.stop()}}),e)})))()},onStreamAvailable:Vt,startRoutedToRelayedTransition:function(){g.startTransitionTo("P2P"),un()},startRelayedToRoutedTransition:function(){g.startTransitionTo("MANTIS",(function(){return cn()}))},forceMuteAudio:function(){St("publishAudio","Attempt",{publishAudio:!1}),bt.publishAudio=!1;try{vn("auto"),this.dispatchEvent(new Ie.MuteForcedEvent),St("publishAudio","Success",{publishAudio:!1})}catch(e){St("publishAudio","Failure",{message:e.message})}}.bind(this),setCongestionLevel:function(){var e=(0,o.default)(i.default.mark((function e(t,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_n){e.next=15;break}if(!n){e.next=8;break}return e.next=4,Yt(n);case 4:e.t1=e.sent,e.t0=[e.t1],e.next=11;break;case 8:return e.next=10,Bt();case 10:e.t0=e.sent;case 11:e.t0.forEach((function(e){e.setCongestionLevel(t)})),e.next=16;break;case 15:Ne.warn("Audio Fallback is not enabled");case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},this.detectDevices=function(){Ne.warn("Publisher.detectDevices() is not implemented.")},this.detectMicActivity=function(){Ne.warn("Publisher.detectMicActivity() is not implemented.")},this.getEchoCancellationMode=function(){return Ne.warn("Publisher.getEchoCancellationMode() is not implemented."),"fullDuplex"},this.setMicrophoneGain=function(){Ne.warn("Publisher.setMicrophoneGain() is not implemented.")},this.getMicrophoneGain=function(){return Ne.warn("Publisher.getMicrophoneGain() is not implemented."),.5},this.setCamera=function(){Ne.warn("Publisher.setCamera() is not implemented.")},this.setMicrophone=function(){Ne.warn("Publisher.setMicrophone() is not implemented.")},this.guid=function(){return ut},this.videoElement=function(){var e=C&&C.video();return e?e.domElement():null},this.setStream=function(e){if("PublishingToSession"!==M.current)throw new Error("assignStream called when publisher is not successfully publishing");oe.releaseAll(),n.stream=e,n.stream.on("destroyed",n.disconnect,n),oe.add((function(){n.stream&&n.stream.off("destroyed",n.disconnect,n)})),M.set("Publishing"),C.loading(!lt),N=new Date,n.dispatchEvent(new Ie.StreamEvent("streamCreated",e,null,!1)),xt("Success"),n.trigger("publishComplete",null,n)},this.isWebRTC=!0,this.isLoading=function(){return C&&C.loading()},this.videoWidth=function(){return Pt().width},this.videoHeight=function(){return Pt().height},this.getStats=function(e){!function(e){nn(e)}((function(t,n){t?e(t):e(null,n)}))},this.getRtcStatsReport=function(){return new e((function(e,t){nn("rtcStatsReport",(function(n,r){n?t(n):e(r)}))}))},M=new Ze((function(e){Ne.error("OT.Publisher State Change Failed: ",e.message),Ne.debug(e)})),this.accessAllowed=!1,this.applyVideoFilter=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,W.default)(t),St("applyVideoFilter","Attempt",{videoFilter:n}),e.prev=2,!le){e.next=5;break}throw Le(Te.NOT_SUPPORTED,new Error("Cannot apply video filter when videoMediaProcessorConnector is set."));case 5:if(Ye.isSupported()){e.next=8;break}throw Le(Te.NOT_SUPPORTED,new Error("Browser does not support video filters (Insertable Streams and Worker APIs are required)"));case 8:if(nt.isValidVideoFilter(t)){e.next=10;break}throw Le(Te.INVALID_PARAMETER,new Error("Video filter has invalid configuration"));case 10:if(A){e.next=15;break}return St("applyVideoFilter","Failure",{message:o="Ignoring. No mediaStream"}),Ne.warn(o),e.abrupt("return");case 15:if(!vt){e.next=17;break}throw Le(Te.INVALID_PARAMETER,new Error("Video filters can not be applied to screen share"));case 17:if(Ct(),bt.publishVideo){e.next=22;break}return gn=t,St("applyVideoFilter","Success",{videoFilter:n}),e.abrupt("return");case 22:if(!nt.getVideoFilter()){e.next=37;break}if(!nt.canUpdateVideoFilter(t.type)){e.next=35;break}return e.prev=24,e.next=27,nt.updateVideoFilter(t);case 27:return gn=t,St("applyVideoFilter","Success",{videoFilter:n}),e.abrupt("return");case 32:e.prev=32,e.t0=e.catch(24),Ne.warn("Error updating video filter: ".concat(e.t0));case 35:return e.next=37,r.clearVideoFilter();case 37:if(a=A.getVideoTracks(),s=a[0]){e.next=43;break}return St("applyVideoFilter","Failure",{message:o="Ignoring. No video"}),Ne.warn(o),e.abrupt("return");case 43:return e.next=45,nt.setVideoFilter(t);case 45:return e.next=47,nt.setMediaStream(A);case 47:if(!(u=e.sent)){e.next=51;break}return e.next=51,Pn(s,u);case 51:e.next=58;break;case 53:throw e.prev=53,e.t1=e.catch(2),Ne.error("Error applying video filter: ".concat(e.t1)),St("applyVideoFilter","Failure",{message:e.t1.message}),e.t1;case 58:gn=t,St("applyVideoFilter","Success",{videoFilter:n});case 60:case"end":return e.stop()}}),e,null,[[2,53],[24,32]])})));return function(t){return e.apply(this,arguments)}}(),this.getVideoFilter=function(){return St("getVideoFilter","Attempt"),St("getVideoFilter","Success"),gn||null},this.setVideoMediaProcessorConnector=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o,a,s,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St("setVideoMediaProcessorConnector","Attempt",{message:t?"setting the connector":"clearing the connector"}),!r.getVideoFilter()){e.next=4;break}throw St("setVideoMediaProcessorConnector","Failure",{message:"Tried to set video MediaProcessorConnector when video filter applied."}),Le(Te.NOT_SUPPORTED,new Error("setVideoMediaProcessorConnector: Cannot use this method when videoFilter is set."));case 4:if(!le){e.next=14;break}return n=A.getVideoTracks(),o=n[0],e.next=8,Ln(mn);case 8:return a=e.sent,e.next=11,Pn(o,a);case 11:le.destroy(),le.stopOriginalTrack(),le=null;case 14:if(t){e.next=17;break}return St("setVideoMediaProcessorConnector","Success",{message:"clearing the connector"}),e.abrupt("return");case 17:if(ze.isValidConnector(t)){e.next=20;break}throw St("setVideoMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Le(Te.INVALID_PARAMETER,new Error("setVideoMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 20:if(le=new ze(t),s=A.getVideoTracks(),u=s[0]){e.next=28;break}return St("setVideoMediaProcessorConnector","Failure",{message:c="Connector not set as no video track is present."}),Ne.warn("setVideoMediaProcessorConnector: ".concat(c)),le=null,e.abrupt("return");case 28:return e.prev=28,e.next=31,le.setTrack(u);case 31:return o=e.sent,e.next=34,Pn(u,o);case 34:e.next=42;break;case 36:throw e.prev=36,e.t0=e.catch(28),le=null,Ne.error("setVideoMediaProcessorConnector: Error getting track from MediaProcessorConnector: ".concat(e.t0)),St("setVideoMediaProcessorConnector","Failure",{message:e.t0.message}),e.t0;case 42:St("setVideoMediaProcessorConnector","Success");case 43:case"end":return e.stop()}}),e,null,[[28,36]])})));return function(t){return e.apply(this,arguments)}}(),this.setAudioMediaProcessorConnector=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St("setAudioMediaProcessorConnector","Attempt",{message:t?"setting the connector":"clearing the connector"}),!de){e.next=7;break}return n=A.getAudioTracks(),o=n[0],e.next=5,Zn(o,de.originalTrack);case 5:de.destroy(),de=null;case 7:if(t){e.next=10;break}return St("setAudioMediaProcessorConnector","Success",{message:"clearing the connector"}),e.abrupt("return");case 10:if(ze.isValidConnector(t)){e.next=13;break}throw St("setAudioMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Le(Te.INVALID_PARAMETER,new Error("setAudioMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 13:if(a=A.getAudioTracks(),s=a[0]){e.next=20;break}return St("setAudioMediaProcessorConnector","Failure",{message:u="Connector not set as no audio track is present."}),Ne.warn("setAudioMediaProcessorConnector: ".concat(u)),de=null,e.abrupt("return");case 20:return de=new ze(t),e.prev=21,e.next=24,de.setTrack(s);case 24:return o=e.sent,e.next=27,Zn(r.getAudioSource(),o);case 27:e.next=35;break;case 29:throw e.prev=29,e.t0=e.catch(21),de=null,Ne.error("setAudioMediaProcessorConnector: Error getting track from MediaProcessorConnector: ".concat(e.t0)),St("setAudioMediaProcessorConnector","Failure",{message:e.t0.message}),e.t0;case 35:St("setAudioMediaProcessorConnector","Success");case 36:case"end":return e.stop()}}),e,null,[[21,29]])})));return function(t){return e.apply(this,arguments)}}(),this.clearVideoFilter=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St("clearVideoFilter","Attempt"),bt.publishVideo||nt.getVideoFilter()){e.next=5;break}return gn=null,St("clearVideoFilter","Success"),e.abrupt("return");case 5:if(nt.getVideoFilter()||gn){e.next=10;break}return St("clearVideoFilter","Success",{message:t="Ignoring. No video filter applied"}),Ne.debug(t),e.abrupt("return");case 10:if(Ye.isSupported()){e.next=15;break}return St("clearVideoFilter","Success",{message:t='Ignoring. "clearVideoFilter" not supported.'}),Ne.warn(t),e.abrupt("return");case 15:if(A){e.next=20;break}return St("clearVideoFilter","Success",{message:t="Ignoring. No mediaStream"}),Ne.warn(t),e.abrupt("return");case 20:return n=gn,gn=null,r=A.getVideoTracks(),o=r[0],e.prev=23,e.next=26,Ln(mn);case 26:a=e.sent,e.next=33;break;case 29:return e.prev=29,e.t0=e.catch(23),Ne.error(e.t0),e.abrupt("return");case 33:if(a){e.next=36;break}return Ne.warn("Failed to clear filter because there is no video track."),e.abrupt("return");case 36:return e.prev=36,e.next=39,Pn(o,a);case 39:return e.next=41,wn();case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(36),gn=n;case 46:St("clearVideoFilter","Success");case 47:case"end":return e.stop()}}),e,null,[[23,29],[36,43]])})))}};var i=r(n(4)),o=r(n(5)),a=r(n(687)),s=r(n(688)),u=r(n(59)),c=r(n(9)),l=r(n(58)),d=r(n(62)),f=r(n(282)),p=r(n(49)),h=r(n(51)),v=r(n(689)),m=r(n(264)),g=r(n(151)),y=r(n(16)),b=r(n(197)),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=we(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(167)),E=r(n(75)),k=n(29),_=r(n(699)),S=r(n(6)),C=r(n(1)),x=r(n(93)),T=r(n(3)),I=r(n(20)),R=r(n(312)),O=r(n(701)),A=r(n(72)),N=r(n(10)),P=r(n(21)),L=n(296),M=r(n(146)),D=r(n(26)),j=r(n(25)),F=r(n(319)),V=r(n(314)),Z=r(n(276)),G=r(n(13)),W=r(n(320)),U=r(n(8)),X=r(n(76)),B=r(n(131)),H=r(n(157)),Y=r(n(702)),z=r(n(166)),K=r(n(703)),J=r(n(168)),Q=r(n(704)),q=r(n(705)),$=r(n(706)),ee=r(n(169)),te=r(n(259)),ne=r(n(288)),re=r(n(150)),ie=r(n(22)),oe=r(n(163)),ae=r(n(298)),se=r(n(7)),ue=n(107),ce=r(n(273)),le=r(n(299)),de=r(n(308)),fe=r(n(153)),pe=r(n(155)),he=r(n(318)),ve=r(n(707)),me=r(n(712)),ge=r(n(713)),ye=r(n(714)),be=r(n(716));function we(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(we=function(e){return e?n:t})(e)}var Ee=(0,z.default)(),ke=(0,I.default)().getInputMediaDevices}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n=this;void 0===t&&(t={});var r=t.hasE2eeCapability||i.default,a=t.hasOpenTokSupport||o;this.publish=-1!==e.indexOf("publish")?1:0,this.subscribe=-1!==e.indexOf("subscribe")?1:0,this.forceUnpublish=-1!==e.indexOf("forceunpublish")?1:0,this.forceDisconnect=-1!==e.indexOf("forcedisconnect")?1:0,this.forceMute=-1!==e.indexOf("forcemute")?1:0,this.supportsE2ee=r()?1:0,this.supportsWebRTC=a()?1:0,this.permittedTo=function(e){return Object.prototype.hasOwnProperty.call(n,e)&&1===n[e]}};var i=r(n(110)),o=r(n(52)).default.once},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n,r,o,u,f){var p,h=this;this.id=e,this.streamId=e,this.name=t,this.creationTime=Number(n),this.initials=f||"",this.connection=r,this.channel=u,this.publisher=a.default.publishers.find({streamId:this.id}),(0,i.default)(this);var v=function(e,t,n,r){var i=t;switch(i){case"active":i="audio"===e.type?"hasAudio":"hasVideo",h[i]=r;break;case"disableWarning":if(i="audio"===e.type?"audioDisableWarning":"videoDisableWarning",h[i]=r,!h["audio"===e.type?"hasAudio":"hasVideo"])return;break;case"fitMode":h[i="defaultFitMode"]=r;break;case"source":i="audio"===e.type?"audioType":"videoType",h[i]=r;break;case"videoDimensions":h.videoDimensions=r;break;case"orientation":case"width":case"height":return}h.dispatchEvent(new l.StreamUpdatedEvent(h,i,n,r))},m=function(){return h.publisher?h.publisher:a.default.subscribers.find((function(e){return e.stream&&e.stream.id===h.id&&e.session.id===o.id}))},g=function(){return!h.publisher};this.getChannelsOfType=function(e){return h.channel.filter((function(t){return t.type===e}))},this.getChannel=function(e){for(var t=0;t<h.channel.length;++t)if(h.channel[t].id===e)return h.channel[t];return null};var y=this.getChannelsOfType("audio")[0],b=this.getChannelsOfType("video")[0];this.hasAudio=null!=y&&y.active,this.hasVideo=null!=b&&b.active,this.videoType=b&&b.source,this.defaultFitMode=b&&b.fitMode,this.videoDimensions={},b&&(this.videoDimensions.width=b.width,this.videoDimensions.height=b.height,this.videoDimensions.orientation=b.orientation,b.on("update",v),this.frameRate=b.frameRate),y&&y.on("update",v),this.setChannelActiveState=function(e,t,n,r,i){var o={active:t};n&&(o.activeReason=n),void 0!==r&&(o.congestionLevel=r),i&&(o.subscriberId=i),w(e,o)},this.setVideoDimensions=function(e,t){w("video",{width:e,height:t,orientation:0})},this.setRestrictFrameRate=function(e){w("video",{restrictFrameRate:e})},this.setPreferredResolution=function(e){if(g()){if(o.sessionInfo.p2pEnabled)c.warn("Stream.setPreferredResolution will not work in a P2P Session");else if(!e||void 0!==e.width||void 0!==e.height){var t=h.getChannelsOfType("video")[0];if(t){if(e&&e.width){if(isNaN(parseInt(e.width,10)))throw new s.default.Error("stream preferred width must be an integer","Subscriber");t.preferredWidth=parseInt(e.width,10)}else t.preferredWidth=void 0;if(e&&e.height){if(isNaN(parseInt(e.height,10)))throw new s.default.Error("stream preferred height must be an integer","Subscriber");t.preferredHeight=parseInt(e.height,10)}else t.preferredHeight=void 0;o._.subscriberChannelUpdate(h,m(),t,{preferredWidth:t.preferredWidth||0,preferredHeight:t.preferredHeight||0})}}}else c.warn("setPreferredResolution has no affect when called by a publisher")},this.getPreferredResolution=function(){var e=h.getChannelsOfType("video")[0];if(e&&(e.preferredWidth||e.preferredHeight))return{width:e.preferredWidth,height:e.preferredHeight}},this.setPreferredFrameRate=function(e){if(g())if(o.sessionInfo.p2pEnabled)c.warn("Stream.setPreferredFrameRate will not work in a P2P Session");else{if(e&&isNaN(parseFloat(e)))throw new s.default.Error("stream preferred frameRate must be a number","Subscriber");var t=h.getChannelsOfType("video")[0];t&&(t.preferredFrameRate=e?parseFloat(e):null,o._.subscriberChannelUpdate(h,m(),t,{preferredFrameRate:t.preferredFrameRate||0}))}else c.warn("setPreferredFrameRate has no affect when called by a publisher")},this.getPreferredFrameRate=function(){var e=h.getChannelsOfType("video")[0];return e?e.preferredFrameRate:null};var w=function(e,t){var n;if(h.publisher)n=function(e){return o._.streamChannelUpdate(h,e,t)};else{var r=m();n=function(e){return o._.subscriberChannelUpdate(h,r,e,t)}}h.getChannelsOfType(e).forEach(n)};this.destroyed=!1,this.destroyedReason=void 0,this.destroy=function(e,t){void 0===e&&(e="clientDisconnected"),p=e,h.destroyed=!0,h.destroyedReason=p,!0!==t&&h.dispatchEvent(new l.DestroyedEvent("destroyed",h,p))},this._={},this._.updateProperty=function(e,t){if(-1!==d.indexOf(e)){var n=h[e],r=t;switch(e){case"name":h[e]=r;break;case"archiving":var i=m();h.publisher&&i&&i._.archivingStatus(r),h[e]=r}var o=new l.StreamUpdatedEvent(h,e,n,r);h.dispatchEvent(o)}else c.warn('Unknown stream property "'.concat(e,'" was modified to "').concat(t,'".'))},this._.update=function(e){for(var t in e)e.hasOwnProperty(t)&&h._.updateProperty(t,e[t])},this._.forceMute=function(e){e.hasOwnProperty("channels")&&e.channels.includes("audio")&&h.publisher&&h.publisher._.forceMuteAudio()},this._.updateChannel=function(e,t){var n=h.getChannel(e);n&&n.update(t)}};var i=r(n(6)),o=r(n(1)),a=r(n(23)),s=r(n(7)),u=r(n(22)),c=(0,o.default)("Stream"),l=(0,u.default)(),d=["name","archiving"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.UNSUBSCRIBE=t.SUBSCRIBE=t.STATUS=t.PONG=t.PING=t.MESSAGE=t.DISCONNECT=t.CONNECT=void 0,t.SUBSCRIBE=0,t.UNSUBSCRIBE=1,t.MESSAGE=2,t.CONNECT=3,t.DISCONNECT=4,t.PING=7,t.PONG=8,t.STATUS=9;var r={SUBSCRIBE:0,UNSUBSCRIBE:1,MESSAGE:2,CONNECT:3,DISCONNECT:4,PING:7,PONG:8,STATUS:9};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(9)),o=r(n(6)),a=r(n(171)),s=r(n(22)),u=r(n(750)),c=(0,s.default)();function l(e,t,n,r,i){var s,l=this;this.id=e,this.connectionId=e,this.creationTime=t?Number(t):null,this.data=n,this.capabilities=(0,u.default)(r),this.permissions=new a.default(i),this.quality=null,(0,o.default)(this),this.destroy=function(e,t){s=e||"clientDisconnected",!0!==t&&l.dispatchEvent(new c.DestroyedEvent("destroyed",l,s))},this.destroyed=function(){return void 0!==s},this.destroyedReason=function(){return s}}l.fromHash=function(e){var t=e.id,n=e.creationTime,r=e.data,o=e.capablities,a=e.permissions;return new l(t,n,r,(0,i.default)(o||{},{supportsWebRTC:!0}),a||[])};var d=l;t.default=d},function(e,t){var n="object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g).Object===Object&&(void 0!==typeof window?window:__webpack_require__.g);e.exports=n},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(39),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(41),i=n(31);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(369),i=n(64),o=n(12),a=n(65),s=n(66),u=n(86),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r=n(15),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(85)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(118),i=n(119),o=n(117),a=n(182),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(185),i=n(117),o=n(31);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(118),i=n(12);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){var r=n(185),i=n(183),o=n(54);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(39)(n(15),"Set");e.exports=r},function(e,t,n){var r=n(39)(n(15),"WeakMap");e.exports=r},function(e,t,n){var r=n(15).Uint8Array;e.exports=r},function(e,t,n){var r=n(120);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(87),i=n(119),o=n(68);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(6)),s=r(n(1)),u=r(n(57)),c=r(n(448)),l=r(n(449)),d=r(n(450)),f=r(n(93)),p=r(n(3)),h=r(n(208)),v=r(n(20)),m=r(n(94)),g=r(n(128)),y=r(n(129)),b=r(n(456)),w=r(n(555)),E=r(n(7)),k=r(n(256)),_=(0,v.default)().hasAudioOutputApiSupport,S=m.default.getCurrentAudioOutputDeviceId;function C(e,t){var n=document.createElement("video");return(0,l.default)(n),n.autoplay=!0,n.playsinline=!0,n.innerHTML=e,n.setAttribute("autoplay",""),n.setAttribute("playsinline",""),!0===t&&(n.muted="true"),n}function x(){var e=C("");return e.setAttribute("style","display:none"),e}var T=function(t){void 0===t&&(t={});var n=t.audioContext||(0,g.default)(),r=t.canBeOrientatedMixin||b.default,l=t.document||(void 0!==typeof window?window:__webpack_require__.g).document,v=t.listenForTracksEnded||(0,w.default)(),m=t.logging||s.default,T=t.OTHelpers||E.default,I=t.videoElementErrorMap||(0,k.default)(),R=t.WebaudioAudioLevelSampler||y.default,O=t.global||(void 0!==typeof window?window:__webpack_require__.g),A=1,N=function(){function t(e,t){var n=this,s=this,c=e._inject,l=void 0===c?{}:c,d=l.createVideoElement,f=void 0===d?C:d,v=l.createAudioOnlyVideoElement,g=void 0===v?x:v,y=e.muted,b=e.fallbackText,w=e.widgetType;this._domElement=void 0,this._domAudioOnlyVideoElement=void 0,this._blockedVolume=void 0,this._mediaStoppedListener=void 0,this._audioLevelSampler=void 0,this._playInterrupts=0,this._isVideoLoadedMetaData=!1,this._audioOnlyVideoElementWatcher=void 0,this._blinkStartTime=null,this.logging=m("NativeVideoElementWrapper:".concat(A)),A+=1,(0,a.default)(this),this._defaultAudioVolume=t,this._widgetType=w,this._emitVideoPlayAttempt=function(){n._blinkStartTime=(new Date).getTime(),n.trigger("amrLogEvent","AMRTransitionVideo","Attempt")},this._emitVideoPlaySuccess=function(){var e=(new Date).getTime()-n._blinkStartTime;n.trigger("amrLogEvent","AMRTransitionVideo","Success",{attemptDuration:e}),n._blinkStartTime=null},this._emitVideoPlayFailure=function(){n.trigger("amrLogEvent","AMRTransitionVideo","Failure")};var E=!1;this._domElement=f(b,y),this.trigger("videoElementCreated",this._domElement),this._domElementEvents=(0,u.default)(this._domElement),this._domElementEvents.on("loadstart",(function(){return n._onDomElementLoadStart()})),this._domElementEvents.on("timeupdate",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.trigger.apply(s,["timeupdate"].concat(t))})),this._domElementEvents.on("loadedmetadata",(0,o.default)(i.default.mark((function e(){var t,n,r,o,a=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s._isVideoLoadedMetaData=!0,t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(s.trigger.apply(s,["loadedmetadata"].concat(_toConsumableArray(n))),!s._domAudioOnlyVideoElement){e.next=10;break}if(o=s._domAudioOnlyVideoElement.srcObject,s._removeAudioOnlyVideoElement(),!o){e.next=10;break}return e.next=9,(0,h.default)();case 9:s.play();case 10:case"end":return e.stop()}}),e)})))),this._domElementEvents.on("error",(function(e){n.trigger("error",I(e.target.error))}),!1),this._domElementEvents.on("pause",(function(){E||(n.logging.warn("Video element paused, auto-resuming. If you intended to do this, use publishVideo(false) or subscribeToVideo(false) instead."),E=!0),n.play()})),this.on("destroyed",(function(){n._domElementEvents.removeAll(),n._domAudioOnlyVideoElementEvents&&n._domAudioOnlyVideoElementEvents.removeAll()})),r(this,(function(){return n._domElement})),p.default.isSafari&&"subscriber"===this._widgetType&&(this._domAudioOnlyVideoElement=g(),this._bindAudioOnlyVideoElementEvents())}var s=t.prototype;return s._onDomElementLoadStart=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("subscriber"!==this._widgetType||!_()){e.next=3;break}return e.next=3,this._setActiveAudioOutputDevice();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._setActiveAudioOutputDevice=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=S())&&"default"!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setSinkId(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._rebindSrcObject=function(){this._domElement&&(this._domElement.srcObject=this._domElement.srcObject)},s._pauseAndPlay=function(){this._domElement&&(this._domElement.pause(),this._domElement.play())},s._startAudioOnlyVideoElementWatcher=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(var n=this;;)switch(e.prev=e.next){case 0:return t=p.default.isiOS,this._audioOnlyVideoElementWatcher=setInterval((function(){n._domAudioOnlyVideoElement&&n._domAudioOnlyVideoElement.paused&&(n._domAudioOnlyVideoElement.srcObject=n._domAudioOnlyVideoElement.srcObject,t&&n._domAudioOnlyVideoElement.play())}),100),e.next=5,(0,f.default)(1e3);case 5:clearInterval(this._audioOnlyVideoElementWatcher),this._audioOnlyVideoElementWatcher=null;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._removeAudioOnlyVideoElement=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._domAudioOnlyVideoElement.srcObject=null,this._domAudioOnlyVideoElement.parentNode.removeChild(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._domAudioOnlyVideoElement=null;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.bindAudioTrackOnly=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._stream.getVideoTracks(),n=this._stream.getAudioTracks(),r=t[0],o=void 0===r?{}:r,a=n[0],s=void 0===a?{}:a,e.next=6,(0,h.default)();case 6:u=!o.enabled&&s.enabled,!this._isVideoLoadedMetaData&&u&&this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=new O.MediaStream(n),this._startAudioOnlyVideoElementWatcher());case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._bindAudioOnlyVideoElementEvents=function(){var e=this,t=this;this._domAudioOnlyVideoElementEvents=(0,u.default)(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents.on("pause",(function(){return e.play()})),this._domAudioOnlyVideoElementEvents.on("timeupdate",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.trigger.apply(t,["timeupdate"].concat(n))})),this._domAudioOnlyVideoElementEvents.on("loadedmetadata",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.trigger.apply(t,["loadedmetadata"].concat(n))}))},s.whenTimeIncrements=function(e,t){var n=this;this.once("timeupdate",(function(){e.call(t,n)}))},s.domElement=function(){return this._domElement},s.videoWidth=function(){return this._domElement?Number(this._domElement["video".concat(this.isRotated()?"Height":"Width")]):0},s.videoHeight=function(){return this._domElement?Number(this._domElement["video".concat(this.isRotated()?"Width":"Height")]):0},s.aspectRatio=function(){return this.videoWidth()/this.videoHeight()},s.imgData=function(){var e=T.createElement("canvas",{width:this.videoWidth(),height:this.videoHeight(),style:{display:"none"}});l.body.appendChild(e);var t=null;try{e.getContext("2d").drawImage(this._domElement,0,0,e.width,e.height),t=e.toDataURL("image/png")}catch(n){}return T.removeElement(e),null===t||"data:,"===t?(this.logging.warn("Cannot get image data yet"),null):t.replace("data:image/png;base64,","").trim()},s.appendTo=function(e){return e.appendChild(this._domElement),this._domAudioOnlyVideoElement&&e.appendChild(this._domAudioOnlyVideoElement),this},s.isAudioBlocked=function(){return void 0!==this._blockedVolume},s.unblockAudio=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAudioBlocked()){e.next=3;break}return this.logging.warn("Unexpected call to unblockAudio() without blocked audio"),e.abrupt("return");case 3:return t=this._blockedVolume,this._blockedVolume=void 0,this.setAudioVolume(t),e.prev=6,e.next=9,this.play();case 9:e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(6),this._blockedVolume=t,this._domElement.muted=!0,e.t0;case 16:this.trigger("audioUnblocked");case 17:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}(),s.rebind=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._domElement){e.next=2;break}throw new Error("Can't rebind because _domElement no longer exists");case 2:this._playInterrupts++,this._domElement.srcObject=this._domElement.srcObject,this._hasAudioOnlyVideoElement()&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._createAudioLevelSampler=function(){if(this._removeAudioLevelSampler(),this._stream.getAudioTracks().length>0){try{this._audioContext=n()}catch(e){this.logging.warn("Failed to get AudioContext(), audio level visualisation will not work",e)}this._audioContext&&(this._audioLevelSampler=new R(this._audioContext),this._audioLevelSampler.webRTCStream(this._stream))}},s._removeAudioLevelSampler=function(){this._audioContext&&(delete this._audioContext,delete this._audioLevelSampler)},s._toggleVideoTracks=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this._domElement.srcObject.getTracks().filter((function(e){return e.enabled}))).length>1)){e.next=8;break}return(n=t.filter((function(e){return"video"===e.kind}))).forEach((function(e){e.enabled=!1})),e.next=7,(0,h.default)();case 7:n.forEach((function(e){e.enabled=!0}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._hasAudioOnlyVideoElement=function(){return this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.srcObject},s.play=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,u,c,l,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._playInterrupts,n=this._hasAudioOnlyVideoElement()?this._domAudioOnlyVideoElement:this._domElement,!p.default.isSafari){e.next=5;break}return e.next=5,(0,h.default)();case 5:if(!p.default.isiOS||!p.default.isSafari){e.next=15;break}if("publisher"!==this._widgetType){e.next=14;break}if(r=p.default.iOSVersion>=14&&p.default.iOSVersion<=14.2,o=this._stream.getVideoTracks(),a=o[0],s=void 0===a?{}:a,u=this._stream.getAudioTracks(),c=u[0],l=void 0===c?{}:c,!r||(0,d.default)(n)||!s.enabled){e.next=12;break}return e.abrupt("return");case 12:if(!l.muted){e.next=14;break}return e.abrupt("return");case 14:this._toggleVideoTracks();case 15:return e.prev=15,this._emitVideoPlayAttempt(),e.next=19,n.play();case 19:return this._emitVideoPlaySuccess(),e.abrupt("return");case 23:if(e.prev=23,e.t0=e.catch(15),this._emitVideoPlayFailure(),f=e.t0||{},"AbortError"===f.name&&this._playInterrupts++,!(this._playInterrupts>t)){e.next=33;break}return e.next=32,this.play();case 32:return e.abrupt("return");case 33:throw e.t0;case 34:case"end":return e.stop()}}),e,this,[[15,23]])})));return function(){return e.apply(this,arguments)}}(),s._bindToStream=function(e){this._stream=e,this._domElement.srcObject=e,this._domAudioOnlyVideoElement&&this.bindAudioTrackOnly()},s.bindToStream=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,a,s=this;return i.default.wrap((function(e){for(var u=this;;)switch(e.prev=e.next){case 0:if(this._domElement){e.next=2;break}throw new Error("Can't bind because _domElement no longer exists");case 2:return this._bindToStream(t),(0,o.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.play();case 3:e.next=26;break;case 5:if(e.prev=5,e.t0=e.catch(0),n=!!t.getAudioTracks().length,!s._hasAudioOnlyVideoElement()||"NotAllowedError"!==e.t0.name){e.next=15;break}return s._domAudioOnlyVideoElement.muted=!0,e.next=12,s.play();case 12:s._domAudioOnlyVideoElement.muted=!1,e.next=26;break;case 15:if(!n){e.next=23;break}return s._blockedVolume=s.getAudioVolume(),s._domElement.muted=!0,e.next=20,s.play();case 20:s.trigger("audioBlocked"),e.next=26;break;case 23:return s._domElement.muted=!0,e.next=26,s.play();case 26:case"end":return e.stop()}}),e,null,[[0,5]])})))().catch((function(e){u.logging.debug(".play() failed: ",e)})),n={width:this._domElement.videoWidth,height:this._domElement.videoHeight},this.trigger("videoDimensionsChanged",Object.assign({},n),Object.assign({},n)),this._domElementEvents.on("resize",(function(){var e=u._domElement,t=e.videoWidth,r=e.videoHeight,i=t!==n.width,o=r!==n.height;(i||o)&&(u.trigger("videoDimensionsChanged",Object.assign({},n),{width:t,height:r}),n.width=t,n.height=r)})),r=function(){u._mediaStoppedListener.stop(),u._domElement&&(u._domElement.onended=null),u.trigger("mediaStopped")},a=function(e){u.trigger("mediaStopped",e)},this._domElement.onended=function(){return r()},this._mediaStoppedListener=v(t,r,a),this._createAudioLevelSampler(),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.unbindStream=function(){return this._domElement&&(this._domElement.srcObject=null),this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=null),this._removeAudioLevelSampler(),this},s.setAudioVolume=function(e){if(this.isAudioBlocked())this._blockedVolume=e;else{var t=parseFloat(e)/100,n=[this.domElement()];this._domAudioOnlyVideoElement&&n.push(this._domAudioOnlyVideoElement),n.forEach((function(e){e&&(e.volume=t,e.muted=0===t)}))}},s.getAudioVolume=function(){if(this.isAudioBlocked())return this._blockedVolume;var e=this.domElement();return e?e.muted?0:100*e.volume:this._defaultAudioVolume},s.audioChannelType=function(e){var t=this.domElement();return void 0!==e&&(t.mozAudioChannelType=e),"mozAudioChannelType"in this._domElement?t.mozAudioChannelType:"unknown"},s.getAudioInputLevel=function(){return this._audioLevelSampler.sample()},s.refreshTracks=function(){this._mediaStoppedListener&&this._mediaStoppedListener.refresh(),this._createAudioLevelSampler()},s.destroy=function(){this._mediaStoppedListener&&this._mediaStoppedListener.stop(),this.logging.debug("removing domElementEvents"),this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._audioOnlyVideoElementWatcher&&clearInterval(this._audioOnlyVideoElementWatcher),this.unbindStream(),this._domElement&&(T.removeElement(this._domElement),this._domElement=null),this._domAudioOnlyVideoElement&&(T.removeElement(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElement=null),this.trigger("destroyed"),(0,c.default)("NativeVideoElementWrapper",this)},s.setSinkId=function(t){var n=[this._domElement,this._domAudioOnlyVideoElement].map((function(e){if(e)return e.setSinkId(t)}));return e.all(n)},t}();return N};t.default=T}).call(this,n(2))},function(e,t,n){var r=n(88),i=n(123);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},function(e,t,n){var r=n(121),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(112);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){"use strict";e.exports=n(399)()?WeakMap:n(400)},function(e,t,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf;return"function"===typeof e&&i(e((arguments[0]||r)(null),o))===o}},function(e,t,n){"use strict";var r,i=n(200),o=n(32),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(o(e),null===t||i(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var i;return r(t,n),(i=a.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,i&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(i){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(402)},function(e,t,n){"use strict";var r=n(44),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},function(e,t,n){"use strict";var r=n(405),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!i.test(o.call(e))}},function(e,t,n){"use strict";var r=n(44),i=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return i.call(arguments,(function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)})),t}},function(e,t,n){"use strict";e.exports=n(412)()?String.prototype.contains:n(413)},function(e,t,n){"use strict";var r=n(90),i=n(91),o=n(414),a=n(443),s=n(444),u=n(45).iterator;e.exports=function(e){return"function"===typeof s(e)[u]?e[u]():r(e)?new o(e):i(e)?new a(e):new o(e)}},function(e,t,n){"use strict";var r=n(419);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";var r,i=n(423),o=n(127),a=n(69),s=n(32),u=n(33),c=n(424),l=n(45),d=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,o({_next:u((function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:u((function(){return this._createResult(this._next())})),_createResult:u((function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}})),_resolve:u((function(e){return this.__list__[e]})),_unBind:u((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:u((function(){return"[object "+(this[l.toStringTag]||"Object")+"]"}))},c({_onAdd:u((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,n){t>=e&&(this.__redo__[n]=++t)}),this),this.__redo__.push(e)):d(this,"__redo__",u("c",[e])))})),_onDelete:u((function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach((function(t,n){t>e&&(this.__redo__[n]=--t)}),this)))})),_onClear:u((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),d(r.prototype,l.iterator,u((function(){return this})))},function(e,t,n){"use strict";var r=n(56),i=n(126),o=n(426),a=n(427),s=function(e,t){return e.replace("%v",a(t))};e.exports=function(e,t,n){if(!i(n))throw new TypeError(s(t,e));if(!r(e)){if("default"in n)return n.default;if(n.isOptional)return null}var a=o(n.errorMessage);throw r(a)||(a=t),new TypeError(s(a,e))}},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(){return new e((function(e){return setTimeout(e)}))}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.global||(void 0!==typeof window?window:n.g);return function(){if(t.navigator.mediaDevices){var e=t.navigator.mediaDevices;return e.enumerateDevices&&e.enumerateDevices.bind(e)}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r="",i={getCurrentAudioInputDevice:function(){return r},setCurrentAudioInputDevice:function(e){r=e}};t.default=i},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(212)),o=function(e,t){return new i.default(e,t)};t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(17)),o=r(n(457)),a=r(n(458)),s=r(n(459)),u=r(n(461)),c={attributes:o.default,css:a.default,classNames:s.default,observers:u.default},l=/^#([\w-]*)$/,d=function(e){return Array.prototype.slice.call(e)},f=function(e,t){var n=function(e,t){var n;if("undefined"===typeof e)return[];if("string"===typeof e){n=[];var r=l.exec(e);if(t=t||document,r&&r[1]){var i=t.getElementById(r[1]);i&&n.push(i)}else n=t.querySelectorAll(e)}else e&&(e.nodeType||(void 0!==typeof window?window:__webpack_require__.g).XMLHttpRequest&&e instanceof(void 0!==typeof window?window:__webpack_require__.g).XMLHttpRequest||e===(void 0!==typeof window?window:__webpack_require__.g))?(n=[e],t=e):Array.isArray(e)?(n=e.slice(),t=null):n=d(n);return n}(e,t);this.context=t,this.toArray=function(){return n},this.length=n.length,this.first=n[0],this.last=n[n.length-1],this.get=function(e){return void 0===e?n:n[e]}};(f._attachToOTHelpers={}).removeElement=function(e){return new f(e).remove()},f.prototype.getAsArray=function(){var e=this.get();return(0,i.default)(e.forEach)||(e=d(e)),e},f.prototype.some=function(e,t){return this.getAsArray().some(e,t)},f.prototype.forEach=function(e,t){return this.getAsArray().forEach(e,t),this},f.prototype.map=function(e,t){return new f(this.getAsArray().map(e,t),this.context)},f.prototype.filter=function(e,t){return new f(this.getAsArray().filter(e,t),this.context)},f.prototype.find=function(e){return new f(e,this.first)},f.prototype.on=function(e,t){return this.forEach((function(n){n.addEventListener(e,t,!1)}))},f.prototype.off=function(e,t){return this.forEach((function(n){n.removeEventListener(e,t,!1)}))},f.prototype.once=function(e,t){var n=function(){this.off(e,n),t.apply(void 0,arguments)}.bind(this);return this.on(e,n)},f.prototype.appendTo=function(e){if(!e)throw new Error("appendTo requires a DOMElement to append to.");return this.forEach((function(t){e.appendChild(t)}))},f.prototype.append=function(){var e=this.first;return e?(Array.prototype.forEach.call(arguments,(function(t){e.appendChild(t)})),this):this},f.prototype.prepend=function(){if(0===arguments.length)return this;var e,t=this.first;return t?(e=Array.prototype.slice.call(arguments),t.firstElementChild||t.appendChild(e.shift()),e.forEach((function(e){t.insertBefore(e,t.firstElementChild)})),this):this},f.prototype.after=function(e){if(!e)throw new Error("after requires a DOMElement to insert after");return this.forEach((function(t){t.parentElement&&(e!==t.parentNode.lastChild?t.parentElement.insertBefore(t,e):t.parentElement.appendChild(t))}))},f.prototype.before=function(e){if(!e)throw new Error("before requires a DOMElement to insert before");return this.forEach((function(t){t.parentElement&&t.parentElement.insertBefore(t,e)}))},f.prototype.remove=function(){return this.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},f.prototype.empty=function(){return this.forEach((function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))},f.prototype.isDisplayNone=function(){return this.some((function(e){return(0===e.offsetWidth||0===e.offsetHeight)&&"none"===new f(e).css("display")||!(!e.parentNode||!e.parentNode.style)&&new f(e.parentNode).isDisplayNone()}))};var p=function e(t){return 0!==t.offsetWidth&&0!==t.offsetHeight||"none"!==new f(t).css("display")?t.parentNode&&t.parentNode.style?e(t.parentNode):null:t};f._attachToOTHelpers.emptyElement=function(e){return new f(e).empty()},f._attachToOTHelpers._findElementWithDisplayNone=p,c.css(f,p),c.attributes(f),c.classNames(f),c.observers(f),["on","off","isDisplayNone","show","hide","css","makeVisibleAndYield","addClass","removeClass"].forEach((function(e){f._attachToOTHelpers[e]=function(){var t=Array.prototype.slice.apply(arguments),n=t.shift(),r=new f(n);return f.prototype[e].apply(r,t)}}));var h=f;t.default=h},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n){var r=void 0===n?{}:n,o=r.value,a=r.name,s=void 0===a?"".concat(t):a,u=r.getWarning,c=void 0===u?"":u,l=r.setWarning,d=void 0===l?"":l,f=r.canSet,p=void 0!==f&&f,h=r.warnOnSet,v=o,m=!1,g=!(void 0!==h&&h),y={get:function(){return m||(m=!0,i.warn("".concat(s," is deprecated, and will be removed in the future. ").concat(c).trim())),v},set:function(e){p&&(v=e),g||(g=!0,p?i.warn("".concat(s," is deprecated. ").concat(d).trim()):i.warn("".concat(s," is deprecated, and will be removed in the future. ").concat(d).trim()))}};Object.defineProperty(e,t,y)};var i=(0,r(n(1)).default)("deprecation")},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(9)),o=r(n(3)),a=r(n(211)),s=r(n(215)),u={};"Node"!==o.default.name&&(u.request=function(e,t,n){var r=new(void 0!==typeof window?window:__webpack_require__.g).XMLHttpRequest,i=t||{};if(i.method){for(var o in t.overrideMimeType&&(r.overrideMimeType&&r.overrideMimeType(t.overrideMimeType),delete t.overrideMimeType),n&&((0,a.default)(r).on("load",(function(e){var t=e.target.status;t>=200&&(t<300||304===t)?n(null,e):n(e)})),(0,a.default)(r).on("error",n)),r.open(t.method,e,!0),i.headers||(i.headers={}),i.headers)Object.prototype.hasOwnProperty.call(i.headers,o)&&r.setRequestHeader(o,i.headers[o]);r.send(t.body&&function(e){if("string"===typeof e)return e;var t=[];return Object.keys(e).forEach((function(n){t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])))})),t.join("&").replace(/\+/g,"%20")}(t.body))}else n(new Error("No HTTP method specified in options"))},u.get=function(e,t,n){var r=(0,i.default)(t||{},{method:"GET"});u.request(e,r,n)},u.post=function(e,t,n){var r=(0,i.default)(t||{},{method:"POST"});u.request(e,r,n)},u.getJSON=function(e,t,n){t=t||{};var r=(0,i.default)({Accept:"application/json"},t.headers||{});u.get(e,(0,i.default)(t||{},{headers:r}),(function(e,t){if(e)n(e,t&&t.target&&t.target.responseText);else{var r;try{r=JSON.parse(t.target.responseText)}catch(i){return void n(i,t&&t.target&&t.target.responseText)}n(null,r,t)}}))},(0,s.default)(u));var c=u;t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){var t={};Object.keys(e).forEach((function(n){t[n]=e[n]})),e._attachToOTHelpers=t};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=this,n=this,r=e.loggingUrl,o=e.queue,a=void 0===o?p:o,s=e.ajax,h=void 0===s?u.default:s;this.loggingUrl=r,this.updateEndPoints=function(){if(!t.proxyUrl){t.proxyUrl=(0,l.getProxyUrl)();var e=(0,c.default)(t.loggingUrl,t.proxyUrl);t.loggingUrl=e}t.endPoint="".concat(t.loggingUrl,"/logging/ClientEvent"),t.endPointQos="".concat(t.loggingUrl,"/logging/ClientQos")},this.updateEndPoints();var v={};this.logError=function(e,t,r,o,a){void 0===o&&(o=null),void 0===a&&(a={});var s=a.partnerId;if(!function(e,t,n){if(!n)return!1;var r=[n,t,e].join("_");return(v[r]||0)>=100}(e,t,s)){var u=[s,t,e].join("_"),c=o;v[u]="undefined"!==typeof v[u]?v[u]+1:1,n.logEvent((0,i.default)(a,{action:"".concat(t,".").concat(e),payload:c}),!1)}},this.logEvent=function(e,t,r,i){void 0===t&&(t=!1),void 0===i&&(i=function(){}),n.updateEndPoints();var o=Object.assign({},e,{clientInstanceId:f});if(r&&!isNaN(r)&&Math.random()>r)d.debug("skipping sending analytics due to throttle:",o);else{var s;d.debug("queueing analytics:",n.loggingUrl,o);try{s=JSON.stringify(o)}catch(u){return void i(u)}!function(e,t,r){void 0===t&&(t=function(){}),a.add((function(i){d.debug("sending analytics:",n.loggingUrl,e),h.post(r?n.endPointQos:n.endPoint,{body:e,overrideMimeType:"text/plain",headers:{Accept:"text/plain","Content-Type":"application/json"}},(function(e){e&&d.debug("Failed to send ClientEvent, moving on to the next item."),t(e||void 0),i()}))}))}(s,i,t)}},this.logQOS=function(e){return t.logEvent(e,!0)}};var i=r(n(9)),o=r(n(16)),a=r(n(1)),s=r(n(466)),u=r(n(214)),c=r(n(96)),l=n(97),d=(0,a.default)("analytics"),f=(0,o.default)(),p=new s.default},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";var r=n(467),i=n(468);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(469);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=a.exec(b);if(E){var k=(E=E[0]).toLowerCase();this.protocol=k,b=b.substr(E.length)}if(n||E||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||E&&m[E]||(b=b.substr(2),this.slashes=!0)}if(!m[E]&&(_||E&&!g[E])){for(var S,C,x=-1,T=0;T<f.length;T++)-1!==(I=b.indexOf(f[T]))&&(-1===x||I<x)&&(x=I);for(-1!==(C=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(S=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(S)),x=-1,T=0;T<d.length;T++){var I;-1!==(I=b.indexOf(d[T]))&&(-1===x||I<x)&&(x=I)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),A=(T=0,O.length);T<A;T++){var N=O[T];if(N&&!N.match(p)){for(var P="",L=0,M=N.length;L<M;L++)N.charCodeAt(L)>127?P+="x":P+=N[L];if(!P.match(p)){var D=O.slice(0,T),j=O.slice(T+1),F=N.match(h);F&&(D.push(F[1]),j.unshift(F[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=r.toASCII(this.hostname));var V=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+V,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[k])for(T=0,A=l.length;T<A;T++){var G=l[T];if(-1!==b.indexOf(G)){var W=encodeURIComponent(G);W===G&&(W=escape(G)),b=b.split(G).join(W)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var X=b.indexOf("?");if(-1!==X?(this.search=b.substr(X),this.query=b.substr(X+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,X)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var B=this.search||"";this.path=V+B}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=w||b||n.host&&e.pathname,k=E,_=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),E=E&&(""===h[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=_.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=_.slice(-1)[0],x=(n.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,T=0,I=_.length;I>=0;I--)"."===(C=_[I])?_.splice(I,1):".."===C?(_.splice(I,1),T++):T&&(_.splice(I,1),T--);if(!E&&!k)for(;T--;T)_.unshift("..");!E||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),x&&"/"!==_.join("/").substr(-1)&&_.push("");var R,O=""===_[0]||_[0]&&"/"===_[0].charAt(0);return S&&(n.hostname=n.host=O?"":_.length?_.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),(E=E||n.host&&_.length)&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=[],n={},r=e||"id";(0,o.default)(this);var s=function(e,t){return(0,i.default)(e[t])?e[t]():e[t]},u=function(e){this.trigger("update",e),this.trigger("update:".concat(e.target.id),e)}.bind(this),c=function(e){this.remove(e.target,e.reason)}.bind(this);this.reset=function(){t.forEach((function(e){e.off("updated",u,this),e.off("destroyed",c,this)}),this),t=[],n={}},this.destroy=function(e){t.forEach((function(t){t&&"function"===typeof t.destroy&&t.destroy(e,!0)})),this.reset(),this.off()},this.get=function(e){return e&&void 0!==n[e]?t[n[e]]:void 0},this.has=function(e){return e&&void 0!==n[e]},this.toString=function(){return t.toString()},this.where=function(e,n){return(0,i.default)(e)?t.filter(e,n):t.filter((function(t){for(var n in e)if(e.hasOwnProperty(n)&&s(t,n)!==e[n])return!1;return!0}))},this.find=function(e,n){var r;r=(r=(0,i.default)(e)?e:function(t){for(var n in e)if(e.hasOwnProperty(n)&&s(t,n)!==e[n])return!1;return!0}).bind(n);for(var o=0;o<t.length;++o)if(!0===r(t[o]))return t[o];return null},this.forEach=function(e,n){return t.forEach(e,n),this},this.map=function(e){return t.map(e)},this.add=function(e){var i=s(e,r);return this.has(i)?(a.warn("Model ".concat(i," is already in the collection"),t),this):(n[i]=t.push(e)-1,e.on("updated",u,this),e.on("destroyed",c,this),this.trigger("add",e),this.trigger("add:".concat(i),e),this)},this.remove=function(e,i){var o=s(e,r);t.splice(n[o],1);for(var a=n[o];a<t.length;++a)n[s(t[a],r)]=a;return delete n[o],e.off("updated",u,this),e.off("destroyed",c,this),this.trigger("remove",e,i),this.trigger("remove:".concat(o),e,i),this},this._triggerAddEvents=function(){this.where.apply(this,arguments).forEach((function(e){this.trigger("add",e),this.trigger("add:".concat(s(e,r)),e)}),this)},this.length=function(){return t.length}};var i=r(n(17)),o=r(n(6)),a=(0,r(n(1)).default)("Collection")},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i,o,a=r(n(17)),s=r(n(16)),u=(0,r(n(1)).default)("guidStorage"),c={override:function(e){if(function(e){return!((0,a.default)(e.get)&&(0,a.default)(e.set))}(e))throw new Error("The storageInterface argument does not seem to be valid, it must implement get and set methods");i!==e&&(i=e,o&&i.set(o,(function(e){e&&u.error("Failed to send initial Guid value (".concat(o,") to the newly assigned Guid Storage. The error was: ").concat(e))})))},get:function(e){!function(e){o?e(null,o):i.get(e)}((function(t,n){t?e(t):(n?o||(o=n):(n=(0,s.default)(),i.set(n,(function(t){t?e(t):o=n}))),e(null,o))}))},getAsync:function(){return new e((function(e,t){c.get((function(n,r){return n?t(n):e(r)}))}))}};c.override({get:function(e){var t;try{t=(void 0!==typeof window?window:__webpack_require__.g).localStorage.getItem("opentok_client_id")}catch(n){t||(t=(0,s.default)())}e(null,t)},set:function(e,t){try{(void 0!==typeof window?window:__webpack_require__.g).localStorage.setItem("opentok_client_id",e)}catch(n){}t(null)}}),c.set=function(e){o=e};var l=c;t.default=l}).call(this,n(2))},function(e,t,n){var r=n(480),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){e.exports=n(482)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(19);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";(function(t){var r=n(19),i=n(488),o=n(489),a=n(226),s=n(490),u=n(493),c=n(494),l=n(229);e.exports=function(e){return new t((function(t,n){var d=e.data,f=e.headers,p=e.responseType;r.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(v+":"+m)}var g=s(e.baseURL,e.url);function y(){if(h){var r="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,o={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};i(t,n,o),h=null}}if(h.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(y)},h.onabort=function(){h&&(n(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in h&&r.forEach(f,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),p&&"json"!==p&&(h.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),d||(d=null),h.send(d)}))}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(227);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(501),i=n(503);e.exports=function(e,t,n){return r(i,e,t,n)}},function(e,t,n){var r=n(89),i=n(235),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(188),i=r&&new r;e.exports=i},function(e,t,n){var r=n(237),i=n(238),o=n(507),a=n(102),s=n(239),u=n(245),c=n(516),l=n(142),d=n(15);e.exports=function e(t,n,f,p,h,v,m,g,y,b){var w=128&n,E=1&n,k=2&n,_=24&n,S=512&n,C=k?void 0:a(t);return function x(){for(var T=arguments.length,I=Array(T),R=T;R--;)I[R]=arguments[R];if(_)var O=u(x),A=o(I,O);if(p&&(I=r(I,p,h,_)),v&&(I=i(I,v,m,_)),T-=A,_&&T<b){var N=l(I,O);return s(t,n,e,x.placeholder,f,I,N,g,y,b-T)}var P=E?f:this,L=k?P[t]:t;return T=I.length,g?I=c(I,g):S&&T>1&&I.reverse(),w&&y<T&&(I.length=y),this&&this!==d&&this instanceof x&&(L=C||a(L)),L.apply(P,I)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=n(a-s,0),d=Array(c+l),f=!i;++u<c;)d[u]=t[u];for(;++o<s;)(f||o<a)&&(d[r[o]]=e[o]);for(;l--;)d[u++]=e[o++];return d}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,d=n(a-u,0),f=Array(d+l),p=!i;++o<d;)f[o]=e[o];for(var h=o;++c<l;)f[h+c]=t[c];for(;++s<u;)(p||o<a)&&(f[h+r[s]]=e[o++]);return f}},function(e,t,n){var r=n(508),i=n(243),o=n(244);e.exports=function(e,t,n,a,s,u,c,l,d,f){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var h=[e,t,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,l,d,f],v=n.apply(void 0,h);return r(e)&&i(v,h),v.placeholder=a,o(v,e,t)}},function(e,t,n){var r=n(235),i=n(241),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(87),i=n(141);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(234),i=n(195)(r);e.exports=i},function(e,t,n){var r=n(513),i=n(514),o=n(122),a=n(515);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(520),i=n(11),o=n(71),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(98),i=n(248),o=n(100);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var f=u.get(e),p=u.get(t);if(f&&p)return f==t&&p==e;var h=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var g=e[h],y=t[h];if(a)var b=c?a(y,g,h,t,e,u):a(g,y,h,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,a,u)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(11);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(533),i=n(534);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(118),i=n(540);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(e,t,n){var r=n(543)();e.exports=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i,o=r(n(11)),a=r(n(3)),s=["description","fileName","lineNumber","message","name","number","stack"],u=function(e,t,n){switch(arguments.length){case 1:(0,o.default)(e)&&(n=e,t=void 0,e=void 0);break;case 2:(0,o.default)(t)&&(n=t,t=void 0)}if(n instanceof Error)for(var r=0,a=s.length;r<a;++r)this[s[r]]=n[s[r]];else if((0,o.default)(n))for(var u in n)n.hasOwnProperty(u)&&(this[u]=n[u]);if(!(this.fileName&&this.lineNumber&&this.columnNumber&&this.stack)){var c=i();!this.fileName&&c.fileName&&(this.fileName=c.fileName),!this.lineNumber&&c.lineNumber&&(this.lineNumber=c.lineNumber),!this.columnNumber&&c.columnNumber&&(this.columnNumber=c.columnNumber),!this.stack&&c.stack&&(this.stack=c.stack)}!this.message&&e&&(this.message=e),this.name&&"Error"!==this.name||!t||(this.name=t)};(u.prototype=Object.create(Error.prototype)).toString=function(){var e="";return this.fileName&&(e+=" ".concat(this.fileName)),this.lineNumber&&(e+=" ".concat(this.lineNumber),this.columnNumber&&(e+=":".concat(this.columnNumber))),"<".concat(this.name?"".concat(this.name," "):"").concat(this.message).concat(e,">")},u.prototype.valueOf=u.prototype.toString;var c=function(e,t){return t.slice(2).map((function(e){var t={fileName:e.getFileName(),linenumber:e.getLineNumber(),columnNumber:e.getColumnNumber()};return e.getFunctionName()&&(t.functionName=e.getFunctionName()),e.getMethodName()&&(t.methodName=e.getMethodName()),e.getThis()&&(t.self=e.getThis()),t}))};i=function(){var e,t,n,r={};switch(a.default.name){case"Firefox":case"Safari":try{(void 0!==typeof window?window:__webpack_require__.g).call.js.is.explody()}catch(s){n=s}(e=(n.stack||"").split("\n")).shift(),e.shift(),r.stack=e,(t=/@(.+?):([0-9]+)(:([0-9]+))?$/.exec(e[0]))&&(r.fileName=t[1],r.lineNumber=parseInt(t[2],10),t.length>3&&(r.columnNumber=parseInt(t[4],10)));break;case"Chrome":case"Node":case"Opera":var i=Error.prepareStackTrace;Error.prepareStackTrace=c,n=new Error,r.stack=n.stack,Error.prepareStackTrace=i;var o=r.stack[0];r.lineNumber=o.lineNumber,r.columnNumber=o.columnNumber,r.fileName=o.fileName,o.functionName&&(r.functionName=o.functionName),o.methodName&&(r.methodName=o.methodName),o.self&&(r.self=o.self);break;default:(n=new Error).stack&&(r.stack=n.stack.split("\n"))}return n.message&&(r.message=n.message),r};var l=u;t.default=l},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.Errors||o.default,n=e.otError||(0,i.default)(),r={};return(void 0!==typeof window?window:__webpack_require__.g).MediaError&&(r[(void 0!==typeof window?window:__webpack_require__.g).MediaError.MEDIA_ERR_ABORTED]={name:t.MEDIA_ERR_ABORTED,message:"The fetching process for the media resource was aborted by the user agent at the user's request."},r[(void 0!==typeof window?window:__webpack_require__.g).MediaError.MEDIA_ERR_NETWORK]={name:t.MEDIA_ERR_NETWORK,message:"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable."},r[(void 0!==typeof window?window:__webpack_require__.g).MediaError.MEDIA_ERR_DECODE]={name:t.MEDIA_ERR_DECODE,message:"An error of some description occurred while decoding the media resource, after the resource was established to be usable."},r[(void 0!==typeof window?window:__webpack_require__.g).MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]={name:t.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"The media resource indicated by the src attribute was not suitable."}),function(e){var t=r[e.code];return t?n(t.name,new Error("There was an unexpected problem with the Video Stream: ".concat(t.message))):new Error("An unknown error occurred".concat(e.message?": ".concat(e.message):"."))}};var i=r(n(13)),o=r(n(8))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(50)),o=function(){function e(e,t){var n,r=(void 0===t?{}:t).requestAnimationFrame,o=void 0===r?(n=window).requestAnimationFrame.bind(n):r;this._lastCalled=(0,i.default)(),this._audioLevel=void 0,this._running=!1,this._requestAnimationFrame=o,this._getAudioLevel=e,this._startLoop()}var t=e.prototype;return t._startLoop=function(){this._running||(this._running=!0,this._requestAnimationFrame(this._loop.bind(this)))},t._loop=function(){var e=this;this._getAudioLevel((function(t,n){var r=null;if(!t){for(var o=0;o<n.length;o+=1){var a=n[o],s=null;if(void 0!==a.audioOutputLevel){var u=parseFloat(a.audioOutputLevel)/32768;isNaN(u)||(s=u)}else void 0!==a.audioLevel&&(s=a.audioLevel);null!==s&&(null===r||s>r)&&(r=s)}e._audioLevel=r,e._running&&(0,i.default)()-e._lastCalled<1e4?e._requestAnimationFrame(e._loop.bind(e)):e._running=!1}}))},t.destroy=function(){this._running=!1},t.sample=function(e){if("function"===typeof e)throw new Error("sample no longer takes a callback");return this._startLoop(),this._lastCalled=(0,i.default)(),this._audioLevel},e}();t.default=o},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=u.length?r.parseFmtp(u[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=s.length>0&&s[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(t=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&u&&n.push({ssrc:u});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return-1===["Chrome","Safari","Edge","Opera"].indexOf(e.browserName)||"Edge"===e.browserName&&!e.isChromiumEdge||e.isScreenSharing&&!e.capableSimulcastScreenshare||e.sessionInfo.p2pEnabled||!e.constraints.video&&!e.isCustomVideoTrack||!1===e.scalableVideo?1:e.videoDimensions.width>640&&e.videoDimensions.height>480?3:2}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e);return{constraints:l(t),publishAudio:t.audio.publish,publishVideo:t.video.publish,frameRate:t.frameRate,videoDimensions:t.videoDimensions,audioDeviceId:"string"===typeof t.audio.source?t.audio.source:void 0,videoDeviceId:"string"===typeof t.video.source?t.video.source:void 0}};var i=r(n(261)),o=r(n(575)),a=r(n(152));function s(e,t,n){return!(!e.publish&&t)&&("boolean"===typeof e.source?e.source:n?{mandatory:{sourceId:e.source}}:(0,a.default)(e.source)?{}:{deviceId:{exact:e.source}})}function u(e){var t=s(e.audio,e.enableRenegotiation,e.usingOptionalMandatoryStyle);if(!1===t)return!1;var n=e.usingOptionalMandatoryStyle,r=e.enableStereo,o=e.echoCancellation,a=e.noiseSuppression,u=e.autoGainControl,c=e.disableAudioProcessing,l=function(e){"object"===typeof t&&(n?((0,i.default)(t,{optional:[]}),t.optional.push(e)):(0,i.default)(t,e))};return!r&&!c&&o&&a&&u||!0!==t||(t={}),r&&l({channelCount:2}),["echoCancellation","autoGainControl","noiseSuppression"].forEach((function(t){var n=!c&&e[t];l(_defineProperty({},t,n))})),t}function c(e){var t=s(e.video,e.enableRenegotiation,e.usingOptionalMandatoryStyle);if(!1===t)return!1;var n=e.videoDimensions,r=e.frameRate,o=e.maxResolution,a=e.facingMode,u=e.usingOptionalMandatoryStyle;if((n||r||o||a)&&!0===t&&(t={}),n){var c=n.width,l=n.height;u?((0,i.default)(t,{optional:[]}),t.optional.push({minWidth:c},{maxWidth:c},{minHeight:l},{maxHeight:l})):(0,i.default)(t,{width:{ideal:c},height:{ideal:l}})}return r&&(u?((0,i.default)(t,{optional:[]}),t.optional.push({minFrameRate:r},{maxFrameRate:r})):(0,i.default)(t,{frameRate:{ideal:r}})),o&&(u?(0,i.default)(t,{mandatory:{maxWidth:o.width,maxHeight:o.height}}):(0,i.default)(t,{width:{max:o.width},height:{max:o.height}})),a&&(u?((0,i.default)(t,{optional:[]}),t.optional.push({facingMode:a})):(0,i.default)(t,{facingMode:{ideal:a}})),t}function l(e){return{audio:u(e),video:c(e)}}},function(e,t,n){var r=n(572),i=n(193)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t,n){var r=n(63),i=n(53);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(61),i=n(265);e.exports=function(e){return i(r(e).toLowerCase())}},function(e,t,n){var r=n(580)("toUpperCase");e.exports=r},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(582),i=n(267),o=n(583);e.exports=function(e){return i(e)?o(e):r(e)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=i.default.name,a=i.default.version,s=i.default.isChromiumEdge||"Chrome"===o&&a>=72||"Firefox"===o&&a>=66||"Opera"===o&&a>=60||"Safari"===o;t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=Boolean(i.default.isChrome&&i.default.version>=74||i.default.isEdge&&i.default.version>=79);t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(e){return!!i.default.isElectron&&e instanceof MediaStreamTrack&&"Screen"===e.label}},function(e,t,n){var r=n(105),i=n(589)(r);e.exports=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=15e3},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){return void 0===t&&(t=!1),void 0===e?t:"true"===e||!0===e};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);if(t.backgroundImageURI){var n=t.backgroundImageURI.split(":")[0];t.backgroundImageURI=-1!==["http","https","data"].indexOf(n)?n:"other"}return t};var i=r(n(58))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(){return!i.default.isNode&&!i.default.isElectron&&((i.default.isChrome||i.default.isOpera||i.default.isChromiumEdge)&&i.default.version>=74||i.default.isFirefox&&i.default.version>=68||i.default.isSafari&&i.default.version>=11)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(34),i=n(78),o=n(607),a=n(60),s=n(41),u=n(610),c=n(145),l=n(186),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},function(e,t,n){var r=n(220),i=n(36),o=n(103),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},function(e,t,n){var r=n(612);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(619)),o=r(n(284)),a=(0,r(n(108)).default)();t.default=function(e,t){(0,o.default)(e,(function(e,n){var r=[];a?"function"===typeof n.values?r=(0,i.default)(n.values()):"function"!==typeof n.forEach?r=Object.keys(n).map((function(e){return n[e]})):n.forEach((function(e){r.push(e)})):n.result().forEach((function(e){var t={};e.names().forEach((function(n){t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,r.push(t)})),t(null,r)}))}},function(e,t,n){var r=n(30),i=n(12),o=n(18);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(621),i=n(31);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=(0,r(n(108)).default)(),o=function(e,t){e.getStats(null).then((function(e){return t(null,e)})).catch(t)},a=function(e,t){e.getStats((function(e){t(null,e)}),t)},s=function(e,t){(i?o:a)(e,t)};t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(47)),o=n(14),a=r(n(38)),s=r(n(633)),u=r(n(635)),c=r(n(50)),l=(0,r(n(1)).default)("QoS"),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._peerConnection=void 0,t._isPublisher=void 0,t.timeoutId=void 0,t._creationTime=(0,c.default)(),t.offerMessagesReceived=0,t.prevStats={timeStamp:(0,c.default)()},t.changeCounters={videoCodec:new u.default,audioCodec:new u.default},t}(0,i.default)(t,e);var n=t.prototype;return n.startCollecting=function(e,n){var r=this;if(e&&e.getStats){this._isPublisher=n;var i=Boolean(this._peerConnection);if(this._peerConnection=e,!i){var o=function e(n){var i=(0,c.default)(),o={timeStamp:i,duration:Math.round((i-r._creationTime)/1e3),period:Math.round((i-r.prevStats.timeStamp)/1e3)};(0,s.default)(r._peerConnection,r.prevStats,o,r._isPublisher,(function(i,o){i?l.error("Failed to Parse QOS Stats:",i):(r.handleParsedStats(o),clearTimeout(r.timeoutId),r.timeoutId=setTimeout((function(){return e(t.INTERVAL)}),n))}))};this.timeoutId=setTimeout((function(){return o(t.INTERVAL-t.INITIAL_INTERVAL)}),t.INITIAL_INTERVAL)}}},n.stopCollecting=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this._peerConnection=null},n.handleOfferMessageReceived=function(){this.offerMessagesReceived+=1},n.handleParsedStats=function(e){var t=this;Object.keys(this.changeCounters).forEach((function(n){t.changeCounters[n].onValue(e[n]),e["".concat(n,"ChangeCount")]=t.changeCounters[n].changeCount})),e.offerMessagesReceived=this.offerMessagesReceived;var n=(0,a.default)(e);if(["audioSentBytes","audioSentPackets","audioSentPacketsLost","videoSentBytes","videoSentPackets","videoSentPacketsLost","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost"].forEach((function(r){n[r]=t.prevStats&&t.prevStats[r]?e[r]-t.prevStats[r]:e[r]})),this.prevStats&&this.prevStats.videoFramesReceived){var r=e.videoFramesReceived-this.prevStats.videoFramesReceived,i=e.period;n.videoFrameRateReceived=Math.round(r/i)}this.prevStats=e,delete n.framesDecoded,delete n.framesEncoded,this.emit("stats",n)},t}(o.EventEmitter);d.INITIAL_INTERVAL=1e3,d.INTERVAL=3e4;var f=d;t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){switch(e>>24){case 0:return"TURN/TLS";case 1:return"TURN/TCP";case 2:return"TURN/UDP";default:return""}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=void 0===e?{}:e,n=t.haveGetDisplayMedia,r=void 0===n?s.default:n,u=t.global,c=void 0===u?void 0!==typeof window?window:__webpack_require__.g:u,l=t.Errors,d=void 0===l?a.default:l,f=t.otError,p=void 0===f?(0,o.default)():f,h=!r&&!!c.navigator.webkitGetUserMedia&&!c.navigator.userAgent.match(/android/i)&&"undefined"!==typeof c.chrome;return{isSupportedInThisBrowser:h,autoRegisters:!1,extensionRequired:!0,getConstraintsShowsPermissionUI:!0,sources:{screen:!0,application:!1,window:!0,browser:!0},register:function(e,t){return 2===t?this.registerVersion2(e):this.registerVersion1(e)},registerVersion1:function(e){if(!e)throw new Error("initChromeScreenSharingExtensionHelper: extensionID is required.");var t=h,n={},r=void 0,o="com.tokbox.screenSharing.".concat(e),a=function(e,t){var n={payload:t,from:"jsapi"};return n[o]=e,n},s=function(e,t){var r,o=(0,i.default)();return n[o]=function(){clearTimeout(r),r=null,e.apply(void 0,arguments)},t&&(r=setTimeout((function(){delete n[o],e(p(d.TIMEOUT,new Error("Timeout waiting for response to screensharing request.")))}),t)),o},u=function(e){if(!e)throw new Error("isAvailable: callback is required.");if(t)if(void 0!==r)setTimeout(e.bind(null,r));else{var n=s((function(t){!0!==r&&(r="extensionLoaded"===t),e(r)}),2e3),i=a("isExtensionInstalled",{requestId:n});c.postMessage(i,"*")}else setTimeout(e.bind(null,!1))};return c.addEventListener("message",(function(e){if(e.origin===c.location.origin&&null!=e.data&&"object"===typeof e.data&&"extension"===e.data.from){var t=e.data[o],i=e.data.payload;if(i&&i.requestId){var a=n[i.requestId];delete n[i.requestId],a&&a(t,i)}"extensionLoaded"===t&&(r=!0)}})),{extensionAPIVersion:1,extensionID:e,isInstalled:u,getConstraints:function(e,t,n){if(!n)throw new Error("getSourceId: callback is required");u((function(r){if(!r)return n(p(d.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));var i=s((function(e,r){"object"===typeof e&&e.name&&e.stack?n(e):"permissionDenied"===e?n(p(d.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):(t.video||(t.video={}),t.video.mandatory||(t.video.mandatory={}),t.video.mandatory.chromeMediaSource="desktop",t.video.mandatory.chromeMediaSourceId=r.sourceId,n(void 0,t))}));c.postMessage(a("getSourceId",{requestId:i,source:e}),"*")}))}}},registerVersion2:function(e){var t=h&&"undefined"!==typeof c.chrome.runtime,n=function(n){if(!n)throw new Error("isAvailable: callback is required.");t?c.chrome.runtime.sendMessage(e,{type:"isInstalled"},null,(function(e){setTimeout(n.bind(null,!!e))})):setTimeout(n.bind(null,!1))};return{extensionAPIVersion:2,extensionID:e,isInstalled:n,getConstraints:function(t,r,i){if(!i)throw new Error("getSourceId: callback is required");n((function(n){if(!n)return i(p(d.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));c.chrome.runtime.sendMessage(e,{type:"getSourceId",source:t},null,(function(e){"permissionDenied"===e.error?i(p(d.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):e.error?i(new Error("UnexpectError: ".concat(e.error))):(r.video||(r.video={}),r.video.mandatory||(r.video.mandatory={}),r.video.mandatory.chromeMediaSource="desktop",r.video.mandatory.chromeMediaSourceId=e.sourceId,i(void 0,r))}))}))}}}}};var i=r(n(16)),o=r(n(13)),a=r(n(8)),s=r(n(160))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.Archiving||s.default,r=t.AudioLevelMeter||u.default,m=t.AudioLevelTransformer||c.default,g=t.BackingBar||l.default,y=t.Chrome||d.default,b=t.MuteButton||(0,f.default)(),w=t.NamePanel||p.default,E=t.VideoDisabledIndicator||h.default,k=t.StylableComponent||v.default,_=t.logging||(0,i.default)("createChromeMixin");return function(t,i){var s,u,c,l=void 0===i?{}:i,d=l.name,f=l.publishAudio,p=l.publishVideo,h=l.audioSource,v=l.showControls,S=l.shouldAllowAudio,C=l.logAnalyticsEvent,x={},T=(0,a.default)(),I=function(e){if(!1===e)return"off";var n=t.getStyle("buttonDisplayMode");return!1===n?"on":n},R=new e((function(e,i){x.init=function(i){t.getStyle("showArchiveStatus")||C("showArchiveStatus","createChrome",{mode:"off"});var a={backingBar:new g({nameMode:d?t.getStyle("nameDisplayMode"):"off",muteMode:I(t.getStyle("buttonDisplayMode"))}),name:new w({name:d,mode:t.getStyle("nameDisplayMode")}),archive:new n({show:Boolean(t.getStyle("showArchiveStatus"))&&"off"!==t.getStyle("archiveStatusDisplayMode"),archiving:!1}),muteButton:new b({muted:!1===f,mode:I.call(null,t.getStyle("buttonDisplayMode"))})};s=new r({mode:t.getStyle("audioLevelDisplayMode")});var l=new m,v=new o.default((function(){var e=f?l.transform(t.loudness):0;s.setValue(e)}));s.watchVisibilityChanged((function(e){e?v.start():v.stop()})),s.audioOnly(!p&&f),a.audioLevel=s,a.videoDisabledIndicator=new E({mode:t.getStyle("videoDisabledDisplayMode")}),i&&i.domElement&&(u=new y({parent:(c=i).domElement}).set(a).on({muted:function(){return t.publishAudio(!1)},unmuted:function(){return t.publishAudio(!0)}}),null!==h&&!1!==h||x.removeAudioTrack(),e())},x.reset=function(){i(new Error("Chrome still being created")),u&&(u.destroy(),u=null)},x.destroy=function(){x.reset(),T.releaseAll(),R=null}}));R.catch((function(e){e&&"Chrome still being created"===e.message||_.error("createChromeMixin failed to setup UI",e)})),x.setAudioOnly=function(e){s&&s.audioOnly(e)},x.setArchivingStatus=function(e){u&&u.archive.setArchiving(e)},x.setMuted=function(e){u&&u.muteButton&&u.muteButton.muted(e)},x.removeAudioTrack=function(){u&&u.muteButton&&u.muteButton.remove()},x.addAudioTrack=function(){u&&u.muteButton&&u.muteButton.add()},x.videoDisabledIndicator={disableVideo:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null==(t=u)?void 0:(e=t.videoDisabledIndicator).disableVideo.apply(e,r)},setWarning:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null==(t=u)?void 0:(e=t.videoDisabledIndicator).setWarning.apply(e,r)}},k(t,{showArchiveStatus:!0,nameDisplayMode:"auto",buttonDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioLevelDisplayMode:S?"auto":"off",archiveStatusDisplayMode:"auto",backgroundImageURI:null},v,(function(e){C("SetStyle","Publisher",e,null,.1)}));var O=function(e,t){R.then((function(){switch(e){case"nameDisplayMode":u.name.setDisplayMode(t),u.backingBar.setNameMode(t);break;case"showArchiveStatus":C("showArchiveStatus","styleChange",{mode:t?"on":"off"}),u.archive.setShowArchiveStatus(Boolean(t));break;case"archiveStatusDisplayMode":u.archive.setShowArchiveStatus("off"!==t);break;case"buttonDisplayMode":u.muteButton.setDisplayMode(t),u.backingBar.setMuteMode(t);break;case"audioLevelDisplayMode":u.audioLevel.setDisplayMode(t);break;case"backgroundImageURI":c.setBackgroundImageURI(t)}}))};return t.on("styleValueChanged",O),T.add((function(){return t.off("styleValueChanged",O)})),x}};var i=r(n(1)),o=r(n(109)),a=r(n(157)),s=r(n(638)),u=r(n(289)),c=r(n(148)),l=r(n(290)),d=r(n(149)),f=r(n(291)),p=r(n(292)),h=r(n(293)),v=r(n(154))}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){var n,r,u,c,l=this,d=new i.default,f=!0,p=!1,h="auto",v=t.maxValue||1,m=t.minValue||0;function g(){var e=(p&&"auto"===h||"on"===h)&&f;c!==e&&(c=e,d.emit("visibilityChanged",e))}(0,o.default)(l,{audioOnly:{get:function(){return p},set:function(e){p=e,g()}}}),l.setValue=function(e){u=e,function(){var e=(u-m)/(v-m);r.style.transform="scale(".concat(Math.sqrt(e),")")}()},l.watchVisibilityChanged=function(t){return d.on("visibilityChanged",t),e.resolve().then((function(){t(c)})),function(){d.removeListener("visibilityChanged",t)}};var y={mode:t?t.mode:"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-level-meter"},onCreate:function(){r=s.default.createElement("div",{className:"OT_audio-level-meter__value"},""),n=s.default.createElement("div",{className:"OT_audio-level-meter__audio-only-img"},"");var e=l.domElement;e.appendChild(n),e.appendChild(r),l.watchVisibilityChanged((function(e){e?s.default.removeClass(l.domElement,"OT_hide-forced"):s.default.addClass(l.domElement,"OT_hide-forced")}))},onDestroy:function(){d.removeAllListeners("visibilityChanged")}};(0,a.default)(this,y),l.setDisplayMode=function(e){h=e,g()},l.getDisplayMode=function(){return h},l.showAfterLoading=function(){f=!0,g()},l.hideWhileLoading=function(){f=!1,g()},g()};var i=r(n(14)),o=r(n(95)),a=r(n(37)),s=r(n(7))}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=e.nameMode,n=e.muteMode;function r(){return"on"===t||"on"===n?"on":"mini"===t||"mini"===n?"mini":"mini-auto"===t||"mini-auto"===n?"mini-auto":"auto"===t||"auto"===n?"auto":"off"}(0,i.default)(this,{mode:r(),nodeName:"div",htmlContent:"",htmlAttributes:{className:"OT_bar OT_edge-bar-item"}}),this.setNameMode=function(e){t=e,this.setDisplayMode(r())},this.setMuteMode=function(e){n=e,this.setDisplayMode(r())}};var i=r(n(37))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.OTHelpers||i.default,n=e.Widget||o.default;return function(e){var r=this,i=e.muted||!1,o=function(){i?t.addClass(r.domElement,"OT_active"):t.removeClass(r.domElement,"OT_active ")},s=function(){return i=!i,o(),i?r.parent.trigger("muted",r):r.parent.trigger("unmuted",r),!1};(0,a.default)(this,{muted:{get:function(){return i},set:function(e){i=e,o()}}});var u,c=i?"OT_edge-bar-item OT_mute OT_active":"OT_edge-bar-item OT_mute";n(this,{mode:e.mode,nodeName:"button",htmlContent:"Mute",htmlAttributes:{className:c,type:"button"},onCreate:function(e){t.on(e,"click",s)},onDestroy:function(e){t.off(e,"click",s)}}),this.remove=function(){r.domElement&&r.domElement.parentNode&&(u=r.domElement.parentNode,r.domElement.parentNode.removeChild(r.domElement))},this.add=function(){u&&r.domElement&&!r.domElement.parentNode&&u.appendChild(r.domElement)}}};var i=r(n(7)),o=r(n(37)),a=r(n(95))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=e.name;t&&""!==t.trim().length||(t=null,e.mode="off"),this.setName=function(e){t||this.setDisplayMode("auto"),t=o(e),this.domElement.innerHTML=t}.bind(this),t=o(t),(0,i.default)(this,{mode:e.mode,nodeName:"h1",htmlContent:t,htmlAttributes:{className:"OT_name OT_edge-bar-item"}})};var i=r(n(37)),o=function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=!1,n=!1,r=function(e){var r=["auto","on"].indexOf(this.getDisplayMode())>-1;o.default.removeClass(e,"OT_video-disabled OT_video-disabled-warning OT_active"),r&&(t?o.default.addClass(e,"OT_video-disabled"):n&&o.default.addClass(e,"OT_video-disabled-warning"),o.default.addClass(e,"OT_active"))}.bind(this);this.disableVideo=function(e){t=e,!0===e&&(n=!1),r(this.domElement)},this.setWarning=function(e){n=e,r(this.domElement)},(0,i.default)(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-disabled-indicator"}});var a=this.setDisplayMode.bind(this);this.setDisplayMode=function(e){a(e),r(this.domElement)}};var i=r(n(37)),o=r(n(7))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(160)),a={isSupportedInThisBrowser:!i.default.isLegacyEdge&&!i.default.isElectron&&o.default&&!i.default.isAndroid,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:"Safari"!==i.default.name,browser:"Safari"!==i.default.name},register:function(){return{isInstalled:function(e){e(void 0)},getConstraints:function(e,t,n){n(void 0,{video:t.video,audio:t.audio})}}}};t.default=a},function(e,t,n){"use strict";n.r(t),function(e){var n=function(t,n,r,i){return new(r||(r=e))((function(e,o){function a(e){try{u(i.next(e))}catch(t){o(t)}}function s(e){try{u(i.throw(e))}catch(t){o(t)}}function u(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(a,s)}u((i=i.apply(t,n||[])).next())}))},r=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};t.default=function(t,i,o){return void 0===o&&(o=10),function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n(this,void 0,void 0,(function(){var n,s,u;return r(this,(function(c){switch(c.label){case 0:n=0,s=function(){var s,u,c;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,6]),s={},[4,t.apply(void 0,a)];case 1:return[2,(s.value=r.sent(),s)];case 2:if(u=r.sent(),!1===(c=i(u,n))||null==c||n>=o)throw u;return"number"!==typeof c?[3,4]:[4,new e((function(e){return("undefined"!==typeof window||void 0!==typeof window?window:__webpack_require__.g).setTimeout(e,c)}))];case 3:return r.sent(),[3,5];case 4:if(!0!==c)throw new Error("onFailure must return boolean, or delay in ms");r.label=5;case 5:return[3,6];case 6:return[2]}}))},c.label=1;case 1:return(n+=1)?[5,s()]:[3,3];case 2:return"object"===typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))}}}.call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.setVideoContentHint=t.isValidVideoContentHint=t.getVideoContentHint=void 0;var i=(0,r(n(1)).default)("videoContentHint"),o=["","text","motion","detail"],a=function(e){return o.includes(e)};t.isValidVideoContentHint=a;var s=function(e){var t;return null==e||null==(t=e.getVideoTracks())?void 0:t[0]};t.setVideoContentHint=function(e,t){if(a(t)){var n=s(e);n?void 0!==n.contentHint?n.contentHint=t:i.warn("contentHint not supported by this browser"):i.warn("Tried to set contentHint but no video track is present")}else i.warn('Invalid content hint. Valid content hints are "text", "detail", "motion", or ""')},t.getVideoContentHint=function(e){var t=s(e);return(null==t?void 0:t.contentHint)||""}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e&&"object"===typeof e&&"string"===typeof e.kind&&"function"===typeof e.stop&&"boolean"===typeof e.enabled};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(){return function(e,t){var n;(0,i.default)(this,{muted:{get:function(){return n},set:function(t){if(n!==t){n=t;for(var r=e.getAudioTracks(),i=0,o=r.length;i<o;++i)r[i].enabled=!n}}}}),void 0!==t?this.muted(!0===t):e.getAudioTracks().length?this.muted(!e.getAudioTracks()[0].enabled):this.muted(!1)}};var i=r(n(95))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.getStatsHelpers||g.default,r=t.OTHelpers||y.default,f=t.PeerConnection||(0,b.default)(),_=t.setCertificates||(0,w.default)(),I=t.watchAudioAcquisition||E.default,R=t.createAudioFallbackStateMachine||c.default,O=t.createCongestionLevelEstimator||l.default,A=t.createNetworkQualityMonitor||d.default,N=t.getDelayForAmrProbe||S.default;return function(t){var c,l,d,g,y,b=this,w=this,E=t.iceConfig,S=t.webRTCStream,P=t.channels,L=t.sendMessage,M=t.capableSimulcastStreams,D=t.overrideSimulcastEnabled,j=t.logAnalyticsEvent,F=t.offerOverrides,V=t.answerOverrides,Z=t.sourceStreamId,G=t.isP2pEnabled,W=t.sessionId,U=t.keyStore,X=t.sFrameClientStore,B=t.isE2ee,H=t.audioFallbackEnabled,Y=!1,z=function(){this.destroy(),Y&&(Y=!1,this.trigger("iceRestartFailure")),this.trigger("disconnected")},K=function(e){var t=e.reason,n=e.prefix;this.trigger("error",{reason:t,prefix:n})},J=function(e){var t=this;Y&&c.iceConnectionStateIsConnected()&&(Y=!1,this.trigger("iceRestartSuccess")),"connected"===e&&("Chrome"===r.env.name&&(l&&l(),l=I(c.getStats.bind(c),(function(){return t.trigger("audioAcquisitionProblem")}))),this.trigger("connected")),this.trigger("iceConnectionStateChange",e)};this._setVideoTrackEncodingActiveState=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.getSenders().find((function(e){return"video"===e.track.kind})),(r=n.getParameters()).encodings.forEach((function(e){e.active=t})),e.prev=3,e.next=6,n.setParameters(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),T.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),(0,p.default)(this),this.setCongestionLevel=function(e){var t;null==(t=d)||t.setCongestionLevel(e)},this.getAudioFallbackState=function(){var e;return null==(e=d)?void 0:e.getState()},this.startEncryption=function(e){c&&c.startEncryption(e)},this.changeMediaDirectionToInactive=function(){c&&c.changeMediaDirectionToInactive()},this.changeMediaDirectionToRecvOnly=function(){c&&c.changeMediaDirectionToRecvOnly()},this.getDataChannel=function(e,t,n){c.getDataChannel(e,t,n)},this.getSourceStreamId=function(){return c.getSourceStreamId()},this.destroy=function(){var e,t;null==(e=g)||e.stop(),null==(t=y)||t.stop(),l&&(l(),l=null),c&&(c.disconnect(),c=null),this.off()},this.processMessage=function(e,t){c.processMessage(e,t)},this.addTrack=function(e,t,n){return c.addTrack(e,t,n)},this.removeTrack=function(e){return c.removeTrack(e)},this.getLocalStreams=function(){return c.getLocalStreams()},this.init=function(e,t){var n=this;(0,h.default)(Z)&&(0,v.default)(E);var r={iceConfig:E.needRumorIceServersFallback?(0,a.default)(E,{servers:[].concat(_toConsumableArray(e),_toConsumableArray(E.servers))}):E,channels:P,capableSimulcastStreams:M,overrideSimulcastEnabled:D};_(r,(function(e,r){if(e)t(e);else{var i=(0,a.default)({logAnalyticsEvent:j,isPublisher:!0,offerOverrides:F,answerOverrides:V,sourceStreamId:Z,p2p:G,sessionId:W,keyStore:U,sFrameClientStore:X,isE2ee:B},r);(c=new f((0,a.default)({sendMessage:L},i))).on({close:z,error:K,qos:function(e){return n.trigger("qos",e)},iceConnectionStateChange:J},n),c.addLocalStream(S).then((function(){t(void 0)})).catch(t)}}))},this.setIceConfig=function(e){c.setIceConfig(e)},this.generateOffer=function(){c.generateOfferAndSend()},this.getSenders=function(){return c.getSenders()},this.iceRestart=function(){c&&(Y=!0,c.iceRestart())},this.hasRelayCandidates=function(){return c.hasRelayCandidates()},this.iceConnectionStateIsConnected=function(){return c.iceConnectionStateIsConnected()},this.findAndReplaceTrack=function(e,t){return c.findAndReplaceTrack(e,t)},this._testOnlyGetFramesEncoded=function(){return new e((function(e,t){c.getStats((function(r,i){if(r)t(r);else{var o=(0,u.default)(i,(function(e){return n.isVideoStat(e,i)&&n.isOutboundStat(e)}));o?e((0,s.default)(o,["timestamp","framesEncoded"])):t(new Error("Could not find framesEncoded in getStats report"))}}))}))},this.getStats=function(e){return c.getStats(e)},this.getRtcStatsReport=function(e){return c.getRtcStatsReport(e)},this.setVideoActiveState=function(e){b._setVideoTrackEncodingActiveState(e),H&&(e?b.enableCongestionLevelEstimation():b.disableCongestionLevelEstimation())},this.setP2PMaxBitrate=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"===w.getSourceStreamId()){e.next=2;break}return e.abrupt("return");case 2:if(n=w.getSenders().find((function(e){return"video"===e.track.kind}))){e.next=5;break}return e.abrupt("return");case 5:return r=(null==n||null==(t=n.track)||null==t.getSettings?void 0:t.getSettings())||{},o=r.width,a=r.height,s=(0,m.default)(o,a),(u=n.getParameters()).encodings.forEach((function(e){e.maxBitrate=s})),e.prev=9,e.next=12,n.setParameters(u);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:case"end":return e.stop()}}),e,null,[[9,14]])})));var Q=function(e){var t,n,r=(void 0===e?{}:e).isAmrTransition,i=void 0!==r&&r;w._setVideoTrackEncodingActiveState(!1),null==(t=g)||t.stop(),null==(n=y)||n.start(i?{getDelayForProbeNumber:N}:{})};this.disableCongestionLevelEstimation=function(){var e,t,n;H&&(null==(e=g)||e.stop(),null==(t=y)||t.stop(),null==(n=d)||n.reset())},this.enableCongestionLevelEstimation=function(e){if(H){var t,n;if(null==(t=y)||t.stop(),e){if(d.setInternalState(e),e.videoState===x)return void Q({isAmrTransition:!0})}else d.setCongestionLevel(k.CongestionLevels.LOW);null==(n=g)||n.start()}},H&&(y=A({getStats:b.getStats,setVideoActive:b._setVideoTrackEncodingActiveState}),g=O({getStats:b.getStats}),b.on("connected",(function(){g.start()})),(d=R()).on("stateChange",(function(e){var t=e.state;switch(t){case C:b._setVideoTrackEncodingActiveState(!0);break;case x:Q()}b.trigger("audioFallbackStateChange",{state:t})})),g.on("congestionLevel",(function(e){var t;null==(t=d)||t.setCongestionLevel(e)})),y.on("networkRecovered",(function(){var e,t;null==(e=d)||e.setCongestionLevel(k.CongestionLevels.LOW),null==(t=g)||t.start()})))}};var i=r(n(4)),o=r(n(5)),a=r(n(9)),s=r(n(49)),u=r(n(62)),c=r(n(648)),l=r(n(649)),d=r(n(655)),f=r(n(1)),p=r(n(6)),h=r(n(304)),v=r(n(305)),m=r(n(660)),g=r(n(76)),y=r(n(7)),b=r(n(73)),w=r(n(164)),E=r(n(662)),k=n(29),_=r(n(75)),S=r(n(663)),C=_.default.ACTIVE_VIDEO,x=_.default.SUSPENDED_VIDEO,T=(0,f.default)("PublisherPeerConnection")}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(14)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(653));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=function(e,t){void 0===t&&(t={});var n,r,a=t.StatsUtils||o,s=new i.default,u=function(){e((function(e,t){e||function(e){var t=a.parseStats(e);if(n){var r=a.getAudioPacketLoss(t,n),i=a.getVideoPacketLoss(t,n),o=t.bandwidth,u=t.videoResolution;n=t,s.emit("statsAvailable",{audioPacketLoss:r,videoPacketLoss:i,bandwidth:o,videoResolution:u})}else n=t}(t)}))};return Object.assign(s,{start:function(){r||(r=setTimeout((function(){u(),r=setInterval((function(){u()}),500)}),1e3))},stop:function(){clearInterval(r),r=void 0,n=void 0}})};t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){void 0===e&&(e=0);var t,n=e,r=1e4;return{setPeriod:function(e){r=e},getMovingAverageValue:function(){return n},addValue:function(e){var i=function(){var e=Date.now();if(!t)return t=e,1;var n=e-t,i=1-Math.exp(-n/r);return t=e,i}();n=e*i+n*(1-i)},reset:function(){n=e,t=void 0}}};t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(303),i=30*r.ONE_SECOND_IN_MS,o=2*r.ONE_MINUTE_IN_MS,a=[i,r.ONE_MINUTE_IN_MS,o],s=function(e){var t;return null!=(t=a[e])?t:a[a.length-1]};t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.ONE_SECOND_IN_MS=t.ONE_MINUTE_IN_MS=void 0,t.ONE_SECOND_IN_MS=1e3,t.ONE_MINUTE_IN_MS=6e4},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(659));t.default=function(e){return"P2P"===e&&(0,i.default)()}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){e.transportPolicy="relay",e.customServers=e.customServers||[]}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.OTHelpers||l.default,n=e.PeerConnection||(0,d.default)(),r=e.SinglePeerConnectionAdapter||(0,f.default)(),m=e.setCertificates||(0,p.default)(),g=e.Errors||h.default,y=e.ExceptionCodes||a.default,b=e.OTErrorClass||s.default,w=e.watchSubscriberAudio||v.default;return function(e){var a,s=this,l=e.clientCandidates,d=e.iceConfig,f=e.send,p=e.logAnalyticsEvent,h=e.p2p,v=e.codecFlags,E=e.sourceStreamId,k=e.remoteConnectionId,_=e._singlePeerConnectionController,S=e.keyStore,C=e.sFrameClientStore,x=e.isE2ee,T=this,I=!1,R=!1,O=null,A=!!_,N=!1,P=[],L=[],M=function(){this.destroy(),R&&this.trigger("iceRestartFailure",this),this.trigger("disconnected",this)},D=function(e){N||(e.onremovetrack=function(t){var n=t.track;!function(e){var t="video"===e.kind?P:L,n=t.indexOf(e);n>-1&&t.splice(n,1)}(n),A&&a&&a.removeTrack(n),setTimeout((function(){var t;P.length||L.length||(t=e,s.trigger("remoteStreamRemoved",t,s))}),100)},N=!0)},j=function(e){var t=e.stream;!function(e){var t="video"===e.kind?P:L;t.includes(e)||t.push(e)}(e.track),D(t),s.trigger("remoteTrackAdded",e,s)},F=function(e){s.trigger("remoteVideoSupported",e)},V=function(){s.trigger("decryptFailed")},Z=function(){s.trigger("decryptRestored")},G=function(e){var t=e.reason,n=e.prefix;this.trigger("error",null,t,this,n)},W=function(e){!R||"connected"!==e&&"completed"!==e||(R=!1,this.trigger("iceRestartSuccess")),"connected"===e&&this.trigger("connected"),this.trigger("iceConnectionStateChange",e)},U=function(e){this.trigger("signalingStateChange",e)},X=function(e){this.trigger("signalingStateStable",e)},B=function(e,t){"answer"!==e&&"pranswer"!==e||s.trigger("connected"),f(e,t)};(0,o.default)(this),this._hasAudioTracks=function(){return L.length>0},this._hasVideoTracks=function(){return P.length>0},this._getVideoTracks=function(){return P},this._getAudioTracks=function(){return L},this._getTracks=function(){return[].concat(L,P)},this.close=function(){I||(I=!0,a&&(a.disconnect(),a=null),this.off())},this.destroy=function(){this.stopAudioStatsWatcher(),I||this.close()},this.getDataChannel=function(e,t,n){a.getDataChannel(e,t,n)},this.getSourceStreamId=function(){return a.getSourceStreamId()},this.processMessage=function(e,t){a.processMessage(e,t)},this.remoteDescription=function(){return a.remoteDescription()},this.getStats=function(e){if(a)a.getStats(e);else{var n=y.PEER_CONNECTION_NOT_CONNECTED;e(new t.Error(b.getTitleByCode(n),g.PEER_CONNECTION_NOT_CONNECTED,{code:n}))}},this.getSynchronizationSources=function(e){if(a)a.getSynchronizationSources(e);else{var n=y.PEER_CONNECTION_NOT_CONNECTED;e(new t.Error(b.getTitleByCode(n),g.PEER_CONNECTION_NOT_CONNECTED,{code:n}))}},this.getRtcStatsReport=function(e){if(a)a.getRtcStatsReport(e);else{var n=y.PEER_CONNECTION_NOT_CONNECTED;e(new t.Error(b.getTitleByCode(n),g.PEER_CONNECTION_NOT_CONNECTED,{code:n}))}},this.setIceConfig=function(e){a.setIceConfig(e)},this.generateOffer=function(){a.generateOfferAndSend()},this.startAudioStatsWatcher=function(e){var t=this;O||(O=w(a.getStats.bind(a),(function(e){t.stopAudioStatsWatcher(),t.trigger("audioLevelStuckWarning",e)}),e))},this.stopAudioStatsWatcher=function(){O&&O.stop(),O=null};var H=function(e){return function(t){var n="video"===e?P:L;a&&a.remoteTracks().forEach((function(r){r.kind===e&&r.enabled!==t&&n.includes(r)&&(r.enabled=t)}))}};this.subscribeToAudio=H("audio"),this.subscribeToVideo=H("video"),this.hasRelayCandidates=function(){return a.hasRelayCandidates()},this.iceRestart=function(){return R=!0,a.iceRestart()},this.iceConnectionStateIsConnected=function(){return a.iceConnectionStateIsConnected()},this.init=function(e){var t=this;(0,u.default)(E)&&(0,c.default)(d),m({iceConfig:d},(function(o,s){if(o)e(o);else{var u=(0,i.default)({logAnalyticsEvent:p,clientCandidates:l,codecFlags:v,sourceStreamId:E,keyStore:S,sFrameClientStore:C,isE2ee:x},s),c=(0,i.default)({sendMessage:B,p2p:h},u,{remoteConnectionId:k});(a=A?new r(c,_):new n(c)).on({iceConnected:function(){return T.emit("iceConnected")},close:M,trackAdded:j,signalingStateChange:U,signalingStateStable:X,error:G,qos:function(e){return t.trigger("qos",e)},iceConnectionStateChange:W,remoteVideoSupported:F,decryptFailed:V,decryptRestored:Z},T),!A&&a.remoteTracks().length>0?a.remoteStreams().forEach((function(e){e.getTracks().forEach((function(t){return j({stream:e,track:t})}))})):e(void 0,T)}}))}}};var i=r(n(9)),o=r(n(6)),a=r(n(10)),s=r(n(21)),u=r(n(304)),c=r(n(305)),l=r(n(7)),d=r(n(73)),f=r(n(664)),p=r(n(164)),h=r(n(8)),v=r(n(665))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){e.forEach((function(n,r){(n.id||n)===(t.id||t)&&e.splice(r,1)}))};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=(e.generateSimpleStateMachine||(0,i.default)())("NotPublishing",["NotPublishing","GetUserMedia","BindingMedia","MediaBound","PublishingToSession","Publishing","Failed","Destroyed"],{NotPublishing:["NotPublishing","GetUserMedia","Destroyed"],GetUserMedia:["BindingMedia","Failed","NotPublishing","Destroyed"],BindingMedia:["MediaBound","Failed","NotPublishing","Destroyed"],MediaBound:["NotPublishing","PublishingToSession","Failed","Destroyed"],PublishingToSession:["NotPublishing","Publishing","Failed","Destroyed","MediaBound"],Publishing:["NotPublishing","MediaBound","Failed","Destroyed"],Failed:["Destroyed"],Destroyed:[]});return t.prototype.isDestroyed=function(){return"Destroyed"===this.current},t.prototype.isAttemptingToPublish=function(){return-1!==["GetUserMedia","BindingMedia","MediaBound","PublishingToSession"].indexOf(this.current)},t.prototype.isPublishing=function(){return"Publishing"===this.current},t};var i=r(n(161))},function(e,t,n){"use strict";function r(e){this.message=e||"Operation has been canceled.",this.name="CancellationError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.prototype=Object.create(Error.prototype),r.prototype.constructor=r},function(e,t,n){var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return r.resolve(e).then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){return r.reject(e)}))}))}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){var n=void 0===t?{}:t,r=n.AudioLevelMeter,m=void 0===r?D.default:r,C=n.AudioLevelTransformer,I=void 0===C?j.default:C,L=n.BackingBar,Z=void 0===L?F.default:L,B=n.Chrome,H=void 0===B?V.default:B,J=n.env,Q=void 0===J?y.default:J,q=n.Errors,fe=void 0===q?ce:q,pe=n.Events,Ee=void 0===pe?ue:pe,ke=n.ExceptionCodes,_e=void 0===ke?_.default:ke,Se=n.audioLevelSampler,Ce=void 0===Se?X.default:Se,xe=n.getStatsHelpers,Te=void 0===xe?G.default:xe,Ie=n.hasAudioOutputLevelStatCapability,Re=void 0===Ie?W.default:Ie,Oe=n.hasRemoteStreamsWithWebAudio,Ae=void 0===Oe?U.default:Oe,Ne=n.interpretPeerConnectionError,Pe=void 0===Ne?le:Ne,Le=n.logging,Me=void 0===Le?ve:Le,De=n.MuteButton,je=void 0===De?de:De,Fe=n.NamePanel,Ve=void 0===Fe?Y.default:Fe,Ze=n.otError,Ge=void 0===Ze?me:Ze,We=n.OTErrorClass,Ue=void 0===We?S.default:We,Xe=n.OTHelpers,Be=void 0===Xe?z.default:Xe,He=n.StylableComponent,Ye=void 0===He?K.default:He,ze=n.SubscriberPeerConnection,Ke=void 0===ze?he:ze,Je=n.SubscribingState,Qe=void 0===Je?$.default:Je,qe=n.VideoDisabledIndicator,$e=void 0===qe?ee.default:qe,et=n.AudioBlockedIndicator,tt=void 0===et?te.default:et,nt=n.VideoUnsupportedIndicator,rt=void 0===nt?ne.default:nt,it=n.watchFrameRate,ot=void 0===it?re.default:it,at=n.createSendMethod,st=void 0===at?ie.default:at,ut=n.parseIceServers,ct=void 0===ut?oe.parseIceServers:ut,lt=n.document,dt=void 0===lt?(void 0!==typeof window?window:__webpack_require__.g).document:lt,ft=n.WidgetView,pt=void 0===ft?se:ft,ht=function t(n,r,y){var _,S=this,C=this;if(void 0===r&&(r={}),void 0===y&&(y=function(){}),void 0===r.analytics)throw new Error("Subscriber requires an instance of analytics");var L,D,j,F,V,G,W,U,X,B,Y,z,K,J,q,$,ee,te,ne,re,ie=r.analytics,oe=(0,s.default)(),se=t.hasAudioOutputLevelStatCapability()||Ae(),ue=this,ce={},le={},de={},pe={},he={},ve=new b.default,me=!1,ke=n||oe,Se=r.session,xe=r.stream,Ie=r._singlePeerConnectionController,Re=void 0!==Ie,Oe=!1,Ne={},Le=null,De=!1,Fe=!0,Ze=[],We=(0,l.default)({},r,{showControls:!0,testNetwork:!1,fitMode:xe.defaultFitMode||"cover",insertDefaultUI:!0,initials:xe.initials}),Xe=Se.sessionInfo.isAdaptiveEnabled,He={P2P:x.default.SUBSCRIBER_DISCONNECTED,MANTIS:x.default.SUBSCRIBER_DISCONNECTED},ze="Chrome"===Q.name&&Q.version>=58||Q.isChromiumEdge||Q.isOpera,Ke=Se._.getSocket(),Je=function(){return(0,h.default)(le)},qe=function(e){return le[e]},et=function(){return le[re]},nt=function(){var e=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le[t];case 2:null==(n=e.sent)||n.close(),delete le[t];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(e){delete de[e]},at=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n={error:St,audioVolume:$},r=Xe&&"P2P"===re,e.prev=4,e.next=7,L.bindVideo(t,n,r);case 7:e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(4),!(e.t0 instanceof a.CancellationError||G.isDestroyed())){e.next=13;break}return e.abrupt("return");case 13:if(!e.t0.message.includes("bufferFailed")){e.next=16;break}return C._.startRelayedToRoutedTransition(),e.abrupt("return");case 16:throw St(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,"function"===typeof t?n=t:r="rtcStatsReport"===t,r?Ft():jt(),!r||T.default){e.next=7;break}return o=_e.GET_RTC_STATS_REPORT_NOT_SUPPORTED,n(Ge(O.default.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(Ue.getTitleByCode(o)),o)),e.abrupt("return");case 7:if(et()){e.next=11;break}return o=_e.PEER_CONNECTION_NOT_CONNECTED,n(Ge(fe.PEER_CONNECTION_NOT_CONNECTED,new Error(Ue.getTitleByCode(o)),o)),e.abrupt("return");case 11:return e.next=13,et();case 13:a=e.sent,(r?a.getRtcStatsReport:a.getStats)((function(e,t){e?(e.code===_e.PEER_CONNECTION_NOT_CONNECTED&&(e=Ge(fe.PEER_CONNECTION_NOT_CONNECTED,e,_e.PEER_CONNECTION_NOT_CONNECTED)),n(e)):n(null,t)}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(e){return!(!X||!q)&&("video"===e?X.getVideoTracks().length>0&&q.getVideoTracks().length>0:X.getAudioTracks().length>0&&q.getAudioTracks().length>0)},ft=function(e,t,n,r,i){var o=(0,c.default)({action:e,variation:t,payload:n,streamId:xe?xe.id:null,sessionId:Se?Se.sessionId:null,connectionId:Se&&Se.isConnected()?Se.connection.connectionId:null,partnerId:Se&&Se.sessionInfo?Se.sessionInfo.partnerId:null,subscriberId:oe,widgetType:"Subscriber"},r);("Failure"===t||"iceconnectionstatechange"===t&&"closed"===n)&&(o=(0,c.default)(o,Ne));var a=[o];i&&a.push(i),ie.logEvent.apply(ie,a)},pt=function(e,t,n){"Attempt"===t?(pe[e]=(new Date).getTime(),ft(e,t,n)):"Failure"!==t&&"Success"!==t||ft(e,t,n,{attemptDuration:(new Date).getTime()-pe[e]})},ht=function(e,t){void 0===t&&(t={}),pt("RoutedToRelayedTransition",e,t)},vt=function(e,t){void 0===t&&(t={}),pt("RelayedToRoutedTransition",e,t)},mt=(0,k.default)({onInvalidTransition:function(e,t){var n="Invalid state transition: Event '".concat(e,"' not possible in state '").concat(t,"'");Me.error(n),ft("Subscriber:InvalidStateTransition","Event",{details:n})}}),gt="Unable to subscribe to stream in a reasonable amount of time";if((0,R.default)({connectivityState:mt,onWarning:function(){yt("Warning",{})},onTimeout:function(){if(L&&L.addError(gt),G.isAttemptingToSubscribe()){G.set("Failed"),S._disconnect({noStateTransition:!0});var e=Ge(O.default.TIMEOUT,new Error(gt),_e.UNABLE_TO_SUBSCRIBE);mt.fail({options:{failureReason:"Subscribe",failureMessage:gt,failureCode:_e.UNABLE_TO_SUBSCRIBE},error:e})}},warningMs:15e3,timeoutMs:3e4}),ce.promise=new e((function(e,t){ce.resolve=e,ce.reject=t})),We.testNetwork&&Se.sessionInfo.p2pEnabled&&Me.warn("You cannot test your network with a relayed session. Use a routed session."),this.id=ke,this.widgetId=oe,this.session=Se,this.stream=We.stream,xe=We.stream,this.streamId=xe.id,!Se)return Ue.handleJsException({errorMsg:"OT.Subscriber must be passed a session option",code:2e3,target:this,analytics:ie}),null;(0,v.default)(this),ue.once("subscribeComplete",(function(){try{y.apply(void 0,arguments)}catch(e){Me.error("Completion handler threw an exception",e)}})),Se.on("captionReceived",(function(e){e.streamId===ue.streamId&&(S.dispatchEvent(e),S.trigger(x.default.SUBSCRIBER_CAPTION_RECEIVED,e))})),mt.observe({onEnterConnecting:function(){yt("Attempt",null,{})},onEnterConnected:function(){yt("Success",null,{})},onEnterDisconnected:function(e,t){var n=void 0===t?{}:t,r=n.options,i=void 0===r?{}:r,o=n.payload,a=void 0===o?null:o;yt(function(e){var t=e.transition,n=e.from;return"fail"===t?"connected"===n?"Disconnect":"Failure":"disconnect"===t&&"connected"===n?"Disconnect":"Cancel"}(e),a,i)}}),mt.observe({onEnterConnected:function(){S.trigger("subscribeComplete",void 0,S)},onEnterDisconnected:function(e,t){var n=e.from,r=(void 0===t?{}:t).error;"connecting"===n&&C.trigger("subscribeComplete",r||new Error("An unknown error occurred"),C)}}),(0,E.default)({connectivityState:mt,logAttempt:function(){ft("Subscribe","Attempting",null,{connectionId:Se&&Se.isConnected()?Se.connection.connectionId:null})}});var yt=function(e,t,n){void 0===t&&(t={}),"Failure"===e||"Success"===e||"Cancel"===e?ft("Subscribe",e,t,Object.assign({},n,{attemptDuration:(new Date).getTime()-z})):"Attempt"===e?(z=(new Date).getTime(),ft("Subscribe",e,Object.assign({},t,{testNetwork:We.testNetwork}),n)):ft("Subscribe",e,t,n)},bt=function(e,t){ft("ICERestart",e,t)},wt=function(e){var t,n,r=e.parsedStats,i=e.remoteConnectionId,o=e.peerId,a=e.sourceStreamId,s={widgetType:"Subscriber",width:L.width,height:L.height,audioTrack:lt("audio"),hasAudio:xe&&xe.hasAudio,subscribeToAudio:J,audioVolume:S.getAudioVolume(),videoTrack:lt("video"),connectionId:Se?Se.connection.connectionId:null,hasVideo:xe&&xe.hasVideo,subscribeToVideo:We.subscribeToVideo,congestionLevel:Le,streamId:xe.id,subscriberId:oe,duration:Math.round(((0,A.default)()-V)/1e3),remoteConnectionId:i,peerId:o,sourceStreamId:(0,ae.default)(a),preferredResolutionHeight:null==(t=We.preferredResolution)?void 0:t.height,preferredResolutionWidth:null==(n=We.preferredResolution)?void 0:n.width,preferredFrameRate:We.preferredFrameRate,audioFallback:!B&&"auto"===Y,initials:xe.initials},u=(0,c.default)(s,r);ie.logQOS(u),S.trigger("qos",Object.assign({},ie.commonQoSFields(),u))},Et=function(e){var t=!1;if(("audioLevelStuckAt0"!==e||xe&&xe.hasAudio&&J&&S.getAudioVolume()>0&&!S.isAudioBlocked()&&(!xe||!xe.hasVideo))&&(ft("subscriber:onAudioWarning","Event",{reason:e}),L)){if(L.rebindSrcObject(),ft("subscriber:rebindSrcObject","Called"),"audioLevelStuck"===e)return;t=!0}kt(t)},kt=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),!ze){e.next=6;break}return e.next=4,et();case 4:e.sent.startAudioStatsWatcher(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(){Me.debug("OT.Subscriber has been disconnected from the Publisher's PeerConnection"),mt.fail({options:{failureReason:"PeerConnectionError",failureCode:_e.UNABLE_TO_PUBLISH,failureMessage:"PeerConnection disconnected"},error:Ge(fe.DISCONNECTED,new Error("ClientDisconnected"))}),S._disconnect({noStateTransition:!0}),(G.isAttemptingToSubscribe()||G.isSubscribing())&&G.set("Failed")},St=function(e){var t=Ge(fe.MEDIA_ERR_DECODE,e,e.code||_e.P2P_CONNECTION_FAILED);t.message="OT.Subscriber while playing stream: ".concat(t.message),Me.error("OT.Subscriber.onVideoError"),mt.fail({options:{failureReason:"VideoElement",failureMessage:t.message,failureCode:t.code||_e.P2P_CONNECTION_FAILED},error:t});var n=G.isAttemptingToSubscribe();G.set("Failed"),n||ue.trigger("error",t.message),Ue.handleJsException({error:t,code:_e.UNABLE_TO_SUBSCRIBE,target:ue,analytics:ie})},Ct=function(e,t,n,r){var i;if("SetRemoteDescription"===r&&!Fe&&t.match(/Unsupported video without audio for fallback/))return L&&L.addError("The stream is unable to be played.","Your browser does not support the video format."),(i="Safari"===Be.env.name?new Error("VP8 is not supported in this version of Safari. You might want to consider switching to an H264 project. See https://tokbox.com/safari for more information."):new Error("Video format not supported in this browser.")).code=_e.UNSUPPORTED_VIDEO_CODEC,void St(i);if("ICEWorkflow"===r&&Se.sessionInfo.reconnection&&me)Me.debug("Ignoring peer connection failure due to possibility of reconnection.");else{var o;o="ICEWorkflow"===r?_e.SUBSCRIBER_ICE_WORKFLOW_FAILED:e===_e.STREAM_LIMIT_EXCEEDED?e:_e.P2P_CONNECTION_FAILED;var a={failureReason:r||"PeerConnectionError",failureMessage:"OT.Subscriber PeerConnection Error: ".concat(t),failureCode:o},s=Pe(e,t,r,"(not found)","Subscriber");if(mt.fail({options:a,error:s}),G.isAttemptingToSubscribe()){var u={hasRelayCandidates:n&&n.hasRelayCandidates()};ft("createPeerConnection","Failure",u,a),G.set("Failed")}else G.isSubscribing()&&(G.set("Failed"),S.trigger("error",t));S._disconnect({noStateTransition:!0}),404===Number(e)&&S._destroy({noStateTransition:!0}),Ue.handleJsException({error:s,errorMsg:"OT.Subscriber PeerConnection Error: ".concat(t),code:o,target:S,analytics:ie}),Mt(e)}},xt=function(e){var t=e._hasVideoTracks(),n=e._hasAudioTracks(),r=xe&&xe.hasVideo&&!t,i=xe&&xe.hasAudio&&!n;return!(r||i)},Tt=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we((function(){return xt(n)}));case 3:e.next=12;break;case 5:if(e.prev=5,e.t0=e.catch(0),"TIMEOUT"!==e.t0.message){e.next=11;break}Me.error("The expected tracks never arrived"),e.next=12;break;case 11:throw e.t0;case 12:return r=n.getSourceStreamId(),Re&&"MANTIS"===r&&Ie.subscriberComplete(),e.next=16,It(t.stream,n);case 16:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),It=function(){var t=(0,o.default)(i.default.mark((function t(n,r){var o,a,s,u,c,l,d;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q=n,Re&&(q=new MediaStream(r._getTracks())),o=1===Object.keys(de).length,a=null==r?void 0:r.getSourceStreamId(),s=Se.sessionInfo,X=n,a&&(de[a]=n),Me.debug("OT.Subscriber.onRemoteStreamAdded with sourceStreamId",a),G.set("BindingRemoteStream"),C.subscribeToAudio(J),("auto"!==Y||We.subscribeToVideo)&&(Y="loading",C.subscribeToVideo(We.subscribeToVideo,"loading")),s.p2pEnabled||"P2P"===a||(C.setPreferredResolution(We.preferredResolution),C.setPreferredFrameRate(We.preferredFrameRate)),r&&r._getVideoTracks().forEach((function(e){(void 0!==typeof window?window:__webpack_require__.g).webkitMediaStream?e.enabled=!1:e.enabled=xe.hasVideo&&We.subscribeToVideo})),t.next=15,at(q);case 15:if(kt(),!G.isDestroyed()){t.next=18;break}throw new Error("Subscriber destroyed");case 18:return r&&(void 0!==typeof window?window:__webpack_require__.g).webkitMediaStream&&r._getVideoTracks().forEach((function(e){e.enabled=xe.hasVideo&&We.subscribeToVideo})),(u=L&&L.video())&&u.orientation({width:xe.videoDimensions.width,height:xe.videoDimensions.height,videoOrientation:xe.videoDimensions.orientation}),(c=D&&D.videoUnsupportedIndicator)&&c.setVideoUnsupported(!Fe),l=new e((function(e,t){var n=L&&L.video();n&&n.domElement()?e():(L.once("videoElementCreated",e),ue.once("destroyed",t))})),t.next=26,l;case 26:return t.next=28,ce.promise;case 28:o?G.set("Subscribing"):!G.isSubscribing()&&L&&L.video()&&(me=!0,De||(mt.connect(),De=!0),Me.debug("OT.Subscriber.onLoaded"),G.set("Subscribing"),V=(0,A.default)(),L.loading(!1),D&&D.showAfterLoading(),Oe&&xe.setRestrictFrameRate(!0),F&&F.audioOnly(L.audioOnly()),S.setAudioVolume($),S.trigger("loaded",S)),W&&"webRTCStream"in W&&r._hasAudioTracks()&&W.webRTCStream(n),((d=Be.env).isSafari||d.isChromiumEdge||d.isOpera||"Chrome"===d.name&&d.version>=58||d.isFirefox&&d.version>=96)&&(te&&(te.destroy(),te=null),r&&(te=ot(r.getStats.bind(r)))),o||C.trigger("streamAdded",C),ve.finishTransitionTo(re);case 34:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Rt=function(e){Me.debug("OT.Subscriber.onStreamRemoved");var t=L&&L.video();t&&t.stream===e&&L.destroyVideo(),it(re),q=null,S.trigger("streamRemoved",S)},Ot=function(e){Fe!==e&&S.dispatchEvent(new Ee.VideoEnabledChangedEvent(e?"videoEnabled":"videoDisabled",{reason:e?"codecChanged":"codecNotSupported"})),Fe=e},At=function(e){L.setAudioBlockedUi(e);var t=D&&D.audioBlockedIndicator;t&&t.setAudioBlocked(e);var n=D&&D.videoUnsupportedIndicator;n&&n.setVideoUnsupported(!e&&!Fe)};this.on("audioBlocked",(function(){At(!0)})),this.on("audioUnblocked",(function(){At(!1)}));var Nt={new:x.default.SUBSCRIBER_DISCONNECTED,checking:x.default.SUBSCRIBER_DISCONNECTED,connected:x.default.SUBSCRIBER_CONNECTED,completed:x.default.SUBSCRIBER_CONNECTED,disconnected:x.default.SUBSCRIBER_DISCONNECTED},Pt=function(){bt("Success")},Lt=function(){bt("Failure",{reason:"ICEWorkflow",message:"OT.Subscriber PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall."})};j={get:function(){return xe.getChannelsOfType("audio").length>0?ue.getStyle("buttonDisplayMode"):"off"},update:function(){var e=j.get();D&&(D.muteButton.setDisplayMode(e),D.backingBar.setMuteMode(e))}};var Mt=function(e,t){var n,r;L&&(e===_e.STREAM_LIMIT_EXCEEDED?(n="The stream was unable to connect.",r="The limit for the number of media streams has been reached."):"Tried to subscribe to an encrypted stream without enabling encryption"===t?(n="Unable to subscribe to an encrypted stream without enabling encryption.",r=""):(n="The stream was unable to connect due to a network error.",r=De?"Ensure you have a stable connection and try again.":"Make sure you have a stable network connection and that it isn't blocked by a firewall."),L.addError(n,r))};function Dt(e){Je().forEach(function(){var t=(0,o.default)(i.default.mark((function t(n){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:t.sent.subscribeToVideo(!e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var t=e||!q||!q.getVideoTracks().length;L&&(L.audioOnly(t),L.showPoster(t)),F&&F.audioOnly(t)}Ye(this,{nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioBlockedDisplayMode:"auto",backgroundImageURI:null,showArchiveStatus:!0,showMicButton:!0},We.showControls,(function(e){ft("SetStyle","Subscriber",e,null,.1)}));var jt=(0,p.default)((function(){ft("GetStats","Called")})),Ft=(0,p.default)((function(){ft("GetRtcStatsReport","Called")})),Vt=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U&&(U.destroy(),U=void 0),e.prev=1,e.next=4,we((function(){return t._hasAudioTracks()}));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return");case 9:(W=Ce(t))?U=(0,M.default)({subscriber:C,audioLevelSampler:W}):Object.prototype.hasOwnProperty.call(C,"loudness")||(Object.defineProperty(C,"loudness",{value:void 0,configurable:!0,writable:!1}),Me.error("No suitable audio level samplers found, audio level visualisation will not work"));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Zt=function(e,t){if(he[t]){he[t].removeAll();var n=function t(){e.off("error",t),e.off("disconnected",t)};e.on("error",n),e.on("disconnected",n)}var r=(0,g.default)(e);r.once("connected",(function(){return function(e){Xe&&"P2P"===e.getSourceStreamId()&&ht("Success")}(e)})),r.on("disconnected",_t),r.on("error",Ct),r.once("remoteTrackAdded",(0,o.default)(i.default.mark((function t(){var n=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vt(e);case 2:return t.prev=2,t.next=5,Tt.apply(void 0,_toConsumableArray(n));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),Me.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))),r.on("audioLevelStuckWarning",Et),r.on("signalingStateStable",(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ue.trigger("signalingStateStable"),L&&L.video()&&X&&W&&"webRTCStream"in W&&e._hasAudioTracks()&&W.webRTCStream(X);case 3:case"end":return t.stop()}}),t)})))),r.on("iceConnectionStateChange",(function(t){return function(e,t){var n=Nt[e],r=t.getSourceStreamId(),a=He[r];n&&n!==a&&(He[r]=n,"disconnected"===e&&"P2P"!==r&&setTimeout((0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Se._.isSocketReconnecting,"disconnected"!==He[r]||!Ke.is("connected")||t()){e.next=4;break}return e.next=4,C._.iceRestart("peer connection disconnected");case 4:case"end":return e.stop()}}),e)}))),2e3),L&&L.loading(n!==x.default.SUBSCRIBER_CONNECTED),Me.debug("OT.Subscriber.connectionStateChanged to ".concat(e)),S.dispatchEvent(new Ee.ConnectionStateChangedEvent(n,S)))}(t,e)})),r.on("iceRestartSuccess",Pt),r.on("iceRestartFailure",Lt),r.on("remoteVideoSupported",Ot),r.on("remoteStreamRemoved",Rt),r.on("decryptFailed",(function(){S.trigger("encryptionSecretMismatch"),ft("encryptionSecretMismatch","Event"),Me.warn("Media cannot be decrypted due to an encryption secret mismatch.")})),r.on("decryptRestored",(function(){S.trigger("encryptionSecretMatch"),ft("encryptionSecretMatch","Event")})),he[t]=he},Gt=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ht("Attempt"),e.next=3,qe("MANTIS");case 3:if(null!=(t=e.sent)&&t.iceConnectionStateIsConnected()){e.next=7;break}return ht("Failure",{reason:"Attempted to transition to Relayed without being connected in Routed mode."}),e.abrupt("return");case 7:Ke.subscriberCreate(xe.id,oe,qt,"P2P",Se._.isE2ee(),(function(e,t){e&&!mt.is("disconnected")&&ht("Failure",e),Me.debug("message received when created a subscriber with source",t)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!We.testNetwork&&!ye(xe,Se)&&"P2P"===re){e.next=2;break}return e.abrupt("return");case 2:if(vt("Attempt"),X=de.MANTIS,q=X,!Re){e.next=10;break}return e.next=8,qe("MANTIS");case 8:t=e.sent,q=new MediaStream(t._getTracks());case 10:return e.next=12,at(q);case 12:return L.loading(!1),nt("P2P"),re="MANTIS",it("P2P"),e.next=18,et();case 18:return n=e.sent,e.next=21,Vt(n);case 21:vt("Success");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this._destroy=function(e){var t=e.reason,n=void 0===t?"Unknown":t,r=e.quiet,i=e.noStateTransition,o=void 0!==i&&i;return G.isDestroyed()||(G.set("Destroyed"),te&&(te.destroy(),te=null),Ne={sessionId:Se.sessionId,connectionId:Se&&Se.isConnected()?Se.connection.connectionId:null,partnerId:Se&&Se.sessionInfo?Se.sessionInfo.partnerId:null,streamId:xe&&!xe.destroyed?xe.id:null},S._disconnect({reason:n,noStateTransition:o}),D&&(D.destroy(),D=null),L&&(L.destroy(),L.off(),L=null,S.element=null),xe&&!xe.destroyed&&ft("unsubscribe",null,{streamId:xe.id}),xe.off(K,S),S.id=null,ke=null,S.stream=null,xe=null,S.streamId=null,S.session=null,Se=null,We=null,!0!==r&&(S.dispatchEvent(new Ee.DestroyedEvent(x.default.SUBSCRIBER_DESTROYED,S,n)),S.off())),S},this.destroy=function(e,t){void 0===e&&(e="Unsubscribe"),Me.warn("Subscriber#destroy is deprecated and will be removed. Please use Session#unsubscribe instead"),C._destroy({reason:e,quiet:t})},this._disconnect=function(e){var t=void 0===e?{}:e,n=t.reason,r=void 0===n?"Unknown":n;if(!t.noStateTransition&&!mt.is("disconnected")){var a="Unsubscribe"===r?void 0:Ge(fe.STREAM_DESTROYED,new Error("Stream was destroyed before it could be subscribed to"));mt.disconnect({payload:{reason:r},error:a})}G.isDestroyed()||G.isFailed()||G.set("NotSubscribing"),L&&L.destroyVideo(),Ke.is("connected")&&xe&&!xe.destroyed&&Ke.subscriberDestroy(xe.id,C.widgetId),Je().forEach(function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.destroy();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object.keys(le).forEach((function(e){delete le[e]}))},this.disconnect=function(){Me.warn("Subscriber#disconnect is deprecated and will be removed. Please use Session#unsubscribe instead"),S._disconnect({reason:"Unsubscribe"})};var Ut=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerId,r=t.fromConnectionId,o=t.sourceStreamId,a=be({apiKey:Se.apiKey,sessionId:Se.sessionId,streamId:xe.id,subscriberId:C.widgetId}),s=st({socket:C.session._.getSocket(),uri:a,content:{peerId:n,sourceStreamId:o}}),u=function(e,t,r,i,a){void 0===i&&(i={});var s=Object.assign({peerId:n,sourceStreamId:(0,ae.default)(o)},i);return ft(e,t,r,s,a)},c=function(e){re===o&&wt(Object.assign({},e,{peerId:n,remoteConnectionId:r,sourceStreamId:o}))},e.abrupt("return",C._setupPeerConnection({send:s,log:u,logQoS:c,sourceStreamId:o}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Xt(e){var t=L&&L.video();if(t)try{t.setAudioVolume(e)}catch(n){Me.warn("setAudioVolume: ".concat(n)),0===$&&(Me.info("Using subscribeToAudio to mute Audio because setAudioVolume(0) failed"),ue.subscribeToAudio(!1))}D&&D.muteButton.muted(0===e)}this.processMessage=function(){var e=(0,o.default)(i.default.mark((function e(t,n,r){var o,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Me.debug("OT.Subscriber.processMessage: Received ".concat(t," message from ").concat(n)),Me.debug(r),o=(0,d.default)(r,"content.peerId"),a=(0,d.default)(r,"content.sourceStreamId"),e.next=6,qe(a);case 6:if(!(s=e.sent)){e.next=11;break}s.processMessage(t,r),e.next=16;break;case 11:if("offer"!==t){e.next=16;break}return e.next=14,Ut({peerId:o,fromConnectionId:n,sourceStreamId:a});case 14:s=e.sent,Re?s.processMessage("offer",r):C.session._.addSubscriberToPeerConnectionsQueue(s,r);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.disableVideo=function(e){if(e){if("auto"!==Y||!1!==ne)return Me.info("Video was not re-enabled because it was manually disabled"),void(D&&D.videoDisabledIndicator&&D.videoDisabledIndicator.disableVideo(!1));Me.info("Video has been re-enabled")}else Me.warn("Due to high packet loss and low bandwidth, video has been disabled");S.subscribeToVideo(e,"auto"),ft("updateQuality","video",e?{videoEnabled:!0}:{videoDisabled:!0})},this.getImgData=function(){if(!S.isSubscribing())return Me.error("OT.Subscriber.getImgData: Cannot getImgData before the Subscriber is subscribing."),null;var e=L&&L.video();return e?e.imgData():null},this.getStats=function(e){!function(e){ut(e)}((function(t,n){if(t)e(t);else{var r={timestamp:0};n.forEach((function(e){if(Te.isInboundStat(e)){var t=Te.isVideoStat(e,n),i=Te.isAudioStat(e,n);(i||t)&&(r.timestamp=Te.normalizeTimestamp(e.timestamp)),t?((0,f.default)(r,{video:Te.parseStatCategory(e)}),te&&(0,f.default)(r,{video:{frameRate:te.getFrameRateFromStat(e)}})):i&&(0,f.default)(r,{audio:Te.parseStatCategory(e)})}})),e(null,r)}}))},this.getRtcStatsReport=function(){return new e((function(e,t){ut("rtcStatsReport",(function(n,r){n?t(n):e(r)}))}))},this.setAudioVolume=function(e){var t=function(e){return Math.max(0,Math.min(100,parseInt(e,10)))}(e);return ft("setAudioVolume","Attempt",{audioVolume:t}),isNaN(t)?(Me.error("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),ft("setAudioVolume","Failure",{message:"value should be an integer between 0 and 100"}),S):(t!==e&&Me.warn("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),t===$?(Xt($),ft("setAudioVolume","Success",{audioVolume:$,message:"Requested volume is same as already set audioVolume"}),S):($>0&&(ee=$),Xt($=t),$>0&&!J&&(ee=$,S.subscribeToAudio(!0)),ft("setAudioVolume","Success",{audioVolume:$}),S))},this.getAudioVolume=function(){var e=L&&L.video();if(e)try{return e.getAudioVolume()}catch(t){Me.warn("getAudioVolume ".concat(t))}return $},this.subscribeToAudio=function(e){var t=(0,w.default)(e,!0);Je().forEach(function(){var e=(0,o.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:e.sent.subscribeToAudio(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xe&&0!==Je().length&&xe.setChannelActiveState("audio",t);var n=J!==t;return J=t,n&&S.setAudioVolume(t?ee:0),ft("subscribeToAudio","Event",{subscribeToAudio:t}),S};var Bt,Ht={auto:"quality",publishVideo:"publishVideo",subscribeToVideo:"subscribeToVideo"};if("Safari"===Q.name){var Yt=function(){!dt.hidden&&We.subscribeToVideo&&(Me.debug("document visibility restored in Safari - resubscribing to video"),S.subscribeToVideo(!1),S.subscribeToVideo(!0))};dt.addEventListener("visibilitychange",Yt),this.once("destroyed",(function(){dt.removeEventListener("visibilitychange",Yt)}))}if(this.subscribeToVideo=function(e,t){var n=(0,w.default)(e,!0),r=!n&&"auto"===t;return t||(ne=!n),r&&(Le=2),ft("subscribeToVideo","Attempt",{subscribeToVideo:n,reason:t}),Dt(!n||!xe.hasVideo||!X),xe.hasVideo&&!lt("video")?(n&&Me.info("Subscriber is audio-only due to incompatibility, can't subscribeToVideo."),We.subscribeToVideo=!1,ft("subscribeToVideo","Failure",{message:"No video tracks available"}),S):(D&&D.videoDisabledIndicator&&D.videoDisabledIndicator.disableVideo(r),Je().length>0&&Se&&xe&&(n===We.subscribeToVideo&&t===Y||ne&&t||xe.setChannelActiveState("video",n,t)),We.subscribeToVideo=n,Y=t,B=n,ft("subscribeToVideo","Success",{subscribeToVideo:n,reason:t}),"loading"!==t&&S.dispatchEvent(new Ee.VideoEnabledChangedEvent(n?"videoEnabled":"videoDisabled",{reason:Ht[t]||"subscribeToVideo"})),S)},this.setPreferredResolution=function(e){if(G.isDestroyed()||0===Je().length&&"Connecting"===!G.current)Me.warn("Cannot set the max Resolution when not subscribing to a publisher");else if(We.preferredResolution=e,Se.sessionInfo.p2pEnabled)Me.warn("OT.Subscriber.setPreferredResolution will not work in a P2P Session");else if(G.isStreamAdded()){var t=xe.getPreferredResolution();t&&e&&t.width===e.width&&t.height===e.height||!t&&!e||xe.setPreferredResolution(e)}},this.setPreferredFrameRate=function(e){if(G.isDestroyed()||0===Je().length&&"Connecting"===!G.current)Me.warn("Cannot set the max frameRate when not subscribing to a publisher");else if(We.preferredFrameRate=e,Se.sessionInfo.p2pEnabled)Me.warn("OT.Subscriber.setPreferredFrameRate will not work in a P2P Session");else{var t=xe.getPreferredFrameRate();e&&t&&t===e||!t&&!e||xe.setPreferredFrameRate(e)}},this.isSubscribing=function(){return G.isSubscribing()},this.isWebRTC=!0,this.isLoading=function(){return L&&L.loading()},this.isAudioBlocked=function(){return Boolean(L&&L.isAudioBlocked())},this.videoElement=function(){var e=L&&L.video();return e?e.domElement():null},this.videoWidth=function(){var e=L&&L.video();return e?e.videoWidth():void 0},this.videoHeight=function(){var e=L&&L.video();return e?e.videoHeight():void 0},this._subscribeToSelf=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Se.getPublisherForStream(xe))&&t._.webRtcStream()){e.next=5;break}mt.fail({payload:{reason:"streamNotFound"},error:Ge(fe.STREAM_DESTROYED,new Error("Tried to subscribe to a local publisher, but its stream no longer exists"))}),e.next=14;break;case 5:return ce.resolve(),e.prev=6,e.next=9,It(t._.webRtcStream());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),Me.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])}))),this._setupPeerConnection=function(){var n=(0,o.default)(i.default.mark((function n(r){var o,a,s,u;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.send,a=r.log,s=r.logQoS,u=r.sourceStreamId,We.testNetwork&&C.setAudioVolume(0),0===Je().length&&G.set("Connecting"),re=u,le[u]=new e((function(e,n){Se._.getIceConfig().then((function(r){r.needRumorIceServersFallback&&(r.servers=[].concat(_toConsumableArray(Ze||[]),_toConsumableArray(r.servers||[])));var i={iceConfig:r,subscriberId:C.widgetId,send:o,logAnalyticsEvent:a,p2p:Se.sessionInfo.p2pEnabled,sourceStreamId:u,remoteConnectionId:xe.connection.id,_singlePeerConnectionController:"MANTIS"===u&&Ie,keyStore:Se.keyStore,sFrameClientStore:Se.sFrameClientStore,isE2ee:Se._.isE2ee()};Object.prototype.hasOwnProperty.call(We,"codecFlags")&&(i.codecFlags=We.codecFlags);var c=new t.SubscriberPeerConnection(i);c.once("iceConnected",ce.resolve),c.once("error",ce.reject),c.on("qos",s),Zt(c,u),c.init((function(t){t?n(t):e(c)}))}))})),n.abrupt("return",le[u]);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.restrictFrameRate=function(e){return Me.debug("OT.Subscriber.restrictFrameRate(".concat(e,")")),ft("restrictFrameRate",e.toString(),{streamId:xe.id}),Se.sessionInfo.p2pEnabled&&Me.warn("OT.Subscriber.restrictFrameRate: Cannot restrictFrameRate on a P2P session"),"boolean"!==typeof e?Me.error("OT.Subscriber.restrictFrameRate: expected a boolean value got a ".concat(typeof e)):(Oe=e,xe.setRestrictFrameRate(e)),S},this.on("styleValueChanged",(function(e,t){if(D)switch(e){case"nameDisplayMode":D.name.setDisplayMode(t),D.backingBar.setNameMode(t);break;case"videoUnsupportedDisplayMode":D.videoUnsupportedIndicator.setDisplayMode(t);break;case"videoDisabledDisplayMode":D.videoDisabledIndicator.setDisplayMode(t);break;case"audioBlockedDisplayMode":D.audioBlockedIndicator.setDisplayMode(t);break;case"showArchiveStatus":D.archive.setShowArchiveStatus(t);break;case"buttonDisplayMode":j.update();break;case"audioLevelDisplayMode":D.audioLevel.setDisplayMode(t);break;case"bugDisplayMode":break;case"backgroundImageURI":L.setBackgroundImageURI(t)}}),this),this._={getDataChannel:function(e,t,n){return(0,o.default)(i.default.mark((function r(){return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(et()){r.next=3;break}return n(new Be.Error("Cannot create a DataChannel before there is a publisher connection.")),r.abrupt("return");case 3:return r.next=5,et();case 5:r.sent.getDataChannel(e,t,n);case 6:case"end":return r.stop()}}),r)})))()},iceRestart:function(e,t){return(0,o.default)(i.default.mark((function n(){var r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=!1),n.next=3,qe("MANTIS");case 3:(r=n.sent)?(bt("Attempt",{reason:e}),Me.debug("Subscriber: iceRestart attempt"),r.iceRestart(),t&&r.generateOffer()):Me.debug("Subscriber: Skipping ice restart, we have no peer connection");case 5:case"end":return n.stop()}}),n)})))()},unblockAudio:function(){return L&&L.unblockAudio()},webRtcStream:function(){return X},setIceConfig:function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je().forEach(function(){var e=(0,o.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.abrupt("return",e.sent.setIceConfig(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),privateEvents:new u.default,startRoutedToRelayedTransition:function(){We.testNetwork||ye(xe,Se)||(ve.startTransitionTo("P2P"),Gt())},startRelayedToRoutedTransition:function(){ve.startTransitionTo("MANTIS",(function(){return Wt()}))},setSinkId:function(e){if(L&&L.video())return L.setSinkId(e);Me.debug("Called setAudioOutputDevice on a subscriber without a video element")},pauseAndPlayVideoElement:function(){L&&L.pauseAndPlayVideoElement()},get isSubscribingToVideo(){return We.subscribeToVideo}},G=new Qe((function(e){Me.error("OT.Subscriber State Change Failed: ",e.message),Me.debug(e)})),Me.debug("OT.Subscriber: subscribe to ".concat(xe.id)),G.set("Init"),!xe)return Me.error("OT.Subscriber: No stream parameter."),!1;K={updated:function(e){var t=L&&L.video();switch(e.changedProperty){case"videoDimensions":if(!t)break;t.orientation({width:e.newValue.width,height:e.newValue.height,videoOrientation:e.newValue.orientation}),S.dispatchEvent(new Ee.VideoDimensionsChangedEvent(S,e.oldValue,e.newValue));break;case"videoDisableWarning":D&&D.videoDisabledIndicator.setWarning(e.newValue),S.dispatchEvent(new Ee.VideoDisableWarningEvent(e.newValue?"videoDisableWarning":"videoDisableWarningLifted")),Le=e.newValue?1:null;break;case"hasVideo":Dt(!xe.hasVideo||!We.subscribeToVideo),Q.isSafari&&!xe.hasVideo&&L&&L.bindAudioTrackOnly(),S.dispatchEvent(new Ee.VideoEnabledChangedEvent(xe.hasVideo?"videoEnabled":"videoDisabled",{reason:"publishVideo"}));break;case"hasAudio":j.update()}}},xe.on(K,this),We.name=We.name||xe.name,We.classNames="OT_root OT_subscriber",We.style&&this.setStyle(We.style,null,!0),ee=ge,We.subscribeToVideo=(0,w.default)(We.subscribeToVideo,!0),ne=!We.subscribeToVideo,We.subscribeToAudio=(0,w.default)(We.subscribeToAudio,!0),this.subscribeToAudio(We.subscribeToAudio),this.setAudioVolume(void 0!==(Bt=We).audioVolume?Bt.audioVolume:!1===Bt.subscribeToAudio?0:ge),(L=new t.WidgetView(n,Object.assign({},We,{widgetType:"subscriber"}))).on("error",St),L.on("audioBlocked",(function(){return S.trigger("audioBlocked")})),L.on("audioUnblocked",(function(){return S.trigger("audioUnblocked")})),L.on("amrLogEvent",(function(e,t,n){ft(e,t,{},n)})),this.id=L.domId(),ke=L.domId(),this.element=L.domElement,L.on("videoElementCreated",(function(e){var t=new Ee.VideoElementCreatedEvent(e),n=S;me?S.dispatchEvent(t):S.once("loaded",(function(){n.dispatchEvent(t)}))})),this.element&&function(){var e={backingBar:new Z({nameMode:We.name?S.getStyle("nameDisplayMode"):"off",muteMode:j.get()}),name:new Ve({name:We.name,mode:S.getStyle("nameDisplayMode")}),muteButton:new je({muted:0===$,mode:j.get()})};if(se){var t=new I;F=new m({mode:ue.getStyle("audioLevelDisplayMode")});var n=new N.default((function(){F.setValue(t.transform(S.loudness))}));F.watchVisibilityChanged((function(e){e?n.start():n.stop()})),F.setDisplayMode(S.getStyle("audioLevelDisplayMode")),F.audioOnly(!1),e.audioLevel=F}e.videoDisabledIndicator=new $e({mode:S.getStyle("videoDisabledDisplayMode")}),e.audioBlockedIndicator=new tt({mode:S.getStyle("audioBlockedDisplayMode")}),e.videoUnsupportedIndicator=new rt({mode:S.getStyle("videoUnsupportedDisplayMode")}),L&&L.domElement&&(D=new H({parent:L.domElement}).set(e).on({muted:function(){ue.setAudioVolume(0)},unmuted:function(){ue.setAudioVolume(ee)}},S)).hideWhileLoading()}.call(this);var zt=xe.getChannelsOfType("audio"),Kt=xe.getChannelsOfType("video"),Jt=xe.getChannelsOfType("data"),Qt=Jt.some((function(e){return"caption1"===e.id&&e.active}));this.subscribeToCaptions=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,w.default)(t,!0),r={active:n},Qt=n,ft("subscribeToCaptions","Attempt",{subscribeToCaptions:n}),Ke.subscriberChannelUpdate(xe.id,C.widgetId,"caption1",r),ft("subscribeToCaptions","Success",{subscribeToCaptions:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isSubscribedToCaptions=function(){return Qt};var qt=zt.map((function(e){return{id:e.id,type:e.type,active:We.subscribeToAudio}})).concat(Kt.map((function(e){var t={id:e.id,type:e.type,active:We.subscribeToVideo,restrictFrameRate:void 0!==We.restrictFrameRate&&We.restrictFrameRate};return void 0!==We.preferredFrameRate&&(t.preferredFrameRate=parseFloat(We.preferredFrameRate)),void 0!==We.preferredHeight&&(t.preferredHeight=parseInt(We.preferredHeight,10)),void 0!==We.preferredWidth&&(t.preferredWidth=parseInt(We.preferredWidth,10)),t}))).concat(Jt.map((function(e){return{id:e.id,type:e.type,active:e.active}}))),$t=null==(_=xe.getChannelsOfType("data")[0])?void 0:_.active,en=!We.testNetwork&&ye(xe,Se)&&!$t;!function(){var e,t=Se.getPublisherForStream(xe);if(null!=t&&null!=(e=t._)&&e.privateEvents&&en){var n=!1;t._.privateEvents.on("publisherCaptionsEnabled",(function(e){!n&&e.captionsEnabled&&(qt.find((function(e){return"caption1"===e.id})).active=!0,tn(),n=!0)}))}}();var tn=function(){mt.beginConnect(),Ke.subscriberCreate(xe.id,oe,qt,null,Se._.isE2ee(),(function(e,t){var n=Object.assign({status:null==t?void 0:t.status},(null==e?void 0:e.message)&&{error:null==e?void 0:e.message});ft("subscriberCreate","Event",n),e&&!mt.is("disconnected")&&function(e){var t=(0,P.default)(e);Ue.handleJsException({error:t,code:t.code,target:ue,analytics:ie}),S._disconnect({noStateTransition:!0});var n={failureReason:"Subscribe",failureMessage:"OT.Subscriber PeerConnection Error: ".concat(t.message),failureCode:_e.P2P_CONNECTION_FAILED};Mt(t.code,t.message),mt.fail({options:n,error:Ge(t.name,new Error("Subscribe: Subscriber PeerConnection with connection (not found) "+"failed: ".concat(t.message)),t.code)}),t.name===O.default.STREAM_NOT_FOUND&&S._destroy({reason:"streamNotFound",noStateTransition:!0})}(e),Ze=ct(t)}))};return en?(mt.beginConnect(),this._subscribeToSelf(),this):(Re?Ie.addSubscriber(tn):tn(),this)};return ht.hasAudioOutputLevelStatCapability=Re,ht.WidgetView=pt,ht.SubscriberPeerConnection=Ke,ht};var i=r(n(4)),o=r(n(5)),a=n(167),s=r(n(16)),u=r(n(14)),c=r(n(9)),l=r(n(130)),d=r(n(59)),f=r(n(261)),p=r(n(51)),h=r(n(283)),v=r(n(6)),m=r(n(1)),g=r(n(57)),y=r(n(3)),b=r(n(312)),w=r(n(274)),E=r(n(675)),k=r(n(676)),_=r(n(10)),S=r(n(21)),C=r(n(677)),x=r(n(26)),T=r(n(314)),I=r(n(13)),R=r(n(678)),O=r(n(8)),A=r(n(50)),N=r(n(109)),P=r(n(679)),L=r(n(166)),M=r(n(680)),D=r(n(289)),j=r(n(148)),F=r(n(290)),V=r(n(149)),Z=r(n(22)),G=r(n(76)),W=r(n(315)),U=r(n(316)),X=r(n(681)),B=r(n(163)),H=r(n(291)),Y=r(n(292)),z=r(n(7)),K=r(n(154)),J=r(n(147)),Q=r(n(73)),q=r(n(306)),$=r(n(317)),ee=r(n(293)),te=r(n(684)),ne=r(n(685)),re=r(n(686)),ie=r(n(318)),oe=n(107),ae=r(n(169)),se=(0,L.default)(),ue=(0,Z.default)(),ce=O.default,le=(0,B.default)(),de=(0,H.default)(),fe=(0,J.default)(void 0!==typeof window?window:__webpack_require__.g),pe=(0,Q.default)({global:fe}),he=(0,q.default)({PeerConnection:pe}),ve=(0,m.default)("Subscriber"),me=(0,I.default)(),ge=100,ye=function(e,t){return e.connection.id===t.connection.id},be=function(e){return["/v2/partner",e.apiKey,"session",e.sessionId,"stream",e.streamId,"subscriber",e.subscriberId].join("/")},we=(0,C.default)()}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(){this.processTransition=function(){},this.routedToRelayedOngoing=!1,this.relayedToRoutedPending=!1}var t=e.prototype;return t.startTransitionTo=function(e,t){void 0===t&&(t=function(){}),"P2P"===e?this.startRoutedToRelayed():"MANTIS"===e&&this.startRelayedToRouted(t)},t.finishTransitionTo=function(e){"P2P"===e&&this.finishRoutedToRelayed()},t.startRoutedToRelayed=function(){this.routedToRelayedOngoing=!0},t.finishRoutedToRelayed=function(){this.routedToRelayedOngoing=!1,this.relayedToRoutedPending&&(this.relayedToRoutedPending=!1,this.processTransition())},t.startRelayedToRouted=function(e){this.routedToRelayedOngoing?(this.relayedToRoutedPending=!0,this.processTransition=e):e()},e}();t.default=r},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i;for(n=1;n<arguments.length;n++)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e}},function(e,t,n){"use strict";var r=n(0);e.exports={build:function(e,t){var n,i,o,a=t.plugins;for(n=0,i=a.length;n<i;n++)(o=a[n]).methods&&r(e,o.methods),o.properties&&Object.defineProperties(e,o.properties)},hook:function(e,t,n){var r,i,o,a,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),r=0,i=s.length;r<i;r++)a=s[r],(o=s[r][t])&&o.apply(a,u)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return e+(t=r(t))[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);function o(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}r(o.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=i.prepended("onEnter",e),this.lifecycle.onLeave[e]=i.prepended("onLeave",e),this.lifecycle.on[e]=i.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=i.prepended("onBefore",e),this.lifecycle.onAfter[e]=i.prepended("onAfter",e),this.lifecycle.on[e]=i.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!==typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"===typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"===typeof e?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"===typeof e?e:"object"===typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,r,i;for(n=0,r=(e=e||[]).length;n<r;n++)"function"===typeof(i=e[n])&&(e[n]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,n,r,i,o,a=this.defaults.wildcard;for(n=0;n<e.length;n++)for(r=e[n],i=Array.isArray(r.from)?r.from:[r.from||a],o=r.to||a,t=0;t<i.length;t++)this.mapTransition({name:r.name,from:i[t],to:o})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=o},function(e,t,n){var r=n(0),i=n(6),o=n(1),a=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}r(s.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,r=this.config.transitionFor(this.state,e),i=r&&r.to;return"function"===typeof i?i.apply(this.context,t):i===n?this.state:i},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,o=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),o?this.observersForEvent(i.onLeave.state):a,o?this.observersForEvent(i.onLeave[t]):a,this.observersForEvent(i.on.transition),o?["doTransit",[this]]:a,o?this.observersForEvent(i.onEnter.state):a,o?this.observersForEvent(i.onEnter[n]):a,o?this.observersForEvent(i.on[n]):a,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)(t=this.observers[n])[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],a=e[0][1],s=e[0][2];if(t[0].event=i,i&&s&&i!==n&&o.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,i,r);var u=a.shift(),c=u[i].apply(u,t);return c&&"function"===typeof c.then?c.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,i,c)},onInvalidTransition:function(e,t,n){throw new i("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new i("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(1),a=n(3),s=n(4),u={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function l(e){return d(this||{},e)}function d(e,t){return f(e,new a(t,l)),e._fsm(),e}function f(e,t){if("object"!==typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");o.build(e,t),Object.defineProperties(e,c),r(e,u),r(e,t.methods),t.allTransitions().forEach((function(t){e[i(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}l.version="3.0.1",l.factory=function(){var e,t;"function"===typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new a(t,l);return f(e.prototype,n),e.prototype._fsm.config=n,e},l.apply=d,l.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=l},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}])},e.exports=r()},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=(0,r(n(108)).default)();t.default=i},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=function(){return["Chrome","Opera","Safari"].indexOf(i.default.name)>-1};t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(){return["Firefox","Safari","Edge","Chrome","Opera"].indexOf(i.default.name)>-1}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=(0,r(n(161)).default)()("NotSubscribing",["NotSubscribing","Init","Connecting","BindingRemoteStream","Subscribing","Failed","Destroyed"],{NotSubscribing:["NotSubscribing","Init","Destroyed"],Init:["NotSubscribing","Connecting","BindingRemoteStream","Destroyed"],Connecting:["NotSubscribing","BindingRemoteStream","Failed","Destroyed"],BindingRemoteStream:["NotSubscribing","Subscribing","Failed","Destroyed","BindingRemoteStream"],Subscribing:["NotSubscribing","Failed","Destroyed","BindingRemoteStream"],Failed:["Destroyed"],Destroyed:[]});i.prototype.isDestroyed=function(){return"Destroyed"===this.current},i.prototype.isFailed=function(){return"Failed"===this.current},i.prototype.isSubscribing=function(){return"Subscribing"===this.current},i.prototype.isAttemptingToSubscribe=function(){return-1!==["Init","Connecting","BindingRemoteStream"].indexOf(this.current)},i.prototype.isStreamAdded=function(){return"BindingRemoteStream"===this.current||this.isSubscribing()};var o=i;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=e.socket,n=e.uri,r=e.content;return function(e,i){return t.send({uri:n,method:e,content:Object.assign({},r,i)})}}},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return new e((function(e,n){t.apply(void 0,r.concat([function(t){if(t)n(t);else{for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];1!==i.length?e(i):e(i[0])}}]))}))}}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t,n=Object.assign({},e);return(null==e||null==(t=e.backgroundImgUrl)?void 0:t.includes("base64"))&&delete n.backgroundImgUrl,n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(708),i=n(322),o={isSupported:function(){return"undefined"!==typeof MediaStreamTrackProcessor&&"undefined"!==typeof MediaStreamTrackGenerator},setMetadata:r.setVonageMetadata,createProcessor:i.createVonageMediaProcessor};t.default=o},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"BackgroundTransformer",(function(){return Gs})),n.d(t,"BackgroundTransformerType",(function(){return we})),n.d(t,"BlurRadius",(function(){return be})),n.d(t,"ErrorFunction",(function(){return fe})),n.d(t,"MediapipeHelper",(function(){return Xe})),n.d(t,"PipelineInfoData",(function(){return pe})),n.d(t,"RenderingType",(function(){return ke})),n.d(t,"VonageMediaProcessor",(function(){return Js})),n.d(t,"WarningType",(function(){return de})),n.d(t,"WebglSelfieSegmentationType",(function(){return Ee})),n.d(t,"createVonageMediaProcessor",(function(){return iu})),n.d(t,"getSupportedBrowserFeatures",(function(){return Pe})),n.d(t,"getVonageFaceDetection",(function(){return eu})),n.d(t,"getVonageFaceMash",(function(){return tu})),n.d(t,"getVonageHands",(function(){return qs})),n.d(t,"getVonageHolistic",(function(){return $s})),n.d(t,"getVonageObjectron",(function(){return nu})),n.d(t,"getVonagePose",(function(){return ru})),n.d(t,"getVonageSelfieSegmentation",(function(){return Qs})),n.d(t,"isSupported",(function(){return Ae}));var i=Object.defineProperty,o=function(e,t,n){return function(e,t,n){t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},a=Object.defineProperty,s=function(e,t,n){return function(e,t,n){t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},u=_createClass3((function e(){_classCallCheck2(this,e)}));s(u,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),s(u,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});var c=new WeakMap,l=new WeakMap,d=new WeakMap,f=Symbol("anyProducer"),p=e.resolve(),h=Symbol("listenerAdded"),v=Symbol("listenerRemoved"),m=!1;function g(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("eventName must be a string or a symbol")}function y(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function b(e,t){var n=l.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}function w(e,t){var n="string"==typeof t||"symbol"==typeof t?t:f,r=d.get(e);return r.has(n)||r.set(n,new Set),r.get(n)}function E(t,n,r){var i=d.get(t);if(i.has(n)){var o,a=_createForOfIteratorHelper(i.get(n));try{for(a.s();!(o=a.n()).done;)o.value.enqueue(r)}catch(l){a.e(l)}finally{a.f()}}if(i.has(f)){var s,u=e.all([n,r]),c=_createForOfIteratorHelper(i.get(f));try{for(c.s();!(s=c.n()).done;)s.value.enqueue(u)}catch(l){c.e(l)}finally{c.f()}}}function k(t,n){n=Array.isArray(n)?n:[n];var r,i=!1,o=function(){},a=[],s={enqueue:function(e){a.push(e),o()},finish:function(){i=!0,o()}},u=_createForOfIteratorHelper(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;w(t,c).add(s)}}catch(l){u.e(l)}finally{u.f()}return _defineProperty({next:function(){var t=this;return _asyncToGenerator3(_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=20;break}if(0!==a.length){n.next=12;break}if(!i){n.next=6;break}n.t2=(a=void 0,t.next()),n.next=9;break;case 6:return n.next=8,new e((function(e){o=e}));case 8:n.t2=t.next();case 9:n.t1=n.t2,n.next=17;break;case 12:return n.t3=!1,n.next=15,a.shift();case 15:n.t4=n.sent,n.t1={done:n.t3,value:n.t4};case 17:n.t0=n.t1,n.next=21;break;case 20:n.t0={done:!0};case 21:return n.abrupt("return",n.t0);case 22:case"end":return n.stop()}}),n)})))()},return:function(e){var r=arguments;return _asyncToGenerator3(_regeneratorRuntime().mark((function i(){var u,c,d;return _regeneratorRuntime().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=void 0,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;)d=c.value,w(t,d).delete(s)}catch(l){u.e(l)}finally{u.f()}if(o(),!(r.length>0)){i.next=12;break}return i.t1=!0,i.next=8,e;case 8:i.t2=i.sent,i.t0={done:i.t1,value:i.t2},i.next=13;break;case 12:i.t0={done:!0};case 13:return i.abrupt("return",i.t0);case 14:case"end":return i.stop()}}),i)})))()}},Symbol.asyncIterator,(function(){return this}))}function _(e){if(void 0===e)return x;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!x.includes(r))throw"string"!=typeof r?new TypeError("`methodNames` element must be a string"):new Error("".concat(r," is not Emittery method"))}}catch(i){n.e(i)}finally{n.f()}return e}var S=function(e){return e===h||e===v},C=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,t),c.set(this,new Set),l.set(this,new Map),d.set(this,new Map),this.debug=e.debug||{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=function(e,t,n,r){try{r=JSON.stringify(r)}catch(a){r="Object with the following keys failed to stringify: ".concat(Object.keys(r).join(","))}"symbol"==typeof n&&(n=n.toString());var i=new Date,o="".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds(),".").concat(i.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(r))})}return _createClass3(t,[{key:"logIfDebugEnabled",value:function(e,n,r){(t.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,n,r)}},{key:"on",value:function(e,t){y(t),e=Array.isArray(e)?e:[e];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;g(i),b(this,i).add(t),this.logIfDebugEnabled("subscribe",i,void 0),S(i)||this.emit(h,{eventName:i,listener:t})}}catch(o){r.e(o)}finally{r.f()}return this.off.bind(this,e,t)}},{key:"off",value:function(e,t){y(t),e=Array.isArray(e)?e:[e];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;g(i),b(this,i).delete(t),this.logIfDebugEnabled("unsubscribe",i,void 0),S(i)||this.emit(v,{eventName:i,listener:t})}}catch(o){r.e(o)}finally{r.f()}}},{key:"once",value:function(t){var n=this;return new e((function(e){var r=n.on(t,(function(t){r(),e(t)}))}))}},{key:"events",value:function(e){e=Array.isArray(e)?e:[e];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;)g(t.value)}catch(r){n.e(r)}finally{n.f()}return k(this,e)}},{key:"emit",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n,r){var i,o,a,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(n),this.logIfDebugEnabled("emit",n,r),E(this,n,r),i=b(this,n),o=c.get(this),a=_toConsumableArray(i),s=S(n)?[]:_toConsumableArray(o),t.next=4,p;case 4:return t.next=6,e.all([].concat(_toConsumableArray(a.map(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(t)){e.next=2;break}return e.abrupt("return",t(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),_toConsumableArray(s.map(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(n,r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"emitSerial",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s,u,l,d,f,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),this.logIfDebugEnabled("emitSerial",t,n),r=b(this,t),i=c.get(this),o=_toConsumableArray(r),a=_toConsumableArray(i),e.next=4,p;case 4:s=_createForOfIteratorHelper(o),e.prev=5,s.s();case 7:if((u=s.n()).done){e.next=15;break}if(l=u.value,e.t0=r.has(l),!e.t0){e.next=13;break}return e.next=13,l(n);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(5),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:d=_createForOfIteratorHelper(a),e.prev=24,d.s();case 26:if((f=d.n()).done){e.next=34;break}if(h=f.value,e.t2=i.has(h),!e.t2){e.next=32;break}return e.next=32,h(t,n);case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t3=e.catch(24),d.e(e.t3);case 39:return e.prev=39,d.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[5,17,20,23],[24,36,39,42]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAny",value:function(e){return y(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),c.get(this).add(e),this.emit(h,{listener:e}),this.offAny.bind(this,e)}},{key:"anyEvent",value:function(){return k(this)}},{key:"offAny",value:function(e){y(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(v,{listener:e}),c.get(this).delete(e)}},{key:"clearListeners",value:function(e){e=Array.isArray(e)?e:[e];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.logIfDebugEnabled("clear",r,void 0),"string"==typeof r||"symbol"==typeof r){b(this,r).clear();var i,o=w(this,r),a=_createForOfIteratorHelper(o);try{for(a.s();!(i=a.n()).done;)i.value.finish()}catch(g){a.e(g)}finally{a.f()}o.clear()}else{c.get(this).clear();var s,u=_createForOfIteratorHelper(l.get(this).values());try{for(u.s();!(s=u.n()).done;)s.value.clear()}catch(g){u.e(g)}finally{u.f()}var f,p=_createForOfIteratorHelper(d.get(this).values());try{for(p.s();!(f=p.n()).done;){var h,v=f.value,m=_createForOfIteratorHelper(v);try{for(m.s();!(h=m.n()).done;)h.value.finish()}catch(g){m.e(g)}finally{m.f()}v.clear()}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){n.e(g)}finally{n.f()}}},{key:"listenerCount",value:function(e){e=Array.isArray(e)?e:[e];var t,n=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"!=typeof i){typeof i<"u"&&g(i),n+=c.get(this).size;var o,a=_createForOfIteratorHelper(l.get(this).values());try{for(a.s();!(o=a.n()).done;)n+=o.value.size}catch(f){a.e(f)}finally{a.f()}var s,u=_createForOfIteratorHelper(d.get(this).values());try{for(u.s();!(s=u.n()).done;)n+=s.value.size}catch(f){u.e(f)}finally{u.f()}}else n+=c.get(this).size+b(this,i).size+w(this,i).size+w(this).size}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"bindMethods",value:function(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=_(t);var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(void 0!==e[i])throw new Error("The property `".concat(i,"` already exists on `target`"));Object.defineProperty(e,i,{enumerable:!1,value:this[i].bind(this)})}}catch(o){r.e(o)}finally{r.f()}}}],[{key:"mixin",value:function(e,n){return n=_(n),function(r){if("function"!=typeof r)throw new TypeError("`target` must be function");var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==r.prototype[a])throw new Error("The property `".concat(a,"` already exists on `target`"))}}catch(d){o.e(d)}finally{o.f()}Object.defineProperty(r.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new t}),this[e]}});var s,u=function(t){return function(){var n;return(n=this[e])[t].apply(n,arguments)}},c=_createForOfIteratorHelper(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;Object.defineProperty(r.prototype,l,{enumerable:!1,value:u(l)})}}catch(d){c.e(d)}finally{c.f()}return r}}},{key:"isDebugEnabled",get:function(){if("object"!=typeof r)return m;var e=(r||{env:{}}).env;return"emittery"===e.DEBUG||"*"===e.DEBUG||m},set:function(e){m=e}}]),t}(),x=Object.getOwnPropertyNames(C.prototype).filter((function(e){return"constructor"!==e}));Object.defineProperty(C,"listenerAdded",{value:h,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(C,"listenerRemoved",{value:v,writable:!1,enumerable:!0,configurable:!1});var T=C;function I(e){return function(e){if(function(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}(e))return e;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}}(e).message}var R,O=Object.defineProperty,A=function(e,t,n){return function(e,t,n){t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},N=new Uint8Array(16);function P(){if(!R&&!(R=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(N)}for(var L=[],M=0;M<256;++M)L.push((M+256).toString(16).slice(1));var D={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function j(e,t,n){if(D.randomUUID&&!t&&!e)return D.randomUUID();var r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(L[e[t+0]]+L[e[t+1]]+L[e[t+2]]+L[e[t+3]]+"-"+L[e[t+4]]+L[e[t+5]]+"-"+L[e[t+6]]+L[e[t+7]]+"-"+L[e[t+8]]+L[e[t+9]]+"-"+L[e[t+10]]+L[e[t+11]]+L[e[t+12]]+L[e[t+13]]+L[e[t+14]]+L[e[t+15]]).toLowerCase()}(r)}function F(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});var n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}var V=F("globals",{}),Z=function(e){return e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e}(Z||{});function G(e){return[ImageBitmap,ReadableStream,WritableStream].some((function(t){return e instanceof t}))}var W=0;function U(t,n,r,i,o){var a=W++;return t.postMessage({id:a,type:n,functionName:r,args:i},i.filter((function(e){return G(e)}))),new e((function(e){null==o||o.set(a,e)}))}function X(e,t){var n=e.id,r=e.type,i=Array.isArray(t)?t:[t];postMessage({id:n,type:r,result:t},i.filter((function(e){return G(e)})))}var B=F("workerized",{});function H(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Y(){return z.apply(this,arguments)}function z(){return(z=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n,r,i,o,a;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!H()){t.next=4;break}X({type:Z.GLOBALS_SYNC},V),t.next=8;break;case 4:for(r in n=[],B)i=B[r].workerContext,o=i.worker,a=i.resolvers,o&&n.push(U(o,Z.GLOBALS_SYNC,"",[V],a));return t.next=8,e.all(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(var n in t)delete t[n];for(var r in e)Array.isArray(e[r])?(t[r]=[],K(e[r],t[r])):"object"==typeof e[r]?(t[r]={},K(e[r],t[r])):t[r]=e[r]}function J(e,t){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.functionName,o=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(i){e.next=5;break}throw"missing function name to call";case 5:if(n.instance[i]){e.next=7;break}throw"undefined function [".concat(i,"] in class ").concat(n.instance.constructor.workerId);case 7:return e.t0=X,e.t1=t,e.next=11,(r=n.instance)[i].apply(r,_toConsumableArray(null!=o?o:[]));case 11:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}var q=F("registeredWorkers",{});function $(e,t){if(!e.args)throw"Missing className while initializing worker";var n=_slicedToArray(e.args,2),r=n[0],i=n[1],o=q[r];if(!o)throw"unknown worker class ".concat(r);t.instance=new o(e.args.slice(1)),K(i,V),X(e,void 0!==typeof t.instance)}function ee(e,t){return te.apply(this,arguments)}function te(){return te=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(e.t0=n.instance.terminate,!e.t0){e.next=8;break}return e.next=7,(r=n.instance).terminate.apply(r,_toConsumableArray(null!=i?i:[]));case 7:o=e.sent;case 8:X(t,o);case 9:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e){if(!e.args)throw"Missing globals while syncing";K(e.args[0],V),X(e,{})}H()&&function(){var e={};onmessage=function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.data,t.t0=r.type,t.next=t.t0===Z.INIT?4:t.t0===Z.FORWARD?6:t.t0===Z.TERMINATE?8:t.t0===Z.GLOBALS_SYNC?10:12;break;case 4:return $(r,e),t.abrupt("break",12);case 6:return J(r,e),t.abrupt("break",12);case 8:return ee(r,e),t.abrupt("break",12);case 10:return ne(r),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}();var re=function(e,t){return function(e,t){return V[e]||(V[e]=t),[function(){return V[e]},function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V[e]=n,t.next=3,Y();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]}(e,t)}("metadata"),ie=_slicedToArray(re,2),oe=ie[0],ae=ie[1];function se(){return oe()}var ue=function(){function e(t){_classCallCheck2(this,e),A(this,"uuid",j()),this.config=t}return _createClass3(e,[{key:"send",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r,i,o,a,s,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!=(n=se())?n:{},a=o.appId,s=o.sourceType,a&&s){e.next=3;break}return e.abrupt("return","metadata missing");case 3:return u=new AbortController,c=setTimeout((function(){return u.abort()}),1e4),e.next=6,(null!=(i=null==(r=this.config)?void 0:r.fetch)?i:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(t)),signal:u.signal});case 6:return clearTimeout(c),e.abrupt("return","success");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUrl",value:function(){var e,t=null!=(e=se().proxyUrl)?e:"https://";return t+=("/"===t.at(-1)?"":"/")+"hlg.tokbox.com/prod/logging/vcp_webrtc"}},{key:"getHeaders",value:function(){return{"Content-Type":"application/json"}}},{key:"buildReport",value:function(e){var t=se();return _objectSpread(_objectSpread({guid:this.uuid},e),{},{applicationId:t.appId,timestamp:Date.now(),proxyUrl:t.proxyUrl,source:t.sourceType})}}]),e}(),ce="2.0.3",le=function(){function e(t){_classCallCheck2(this,e),s(this,"frameTransformedCount",0),s(this,"frameFromSourceCount",0),s(this,"startAt",0),s(this,"reporter"),this.config=t,this.reporter=new ue(t)}return _createClass3(e,[{key:"onFrameFromSource",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.frameFromSourceCount++;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fps",get:function(){var e=this.startAt;return this.frameFromSourceCount/((Date.now()-e)/1e3)}},{key:"onFrameTransformed",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s,u,c,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=l.length>1&&void 0!==l[1]&&l[1],0===this.startAt&&(this.startAt=Date.now()),this.frameTransformedCount++,r=this.startAt,i=this.frameTransformedCount,o=this.frameFromSourceCount,a=Date.now(),u=i/(s=(a-r)/1e3),c=o/s,e.abrupt("return",n||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=a,this.reporter.config=this.config,this.reporter.send(_objectSpread(_objectSpread({},this.config.report),{},{variation:"QoS",fps:c,transformedFps:u,framesTransformed:i},t))):"success");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),de=function(e){return e.FPS_DROP="fps_drop",e}(de||{}),fe=function(e){return e.start="start",e.transform="transform",e.flush="flush",e}(fe||{}),pe=function(e){return e.pipeline_ended="pipeline_ended",e.pipeline_ended_with_error="pipeline_ended_with_error",e.pipeline_started="pipeline_started",e.pipeline_started_with_error="pipeline_started_with_error",e.pipeline_restarted="pipeline_restarted",e.pipeline_restarted_with_error="pipeline_restarted_with_error",e}(pe||{}),he=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),i=t.call(this),s(_assertThisInitialized3(i),"reporter_",new ue),s(_assertThisInitialized3(i),"reporterQos_",new le({loggingIntervalFrameCount:500,report:{version:ce}})),s(_assertThisInitialized3(i),"transformerType_"),s(_assertThisInitialized3(i),"transformer_"),s(_assertThisInitialized3(i),"shouldStop_"),s(_assertThisInitialized3(i),"isFlashed_"),s(_assertThisInitialized3(i),"mediaTransformerQosReportStartTimestamp_"),s(_assertThisInitialized3(i),"videoHeight_"),s(_assertThisInitialized3(i),"videoWidth_"),s(_assertThisInitialized3(i),"trackExpectedRate_"),s(_assertThisInitialized3(i),"index_"),s(_assertThisInitialized3(i),"controller_"),i.index_=r,i.transformer_=e,i.shouldStop_=!1,i.isFlashed_=!1,i.mediaTransformerQosReportStartTimestamp_=0,i.videoHeight_=0,i.videoWidth_=0,i.trackExpectedRate_=-1,i.transformerType_="Custom","getTransformerType"in e&&(i.transformerType_=e.getTransformerType()),i.report({variation:"Create"}),i}return _createClass3(n,[{key:"setTrackExpectedRate",value:function(e){this.trackExpectedRate_=e}},{key:"start",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.controller_=t,!this.transformer_||"function"!=typeof this.transformer_.start){e.next=11;break}return e.prev=1,e.next=4,this.transformer_.start(t);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),this.report({message:u.errors.transformer_start,variation:"Error",error:I(e.t0)}),n={eventMetaData:{transformerIndex:this.index_},error:e.t0,function:"start"},this.emit("error",n);case 11:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"transform",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.mediaTransformerQosReportStartTimestamp_&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),t instanceof VideoFrame&&(this.videoHeight_=null!=(r=null==t?void 0:t.displayHeight)?r:0,this.videoWidth_=null!=(i=null==t?void 0:t.displayWidth)?i:0),this.reporterQos_.onFrameFromSource(),!this.transformer_){e.next=17;break}if(!this.shouldStop_){e.next=5;break}console.warn("[Pipeline] flush from transform"),t.close(),this.flush(n),n.terminate(),e.next=17;break;case 5:return e.prev=5,e.next=8,null==(a=(o=this.transformer_).transform)?void 0:a.call(o,t,n);case 8:this.reportQos(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(5),this.report({message:u.errors.transformer_transform,variation:"Error",error:I(e.t0)}),s={eventMetaData:{transformerIndex:this.index_},error:e.t0,function:"transform"},this.emit("error",s);case 16:-1!=this.trackExpectedRate_&&.8*this.trackExpectedRate_>this.reporterQos_.fps&&(c={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}},this.emit("warn",c));case 17:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"flush",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.transformer_||"function"!=typeof this.transformer_.flush||this.isFlashed_){e.next=12;break}return this.isFlashed_=!0,e.prev=2,e.next=5,this.transformer_.flush(t);case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),this.report({message:u.errors.transformer_flush,variation:"Error",error:I(e.t0)}),n={eventMetaData:{transformerIndex:this.index_},error:e.t0,function:"flush"},this.emit("error",n);case 12:this.reportQos(!0),this.report({variation:"Delete"});case 13:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}},{key:"report",value:function(e){this.reporter_.send(_objectSpread({version:ce,action:"MediaTransformer",transformerType:this.transformerType_},e))}},{key:"reportQos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.reporterQos_.config=_objectSpread({},this.reporterQos_.config),this.reporterQos_.onFrameTransformed({version:ce,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},e)}}]),n}(T),ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck2(this,n),r=t.call(this),s(_assertThisInitialized3(r),"transformers_"),s(_assertThisInitialized3(r),"trackExpectedRate_"),r.transformers_=[],r.trackExpectedRate_=-1;for(var i=0;i<e.length;i++){var o=new he(e[i],i);o.on("error",(function(e){r.emit("error",e)})),o.on("warn",(function(e){r.emit("warn",e)})),r.transformers_.push(o)}return r}return _createClass3(n,[{key:"setTrackExpectedRate",value:function(e){this.trackExpectedRate_=e;var t,n=_createForOfIteratorHelper(this.transformers_);try{for(n.s();!(t=n.n()).done;)t.value.setTrackExpectedRate(this.trackExpectedRate_)}catch(r){n.e(r)}finally{n.f()}}},{key:"start",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transformers_&&0!==this.transformers_.length){e.next=3;break}return console.log("[Pipeline] No transformers."),e.abrupt("return");case 3:e.prev=3,r=t,i=_createForOfIteratorHelper(this.transformers_);try{for(i.s();!(o=i.n()).done;)a=o.value,t=t.pipeThrough(new TransformStream(a))}catch(u){i.e(u)}finally{i.f()}t.pipeTo(n).then(_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[Pipeline] Setup."),e.next=3,n.abort();case 3:return e.next=5,r.cancel();case 5:s.emit("pipelineInfo","pipeline_ended");case 6:case"end":return e.stop()}}),e)})))).catch(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(i){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.cancel().then((function(){console.log("[Pipeline] Shutting down streams after abort.")})).catch((function(e){console.error("[Pipeline] Error from stream transform:",e)})),e.next=3,n.abort(i);case 3:return e.next=5,r.cancel(i);case 5:s.emit("pipelineInfo","pipeline_ended_with_error");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy(),e.abrupt("return");case 14:this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.");case 15:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[Pipeline] Destroying Pipeline."),t=_createForOfIteratorHelper(this.transformers_);try{for(t.s();!(n=t.n()).done;)n.value.stop()}catch(r){t.e(r)}finally{t.f()}case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(T),me=function(t){_inherits(r,t);var n=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),e=n.call(this),s(_assertThisInitialized3(e),"reporter_"),s(_assertThisInitialized3(e),"pipeline_"),s(_assertThisInitialized3(e),"transformers_"),s(_assertThisInitialized3(e),"readable_"),s(_assertThisInitialized3(e),"writable_"),s(_assertThisInitialized3(e),"trackExpectedRate_"),e.reporter_=new ue,e.trackExpectedRate_=-1,e.report({variation:"Create"}),e}return _createClass3(r,[{key:"setTrackExpectedRate",value:function(e){this.trackExpectedRate_=e,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}},{key:"transform",value:function(e,t){return this.readable_=e,this.writable_=t,this.transformInternal()}},{key:"transformInternal",value:function(){var t=this;return new e(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(n,r){var i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transformers_&&0!==t.transformers_.length){e.next=3;break}return t.report({message:u.errors.transformer_none,variation:"Error"}),r("[MediaProcessor] Need to set transformers."),e.abrupt("return");case 3:if(t.readable_){e.next=6;break}return t.report({variation:"Error",message:u.errors.readable_null}),r("[MediaProcessor] Readable is null."),e.abrupt("return");case 6:if(t.writable_){e.next=9;break}return t.report({variation:"Error",message:u.errors.writable_null}),r("[MediaProcessor] Writable is null."),e.abrupt("return");case 9:i=!1,t.pipeline_&&(i=!0,t.pipeline_.clearListeners(),t.pipeline_.destroy()),t.pipeline_=new ve(t.transformers_),t.pipeline_.on("warn",(function(e){t.emit("warn",e)})),t.pipeline_.on("error",(function(e){t.emit("error",e)})),t.pipeline_.on("pipelineInfo",(function(e){i&&("pipeline_started"===e?e=pe.pipeline_restarted:"pipeline_started_with_error"===e&&(e=pe.pipeline_restarted_with_error)),t.emit("pipelineInfo",e)})),-1!=t.trackExpectedRate_&&t.pipeline_.setTrackExpectedRate(t.trackExpectedRate_),t.pipeline_.start(t.readable_,t.writable_).then((function(){n()})).catch((function(e){r(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},{key:"setTransformers",value:function(t){return this.report({variation:"Update",message:u.updates.transformer_new}),this.transformers_=t,this.readable_&&this.writable_?this.transformInternal():e.resolve()}},{key:"destroy",value:function(){var t=this;return new e(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pipeline_&&t.pipeline_.destroy(),t.report({variation:"Delete"}),n();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"report",value:function(e){this.reporter_.send(_objectSpread({version:ce,action:"MediaProcessor"},e))}}]),r}(T),ge=function(){function t(){_classCallCheck2(this,t),s(this,"processor_"),s(this,"generator_"),this.processor_=null,this.generator_=null}return _createClass3(t,[{key:"init",value:function(t){var n=this;return new e((function(e,r){try{n.processor_=new MediaStreamTrackProcessor(t)}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackProcessor failed: ".concat(i)),r(i)}try{"audio"===t.kind?n.generator_=new MediaStreamTrackGenerator({kind:"audio"}):"video"===t.kind?n.generator_=new MediaStreamTrackGenerator({kind:"video"}):r("kind not supported")}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackGenerator failed: ".concat(i)),r(i)}e()}))}},{key:"getReadable",value:function(){return this.processor_.readable}},{key:"getWriteable",value:function(){return this.generator_.writable}},{key:"getProccesorTrack",value:function(){return this.generator_}}]),t}(),ye=function(){function t(e){_classCallCheck2(this,t),s(this,"insertableStreamHelper_"),s(this,"mediaProcessor_"),this.insertableStreamHelper_=new ge,this.mediaProcessor_=e}return _createClass3(t,[{key:"setTrack",value:function(t){var n=this;return new e((function(e,r){n.insertableStreamHelper_.init(t).then((function(){n.mediaProcessor_.transform(n.insertableStreamHelper_.getReadable(),n.insertableStreamHelper_.getWriteable()).then((function(){e(n.insertableStreamHelper_.getProccesorTrack())})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))}},{key:"destroy",value:function(){var t=this;return new e((function(e,n){t.mediaProcessor_?t.mediaProcessor_.destroy().then((function(){e()})).catch((function(e){n(e)})):n("no processor")}))}}]),t}(),be=function(e){return e.Low="Low",e.High="High",e}(be||{}),we=function(e){return e.BackgroundBlur="BackgroundBlur",e.VirtualBackground="VirtualBackground",e.VideoBackground="VideoBackground",e.SilhouetteBlur="SilhouetteBlur",e}(we||{}),Ee=function(e){return e.FAST="FAST",e.PRECISE="PRECISE",e}(Ee||{}),ke=function(e){return e.CANVAS="CANVAS",e.WEBGL="WEBGL",e}(ke||{}),_e=function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(n){var r,i,o=typeof(n=n||{})<"u"?n:{};o.ready=new e((function(e,t){r=e,i=t}));var a,s={};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var u,c="./this.program",l=function(e,t){throw t},d=!0,f="";typeof document<"u"&&document.currentScript&&(f=document.currentScript.src),t&&(f=t),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var p,h=o.print||console.log.bind(console),v=o.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=null,o.arguments&&o.arguments,o.thisProgram&&(c=o.thisProgram),o.quit&&(l=o.quit),o.wasmBinary&&(p=o.wasmBinary);var m=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&M("no native wasm support detected");var g,y,b,w,E,k=!1,_=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function S(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&_)return _.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function C(e,t){return e?S(w,e,t):""}function x(e,t){return e%t>0&&(e+=t-e%t),e}function T(e){y=e,o.HEAP8=b=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=E=new Int32Array(e),o.HEAPU8=w=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var I,R=[],O=[],A=[],N=0,P=0,L=null;function M(e){o.onAbort&&o.onAbort(e),v(e="Aborted("+e+")"),k=!0,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}o.preloadedImages={},o.preloadedAudios={};var D,j,F,V="data:application/octet-stream;base64,";function Z(e){return e.startsWith(V)}function G(e){try{if(e==D&&p)return new Uint8Array(p);if(!u)throw"both async and sync fetching of the wasm failed"}catch(t){M(t)}}function W(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?I.get(n)():I.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}function U(e){try{return g.grow(e-y.byteLength+65535>>>16),T(g.buffer),1}catch(t){}}Z(D="tflite-simd.wasm")||(j=D,D=o.locateFile?o.locateFile(j,f):f+j),F=function(){return performance.now()};var X={};function B(){if(!B.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in X)void 0===X[t]?delete e[t]:e[t]=X[t];var n=[];for(var t in e)n.push(t+"="+e[t]);B.strings=n}return B.strings}var H={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=H.buffers[e];0===t||10===t?((1===e?h:v)(S(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return H.varargs+=4,E[H.varargs-4>>2]},getStr:function(e){return C(e)},get64:function(e,t){return e}},Y={a:function(e,t,n,r){M("Assertion failed: "+C(e)+", at: "+[t?C(t):"unknown filename",n,r?C(r):"unknown function"])},e:function(e,t){M("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},d:function(e,t){M("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},b:function(){M("")},n:function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return function(e){E[K()>>2]=e}(28),-1;n=F()}return E[t>>2]=n/1e3|0,E[t+4>>2]=n%1e3*1e3*1e3|0,0},h:function(){return 2147483648},l:function(e,t,n){w.copyWithin(e,t,t+n)},m:function(e){var t=w.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),U(Math.min(n,x(Math.max(e,i),65536))))return!0}return!1},p:function(e){for(var t=F();F()-t<e;);},f:function(e,t){var n=0;return B().forEach((function(r,i){var o=t+n;E[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)b[t++>>0]=e.charCodeAt(r);n||(b[t>>0]=0)}(r,o),n+=r.length+1})),0},g:function(e,t){var n=B();E[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),E[t>>2]=r,0},j:function(e){!function(e,t){!function(e){m||N>0||(o.onExit&&o.onExit(e),k=!0),l(e,new J(e))}(e)}(e)},i:function(e){return 0},k:function(e,t,n,r,i){},c:function(e,t,n,r){for(var i=0,o=0;o<n;o++){for(var a=E[t+8*o>>2],s=E[t+(8*o+4)>>2],u=0;u<s;u++)H.printChar(e,w[a+u]);i+=s}return E[r>>2]=i,0},o:function e(t,n){e.randomDevice||(e.randomDevice=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){M("randomDevice")}}());for(var r=0;r<n;r++)b[t+r>>0]=e.randomDevice();return 0}};(function(){var t={a:Y};function n(e,t){var n=e.exports;o.asm=n,T((g=o.asm.q).buffer),I=o.asm.E,function(e){O.unshift(e)}(o.asm.r),function(e){if(P--,o.monitorRunDependencies&&o.monitorRunDependencies(P),0==P&&L){var t=L;L=null,t()}}()}function r(e){n(e.instance)}function a(n){return(!p&&d&&"function"==typeof fetch?fetch(D,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+D+"'";return e.arrayBuffer()})).catch((function(){return G(D)})):e.resolve().then((function(){return G(D)}))).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){v("failed to asynchronously prepare wasm: "+e),M(e)}))}if(P++,o.monitorRunDependencies&&o.monitorRunDependencies(P),o.instantiateWasm)try{return o.instantiateWasm(t,n)}catch(s){return v("Module.instantiateWasm callback failed with error: "+s),!1}(p||"function"!=typeof WebAssembly.instantiateStreaming||Z(D)||"function"!=typeof fetch?a(r):fetch(D,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),a(r)}))}))).catch(i)})(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.r).apply(null,arguments)},o._getModelBufferMemoryOffset=function(){return(o._getModelBufferMemoryOffset=o.asm.s).apply(null,arguments)},o._getInputMemoryOffset=function(){return(o._getInputMemoryOffset=o.asm.t).apply(null,arguments)},o._getInputHeight=function(){return(o._getInputHeight=o.asm.u).apply(null,arguments)},o._getInputWidth=function(){return(o._getInputWidth=o.asm.v).apply(null,arguments)},o._getInputChannelCount=function(){return(o._getInputChannelCount=o.asm.w).apply(null,arguments)},o._getOutputMemoryOffset=function(){return(o._getOutputMemoryOffset=o.asm.x).apply(null,arguments)},o._getOutputHeight=function(){return(o._getOutputHeight=o.asm.y).apply(null,arguments)},o._getOutputWidth=function(){return(o._getOutputWidth=o.asm.z).apply(null,arguments)},o._getOutputChannelCount=function(){return(o._getOutputChannelCount=o.asm.A).apply(null,arguments)},o._loadModel=function(){return(o._loadModel=o.asm.B).apply(null,arguments)},o._runInference=function(){return(o._runInference=o.asm.C).apply(null,arguments)},o._isGPUEnabled=function(){return(o._isGPUEnabled=o.asm.D).apply(null,arguments)};var z,K=o.___errno_location=function(){return(K=o.___errno_location=o.asm.F).apply(null,arguments)};function J(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Q(e){function t(){z||(z=!0,o.calledRun=!0,!k&&(W(O),r(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),A.unshift(e);var e;W(A)}()))}P>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),R.unshift(e);var e;W(R)}(),P>0)||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t())}if(L=function e(){z||Q(),z||(L=e)},o.run=Q,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Q(),n.ready}}(),Ce=_createClass3((function e(){_classCallCheck2(this,e),o(this,"selectedTFLite"),o(this,"isSIMDSupported",!1),o(this,"isThreadsSupported",!1),o(this,"inputWidth",0),o(this,"inputHeight",0),o(this,"inputChannelCount",0),o(this,"inputMemoryOffset",0),o(this,"outputWidth",0),o(this,"outputHeight",0),o(this,"outputChannelCount",0),o(this,"outputMemoryOffset",0)})),xe="https://d3opqjmqzxf057.cloudfront.net/vonage-tensorflow-wasm/tflite-simd-wasm/1.1.3/",Te="https://d3opqjmqzxf057.cloudfront.net/ml/selfie_segmentation/4.0.0/";function Ie(){return Re.apply(this,arguments)}function Re(){return Re=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n,r,i,o,a=arguments;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:xe,r=a.length>1&&void 0!==a[1]?a[1]:Te,i=new Ce,o=new e((function(t,o){function a(){return(a=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se({locateFile:function(e){return n+e}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return s=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new e(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,o){var a,s,u,c,l,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(typeof(a=n)>"u")){e.next=3;break}return e.abrupt("return",o("TFLite backend unavailable: wasmSimd"));case 3:return s="selfie_segmentation_landscape",console.log("Loading tflite model:",s),u=r+"".concat(s,".tflite"),console.log("TFLite modelUrl: "+u),e.prev=7,e.next=10,fetch(u);case 10:return e.next=12,e.sent.arrayBuffer();case 12:if(c=e.sent,console.log("Model buffer size:",c.byteLength),l=a._getModelBufferMemoryOffset(),console.log("Model buffer memory offset:",l),console.log("Loading model buffer..."),a.HEAPU8.set(new Uint8Array(c),l),d=a._loadModel(c.byteLength),console.log("Load model result:",d),0===d){e.next=20;break}return o("Cannot load model"),e.abrupt("return");case 20:i.inputWidth=a._getInputWidth(),i.inputHeight=a._getInputHeight(),i.inputChannelCount=a._getInputChannelCount(),i.inputMemoryOffset=a._getInputMemoryOffset(),console.log("Input memory offset:",i.inputMemoryOffset),console.log("Input height:",i.inputHeight),console.log("Input width:",i.inputWidth),console.log("Input channels:",i.inputChannelCount),i.outputMemoryOffset=a._getOutputMemoryOffset(),i.outputWidth=a._getOutputWidth(),i.outputHeight=a._getOutputHeight(),i.outputChannelCount=a._getOutputChannelCount(),console.log("Output memory offset:",i.outputMemoryOffset),console.log("Output height:",i.outputHeight),console.log("Output width:",i.outputWidth),console.log("Output channels:",i.outputChannelCount),i.selectedTFLite=a,e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(7),o(e.t0),e.abrupt("return");case 27:t();case 28:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}(function(){return a.apply(this,arguments)})().then((function(e){if(null===e)throw console.error("loadTFLite null"),"loadTFLite null";(function(e){return s.apply(this,arguments)})(e).then((function(e){t(i)})).catch((function(e){console.error("loadTFLiteModel error"),o("loadTFLiteModel error")}))})).catch((function(e){console.error("loadTFLite error:",e),o("loadTFLite error:"+e)}))})),t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)}))),Re.apply(this,arguments)}var Oe=function(){function e(){_classCallCheck2(this,e),o(this,"canvas",new OffscreenCanvas(0,0)),o(this,"context",this.canvas.getContext("2d",{willReadFrequently:!0})),o(this,"pixelCount",0),o(this,"inputOffset",0),o(this,"outputOffset",0),o(this,"infos"),o(this,"mask")}return _createClass3(e,[{key:"init",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initWasm(t,n);case 2:this.infos&&(this.canvas.width=this.infos.inputWidth,this.canvas.height=this.infos.inputHeight,this.pixelCount=this.infos.inputWidth*this.infos.inputHeight,this.mask=new ImageData(this.infos.inputWidth,this.infos.inputHeight),this.inputOffset=this.infos.inputMemoryOffset/4,this.outputOffset=this.infos.outputMemoryOffset/4);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initWasm",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n);case 2:this.infos=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOutputDimensions",value:function(){var e,t,n,r;return{width:null!=(t=null==(e=this.infos)?void 0:e.outputWidth)?t:0,height:null!=(r=null==(n=this.infos)?void 0:n.outputHeight)?r:0}}},{key:"process",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r,i,o,a,s,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mask&&this.infos){e.next=2;break}return e.abrupt("return");case 2:for(n=this.infos.inputWidth,r=this.infos.inputHeight,this.context.drawImage(t,0,0,t.width,t.height,0,0,n,r),i=this.context.getImageData(0,0,n,r),o=this.infos.selectedTFLite.HEAPF32,a=0;a<this.pixelCount;a++)s=this.inputOffset+3*a,o[s]=i.data[4*a]/255,o[s+1]=i.data[4*a+1]/255,o[s+2]=i.data[4*a+2]/255;for(this.infos.selectedTFLite._runInference(),u=0;u<this.pixelCount;u++)c=this.infos.selectedTFLite.HEAPF32[this.outputOffset+u],this.mask.data[4*u]=this.mask.data[4*u+3]=255*c;return e.abrupt("return",createImageBitmap(this.mask));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isGpuSupported",value:function(){var e,t,n;return null!=(n=null==(t=null==(e=this.infos)?void 0:e.selectedTFLite)?void 0:t._isGPUEnabled())&&n}}]),e}();function Ae(e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t,n);case 2:if(r=e.sent,i=r.wasm,o=r.insertableStreams,a=r.simd,s=r.webgl,i.supported){e.next=9;break}throw i.message;case 9:if(o.supported){e.next=11;break}throw o.message;case 11:if(a.supported){e.next=13;break}throw a.message;case 13:if(s.supported){e.next=15;break}throw s.message;case 15:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Pe(e,t){return Le.apply(this,arguments)}function Le(){return Le=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n,r){var i,o;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new Oe,t.next=3,i.initWasm(n,r);case 3:return t.t0={supported:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate,message:"Your browser does not support WebAssembly features."},t.next=6,_e();case 6:return t.t1=t.sent,t.t2={supported:t.t1,message:"Your browser does not support simd features."},t.t3={supported:!0},t.t4={supported:i.isGpuSupported(),message:"Your browser does not support gpu features."},t.t5=OffscreenCanvas?new OffscreenCanvas(0,0).getContext("webgl2")?{supported:!0}:{supported:!1,message:"Your browser does not support webgl 2"}:{supported:!1,message:"Your browser does not support offscreen canvas"},t.t6=Me(),o={wasm:t.t0,simd:t.t2,insertableStreams:t.t3,gpu:t.t4,webgl:t.t5,performance:t.t6},t.prev=13,t.next=16,new e((function(e,t){typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?t("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):e()}));case 16:t.next=21;break;case 18:t.prev=18,t.t7=t.catch(13),o.insertableStreams.supported=!1,o.insertableStreams.message=t.t7;case 21:return t.abrupt("return",o);case 22:case"end":return t.stop()}}),t,null,[[13,18]])}))),Le.apply(this,arguments)}function Me(){return new OffscreenCanvas(0,0).getContext("webgl2",{failIfMajorPerformanceCaveat:!0})?{supported:!0}:{supported:!1,message:"Your hardware does not perform good enough to run the library efficiently"}}var De={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(Qe){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ea=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(e,t){return t=new k(new b(t)),p&&e.prototype&&p(t,e.prototype),t}v.prototype.o=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.s};var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;o((function(){if(e.B()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.J(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).J(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).J(o(a.length-1),t),i=n.next()}while(!i.done)}))},t})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var I,R,O=typeof TextDecoder<"u",A=typeof TextEncoder<"u";function N(e){if(A)e=(R||(R=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128>o)r[n++]=o;else{if(2048>o)r[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&i<e.length){var a=e.charCodeAt(++i);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128;continue}i--}if(t)throw Error("Found an unpaired surrogate");o=65533}r[n++]=o>>12|224,r[n++]=o>>6&63|128}r[n++]=63&o|128}}e=r.subarray(0,n)}return e}var P={},L=null;function M(e,t){void 0===t&&(t=0),j(),t=P[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function D(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=L[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}j();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),r.subarray(0,i)}function j(){if(!L){L={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));P[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===L[o]&&(L[o]=i)}}}}var F,V="function"==typeof Uint8Array.prototype.slice;function Z(e,t,n){return t===n?F||(F=new Uint8Array(0)):V?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var G=0;function W(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.l=!1,this.v=t,e&&U(this,e)}function U(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?D(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.j=0,e.i=e.h.length,e.g=e.j}function X(e){var t=e.h,n=t[e.g],r=127&n;return 128>n?(e.g+=1,r):(r|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,r):(r|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,r):(r|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,r):(r|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,r>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&e.g++,r)))))}function B(e){var t=e.h[e.g],n=e.h[e.g+1],r=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,e=2*((n=(t<<0|n<<8|r<<16|i<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))}W.prototype.reset=function(){this.g=this.j};var H=[];function Y(){this.g=new Uint8Array(64),this.h=0}function z(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function K(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,H.length?(n=H.pop(),t&&(n.v=t.v),e&&U(n,e),e=n):e=new W(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function J(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).l||0>t.g||t.g>t.i),t)return!1;e.m=e.g.g;var n=7&(t=X(e.g));return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function Q(e){switch(e.h){case 0:if(0!=e.h)Q(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?Q(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)Q(e);else{var t=X(e.g);(e=e.g).g+=t}break;case 5:5!=e.h?Q(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!J(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}Q(e)}break;default:e.j=!0}}function q(e,t,n){var r=e.g.i,i=X(e.g);return i=e.g.g+i,e.g.i=i,n(t,e),e.g.g=i,e.g.i=r,t}function $(e){var t,n=X(e.g),r=(e=e.g).g;if(e.g+=n,e=e.h,O)(t=I)||(t=I=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(r,r+n));else{n=r+n;for(var i,o,a,s=[],u=null;r<n;)128>(i=e[r++])?s.push(i):224>i?r>=n?s.push(65533):(o=e[r++],194>i||128!==(192&o)?(r--,s.push(65533)):s.push((31&i)<<6|63&o)):240>i?r>=n-1?s.push(65533):128!==(192&(o=e[r++]))||224===i&&160>o||237===i&&160<=o||128!==(192&(t=e[r++]))?(r--,s.push(65533)):s.push((15&i)<<12|(63&o)<<6|63&t):244>=i?r>=n-2?s.push(65533):128!==(192&(o=e[r++]))||o-144+(i<<28)>>30!==0||128!==(192&(t=e[r++]))||128!==(192&(a=e[r++]))?(r--,s.push(65533)):(i=(7&i)<<18|(63&o)<<12|(63&t)<<6|63&a,i-=65536,s.push(55296+(i>>10&1023),56320+(1023&i))):s.push(65533),8192<=s.length&&(u=T(u,s),s.length=0);t=T(u,s)}return t}function ee(){this.h=[],this.i=0,this.g=new Y}function te(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ne(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,r=n.length,i=0,o=0;o<r;o++){var a=n[o];0!==a.length&&(t.set(a,i),i+=a.length)}return 0!==(r=(n=e.g).h)&&(t.set(n.g.subarray(0,r),i),n.h=0),e.h=[t],t}function re(e,t,n){if(null!=n){z(e.g,8*t+5),e=e.g;var r=n;0===(r=(n=0>r?1:0)?-r:r)?G=0<1/r?0:2147483648:isNaN(r)?G=2147483647:34028234663852886e22<r?G=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),G=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),r=8388607&Math.round(8388608*r),G=(n<<31|t+127<<23|r)>>>0),n=G,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}Y.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},Y.prototype.length=function(){return this.h},Y.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,Z(e,0,t)},K.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ie="function"==typeof Uint8Array;function oe(e,t,n){if(null!=e)return"object"==typeof e?ie&&e instanceof Uint8Array?n(e):ae(e,t,n):t(e)}function ae(e,t,n){if(Array.isArray(e)){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]=oe(e[i],t,n);return Array.isArray(e)&&e.W&&le(r),r}for(i in r={},e)r[i]=oe(e[i],t,n);return r}function se(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var ue,ce={W:{value:!0,configurable:!0}};function le(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,ce),e}function de(e,t,n){var r=ue;if(ue=null,e||(e=r),r=this.constructor.ca,e||(e=r?[r]:[]),this.j=r?0:-1,this.i=null,this.g=e,e=(r=this.g.length)-1,r&&null!==(r=this.g[e])&&"object"==typeof r&&r.constructor===Object?(this.l=e-this.j,this.h=r):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.h=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.g[e])?le(r):this.g[e]=fe):(pe(this),(r=this.h[e])?le(r):this.h[e]=fe)}var fe=Object.freeze(le([]));function pe(e){var t=e.l+e.j;e.g[t]||(e.h=e.g[t]={})}function he(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.h?e.h[t]:void 0:e.g[t+e.j]}function ve(e){var t=void 0!==t&&t,n=he(e,1,t);return null==n&&(n=fe),n===fe&&ge(e,1,n=le([]),t),n}function me(e,t,n){return null==(e=null==(e=he(e,t))?e:+e)?void 0===n?0:n:e}function ge(e,t,n,r){void 0!==r&&r||t>=e.l?(pe(e),e.h[t]=n):e.g[t+e.j]=n}function ye(e,t){e.i||(e.i={});var n=e.i[1];if(!n){var r=ve(e);n=[];for(var i=0;i<r.length;i++)n[i]=new t(r[i]);e.i[1]=n}return n}function be(e,t,n,r){var i=ye(e,n);t=t||new n,e=ve(e),null!=r?(i.splice(r,0,t),e.splice(r,0,we(t))):(i.push(t),e.push(we(t)))}function we(e,t){if(e.i)for(var n in e.i){var r=e.i[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)r[i]&&we(r[i]);else r&&we(r)}return e.g}function Ee(e,t){return null==(e=he(e,t))?0:e}function ke(e,t){return null==(e=he(e,t))?"":e}function _e(e,t){if(e=e.m){te(t,t.g.end());for(var n=0;n<e.length;n++)te(t,e[n])}}function Se(e,t){if(4==t.h)return!1;var n=t.m;return Q(t),t.N||(t=Z(t.g.h,n,t.g.g),(n=e.m)?n.push(t):e.m=[t]),!0}function Ce(t,n){var r=void 0;return new(r||(r=e))((function(e,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(o,a)}s((n=n.apply(t,void 0)).next())}))}function xe(e){de.call(this,e)}function Te(e,t){for(;J(t);)switch(t.i){case 8:var n=X(t.g);ge(e,1,n);break;case 21:ge(e,2,n=B(t.g));break;case 26:ge(e,3,n=$(t));break;case 34:ge(e,4,n=$(t));break;default:if(!Se(e,t))return e}return e}function Ie(e){de.call(this,e,-1,Re)}de.prototype.toJSON=function(){return ae(we(this),se,M)},de.prototype.toString=function(){return we(this).toString()},h(xe,de),h(Ie,de),Ie.prototype.addClassification=function(e,t){be(this,e,xe,t)};var Re=[1];function Oe(e){de.call(this,e)}function Ae(e,t){for(;J(t);)switch(t.i){case 13:var n=B(t.g);ge(e,1,n);break;case 21:ge(e,2,n=B(t.g));break;case 29:ge(e,3,n=B(t.g));break;case 37:ge(e,4,n=B(t.g));break;case 45:ge(e,5,n=B(t.g));break;default:if(!Se(e,t))return e}return e}function Ne(e){de.call(this,e,-1,Pe)}h(Oe,de),h(Ne,de);var Pe=[1];function Le(e){de.call(this,e)}function Me(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function De(e){return ye(e,xe).map((function(e){return{index:Ee(e,1),Y:me(e,2),label:null!=he(e,3)?ke(e,3):void 0,displayName:null!=he(e,4)?ke(e,4):void 0}}))}function je(e){return{x:me(e,1),y:me(e,2),z:me(e,3),visibility:null!=he(e,4)?me(e,4):void 0}}function Fe(e,t){this.h=e,this.g=t,this.l=0}function Ve(t,n,r){return function(e,t){var n=e.g;if(void 0===e.m){var r=Me(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Me(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.m=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),da:i},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Ze(e){this.g=e}h(Le,de);var Ge=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function We(e,t){return t+e}function Ue(e,t){window[e]=t}function Xe(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||We,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function Be(t){return Ce(t,(function t(){var n,r,i,o,a,s,c,l,d,f,p,h=this;return _(t,(function(t){switch(t.g){case 1:return n=h,h.R?(r=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(h,h.j),y(t,function(){return Ce(this,(function e(){return _(e,(function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(Ge),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):t.return();case 2:if(i=t.h,"object"==typeof window)return Ue("createMediapipeSolutionsWasm",{locateFile:h.locateFile}),Ue("createMediapipeSolutionsPackedAssets",{locateFile:h.locateFile}),s=r.filter((function(e){return void 0!==e.data})),c=r.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(t){var r=He(n,t.url);if(void 0!==t.path){var i=t.path;r=r.then((function(t){return n.overrideFile(i,t),e.resolve(t)}))}return r}))),d=e.all(c.map((function(t){return void 0===t.simd||t.simd&&i||!t.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(n.locateFile(t.url,n.S)):e.resolve()}))).then((function(){return Ce(n,(function e(){var t,n,r=this;return _(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,y(e,t(n),2);r.h=e.h,e.g=0}))}))})),f=Ce(n,(function e(){var t=this;return _(e,(function(e){return t.g.graph&&t.g.graph.url?e=y(e,He(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),y(t,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=r.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return n.locateFile(e.url,n.S)})),importScripts.apply(null,u(o)),y(t,createMediapipeSolutionsWasm(Module),6);case 6:h.h=t.h,h.l=new OffscreenCanvas(1,1),h.h.canvas=h.l,a=h.h.GL.createContext(h.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),h.h.GL.makeContextCurrent(a),t.g=4;break;case 7:if(h.l=document.createElement("canvas"),!(p=h.l.getContext("webgl2",{}))&&!(p=h.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),t.return();h.D=p,h.h.canvas=h.l,h.h.createContext(h.l,!0,!0,{});case 4:h.i=new h.h.SolutionWasm,h.R=!1,t.g=0}}))}))}function He(e,t){return Ce(e,(function e(){var n,r,i=this;return _(e,(function(e){return t in i.F?e.return(i.F[t]):(n=i.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),i.F[t]=r,e.return(r))}))}))}function Ye(e,t,n){return Ce(e,(function e(){var r,i,o,a,u,c,l,d,f,p,h,v,m,g,b=this;return _(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(b.G=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){e.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(e,function(e,t,n){return Ce(e,(function e(){var r,i=this;return _(e,(function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof i.h.Uint8BlobList?e.return(n):n instanceof i.h.Texture2dDataOut?((r=i.s[t])||(r=new Fe(i.h,i.D),i.s[t]=r),e.return(Ve(r,n,i.G))):e.return(void 0)}))}))}(b,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=w.get(C);e:{var T=new Le;for(x=new K(x);J(x);)switch(x.i){case 13:var I=B(x.g);ge(T,1,I);break;case 21:ge(T,2,I=B(x.g));break;case 29:ge(T,3,I=B(x.g));break;case 37:ge(T,4,I=B(x.g));break;case 45:ge(T,5,I=B(x.g));break;case 48:for(var R=x.g,O=128,A=0,N=I=0;4>N&&128<=O;N++)A|=(127&(O=R.h[R.g++]))<<7*N;if(128<=O&&(A|=(127&(O=R.h[R.g++]))<<28,I|=(127&O)>>4),128<=O)for(N=0;5>N&&128<=O;N++)I|=(127&(O=R.h[R.g++]))<<7*N+3;128>O?(R=A>>>0,(I=2147483648&(O=I>>>0))&&(O=~O>>>0,0==(R=1+~R>>>0)&&(O=O+1>>>0)),R=4294967296*O+(R>>>0),I=I?-R:R):(R.l=!0,I=void 0),ge(T,6,I);break;default:if(!Se(T,x))break e}}T={Z:me(T,1),$:me(T,2),height:me(T,3),width:me(T,4),rotation:me(T,5,0),X:Ee(T,6)},I=E.get(C);e:for(x=new Ne,I=new K(I);J(I);)if(10===I.i)be(x,R=q(I,new Oe,Ae),Oe,void 0);else if(!Se(x,I))break e;x=ye(x,Oe).map(je),R=k.get(C);e:for(I=new Ie,R=new K(R);J(R);)if(10===R.i)I.addClassification(q(R,new xe,Te));else if(!Se(I,R))break e;T={T:T,O:x,M:De(I)},S.push(T)}w=S}else w=[];r[d]=w,e.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,e.g=7;break}if(void 0===p){e.g=3;break}if("float_list"===f.type){r[d]=p,e.g=7;break}if("proto"===f.type){r[d]=p,e.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=b.s[d])||(h=new Fe(b.h,b.D),b.s[d]=h),y(e,Ve(h,p,b.G),13);case 13:v=e.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),e.g=3;break;case 14:m[g]=e.h;case 3:a=l.next(),e.g=2;break;case 4:return e.return(r)}}))}))}function ze(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.C=Ye(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function Ke(e){return 1===(void 0===e&&(e=0),e)?"selfie_segmentation_landscape.tflite":"selfie_segmentation.tflite"}function Je(e){var t=this;e=e||{},this.g=new Xe({locateFile:e.locateFile,files:function(e){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:Ke(e.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(e){return Ce(t,(function t(){var n,r,i,o=this;return _(t,(function(t){return 1==t.g?(n=Ke(e),r="third_party/mediapipe/modules/selfie_segmentation/"+n,y(t,He(o.g,n),2)):(i=t.h,o.g.overrideFile(r,i),t.return(!0))}))}))}}}})}(t=Xe.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){return Ce(this,(function e(){var t=this;return _(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={K:o.K,L:o.L},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.K=u.onChange,o.L=e[c],r.push(function(e){return function(){return Ce(n,(function t(){var n=this;return _(t,(function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(i),this.u=(void 0===this.u?[]:this.u).concat(r))}},t.initialize=function(){return Ce(this,(function e(){var t=this;return _(e,(function(e){return 1==e.g?y(e,Be(t),2):3!=e.g?y(e,function(e){return Ce(e,(function e(){var t,n,r,i,o,a,u,c,l=this;return _(e,(function(e){if(1==e.g)return l.g.graph&&l.g.graph.url&&l.P===l.g.graph.url?e.return():(l.o=!0,l.g.graph&&l.g.graph.url?(l.P=l.g.graph.url,y(e,He(l,l.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,l.i.loadGraph(t)),n=s(Object.keys(l.B)),r=n.next();!r.done;r=n.next())i=r.value,l.i.overrideFile(i,l.B[i]);if(l.B={},l.g.listeners)for(o=s(l.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,ze(l,u);c=l.j,l.j={},l.setOptions(c),e.g=0}))}))}(t),3):y(e,function(e){return Ce(e,(function e(){var t,n,r,i,o,a,u=this;return _(e,(function(e){switch(e.g){case 1:if(!u.o)return e.return();if(!u.u){e.g=2;break}t=s(u.u),n=t.next();case 3:if(n.done){e.g=5;break}return y(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:u.u=void 0;case 2:if(u.A){for(r=new u.h.GraphOptionChangeRequestList,i=s(u.A),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);u.i.changeOptions(r),r.delete(),u.A=void 0}u.o=!1,e.g=0}}))}))}(t),0)}))}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){return Ce(this,(function n(){var r,i,o,a,u,c,l,d,f,p=this;return _(n,(function(n){switch(n.g){case 1:return p.g.inputs?(r=1e3*(null==t?performance.now():t),y(n,p.C,2)):n.return();case 2:return y(n,p.initialize(),3);case 3:for(i=new p.h.PacketDataList,o=s(Object.keys(e)),a=o.next();!a.done;a=o.next())if(u=a.value,c=p.g.inputs[u]){e:{var h=p,v=e[u];switch(c.type){case"video":var m=h.m[c.stream];if(m||(m=new Fe(h.h,h.D),h.m[c.stream]=m),0===(h=m).l&&(h.l=h.h.createTexture()),typeof HTMLVideoElement<"u"&&v instanceof HTMLVideoElement){var g=v.videoWidth;m=v.videoHeight}else typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement?(g=v.naturalWidth,m=v.naturalHeight):(g=v.width,m=v.height);m={glName:h.l,width:g,height:m},(g=h.g).canvas.width=m.width,g.canvas.height=m.height,g.activeTexture(g.TEXTURE0),h.h.bindTexture2d(h.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,v),h.h.bindTexture2d(0),h=m;break e;case"detections":for((m=h.m[c.stream])||(m=new Ze(h.h),h.m[c.stream]=m),(h=m).data||(h.data=new h.g.DetectionListData),h.data.reset(v.length),m=0;m<v.length;++m){g=v[m];var b=h.data,w=b.setBoundingBox,E=m,k=g.T,_=new Le;ge(_,1,k.Z),ge(_,2,k.$),ge(_,3,k.height),ge(_,4,k.width),ge(_,5,k.rotation),ge(_,6,k.X);var S=k=new ee;re(S,1,he(_,1)),re(S,2,he(_,2)),re(S,3,he(_,3)),re(S,4,he(_,4)),re(S,5,he(_,5));var C=he(_,6);if(null!=C&&null!=C){z(S.g,48);var x=S.g,T=C;C=0>T;var I=(T=Math.abs(T))>>>0;for(T=Math.floor((T-I)/4294967296),T>>>=0,C&&(T=~T>>>0,4294967295<(I=1+(~I>>>0))&&(I=0,4294967295<++T&&(T=0))),C=G=I,I=T;0<I||127<C;)x.push(127&C|128),C=(C>>>7|I<<25)>>>0,I>>>=7;x.push(C)}if(_e(_,S),k=ne(k),w.call(b,E,k),g.O)for(b=0;b<g.O.length;++b)S=!!(_=g.O[b]).visibility,E=(w=h.data).addNormalizedLandmark,k=m,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),ge(S=new Oe,1,_.x),ge(S,2,_.y),ge(S,3,_.z),_.visibility&&ge(S,4,_.visibility),re(x=_=new ee,1,he(S,1)),re(x,2,he(S,2)),re(x,3,he(S,3)),re(x,4,he(S,4)),re(x,5,he(S,5)),_e(S,x),_=ne(_),E.call(w,k,_);if(g.M)for(b=0;b<g.M.length;++b){if(E=(w=h.data).addClassification,k=m,_=g.M[b],ge(S=new xe,2,_.Y),_.index&&ge(S,1,_.index),_.label&&ge(S,3,_.label),_.displayName&&ge(S,4,_.displayName),x=_=new ee,null!=(I=he(S,1))&&null!=I)if(z(x.g,8),C=x.g,0<=I)z(C,I);else{for(T=0;9>T;T++)C.push(127&I|128),I>>=7;C.push(1)}re(x,2,he(S,2)),null!=(C=he(S,3))&&(C=N(C),z(x.g,26),z(x.g,C.length),te(x,x.g.end()),te(x,C)),null!=(C=he(S,4))&&(C=N(C),z(x.g,34),z(x.g,C.length),te(x,x.g.end()),te(x,C)),_e(S,x),_=ne(_),E.call(w,k,_)}}h=h.data;break e;default:h={}}}switch(l=h,d=c.stream,c.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:r}));break;case"detections":(f=l).stream=d,f.timestamp=r,i.pushDetectionList(f);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return p.i.send(i),y(n,p.C,4);case 4:i.delete(),n.g=0}}))}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",Xe),x("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=Je.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){return Ce(this,(function e(){var t=this;return _(e,(function(e){return y(e,t.g.initialize(),0)}))}))},t.reset=function(){this.g.reset()},t.send=function(e){return Ce(this,(function t(){var n=this;return _(t,(function(t){return y(t,n.g.send(e),0)}))}))},t.setOptions=function(e){this.g.setOptions(e)},x("SelfieSegmentation",Je),x("VERSION","0.1.1632777926")}).call(De);var je={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(Gt){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ra=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={fa:t,ga:!0},e.g=e.o||e.u}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ga)throw t.fa;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(t){return function(t){function n(e){return t.next(e)}function r(e){return t.throw(e)}return new e((function(i,o){!function t(a){a.done?i(a.value):e.resolve(a.value).then(n,r).then(t,o)}(t.next())}))}(new k(new b(t)))}v.prototype.s=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.u},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;o((function(){if(e.C()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.M(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.s=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).M(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).M(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(){throw Error("Invalid UTF8")}function I(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var R,O,A=typeof TextDecoder<"u",N=typeof TextEncoder<"u",P={},L=null;function M(e){var t;void 0===t&&(t=0),j(),t=P[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function D(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=L[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}j();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),i!==n?r.subarray(0,i):r}function j(){if(!L){L={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));P[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===L[o]&&(L[o]=i)}}}}var F,V="function"==typeof Uint8Array;function Z(e){return V&&null!=e&&e instanceof Uint8Array}function G(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var W="function"==typeof Uint8Array.prototype.slice,U=0;function X(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function B(){return Error("Failed to read varint, encoding is invalid.")}function H(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&Y(this,e)}function Y(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return D(e);if(e.constructor===G)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||Z(t)?t:"string"==typeof t?D(t):null,(e=e.L=t)?new Uint8Array(e):F||(F=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function z(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function K(e){var t=e.h,n=t[e.g],r=127&n;if(128>n)return e.g+=1,z(e),r;if(r|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,z(e),r;if(r|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,z(e),r;if(r|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,z(e),r;if(n=t[e.g+4],e.g+=5,r|=(15&n)<<28,128>n)return z(e),r;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw B();return z(e),r}H.prototype.reset=function(){this.g=this.j};var J=[];function Q(){this.g=[]}function q(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function $(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,J.length?(n=J.pop(),t&&(n.v=t.v),e&&Y(n,e),e=n):e=new H(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function ee(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=K(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw X(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function te(e){switch(e.h){case 0:if(0!=e.h)te(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,z(e);break e}throw B()}break;case 1:(e=e.g).g+=8,z(e);break;case 2:2!=e.h?te(e):(t=K(e.g)>>>0,(e=e.g).g+=t,z(e));break;case 5:(e=e.g).g+=4,z(e);break;case 3:for(t=e.i;;){if(!ee(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}te(e)}break;default:throw X(e.h,e.j)}}Q.prototype.length=function(){return this.g.length},Q.prototype.end=function(){var e=this.g;return this.g=[],e},$.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ne=[];function re(){this.i=[],this.h=0,this.g=new Q}function ie(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var oe="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function ae(e,t){Object.isFrozen(e)||(oe?e[oe]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function se(e){var t;return null==(t=oe?e[oe]:e.N)?0:t}function ue(e){return ae(e,1),e}function ce(e){return!!Array.isArray(e)&&!!(2&se(e))}function le(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");ae(e,2)}function de(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var fe=Object.freeze(ue([]));function pe(e){if(ce(e.m))throw Error("Cannot mutate an immutable Message")}var he,ve=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function me(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ge(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ye(e,t,n,r){r=void 0!==r&&r,pe(e),t<e.i&&!r?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function be(e,t,n,r){n=void 0===n||n;var i=ge(e,t,r=void 0!==r&&r);return null==i&&(i=fe),ce(e.m)?n&&(le(i),Object.freeze(i)):(i===fe||ce(i))&&ye(e,t,i=ue(i.slice()),r),i}function we(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function Ee(e,t,n,r){e.j||(e.j={});var i=ce(e.m),o=e.j[n];if(!o){r=be(e,n,!0,void 0!==r&&r),o=[],i=i||ce(r);for(var a=0;a<r.length;a++)o[a]=new t(r[a]),i&&le(o[a].m);i&&(le(o),Object.freeze(o)),e.j[n]=o}return o}function ke(e,t,n,r,i){var o=void 0!==o&&o;return pe(e),o=Ee(e,n,t,o),n=r||new n,e=be(e,t),null!=i?(o.splice(i,0,n),e.splice(i,0,n.m)):(o.push(n),e.push(n.m)),n}function _e(e,t){return null==(e=ge(e,t))?0:e}function Se(e,t){return null==(e=ge(e,t))?"":e}function Ce(e){var t=Ie;return Te(e,t=void 0===t?Re:t)}function xe(e,t){if(null!=e){if(Array.isArray(e))e=Te(e,t);else if(de(e)){var n,r={};for(n in e)r[n]=xe(e[n],t);e=r}else e=t(e);return e}}function Te(e,t){for(var n=e.slice(),r=0;r<n.length;r++)n[r]=xe(n[r],t);return Array.isArray(e)&&1&se(e)&&ue(n),n}function Ie(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(Z(e))return M(e);if(e instanceof G){var t=e.L;return t=null==t||"string"==typeof t?t:V&&t instanceof Uint8Array?M(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Ce(e):e)}function Re(e){return Z(e)?new Uint8Array(e):e}function Oe(e,t,n){e||(e=he),he=null;var r=this.constructor.h;if(e||(e=r?[r]:[]),this.h=(r?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(r=this.m.length)-1,r&&de(r=this.m[e])?(this.i=e-this.h,this.g=r):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(r=this.m[e])?Array.isArray(r)&&ue(r):this.m[e]=fe;else{var i=(r=this.g||(this.g=this.m[this.i+this.h]={}))[e];i?Array.isArray(i)&&ue(i):r[e]=fe}}function Ae(){Oe.apply(this,arguments)}if(Oe.prototype.toJSON=function(){return Ce(this.m)},Oe.prototype.toString=function(){return this.m.toString()},h(Ae,Oe),ve){var Ne={};Object.defineProperties(Ae,(Ne[Symbol.hasInstance]=me((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),Ne))}function Pe(e,t,n){if(n){var r,i={};for(r in n){var o=n[r],a=o.ja;a||(i.F=o.pa||o.ha.P,o.ba?(i.U=Ze(o.ba),a=function(e){return function(t,n,r){return e.F(t,n,r,e.U)}}(i)):o.da?(i.T=Ge(o.X.g,o.da),a=function(e){return function(t,n,r){return e.F(t,n,r,e.T)}}(i)):a=i.F,o.ja=a),a(t,e,o.X),i={F:i.F,U:i.U,T:i.T}}}!function(e,t){if(t=t.ca){ie(e,e.g.end());for(var n=0;n<t.length;n++)ie(e,t[n])}}(t,e)}var Le=Symbol();function Me(e,t,n){return e[Le]||(e[Le]=function(e,r){return t(e,r,n)})}function De(e){var t=e[Le];if(!t){var n=$e(e);t=function(e,t){return et(e,t,n)},e[Le]=t}return t}function je(e){var t=function(e){var t=e.ba;return t?De(t):(t=e.oa)?Me(e.X.g,t,e.da):void 0}(e),n=e.X,r=e.ha.O;return t?function(e,i){return r(e,i,n,t)}:function(e,t){return r(e,t,n)}}function Fe(e,t,n,r,i,o){var a=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),a++);a<e.length;){n=e[a++];for(var s=a+1;s<e.length&&"number"!=typeof e[s];)s++;var u=e[a++];switch(s-=a){case 0:r(t,n,u);break;case 1:r(t,n,u,e[a++]);break;case 2:i(t,n,u,e[a++],e[a++]);break;case 3:s=e[a++];var c=e[a++],l=e[a++];Array.isArray(l)?i(t,n,u,s,c,l):o(t,n,u,s,c,l);break;case 4:o(t,n,u,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return t}var Ve=Symbol();function Ze(e){var t=e[Ve];if(!t){var n=Ye(e);t=function(e,t){return nt(e,t,n)},e[Ve]=t}return t}function Ge(e,t){var n=e[Ve];return n||(n=function(e,n){return Pe(e,n,t)},e[Ve]=n),n}var We=Symbol();function Ue(e,t){e.push(t)}function Xe(e,t,n){e.push(t,n.P)}function Be(e,t,n,r,i){var o=Ze(i),a=n.P;e.push(t,(function(e,t,n){return a(e,t,n,r,o)}))}function He(e,t,n,r,i,o){var a=Ge(r,o),s=n.P;e.push(t,(function(e,t,n){return s(e,t,n,r,a)}))}function Ye(e){return e[We]||Fe(e,e[We]=[],Ue,Xe,Be,He)}var ze=Symbol();function Ke(e,t){e[0]=t}function Je(e,t,n,r){var i=n.O;e[t]=r?function(e,t,n){return i(e,t,n,r)}:i}function Qe(e,t,n,r,i,o){var a=n.O,s=De(i);e[t]=function(e,t,n){return a(e,t,n,r,s,o)}}function qe(e,t,n,r,i,o,a){var s=n.O,u=Me(r,i,o);e[t]=function(e,t,n){return s(e,t,n,r,u,a)}}function $e(e){return e[ze]||Fe(e,e[ze]={},Ke,Je,Qe,qe)}function et(e,t,n){for(;ee(t)&&4!=t.h;){var r=t.i,i=n[r];if(!i){var o=n[0];o&&(o=o[r])&&(i=n[r]=je(o))}if((!i||!i(t,e,r))&&(r=e,o=(i=t).j,te(i),!i.W)){var a=i.g.h;i=o===(i=i.g.g)?F||(F=new Uint8Array(0)):W?a.slice(o,i):new Uint8Array(a.subarray(o,i)),(o=r.ca)?o.push(i):r.ca=[i]}}return e}function tt(e,t,n){if(ne.length){var r=ne.pop();e&&(Y(r.g,e),r.i=-1,r.h=-1),e=r}else e=new $(e);try{return et(new t,e,$e(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ne.length&&ne.push(e)}}function nt(e,t,n){for(var r=n.length,i=r%2==1,o=i?1:0;o<r;o+=2)(0,n[o+1])(t,e,n[o]);Pe(e,t,i?n[0]:void 0)}function rt(e,t){var n=new re;nt(e,n,Ye(t)),ie(n,n.g.end()),e=new Uint8Array(n.h);for(var r=(t=n.i).length,i=0,o=0;o<r;o++){var a=t[o];e.set(a,i),i+=a.length}return n.i=[e],e}function it(e,t){return{O:e,P:t}}var ot=it((function(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],i=e.h[e.g+1],o=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,z(e),e=2*((i=(r<<0|i<<8|o<<16|a<<24)>>>0)>>31)+1,r=i>>>23&255,i&=8388607,ye(t,n,255==r?i?NaN:1/0*e:0==r?e*Math.pow(2,-149)*i:e*Math.pow(2,r-150)*(i+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){q(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?U=0<1/r?0:2147483648:isNaN(r)?U=2147483647:34028234663852886e22<r?U=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),U=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,U=(n<<31|t+127<<23|8388607&r)>>>0),n=U,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),at=it((function(e,t,n){if(0!==e.h)return!1;for(var r=e.g,i=128,o=0,a=e=0;4>a&&128<=i;a++)i=r.h[r.g++],z(r),o|=(127&i)<<7*a;if(128<=i&&(i=r.h[r.g++],z(r),o|=(127&i)<<28,e|=(127&i)>>4),128<=i)for(a=0;5>a&&128<=i;a++)i=r.h[r.g++],z(r),e|=(127&i)<<7*a+3;if(!(128>i))throw B();return r=o>>>0,(e=2147483648&(i=e>>>0))&&(i=~i>>>0,0==(r=1+~r>>>0)&&(i=i+1>>>0)),r=4294967296*i+(r>>>0),ye(t,n,e?-r:r),!0}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t){q(e.g,8*n),e=e.g;var r=t;for(n=0>r,t=(r=Math.abs(r))>>>0,r=Math.floor((r-t)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++r&&(r=0))),n=U=t,t=r;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),st=it((function(e,t,n){return 0===e.h&&(ye(t,n,K(e.g)),!0)}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t)if(q(e.g,8*n),e=e.g,0<=(n=t))q(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),ut=it((function(e,t,n){if(2!==e.h)return!1;var r,i=K(e.g)>>>0,o=(e=e.g).g;if(e.g+=i,z(e),e=e.h,A)(r=R)||(r=R=new TextDecoder("utf-8",{fatal:!0})),r=r.decode(e.subarray(o,o+i));else{i=o+i;for(var a,s,u,c=[],l=null;o<i;)128>(a=e[o++])?c.push(a):224>a?o>=i?T():(s=e[o++],194>a||128!==(192&s)?(o--,T()):c.push((31&a)<<6|63&s)):240>a?o>=i-1?T():128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(r=e[o++]))?(o--,T()):c.push((15&a)<<12|(63&s)<<6|63&r):244>=a?o>=i-2?T():128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(r=e[o++]))||128!==(192&(u=e[o++]))?(o--,T()):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&u,a-=65536,c.push(55296+(a>>10&1023),56320+(1023&a))):T(),8192<=c.length&&(l=I(l,c),c.length=0);r=I(l,c)}return ye(t,n,r),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){var r=!1;if(r=void 0!==r&&r,N){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(O||(O=new TextEncoder)).encode(t)}else{for(var i=0,o=new Uint8Array(3*t.length),a=0;a<t.length;a++){var s=t.charCodeAt(a);if(128>s)o[i++]=s;else{if(2048>s)o[i++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<t.length){var u=t.charCodeAt(++a);if(56320<=u&&57343>=u){s=1024*(s-55296)+u-56320+65536,o[i++]=s>>18|240,o[i++]=s>>12&63|128,o[i++]=s>>6&63|128,o[i++]=63&s|128;continue}a--}if(r)throw Error("Found an unpaired surrogate");s=65533}o[i++]=s>>12|224,o[i++]=s>>6&63|128}o[i++]=63&s|128}}t=o.subarray(0,i)}q(e.g,8*n+2),q(e.g,t.length),ie(e,e.g.end()),ie(e,t)}})),ct=it((function(e,t,n,r,i){if(2!==e.h)return!1;t=ke(t,n,r),n=e.g.i,r=K(e.g)>>>0;var o=e.g.g+r,a=o-n;if(0>=a&&(e.g.i=o,i(t,e),a=o-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0}),(function(e,t,n,r,i){if(null!=(t=Ee(t,r,n)))for(r=0;r<t.length;r++){var o=e;q(o.g,8*n+2);var a=o.g.end();ie(o,a),a.push(o.h),o=a,i(t[r],e),a=e;var s=o.pop();for(s=a.h+a.g.length()-s;127<s;)o.push(127&s|128),s>>>=7,a.h++;o.push(s),a.h++}}));function lt(){Ae.apply(this,arguments)}if(h(lt,Ae),ve){var dt={};Object.defineProperties(lt,(dt[Symbol.hasInstance]=me(Object[Symbol.hasInstance]),dt))}function ft(e){lt.call(this,e)}function pt(){return[1,st,2,ot,3,ut,4,ut]}function ht(e){lt.call(this,e,-1,mt)}function vt(){return[1,ct,ft,pt]}h(ft,lt),h(ht,lt),ht.prototype.addClassification=function(e,t){return ke(this,1,ft,e,t),this};var mt=[1];function gt(e){lt.call(this,e)}function yt(){return[1,ot,2,ot,3,ot,4,ot,5,ot]}function bt(e){lt.call(this,e,-1,Et)}function wt(){return[1,ct,gt,yt]}h(gt,lt),h(bt,lt);var Et=[1];function kt(e){lt.call(this,e)}function _t(){return[1,ot,2,ot,3,ot,4,ot,5,ot,6,at]}function St(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ct(e){return Ee(e,ft,1).map((function(e){return{index:_e(e,1),score:we(e,2),label:null!=ge(e,3)?Se(e,3):void 0,displayName:null!=ge(e,4)?Se(e,4):void 0}}))}function xt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ge(e,4)?we(e,4):void 0}}function Tt(e){return e.map((function(e){return Ee(tt(e,bt,wt),gt,1).map(xt)}))}function It(e,t){this.h=e,this.g=t,this.l=0}function Rt(t,n,r){return function(e,t){var n=e.g;if(void 0===e.o){var r=St(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=St(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.o=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={K:n.getAttribLocation(r,"aVertex"),J:n.getAttribLocation(r,"aTex"),qa:i},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.K),n.disableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Ot(e){this.g=e}h(kt,lt);var At=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Nt(e,t){return t+e}function Pt(e,t){window[e]=t}function Lt(t){if(this.g=t,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.$=!0,this.D=e.resolve(),this.Z="",this.C={},this.locateFile=t&&t.locateFile||Nt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.aa=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function Mt(t){var n,r,i,o,a,s,c,l,d,f,p;return _((function(h){switch(h.g){case 1:return t.$?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,y(h,_((function(e){switch(e.g){case 1:return e.o=2,y(e,WebAssembly.instantiate(At),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(r=h.h,"object"==typeof window)return Pt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Pt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(n){var r=Dt(t,n.url);if(void 0!==n.path){var i=n.path;r=r.then((function(n){return t.overrideFile(i,n),e.resolve(n)}))}return r}))),d=e.all(c.map((function(n){return void 0===n.simd||n.simd&&r||!n.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.aa)):e.resolve()}))).then((function(){var e,n,r;return _((function(i){if(1==i.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=t,y(i,e(n),2);r.h=i.h,i.g=0}))})),f=_((function(e){return t.g.graph&&t.g.graph.url?e=y(e,Dt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),y(h,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=n.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return t.locateFile(e.url,t.aa)})),importScripts.apply(null,u(i)),o=t,y(h,createMediapipeSolutionsWasm(Module),6);case 6:o.h=h.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,na:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),h.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(p=t.l.getContext("webgl2",{}))&&!(p=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();t.G=p,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.$=!1,h.g=0}}))}function Dt(e,t){var n,r;return _((function(i){return t in e.H?i.return(e.H[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=r,i.return(r))}))}function jt(e,t,n){var r,i,o,a,u,c,l,d,f,p,h,v,m,g;return _((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(e.I=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){b.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(b,function(e,t,n){var r;return _((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?i.return(n):n instanceof e.h.Texture2dDataOut?((r=e.u[t])||(r=new It(e.h,e.G),e.u[t]=r),i.return(Rt(r,n,e.I))):i.return(void 0)}))}(e,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=tt(w.get(C),kt,_t);x={ea:{ka:we(x,1),la:we(x,2),height:we(x,3),width:we(x,4),rotation:we(x,5,0),ia:_e(x,6)},Y:Ee(tt(E.get(C),bt,wt),gt,1).map(xt),V:Ct(tt(k.get(C),ht,vt))},S.push(x)}w=S}else w=[];r[d]=w,b.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===p){b.g=3;break}if("float_list"===f.type){r[d]=p,b.g=7;break}if("proto"===f.type){r[d]=p,b.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=e.u[d])||(h=new It(e.h,e.G),e.u[d]=h),y(b,Rt(h,p,e.I),13);case 13:v=b.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),b.g=3;break;case 14:m[g]=b.h;case 3:a=l.next(),b.g=2;break;case 4:return b.return(r)}}))}function Ft(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.D=jt(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function Vt(e){return void 0===e&&(e=0),1===e?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Zt(e){var t=this;e=e||{},this.g=new Lt({locateFile:e.locateFile,files:function(e){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Vt(e.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Tt},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Tt},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(e){return e.map((function(e){return Ct(tt(e,ht,vt))[0]}))}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,i;return _((function(o){return 1==o.g?(n=Vt(e),r="third_party/mediapipe/modules/hand_landmark/"+n,y(o,Dt(t.g,n),2)):(i=o.h,t.g.overrideFile(r,i),o.return(!0))}))}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}(t=Lt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return _((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={R:o.R,S:o.S},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.R=u.onChange,o.S=e[c],r.push(function(e){return function(){return _((function(t){if(1==t.g)return y(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(i),this.A=(void 0===this.A?[]:this.A).concat(r))}},t.initialize=function(){var e=this;return _((function(t){return 1==t.g?y(t,Mt(e),2):3!=t.g?y(t,function(e){var t,n,r,i,o,a,u,c;return _((function(l){if(1==l.g)return e.g.graph&&e.g.graph.url&&e.Z===e.g.graph.url?l.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Z=e.g.graph.url,y(l,Dt(e,e.g.graph.url),3)):void(l.g=2));for(2!=l.g&&(t=l.h,e.i.loadGraph(t)),n=s(Object.keys(e.C)),r=n.next();!r.done;r=n.next())i=r.value,e.i.overrideFile(i,e.C[i]);if(e.C={},e.g.listeners)for(o=s(e.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,Ft(e,u);c=e.j,e.j={},e.setOptions(c),l.g=0}))}(e),3):y(t,function(e){var t,n,r,i,o,a;return _((function(u){switch(u.g){case 1:if(!e.s)return u.return();if(!e.A){u.g=2;break}t=s(e.A),n=t.next();case 3:if(n.done){u.g=5;break}return y(u,(0,n.value)(),4);case 4:n=t.next(),u.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(r=new e.h.GraphOptionChangeRequestList,i=s(e.B),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);e.i.changeOptions(r),r.delete(),e.B=void 0}e.s=!1,u.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,r,i,o,a,u,c,l,d,f=this;return _((function(p){switch(p.g){case 1:return f.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,f.D,2)):p.return();case 2:return y(p,f.initialize(),3);case 3:for(r=new f.h.PacketDataList,i=s(Object.keys(e)),o=i.next();!o.done;o=i.next())if(a=o.value,u=f.g.inputs[a]){e:{var h=e[a];switch(u.type){case"video":var v=f.o[u.stream];if(v||(v=new It(f.h,f.G),f.o[u.stream]=v),0===v.l&&(v.l=v.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement)var m=h.videoWidth,g=h.videoHeight;else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(m=h.naturalWidth,g=h.naturalHeight):(m=h.width,g=h.height);g={glName:v.l,width:m,height:g},(m=v.g).canvas.width=g.width,m.canvas.height=g.height,m.activeTexture(m.TEXTURE0),v.h.bindTexture2d(v.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,h),v.h.bindTexture2d(0),v=g;break e;case"detections":for((v=f.o[u.stream])||(v=new Ot(f.h),f.o[u.stream]=v),v.data||(v.data=new v.g.DetectionListData),v.data.reset(h.length),g=0;g<h.length;++g){m=h[g];var b=v.data,w=b.setBoundingBox,E=g,k=m.ea,_=new kt;if(ye(_,1,k.ka),ye(_,2,k.la),ye(_,3,k.height),ye(_,4,k.width),ye(_,5,k.rotation),ye(_,6,k.ia),k=rt(_,_t),w.call(b,E,k),m.Y)for(b=0;b<m.Y.length;++b){var S=!!(_=m.Y[b]).visibility;E=(w=v.data).addNormalizedLandmark,k=g,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),ye(S=new gt,1,_.x),ye(S,2,_.y),ye(S,3,_.z),_.visibility&&ye(S,4,_.visibility),_=rt(S,yt),E.call(w,k,_)}if(m.V)for(b=0;b<m.V.length;++b)E=(w=v.data).addClassification,k=g,_=m.V[b],ye(S=new ft,2,_.score),_.index&&ye(S,1,_.index),_.label&&ye(S,3,_.label),_.displayName&&ye(S,4,_.displayName),_=rt(S,pt),E.call(w,k,_)}v=v.data;break e;default:v={}}}switch(c=v,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:l,timestamp:n}));break;case"detections":(d=c).stream=l,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return f.i.send(r),y(p,f.D,4);case 4:r.delete(),p.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",Lt),x("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=Zt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return _((function(t){return y(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return _((function(n){return y(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},x("Hands",Zt),x("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),x("VERSION","0.4.1646424915")}).call(je);var Fe={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(Qt){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.da=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(t){return function(t){function n(e){return t.next(e)}function r(e){return t.throw(e)}return new e((function(i,o){!function t(a){a.done?i(a.value):e.resolve(a.value).then(n,r).then(t,o)}(t.next())}))}(new k(new b(t)))}v.prototype.o=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.s},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;o((function(){if(e.B()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.J(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).J(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).J(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(e){!function(e){C.setTimeout((function(){throw e}),0)}(e)}function I(e,t){T(Error("Invalid wire type: "+e+" (at position "+t+")"))}function R(){T(Error("Failed to read varint, encoding is invalid."))}function O(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var A,N,P=typeof TextDecoder<"u",L=typeof TextEncoder<"u";function M(e){if(L)e=(N||(N=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128>o)r[n++]=o;else{if(2048>o)r[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&i<e.length){var a=e.charCodeAt(++i);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128;continue}i--}if(t)throw Error("Found an unpaired surrogate");o=65533}r[n++]=o>>12|224,r[n++]=o>>6&63|128}r[n++]=63&o|128}}e=r.subarray(0,n)}return e}var D={},j=null;function F(e){var t;void 0===t&&(t=0),Z(),t=D[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function V(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=j[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Z();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),r.subarray(0,i)}function Z(){if(!j){j={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));D[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===j[o]&&(j[o]=i)}}}}var G,W="function"==typeof Uint8Array;function U(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}U.prototype.toJSON=function(){if(null==this.g)var e="";else e=this.g,e=this.g=null==e||"string"==typeof e?e:W&&e instanceof Uint8Array?F(e):null;return e};var X="function"==typeof Uint8Array.prototype.slice;function B(e,t,n){return t===n?G||(G=new Uint8Array(0)):X?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var H=0;function Y(e,t){t=void 0!==(t=void 0===t?{}:t).u&&t.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=t,e&&z(this,e)}function z(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return V(e);if(e.constructor===U){if(null==e.g)var t=G||(G=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||W&&null!=n&&n instanceof Uint8Array?n:"string"==typeof n?V(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.m=0,e.i=e.h.length,e.g=e.m}function K(e){for(var t=128,n=0,r=0,i=0;4>i&&128<=t;i++)n|=(127&(t=e.h[e.g++]))<<7*i;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,r|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)r|=(127&(t=e.h[e.g++]))<<7*i+3;if(128>t)return e=n>>>0,(r=2147483648&(t=r>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),r?-e:e;e.l=!0,R()}function J(e){e.g>e.i&&(e.l=!0,T(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}Y.prototype.reset=function(){this.g=this.m},Y.prototype.j=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,J(this),n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,J(this),n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,J(this),n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,J(this),n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,J(this),n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]?(this.l=!0,R(),n):(J(this),n))))))},Y.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],r=this.h[this.g+3];return this.g+=4,J(this),e=2*((n=(e<<0|t<<8|n<<16|r<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var Q=[];function q(){this.g=new Uint8Array(64),this.h=0}function $(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function ee(e,t){for(;127<t;)$(e,127&t|128),t>>>=7;$(e,t)}function te(e){var t={},n=void 0!==t.N&&t.N;this.m={u:void 0!==t.u&&t.u},this.N=n,t=this.m,Q.length?(n=Q.pop(),t&&(n.u=t.u),e&&z(n,e),e=n):e=new Y(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function ne(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).l||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=e.g.j();return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,I(n,e.l),!1)}function re(e){switch(e.h){case 0:if(0!=e.h)re(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,J(e);break e}t++}e.l=!0,R()}break;case 1:(e=e.g).g+=8,J(e);break;case 2:2!=e.h?re(e):(t=e.g.j(),(e=e.g).g+=t,J(e));break;case 5:(e=e.g).g+=4,J(e);break;case 3:for(t=e.i;;){if(!ne(e)){e.j=!0,T(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,T(Error("Unmatched end-group tag")));break}re(e)}break;default:e.j=!0,I(e.h,e.l)}}function ie(e,t,n){e.N||(e=B(e.g.h,n,e.g.g),(n=t.o)?n.push(e):t.o=[e])}function oe(e,t,n){var r=e.g.i,i=e.g.j(),o=e.g.g+i;if(e.g.i=o,n(t,e),0!==(n=o-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=r,t}function ae(e,t,n){var r=e.g.j();for(r=e.g.g+r;e.g.g<r;)n.push(t.call(e.g))}q.prototype.length=function(){return this.h},q.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,B(e,0,t)},te.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var se=[];function ue(){this.h=[],this.i=0,this.g=new q}function ce(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function le(e,t,n){ee(e.g,8*t+2),ee(e.g,n.length),ce(e,e.g.end()),ce(e,n)}var de,fe="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function pe(e,t){Object.isFrozen(e)||(fe?e[fe]|=t:void 0!==e.g?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function he(e){return e?null==(t=fe?e[fe]:e.g)?0:t:0;var t}function ve(e){return Array.isArray(e)&&pe(e,1),e}function me(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");pe(e,2)}function ge(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function ye(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":return W&&null!=e&&e instanceof Uint8Array?F(e):e;default:return e}}function be(e,t){if(null!=e)return Array.isArray(e)||ge(e)?we(e,t):t(e)}function we(e,t){if(Array.isArray(e)){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=be(e[r],t);return 1&he(e)&&ve(n),n}for(r in n={},e)n[r]=be(e[r],t);return n}function Ee(e,t,n){var r=de;if(de=null,e||(e=r),r=this.constructor.ba,e||(e=r?[r]:[]),this.j=(r?0:-1)-(this.constructor.$||0),this.m=this.g=null,this.h=e,e=(r=this.h.length)-1,r&&ge(r=this.h[e])?(this.l=e-this.j,this.i=r):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.h[e])?ve(r):this.h[e]=_e):(Se(this),(r=this.i[e])?ve(r):this.i[e]=_e)}var ke,_e=Object.freeze(ve([]));function Se(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function Ce(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function xe(e,t,n){n=void 0===n||n;var r=void 0!==r&&r,i=Ce(e,t,r);return null==i&&(i=_e),i===_e?Oe(e,t,i=ve([]),r):n&&Array.isArray(i)&&2&he(i)&&Oe(e,t,i=i.slice(),r),i}function Te(e){var t=xe(e,3,!1);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function Ie(e,t,n){return null==(e=Ce(e,t))?n:e}function Re(e,t,n){return null==(e=null==(e=Ce(e,t))?e:+e)?void 0===n?0:n:e}function Oe(e,t,n,r){void 0!==r&&r||t>=e.l?(Se(e),e.i[t]=n):e.h[t+e.j]=n}function Ae(e,t,n){if(-1===n)return null;e.g||(e.g={});var r=e.g[n];if(r)return r;var i=Ce(e,n,!1);return null==i?r:(t=new t(i),e.g[n]=t)}function Ne(e,t,n){e.g||(e.g={});var r=e.g[n];if(!r){var i=xe(e,n,!1);r=[];for(var o=!!Array.isArray(i)&&!!(2&he(i)),a=0;a<i.length;a++)r[a]=new t(i[a]),o&&me(r[a].h);o&&(me(r),Object.freeze(r)),e.g[n]=r}return r}function Pe(e,t,n,r,i){var o=Ne(e,r,t);n=n||new r,e=xe(e,t),null!=i?(o.splice(i,0,n),e.splice(i,0,Le(n))):(o.push(n),e.push(Le(n)))}function Le(e){if(e.g)for(var t in e.g){var n=e.g[t];if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&Le(n[r]);else n&&Le(n)}return e.h}function Me(e,t){if(e=e.o){ce(t,t.g.end());for(var n=0;n<e.length;n++)ce(t,e[n])}}function De(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,r,i){return t(e,r,i,n)};case 3:var r=e[1],i=e[2];return function(e,n,o){return t(e,n,o,r,i)};case 4:var o=e[1],a=e[2],s=e[3];return function(e,n,r){return t(e,n,r,o,a,s)};default:throw Error("unsupported number of parameters, expected [2-4], got "+e.length)}}function je(e,t,n){for(;ne(t)&&4!=t.h;){var r=t.i,i=n[r];if(i){if(Array.isArray(i)&&(i=n[r]=De(i)),!i(t,e,r)){i=e;var o=(r=t).l;re(r),ie(r,i,o)}}else i=e,o=(r=t).l,re(r),ie(r,i,o)}return e}function Fe(e,t){var n=new ue;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var r=n.h,i=r.length,o=t=0;o<i;o++){var a=r[o];0!==a.length&&(e.set(a,t),t+=a.length)}0!==(i=(r=n.g).h)&&(e.set(r.g.subarray(0,i),t),r.h=0),n.h=[e],n=e}return n}function Ve(e,t,n){if(se.length){var r=se.pop();e&&(z(r.g,e),r.i=-1,r.h=-1),e=r}else e=new te(e);try{return n(new t,e)}finally{(t=e.g).h=null,t.m=0,t.i=0,t.g=0,t.l=!1,t.u=!1,e.i=-1,e.h=-1,e.j=!1,100>se.length&&se.push(e)}}function Ze(e,t,n){if(null!=(t=Ce(t,n))){ee(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?H=0<1/r?0:2147483648:isNaN(r)?H=2147483647:34028234663852886e22<r?H=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),H=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,H=(n<<31|t+127<<23|8388607&r)>>>0),$(e,(n=H)>>>0&255),$(e,n>>>8&255),$(e,n>>>16&255),$(e,n>>>24&255)}}function Ge(e,t,n){return 5===e.h&&(Oe(t,n,e.g.o()),!0)}function We(e,t,n){return(5===e.h||2===e.h)&&(t=xe(t,n),2==e.h?ae(e,Y.prototype.o,t):t.push(e.g.o()),!0)}function Ue(e,t,n){return 0===e.h&&(Oe(t,n,K(e.g)),!0)}function Xe(e,t,n){return 0===e.h&&(Oe(t,n,e.g.j()),!0)}function Be(e,t,n){if(2!==e.h)return!1;var r,i=e.g.j(),o=(e=e.g).g;if(e.g+=i,J(e),e=e.h,P)(r=A)||(r=A=new TextDecoder("utf-8",{fatal:!1})),r=r.decode(e.subarray(o,o+i));else{i=o+i;for(var a,s,u,c=[],l=null;o<i;)128>(a=e[o++])?c.push(a):224>a?o>=i?c.push(65533):(s=e[o++],194>a||128!==(192&s)?(o--,c.push(65533)):c.push((31&a)<<6|63&s)):240>a?o>=i-1?c.push(65533):128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(r=e[o++]))?(o--,c.push(65533)):c.push((15&a)<<12|(63&s)<<6|63&r):244>=a?o>=i-2?c.push(65533):128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(r=e[o++]))||128!==(192&(u=e[o++]))?(o--,c.push(65533)):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&u,a-=65536,c.push(55296+(a>>10&1023),56320+(1023&a))):c.push(65533),8192<=c.length&&(l=O(l,c),c.length=0);r=O(l,c)}return Oe(t,n,r),!0}function He(e,t,n,r,i){if(2!==e.h)return!1;e=oe(e,new r,i);var o=void 0!==o&&o;return t.g||(t.g={}),r=e&&Le(e),t.g[n]=e,Oe(t,n,r,o),!0}function Ye(e,t,n,r,i){return 2===e.h&&(Pe(t,n,e=oe(e,new r,i),r,void 0),!0)}function ze(e,t,n){return(0===e.h||2===e.h)&&(t=xe(t,n),2==e.h?ae(e,Y.prototype.j,t):t.push(e.g.j()),!0)}function Ke(e,t,n){return 0===e.h&&(Oe(t,n,K(e.g)),!0)}function Je(e){Ee.call(this,e,-1,et)}function Qe(e,t){return je(e,t,ke||(ke={1:Xe,2:Xe,3:We,4:Ke}))}Ee.prototype.toJSON=function(){return we(Le(this),ye)},Ee.prototype.toString=function(){return Le(this).toString()},h(Je,Ee),Je.prototype.getRows=function(){return Ce(this,1)},Je.prototype.getCols=function(){return Ce(this,2)},Je.prototype.getPackedDataList=function(){return Te(this)},Je.prototype.getLayout=function(){return Ie(this,4,0)};var qe,$e,et=[3];function tt(e){Ee.call(this,e)}function nt(e,t){var n=Ce(e,1);if(null!=n&&null!=n){ee(t.g,8);var r=t.g;if(0<=n)ee(r,n);else{for(var i=0;9>i;i++)$(r,127&n|128),n>>=7;$(r,1)}}Ze(t,e,2),null!=(r=Ce(e,3))&&le(t,3,M(r)),null!=(r=Ce(e,4))&&le(t,4,M(r)),Me(e,t)}function rt(e,t){return je(e,t,qe||(qe={1:Xe,2:Ge,3:Be,4:Be}))}function it(e){Ee.call(this,e,-1,ut)}function ot(e,t){return je(e,t,$e||($e={1:[Ye,tt,rt]}))}h(tt,Ee),h(it,Ee),it.prototype.addClassification=function(e,t){return Pe(this,1,e,tt,t),this};var at,st,ut=[1];function ct(e){Ee.call(this,e)}function lt(e,t){Ze(t,e,1),Ze(t,e,2),Ze(t,e,3),Ze(t,e,4),Ze(t,e,5),Me(e,t)}function dt(e,t){return je(e,t,at||(at={1:Ge,2:Ge,3:Ge,4:Ge,5:Ge}))}function ft(e){Ee.call(this,e,-1,mt)}function pt(e,t){return je(e,t,st||(st={1:[Ye,ct,dt]}))}h(ct,Ee),h(ft,Ee);var ht,vt,mt=[1];function gt(e){Ee.call(this,e)}function yt(e,t){Ze(t,e,1),Ze(t,e,2),Ze(t,e,3),Ze(t,e,4),Ze(t,e,5);var n=Ce(e,6);if(null!=n&&null!=n){ee(t.g,48);var r=t.g,i=n;n=0>i;var o=(i=Math.abs(i))>>>0;for(i=Math.floor((i-o)/4294967296),i>>>=0,n&&(i=~i>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++i&&(i=0))),n=H=o,o=i;0<o||127<n;)$(r,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;$(r,n)}Me(e,t)}function bt(e,t){return je(e,t,ht||(ht={1:Ge,2:Ge,3:Ge,4:Ge,5:Ge,6:Ue}))}function wt(e){Ee.call(this,e,-1,_t)}function Et(e,t){return je(e,t,vt||(vt={1:Ke,2:Ke,3:We,4:ze}))}h(gt,Ee),h(wt,Ee),wt.prototype.getVertexType=function(){return Ie(this,1,0)},wt.prototype.getPrimitiveType=function(){return Ie(this,2,0)},wt.prototype.getVertexBufferList=function(){return Te(this)},wt.prototype.getIndexBufferList=function(){return xe(this,4)};var kt,_t=[3,4];function St(e){Ee.call(this,e)}function Ct(e,t){return je(e,t,kt||(kt={1:[He,wt,Et],2:[He,Je,Qe]}))}h(St,Ee),St.prototype.getMesh=function(){return Ae(this,wt,1)},St.prototype.getPoseTransformMatrix=function(){return Ae(this,Je,2)};var xt=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Tt=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],It=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Rt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Ot=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],At=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Nt=[].concat(u(xt),u(Tt),u(It),u(Rt),u(Ot),u(At));function Pt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Lt(e){return Ne(e,tt,1).map((function(e){return{index:Ie(e,1,0),score:Re(e,2),label:null!=Ce(e,3)?Ie(e,3,""):void 0,displayName:null!=Ce(e,4)?Ie(e,4,""):void 0}}))}function Mt(e){return{x:Re(e,1),y:Re(e,2),z:Re(e,3),visibility:null!=Ce(e,4)?Re(e,4):void 0}}function Dt(e){return Ne(Ve(e,ft,pt),ct,1).map(Mt)}function jt(e,t){this.h=e,this.g=t,this.l=0}function Ft(t,n,r){return function(e,t){var n=e.g;if(void 0===e.m){var r=Pt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Pt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.m=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),ca:i},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Vt(e){this.g=e}var Zt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Gt(e,t){return t+e}function Wt(e,t){window[e]=t}function Ut(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||Gt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function Xt(t){var n,r,i,o,a,s,c,l,d,f,p;return _((function(h){switch(h.g){case 1:return t.R?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,y(h,_((function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(Zt),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(r=h.h,"object"==typeof window)return Wt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Wt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(n){var r=Bt(t,n.url);if(void 0!==n.path){var i=n.path;r=r.then((function(n){return t.overrideFile(i,n),e.resolve(n)}))}return r}))),d=e.all(c.map((function(n){return void 0===n.simd||n.simd&&r||!n.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.S)):e.resolve()}))).then((function(){var e,n,r;return _((function(i){if(1==i.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=t,y(i,e(n),2);r.h=i.h,i.g=0}))})),f=_((function(e){return t.g.graph&&t.g.graph.url?e=y(e,Bt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),y(h,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=n.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,u(i)),o=t,y(h,createMediapipeSolutionsWasm(Module),6);case 6:o.h=h.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,aa:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),h.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(p=t.l.getContext("webgl2",{}))&&!(p=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();t.D=p,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.R=!1,h.g=0}}))}function Bt(e,t){var n,r;return _((function(i){return t in e.F?i.return(e.F[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.F[t]=r,i.return(r))}))}function Ht(e,t,n){var r,i,o,a,u,c,l,d,f,p,h,v,m,g;return _((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(e.G=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){b.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(b,function(e,t,n){var r;return _((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?i.return(n):n instanceof e.h.Texture2dDataOut?((r=e.s[t])||(r=new jt(e.h,e.D),e.s[t]=r),i.return(Ft(r,n,e.G))):i.return(void 0)}))}(e,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=Ve(w.get(C),gt,bt);x={T:{X:Re(x,1),Y:Re(x,2),height:Re(x,3),width:Re(x,4),rotation:Re(x,5,0),W:Ie(x,6,0)},O:Dt(E.get(C)),M:Lt(Ve(k.get(C),it,ot))},S.push(x)}w=S}else w=[];r[d]=w,b.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===p){b.g=3;break}if("float_list"===f.type){r[d]=p,b.g=7;break}if("proto"===f.type){r[d]=p,b.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=e.s[d])||(h=new jt(e.h,e.D),e.s[d]=h),y(b,Ft(h,p,e.G),13);case 13:v=b.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),b.g=3;break;case 14:m[g]=b.h;case 3:a=l.next(),b.g=2;break;case 4:return b.return(r)}}))}function Yt(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.C=Ht(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function zt(e){return e.map(Kt)}function Kt(e){var t=(e=Ve(e,St,Ct)).getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var r=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return r},e}function Jt(e){var t=this;e=e||{},this.g=new Ut({locateFile:e.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:Dt},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:Dt},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:Dt},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:Dt},ea:{type:"proto",stream:"world_landmarks",transform:Dt},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:zt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,default:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,i,o;return _((function(a){if(1==a.g){switch(n="",e){case 1:n="pose_landmark_full.tflite";break;case 2:n="pose_landmark_heavy.tflite";break;default:n="pose_landmark_lite.tflite"}return r="third_party/mediapipe/modules/pose_landmark/"+n,i=t.g.locateFile(n,""),y(a,fetch(i),3)}return 2!=a.g?y(a,a.h.arrayBuffer(),2):(o=a.h,t.g.overrideFile(r,o),y(a,t.g.reset(),0))}))}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}(t=Ut.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return _((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={K:o.K,L:o.L},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.K=u.onChange,o.L=e[c],r.push(function(e){return function(){return _((function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(i),this.v=(void 0===this.v?[]:this.v).concat(r))}},t.initialize=function(){var e=this;return _((function(t){return 1==t.g?y(t,Xt(e),2):3!=t.g?y(t,function(e){var t,n,r,i,o,a,u,c;return _((function(l){if(1==l.g)return e.g.graph&&e.g.graph.url&&e.P===e.g.graph.url?l.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.P=e.g.graph.url,y(l,Bt(e,e.g.graph.url),3)):void(l.g=2));for(2!=l.g&&(t=l.h,e.i.loadGraph(t)),n=s(Object.keys(e.B)),r=n.next();!r.done;r=n.next())i=r.value,e.i.overrideFile(i,e.B[i]);if(e.B={},e.g.listeners)for(o=s(e.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,Yt(e,u);c=e.j,e.j={},e.setOptions(c),l.g=0}))}(e),3):y(t,function(e){var t,n,r,i,o,a;return _((function(u){switch(u.g){case 1:if(!e.o)return u.return();if(!e.v){u.g=2;break}t=s(e.v),n=t.next();case 3:if(n.done){u.g=5;break}return y(u,(0,n.value)(),4);case 4:n=t.next(),u.g=3;break;case 5:e.v=void 0;case 2:if(e.A){for(r=new e.h.GraphOptionChangeRequestList,i=s(e.A),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);e.i.changeOptions(r),r.delete(),e.A=void 0}e.o=!1,u.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,r,i,o,a,u,c,l,d,f=this;return _((function(p){switch(p.g){case 1:return f.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,f.C,2)):p.return();case 2:return y(p,f.initialize(),3);case 3:for(r=new f.h.PacketDataList,i=s(Object.keys(e)),o=i.next();!o.done;o=i.next())if(a=o.value,u=f.g.inputs[a]){e:{var h=e[a];switch(u.type){case"video":var v=f.m[u.stream];if(v||(v=new jt(f.h,f.D),f.m[u.stream]=v),0===v.l&&(v.l=v.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement)var m=h.videoWidth,g=h.videoHeight;else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(m=h.naturalWidth,g=h.naturalHeight):(m=h.width,g=h.height);g={glName:v.l,width:m,height:g},(m=v.g).canvas.width=g.width,m.canvas.height=g.height,m.activeTexture(m.TEXTURE0),v.h.bindTexture2d(v.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,h),v.h.bindTexture2d(0),v=g;break e;case"detections":for((v=f.m[u.stream])||(v=new Vt(f.h),f.m[u.stream]=v),v.data||(v.data=new v.g.DetectionListData),v.data.reset(h.length),g=0;g<h.length;++g){m=h[g];var b=v.data,w=b.setBoundingBox,E=g,k=m.T,_=new gt;if(Oe(_,1,k.X),Oe(_,2,k.Y),Oe(_,3,k.height),Oe(_,4,k.width),Oe(_,5,k.rotation),Oe(_,6,k.W),k=Fe(_,yt),w.call(b,E,k),m.O)for(b=0;b<m.O.length;++b){var S=!!(_=m.O[b]).visibility;E=(w=v.data).addNormalizedLandmark,k=g,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),Oe(S=new ct,1,_.x),Oe(S,2,_.y),Oe(S,3,_.z),_.visibility&&Oe(S,4,_.visibility),_=Fe(S,lt),E.call(w,k,_)}if(m.M)for(b=0;b<m.M.length;++b)E=(w=v.data).addClassification,k=g,_=m.M[b],Oe(S=new tt,2,_.score),_.index&&Oe(S,1,_.index),_.label&&Oe(S,3,_.label),_.displayName&&Oe(S,4,_.displayName),_=Fe(S,nt),E.call(w,k,_)}v=v.data;break e;default:v={}}}switch(c=v,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:l,timestamp:n}));break;case"detections":(d=c).stream=l,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return f.i.send(r),y(p,f.C,4);case 4:r.delete(),p.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",Ut),x("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=Jt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return _((function(t){return y(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return _((function(n){return y(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},x("Holistic",Jt),x("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),x("FACEMESH_LIPS",xt),x("FACEMESH_LEFT_EYE",Tt),x("FACEMESH_LEFT_EYEBROW",It),x("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),x("FACEMESH_RIGHT_EYE",Rt),x("FACEMESH_RIGHT_EYEBROW",Ot),x("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),x("FACEMESH_FACE_OVAL",At),x("FACEMESH_CONTOURS",Nt),x("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),x("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),x("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),x("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),x("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),x("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),x("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),x("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),r=e.getPackedDataList(),i=[],o=0;o<n;o++)i.push(Array(t));for(o=0;o<n;o++)for(var a=0;a<t;a++){var s=1===e.getLayout()?o*t+a:a*n+o;i[o][a]=r[s]}return i})),x("VERSION","0.5.1635989137")}).call(Fe);var Ve={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(Ht){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.na=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(t){return function(t){function n(e){return t.next(e)}function r(e){return t.throw(e)}return new e((function(i,o){!function t(a){a.done?i(a.value):e.resolve(a.value).then(n,r).then(t,o)}(t.next())}))}(new k(new b(t)))}v.prototype.s=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.u},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;o((function(){if(e.C()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.M(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.s=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).M(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).M(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(){throw Error("Invalid UTF8")}function I(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var R,O,A=typeof TextDecoder<"u",N=typeof TextEncoder<"u",P={},L=null;function M(e){var t;void 0===t&&(t=0),j(),t=P[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function D(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=L[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}j();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),i!==n?r.subarray(0,i):r}function j(){if(!L){L={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));P[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===L[o]&&(L[o]=i)}}}}var F,V="function"==typeof Uint8Array;function Z(e){return V&&null!=e&&e instanceof Uint8Array}function G(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var W="function"==typeof Uint8Array.prototype.slice,U=0;function X(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function B(){return Error("Failed to read varint, encoding is invalid.")}function H(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&Y(this,e)}function Y(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return D(e);if(e.constructor===G)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||Z(t)?t:"string"==typeof t?D(t):null,(e=e.L=t)?new Uint8Array(e):F||(F=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function z(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function K(e){var t=e.h,n=t[e.g],r=127&n;if(128>n)return e.g+=1,z(e),r;if(r|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,z(e),r;if(r|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,z(e),r;if(r|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,z(e),r;if(n=t[e.g+4],e.g+=5,r|=(15&n)<<28,128>n)return z(e),r;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw B();return z(e),r}H.prototype.reset=function(){this.g=this.j};var J=[];function Q(){this.g=[]}function q(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function $(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,J.length?(n=J.pop(),t&&(n.v=t.v),e&&Y(n,e),e=n):e=new H(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function ee(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=K(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw X(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function te(e){switch(e.h){case 0:if(0!=e.h)te(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,z(e);break e}throw B()}break;case 1:(e=e.g).g+=8,z(e);break;case 2:2!=e.h?te(e):(t=K(e.g)>>>0,(e=e.g).g+=t,z(e));break;case 5:(e=e.g).g+=4,z(e);break;case 3:for(t=e.i;;){if(!ee(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}te(e)}break;default:throw X(e.h,e.j)}}Q.prototype.length=function(){return this.g.length},Q.prototype.end=function(){var e=this.g;return this.g=[],e},$.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ne=[];function re(){this.i=[],this.h=0,this.g=new Q}function ie(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var oe="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function ae(e,t){Object.isFrozen(e)||(oe?e[oe]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function se(e){var t;return null==(t=oe?e[oe]:e.N)?0:t}function ue(e){return ae(e,1),e}function ce(e){return!!Array.isArray(e)&&!!(2&se(e))}function le(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");ae(e,2)}function de(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var fe=Object.freeze(ue([]));function pe(e){if(ce(e.m))throw Error("Cannot mutate an immutable Message")}var he,ve=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function me(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ge(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ye(e,t,n,r){r=void 0!==r&&r,pe(e),t<e.i&&!r?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function be(e,t,n,r){n=void 0===n||n;var i=ge(e,t,r=void 0!==r&&r);return null==i&&(i=fe),ce(e.m)?n&&(le(i),Object.freeze(i)):(i===fe||ce(i))&&ye(e,t,i=ue(i.slice()),r),i}function we(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function Ee(e,t,n,r){e.j||(e.j={});var i=ce(e.m),o=e.j[n];if(!o){r=be(e,n,!0,void 0!==r&&r),o=[],i=i||ce(r);for(var a=0;a<r.length;a++)o[a]=new t(r[a]),i&&le(o[a].m);i&&(le(o),Object.freeze(o)),e.j[n]=o}return o}function ke(e,t,n,r,i){var o=void 0!==o&&o;return pe(e),o=Ee(e,n,t,o),n=r||new n,e=be(e,t),null!=i?(o.splice(i,0,n),e.splice(i,0,n.m)):(o.push(n),e.push(n.m)),n}function _e(e,t){return null==(e=ge(e,t))?0:e}function Se(e,t){return null==(e=ge(e,t))?"":e}function Ce(e){var t=Ie;return Te(e,t=void 0===t?Re:t)}function xe(e,t){if(null!=e){if(Array.isArray(e))e=Te(e,t);else if(de(e)){var n,r={};for(n in e)r[n]=xe(e[n],t);e=r}else e=t(e);return e}}function Te(e,t){for(var n=e.slice(),r=0;r<n.length;r++)n[r]=xe(n[r],t);return Array.isArray(e)&&1&se(e)&&ue(n),n}function Ie(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(Z(e))return M(e);if(e instanceof G){var t=e.L;return t=null==t||"string"==typeof t?t:V&&t instanceof Uint8Array?M(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Ce(e):e)}function Re(e){return Z(e)?new Uint8Array(e):e}function Oe(e,t,n){e||(e=he),he=null;var r=this.constructor.h;if(e||(e=r?[r]:[]),this.h=(r?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(r=this.m.length)-1,r&&de(r=this.m[e])?(this.i=e-this.h,this.g=r):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(r=this.m[e])?Array.isArray(r)&&ue(r):this.m[e]=fe;else{var i=(r=this.g||(this.g=this.m[this.i+this.h]={}))[e];i?Array.isArray(i)&&ue(i):r[e]=fe}}function Ae(){Oe.apply(this,arguments)}if(Oe.prototype.toJSON=function(){return Ce(this.m)},Oe.prototype.toString=function(){return this.m.toString()},h(Ae,Oe),ve){var Ne={};Object.defineProperties(Ae,(Ne[Symbol.hasInstance]=me((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),Ne))}function Pe(e,t,n){if(n){var r,i={};for(r in n){var o=n[r],a=o.ha;a||(i.F=o.la||o.fa.P,o.aa?(i.U=Ze(o.aa),a=function(e){return function(t,n,r){return e.F(t,n,r,e.U)}}(i)):o.ca?(i.T=Ge(o.X.g,o.ca),a=function(e){return function(t,n,r){return e.F(t,n,r,e.T)}}(i)):a=i.F,o.ha=a),a(t,e,o.X),i={F:i.F,U:i.U,T:i.T}}}!function(e,t){if(t=t.ba){ie(e,e.g.end());for(var n=0;n<t.length;n++)ie(e,t[n])}}(t,e)}var Le=Symbol();function Me(e,t,n){return e[Le]||(e[Le]=function(e,r){return t(e,r,n)})}function De(e){var t=e[Le];if(!t){var n=$e(e);t=function(e,t){return et(e,t,n)},e[Le]=t}return t}function je(e){var t=function(e){var t=e.aa;return t?De(t):(t=e.ka)?Me(e.X.g,t,e.ca):void 0}(e),n=e.X,r=e.fa.O;return t?function(e,i){return r(e,i,n,t)}:function(e,t){return r(e,t,n)}}function Fe(e,t,n,r,i,o){var a=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),a++);a<e.length;){n=e[a++];for(var s=a+1;s<e.length&&"number"!=typeof e[s];)s++;var u=e[a++];switch(s-=a){case 0:r(t,n,u);break;case 1:r(t,n,u,e[a++]);break;case 2:i(t,n,u,e[a++],e[a++]);break;case 3:s=e[a++];var c=e[a++],l=e[a++];Array.isArray(l)?i(t,n,u,s,c,l):o(t,n,u,s,c,l);break;case 4:o(t,n,u,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return t}var Ve=Symbol();function Ze(e){var t=e[Ve];if(!t){var n=Ye(e);t=function(e,t){return nt(e,t,n)},e[Ve]=t}return t}function Ge(e,t){var n=e[Ve];return n||(n=function(e,n){return Pe(e,n,t)},e[Ve]=n),n}var We=Symbol();function Ue(e,t){e.push(t)}function Xe(e,t,n){e.push(t,n.P)}function Be(e,t,n,r,i){var o=Ze(i),a=n.P;e.push(t,(function(e,t,n){return a(e,t,n,r,o)}))}function He(e,t,n,r,i,o){var a=Ge(r,o),s=n.P;e.push(t,(function(e,t,n){return s(e,t,n,r,a)}))}function Ye(e){return e[We]||Fe(e,e[We]=[],Ue,Xe,Be,He)}var ze=Symbol();function Ke(e,t){e[0]=t}function Je(e,t,n,r){var i=n.O;e[t]=r?function(e,t,n){return i(e,t,n,r)}:i}function Qe(e,t,n,r,i,o){var a=n.O,s=De(i);e[t]=function(e,t,n){return a(e,t,n,r,s,o)}}function qe(e,t,n,r,i,o,a){var s=n.O,u=Me(r,i,o);e[t]=function(e,t,n){return s(e,t,n,r,u,a)}}function $e(e){return e[ze]||Fe(e,e[ze]={},Ke,Je,Qe,qe)}function et(e,t,n){for(;ee(t)&&4!=t.h;){var r=t.i,i=n[r];if(!i){var o=n[0];o&&(o=o[r])&&(i=n[r]=je(o))}if((!i||!i(t,e,r))&&(r=e,o=(i=t).j,te(i),!i.W)){var a=i.g.h;i=o===(i=i.g.g)?F||(F=new Uint8Array(0)):W?a.slice(o,i):new Uint8Array(a.subarray(o,i)),(o=r.ba)?o.push(i):r.ba=[i]}}return e}function tt(e,t,n){if(ne.length){var r=ne.pop();e&&(Y(r.g,e),r.i=-1,r.h=-1),e=r}else e=new $(e);try{return et(new t,e,$e(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ne.length&&ne.push(e)}}function nt(e,t,n){for(var r=n.length,i=r%2==1,o=i?1:0;o<r;o+=2)(0,n[o+1])(t,e,n[o]);Pe(e,t,i?n[0]:void 0)}function rt(e,t){var n=new re;nt(e,n,Ye(t)),ie(n,n.g.end()),e=new Uint8Array(n.h);for(var r=(t=n.i).length,i=0,o=0;o<r;o++){var a=t[o];e.set(a,i),i+=a.length}return n.i=[e],e}function it(e,t){return{O:e,P:t}}var ot=it((function(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],i=e.h[e.g+1],o=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,z(e),e=2*((i=(r<<0|i<<8|o<<16|a<<24)>>>0)>>31)+1,r=i>>>23&255,i&=8388607,ye(t,n,255==r?i?NaN:1/0*e:0==r?e*Math.pow(2,-149)*i:e*Math.pow(2,r-150)*(i+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){q(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?U=0<1/r?0:2147483648:isNaN(r)?U=2147483647:34028234663852886e22<r?U=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),U=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,U=(n<<31|t+127<<23|8388607&r)>>>0),n=U,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),at=it((function(e,t,n){if(0!==e.h)return!1;for(var r=e.g,i=128,o=0,a=e=0;4>a&&128<=i;a++)i=r.h[r.g++],z(r),o|=(127&i)<<7*a;if(128<=i&&(i=r.h[r.g++],z(r),o|=(127&i)<<28,e|=(127&i)>>4),128<=i)for(a=0;5>a&&128<=i;a++)i=r.h[r.g++],z(r),e|=(127&i)<<7*a+3;if(!(128>i))throw B();return r=o>>>0,(e=2147483648&(i=e>>>0))&&(i=~i>>>0,0==(r=1+~r>>>0)&&(i=i+1>>>0)),r=4294967296*i+(r>>>0),ye(t,n,e?-r:r),!0}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t){q(e.g,8*n),e=e.g;var r=t;for(n=0>r,t=(r=Math.abs(r))>>>0,r=Math.floor((r-t)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++r&&(r=0))),n=U=t,t=r;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),st=it((function(e,t,n){return 0===e.h&&(ye(t,n,K(e.g)),!0)}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t)if(q(e.g,8*n),e=e.g,0<=(n=t))q(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),ut=it((function(e,t,n){if(2!==e.h)return!1;var r,i=K(e.g)>>>0,o=(e=e.g).g;if(e.g+=i,z(e),e=e.h,A)(r=R)||(r=R=new TextDecoder("utf-8",{fatal:!0})),r=r.decode(e.subarray(o,o+i));else{i=o+i;for(var a,s,u,c=[],l=null;o<i;)128>(a=e[o++])?c.push(a):224>a?o>=i?T():(s=e[o++],194>a||128!==(192&s)?(o--,T()):c.push((31&a)<<6|63&s)):240>a?o>=i-1?T():128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(r=e[o++]))?(o--,T()):c.push((15&a)<<12|(63&s)<<6|63&r):244>=a?o>=i-2?T():128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(r=e[o++]))||128!==(192&(u=e[o++]))?(o--,T()):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&u,a-=65536,c.push(55296+(a>>10&1023),56320+(1023&a))):T(),8192<=c.length&&(l=I(l,c),c.length=0);r=I(l,c)}return ye(t,n,r),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){var r=!1;if(r=void 0!==r&&r,N){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(O||(O=new TextEncoder)).encode(t)}else{for(var i=0,o=new Uint8Array(3*t.length),a=0;a<t.length;a++){var s=t.charCodeAt(a);if(128>s)o[i++]=s;else{if(2048>s)o[i++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<t.length){var u=t.charCodeAt(++a);if(56320<=u&&57343>=u){s=1024*(s-55296)+u-56320+65536,o[i++]=s>>18|240,o[i++]=s>>12&63|128,o[i++]=s>>6&63|128,o[i++]=63&s|128;continue}a--}if(r)throw Error("Found an unpaired surrogate");s=65533}o[i++]=s>>12|224,o[i++]=s>>6&63|128}o[i++]=63&s|128}}t=o.subarray(0,i)}q(e.g,8*n+2),q(e.g,t.length),ie(e,e.g.end()),ie(e,t)}})),ct=it((function(e,t,n,r,i){if(2!==e.h)return!1;t=ke(t,n,r),n=e.g.i,r=K(e.g)>>>0;var o=e.g.g+r,a=o-n;if(0>=a&&(e.g.i=o,i(t,e),a=o-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0}),(function(e,t,n,r,i){if(null!=(t=Ee(t,r,n)))for(r=0;r<t.length;r++){var o=e;q(o.g,8*n+2);var a=o.g.end();ie(o,a),a.push(o.h),o=a,i(t[r],e),a=e;var s=o.pop();for(s=a.h+a.g.length()-s;127<s;)o.push(127&s|128),s>>>=7,a.h++;o.push(s),a.h++}}));function lt(){Ae.apply(this,arguments)}if(h(lt,Ae),ve){var dt={};Object.defineProperties(lt,(dt[Symbol.hasInstance]=me(Object[Symbol.hasInstance]),dt))}function ft(e){lt.call(this,e)}function pt(){return[1,st,2,ot,3,ut,4,ut]}function ht(e){lt.call(this,e,-1,mt)}function vt(){return[1,ct,ft,pt]}h(ft,lt),h(ht,lt),ht.prototype.addClassification=function(e,t){return ke(this,1,ft,e,t),this};var mt=[1];function gt(e){lt.call(this,e)}function yt(){return[1,ot,2,ot,3,ot,4,ot,5,ot]}function bt(e){lt.call(this,e,-1,Et)}function wt(){return[1,ct,gt,yt]}h(gt,lt),h(bt,lt);var Et=[1];function kt(e){lt.call(this,e)}function _t(){return[1,ot,2,ot,3,ot,4,ot,5,ot,6,at]}h(kt,lt);var St=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Ct=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],xt=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Tt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],It=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Rt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Ot=[].concat(u(St),u(Ct),u(xt),u(Tt),u(It),u(Rt));function At(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Nt(e){return Ee(e,ft,1).map((function(e){return{index:_e(e,1),ga:we(e,2),label:null!=ge(e,3)?Se(e,3):void 0,displayName:null!=ge(e,4)?Se(e,4):void 0}}))}function Pt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ge(e,4)?we(e,4):void 0}}function Lt(e,t){this.h=e,this.g=t,this.l=0}function Mt(t,n,r){return function(e,t){var n=e.g;if(void 0===e.o){var r=At(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=At(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.o=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={K:n.getAttribLocation(r,"aVertex"),J:n.getAttribLocation(r,"aTex"),ma:i},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.K),n.disableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Dt(e){this.g=e}var jt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Ft(e,t){return t+e}function Vt(e,t){window[e]=t}function Zt(t){if(this.g=t,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=e.resolve(),this.Y="",this.C={},this.locateFile=t&&t.locateFile||Ft,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function Gt(t){var n,r,i,o,a,s,c,l,d,f,p;return _((function(h){switch(h.g){case 1:return t.Z?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,y(h,_((function(e){switch(e.g){case 1:return e.o=2,y(e,WebAssembly.instantiate(jt),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(r=h.h,"object"==typeof window)return Vt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Vt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(n){var r=Wt(t,n.url);if(void 0!==n.path){var i=n.path;r=r.then((function(n){return t.overrideFile(i,n),e.resolve(n)}))}return r}))),d=e.all(c.map((function(n){return void 0===n.simd||n.simd&&r||!n.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.$)):e.resolve()}))).then((function(){var e,n,r;return _((function(i){if(1==i.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=t,y(i,e(n),2);r.h=i.h,i.g=0}))})),f=_((function(e){return t.g.graph&&t.g.graph.url?e=y(e,Wt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),y(h,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=n.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return t.locateFile(e.url,t.$)})),importScripts.apply(null,u(i)),o=t,y(h,createMediapipeSolutionsWasm(Module),6);case 6:o.h=h.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),h.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(p=t.l.getContext("webgl2",{}))&&!(p=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();t.G=p,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.Z=!1,h.g=0}}))}function Wt(e,t){var n,r;return _((function(i){return t in e.H?i.return(e.H[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=r,i.return(r))}))}function Ut(e,t,n){var r,i,o,a,u,c,l,d,f,p,h,v,m,g;return _((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(e.I=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){b.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(b,function(e,t,n){var r;return _((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?i.return(n):n instanceof e.h.Texture2dDataOut?((r=e.u[t])||(r=new Lt(e.h,e.G),e.u[t]=r),i.return(Mt(r,n,e.I))):i.return(void 0)}))}(e,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=tt(w.get(C),kt,_t);x={boundingBox:{xCenter:we(x,1),yCenter:we(x,2),height:we(x,3),width:we(x,4),rotation:we(x,5,0),rectId:_e(x,6)},landmarks:Ee(tt(E.get(C),bt,wt),gt,1).map(Pt),V:Nt(tt(k.get(C),ht,vt))},S.push(x)}w=S}else w=[];r[d]=w,b.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===p){b.g=3;break}if("float_list"===f.type){r[d]=p,b.g=7;break}if("proto"===f.type){r[d]=p,b.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=e.u[d])||(h=new Lt(e.h,e.G),e.u[d]=h),y(b,Mt(h,p,e.I),13);case 13:v=b.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),b.g=3;break;case 14:m[g]=b.h;case 3:a=l.next(),b.g=2;break;case 4:return b.return(r)}}))}function Xt(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.D=Ut(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function Bt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},r={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Zt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var i,o,a,u,c;return _((function(l){switch(l.g){case 1:i=s("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),o=i.next();case 2:if(o.done){l.g=4;break}return a=o.value,u="third_party/mediapipe/modules/face_detection/"+a,y(l,Wt(t.g,a),5);case 5:c=l.h,t.g.overrideFile(u,c),o=i.next(),l.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",r.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",l.return(!0)}}))}},minDetectionConfidence:r}})}(t=Zt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return _((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={R:o.R,S:o.S},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.R=u.onChange,o.S=e[c],r.push(function(e){return function(){return _((function(t){if(1==t.g)return y(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(i),this.A=(void 0===this.A?[]:this.A).concat(r))}},t.initialize=function(){var e=this;return _((function(t){return 1==t.g?y(t,Gt(e),2):3!=t.g?y(t,function(e){var t,n,r,i,o,a,u,c;return _((function(l){if(1==l.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?l.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,y(l,Wt(e,e.g.graph.url),3)):void(l.g=2));for(2!=l.g&&(t=l.h,e.i.loadGraph(t)),n=s(Object.keys(e.C)),r=n.next();!r.done;r=n.next())i=r.value,e.i.overrideFile(i,e.C[i]);if(e.C={},e.g.listeners)for(o=s(e.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,Xt(e,u);c=e.j,e.j={},e.setOptions(c),l.g=0}))}(e),3):y(t,function(e){var t,n,r,i,o,a;return _((function(u){switch(u.g){case 1:if(!e.s)return u.return();if(!e.A){u.g=2;break}t=s(e.A),n=t.next();case 3:if(n.done){u.g=5;break}return y(u,(0,n.value)(),4);case 4:n=t.next(),u.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(r=new e.h.GraphOptionChangeRequestList,i=s(e.B),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);e.i.changeOptions(r),r.delete(),e.B=void 0}e.s=!1,u.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,r,i,o,a,u,c,l,d,f=this;return _((function(p){switch(p.g){case 1:return f.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,f.D,2)):p.return();case 2:return y(p,f.initialize(),3);case 3:for(r=new f.h.PacketDataList,i=s(Object.keys(e)),o=i.next();!o.done;o=i.next())if(a=o.value,u=f.g.inputs[a]){e:{var h=e[a];switch(u.type){case"video":var v=f.o[u.stream];if(v||(v=new Lt(f.h,f.G),f.o[u.stream]=v),0===v.l&&(v.l=v.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement)var m=h.videoWidth,g=h.videoHeight;else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(m=h.naturalWidth,g=h.naturalHeight):(m=h.width,g=h.height);g={glName:v.l,width:m,height:g},(m=v.g).canvas.width=g.width,m.canvas.height=g.height,m.activeTexture(m.TEXTURE0),v.h.bindTexture2d(v.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,h),v.h.bindTexture2d(0),v=g;break e;case"detections":for((v=f.o[u.stream])||(v=new Dt(f.h),f.o[u.stream]=v),v.data||(v.data=new v.g.DetectionListData),v.data.reset(h.length),g=0;g<h.length;++g){m=h[g];var b=v.data,w=b.setBoundingBox,E=g,k=m.boundingBox,_=new kt;if(ye(_,1,k.xCenter),ye(_,2,k.yCenter),ye(_,3,k.height),ye(_,4,k.width),ye(_,5,k.rotation),ye(_,6,k.rectId),k=rt(_,_t),w.call(b,E,k),m.landmarks)for(b=0;b<m.landmarks.length;++b){var S=!!(_=m.landmarks[b]).visibility;E=(w=v.data).addNormalizedLandmark,k=g,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),ye(S=new gt,1,_.x),ye(S,2,_.y),ye(S,3,_.z),_.visibility&&ye(S,4,_.visibility),_=rt(S,yt),E.call(w,k,_)}if(m.V)for(b=0;b<m.V.length;++b)E=(w=v.data).addClassification,k=g,_=m.V[b],ye(S=new ft,2,_.ga),_.index&&ye(S,1,_.index),_.label&&ye(S,3,_.label),_.displayName&&ye(S,4,_.displayName),_=rt(S,pt),E.call(w,k,_)}v=v.data;break e;default:v={}}}switch(c=v,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:l,timestamp:n}));break;case"detections":(d=c).stream=l,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return f.i.send(r),y(p,f.D,4);case 4:r.delete(),p.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",Zt),x("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=Bt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return _((function(t){return y(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return _((function(n){return y(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},x("FaceDetection",Bt),x("FACEDETECTION_LIPS",St),x("FACEDETECTION_LEFT_EYE",Ct),x("FACEDETECTION_LEFT_EYEBROW",xt),x("FACEDETECTION_RIGHT_EYE",Tt),x("FACEDETECTION_RIGHT_EYEBROW",It),x("FACEDETECTION_FACE_OVAL",Rt),x("FACEDETECTION_CONTOURS",Ot),x("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),x("VERSION","0.4.1646425229")}).call(Ve);var Ze={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(gt){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ea=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(e,t){return t=new k(new b(t)),p&&e.prototype&&p(t,e.prototype),t}v.prototype.o=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.s};var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;o((function(){if(e.B()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.J(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).J(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).J(o(a.length-1),t),i=n.next()}while(!i.done)}))},t})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var I,R,O=typeof TextDecoder<"u",A=typeof TextEncoder<"u";function N(e){if(A)e=(R||(R=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128>o)r[n++]=o;else{if(2048>o)r[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&i<e.length){var a=e.charCodeAt(++i);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128;continue}i--}if(t)throw Error("Found an unpaired surrogate");o=65533}r[n++]=o>>12|224,r[n++]=o>>6&63|128}r[n++]=63&o|128}}e=r.subarray(0,n)}return e}var P={},L=null;function M(e,t){void 0===t&&(t=0),j(),t=P[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function D(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=L[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}j();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),r.subarray(0,i)}function j(){if(!L){L={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));P[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===L[o]&&(L[o]=i)}}}}var F,V="function"==typeof Uint8Array.prototype.slice;function Z(e,t,n){return t===n?F||(F=new Uint8Array(0)):V?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var G=0;function W(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&U(this,e)}function U(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?D(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function X(e){for(var t=128,n=0,r=0,i=0;4>i&&128<=t;i++)n|=(127&(t=e.h[e.g++]))<<7*i;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,r|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)r|=(127&(t=e.h[e.g++]))<<7*i+3;if(128>t)return e=n>>>0,(r=2147483648&(t=r>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),r?-e:e;e.m=!0}W.prototype.reset=function(){this.g=this.l},W.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},W.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],r=this.h[this.g+3];return this.g+=4,e=2*((n=(e<<0|t<<8|n<<16|r<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var B=[];function H(){this.g=new Uint8Array(64),this.h=0}function Y(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function z(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,B.length?(n=B.pop(),t&&(n.v=t.v),e&&U(n,e),e=n):e=new W(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function K(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function J(e){switch(e.h){case 0:if(0!=e.h)J(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?J(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)J(e);else{var t=e.g.i();(e=e.g).g+=t}break;case 5:5!=e.h?J(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!K(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}J(e)}break;default:e.j=!0}}function Q(e,t,n){var r=e.g.j,i=e.g.i(),o=e.g.g+i;if(e.g.j=o,n(t,e),0!==(n=o-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.j=r,t}function q(e){return e.g.o()}function $(e){var t,n=e.g.i(),r=(e=e.g).g;if(e.g+=n,e=e.h,O)(t=I)||(t=I=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(r,r+n));else{n=r+n;for(var i,o,a,s=[],u=null;r<n;)128>(i=e[r++])?s.push(i):224>i?r>=n?s.push(65533):(o=e[r++],194>i||128!==(192&o)?(r--,s.push(65533)):s.push((31&i)<<6|63&o)):240>i?r>=n-1?s.push(65533):128!==(192&(o=e[r++]))||224===i&&160>o||237===i&&160<=o||128!==(192&(t=e[r++]))?(r--,s.push(65533)):s.push((15&i)<<12|(63&o)<<6|63&t):244>=i?r>=n-2?s.push(65533):128!==(192&(o=e[r++]))||o-144+(i<<28)>>30!==0||128!==(192&(t=e[r++]))||128!==(192&(a=e[r++]))?(r--,s.push(65533)):(i=(7&i)<<18|(63&o)<<12|(63&t)<<6|63&a,i-=65536,s.push(55296+(i>>10&1023),56320+(1023&i))):s.push(65533),8192<=s.length&&(u=T(u,s),s.length=0);t=T(u,s)}return t}function ee(e,t,n){var r=e.g.i();for(r=e.g.g+r;e.g.g<r;)n.push(t.call(e.g))}function te(e,t){2==e.h?ee(e,W.prototype.o,t):t.push(q(e))}function ne(){this.h=[],this.i=0,this.g=new H}function re(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ie(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,r=n.length,i=0,o=0;o<r;o++){var a=n[o];0!==a.length&&(t.set(a,i),i+=a.length)}return 0!==(r=(n=e.g).h)&&(t.set(n.g.subarray(0,r),i),n.h=0),e.h=[t],t}function oe(e,t,n){if(null!=n){Y(e.g,8*t+5),e=e.g;var r=n;0===(r=(n=0>r?1:0)?-r:r)?G=0<1/r?0:2147483648:isNaN(r)?G=2147483647:34028234663852886e22<r?G=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),G=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,G=(n<<31|t+127<<23|8388607&r)>>>0),n=G,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}H.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},H.prototype.length=function(){return this.h},H.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,Z(e,0,t)},z.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ae="function"==typeof Uint8Array;function se(e,t,n){if(null!=e)return"object"==typeof e?ae&&e instanceof Uint8Array?n(e):ue(e,t,n):t(e)}function ue(e,t,n){if(Array.isArray(e)){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]=se(e[i],t,n);return Array.isArray(e)&&e.W&&fe(r),r}for(i in r={},e)r[i]=se(e[i],t,n);return r}function ce(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var le,de={W:{value:!0,configurable:!0}};function fe(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,de),e}function pe(e,t,n){var r=le;if(le=null,e||(e=r),r=this.constructor.ca,e||(e=r?[r]:[]),this.j=r?0:-1,this.m=this.g=null,this.h=e,e=(r=this.h.length)-1,!r||null===(r=this.h[e])||"object"!=typeof r||Array.isArray(r)||ae&&r instanceof Uint8Array?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=r),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.h[e])?fe(r):this.h[e]=he):(ve(this),(r=this.i[e])?fe(r):this.i[e]=he)}var he=Object.freeze(fe([]));function ve(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function me(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function ge(e,t){var n=void 0!==n&&n,r=me(e,t,n);return null==r&&(r=he),r===he&&Ee(e,t,r=fe([]),n),r}function ye(e){var t=ge(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function be(e,t,n){return null==(e=me(e,t))?n:e}function we(e,t,n){return null==(e=null==(e=me(e,t))?e:+e)?void 0===n?0:n:e}function Ee(e,t,n,r){void 0!==r&&r||t>=e.l?(ve(e),e.i[t]=n):e.h[t+e.j]=n}function ke(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var r=me(e,n,!1);r&&(e.g[n]=new t(r))}return e.g[n]}function _e(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var r=ge(e,1);n=[];for(var i=0;i<r.length;i++)n[i]=new t(r[i]);e.g[1]=n}return n}function Se(e,t,n){var r=void 0!==r&&r;e.g||(e.g={});var i=n&&xe(n);e.g[t]=n,Ee(e,t,i,r)}function Ce(e,t,n,r){var i=_e(e,n);t=t||new n,e=ge(e,1),null!=r?(i.splice(r,0,t),e.splice(r,0,xe(t))):(i.push(t),e.push(xe(t)))}function xe(e,t){if(e.g)for(var n in e.g){var r=e.g[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)r[i]&&xe(r[i]);else r&&xe(r)}return e.h}function Te(e,t){if(e=e.o){re(t,t.g.end());for(var n=0;n<e.length;n++)re(t,e[n])}}function Ie(e,t){if(4==t.h)return!1;var n=t.m;return J(t),t.N||(t=Z(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function Re(e){pe.call(this,e,-1,Ae)}function Oe(e,t){for(;K(t);)switch(t.i){case 8:var n=t.g.i();Ee(e,1,n);break;case 16:Ee(e,2,n=t.g.i());break;case 29:case 26:te(t,e.getPackedDataList());break;case 32:Ee(e,4,n=X(t.g));break;default:if(!Ie(e,t))return e}return e}pe.prototype.toJSON=function(){return ue(xe(this),ce,M)},pe.prototype.toString=function(){return xe(this).toString()},h(Re,pe),Re.prototype.getRows=function(){return me(this,1)},Re.prototype.getCols=function(){return me(this,2)},Re.prototype.getPackedDataList=function(){return ye(this)},Re.prototype.getLayout=function(){return be(this,4,0)};var Ae=[3];function Ne(t,n){var r=void 0;return new(r||(r=e))((function(e,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(o,a)}s((n=n.apply(t,void 0)).next())}))}function Pe(e){pe.call(this,e)}function Le(e,t){for(;K(t);)switch(t.i){case 8:var n=t.g.i();Ee(e,1,n);break;case 21:Ee(e,2,n=q(t));break;case 26:Ee(e,3,n=$(t));break;case 34:Ee(e,4,n=$(t));break;default:if(!Ie(e,t))return e}return e}function Me(e){pe.call(this,e,-1,De)}h(Pe,pe),h(Me,pe),Me.prototype.addClassification=function(e,t){return Ce(this,e,Pe,t),this};var De=[1];function je(e){pe.call(this,e)}function Fe(e,t){for(;K(t);)switch(t.i){case 13:var n=q(t);Ee(e,1,n);break;case 21:Ee(e,2,n=q(t));break;case 29:Ee(e,3,n=q(t));break;case 37:Ee(e,4,n=q(t));break;case 45:Ee(e,5,n=q(t));break;default:if(!Ie(e,t))return e}return e}function Ve(e){pe.call(this,e,-1,Ge)}function Ze(e){e:{var t=new Ve;for(e=new z(e);K(e);)if(10===e.i)Ce(t,Q(e,new je,Fe),je,void 0);else if(!Ie(t,e))break e}return t}h(je,pe),h(Ve,pe);var Ge=[1];function We(e){pe.call(this,e)}function Ue(e){pe.call(this,e,-1,Be)}function Xe(e,t){for(;K(t);)switch(t.i){case 8:var n=X(t.g);Ee(e,1,n);break;case 16:Ee(e,2,n=X(t.g));break;case 29:case 26:te(t,e.getVertexBufferList());break;case 32:case 34:n=t;var r=e.getIndexBufferList();2==n.h?ee(n,W.prototype.i,r):r.push(n.g.i());break;default:if(!Ie(e,t))return e}return e}h(We,pe),h(Ue,pe),Ue.prototype.getVertexType=function(){return be(this,1,0)},Ue.prototype.getPrimitiveType=function(){return be(this,2,0)},Ue.prototype.getVertexBufferList=function(){return ye(this)},Ue.prototype.getIndexBufferList=function(){return ge(this,4)};var Be=[3,4];function He(e){pe.call(this,e)}function Ye(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function ze(e){return _e(e,Pe).map((function(e){return{index:be(e,1,0),Y:we(e,2),label:null!=me(e,3)?be(e,3,""):void 0,displayName:null!=me(e,4)?be(e,4,""):void 0}}))}function Ke(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=me(e,4)?we(e,4):void 0}}function Je(e,t){this.h=e,this.g=t,this.l=0}function Qe(t,n,r){return function(e,t){var n=e.g;if(void 0===e.m){var r=Ye(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Ye(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.m=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),da:i},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function qe(e){this.g=e}h(He,pe),He.prototype.getMesh=function(){return ke(this,Ue,1)},He.prototype.getPoseTransformMatrix=function(){return ke(this,Re,2)};var $e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function et(e,t){return t+e}function tt(e,t){window[e]=t}function nt(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||et,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function rt(t){return Ne(t,(function t(){var n,r,i,o,a,s,c,l,d,f,p,h=this;return _(t,(function(t){switch(t.g){case 1:return n=h,h.R?(r=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(h,h.j),y(t,function(){return Ne(this,(function e(){return _(e,(function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate($e),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):t.return();case 2:if(i=t.h,"object"==typeof window)return tt("createMediapipeSolutionsWasm",{locateFile:h.locateFile}),tt("createMediapipeSolutionsPackedAssets",{locateFile:h.locateFile}),s=r.filter((function(e){return void 0!==e.data})),c=r.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(t){var r=it(n,t.url);if(void 0!==t.path){var i=t.path;r=r.then((function(t){return n.overrideFile(i,t),e.resolve(t)}))}return r}))),d=e.all(c.map((function(t){return void 0===t.simd||t.simd&&i||!t.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(n.locateFile(t.url,n.S)):e.resolve()}))).then((function(){return Ne(n,(function e(){var t,n,r=this;return _(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,y(e,t(n),2);r.h=e.h,e.g=0}))}))})),f=Ne(n,(function e(){var t=this;return _(e,(function(e){return t.g.graph&&t.g.graph.url?e=y(e,it(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),y(t,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=r.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return n.locateFile(e.url,n.S)})),importScripts.apply(null,u(o)),y(t,createMediapipeSolutionsWasm(Module),6);case 6:h.h=t.h,h.l=new OffscreenCanvas(1,1),h.h.canvas=h.l,a=h.h.GL.createContext(h.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),h.h.GL.makeContextCurrent(a),t.g=4;break;case 7:if(h.l=document.createElement("canvas"),!(p=h.l.getContext("webgl2",{}))&&!(p=h.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),t.return();h.D=p,h.h.canvas=h.l,h.h.createContext(h.l,!0,!0,{});case 4:h.i=new h.h.SolutionWasm,h.R=!1,t.g=0}}))}))}function it(e,t){return Ne(e,(function e(){var n,r,i=this;return _(e,(function(e){return t in i.F?e.return(i.F[t]):(n=i.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),i.F[t]=r,e.return(r))}))}))}function ot(e,t,n){return Ne(e,(function e(){var r,i,o,a,u,c,l,d,f,p,h,v,m,g,b=this;return _(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(b.G=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){e.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(e,function(e,t,n){return Ne(e,(function e(){var r,i=this;return _(e,(function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof i.h.Uint8BlobList?e.return(n):n instanceof i.h.Texture2dDataOut?((r=i.s[t])||(r=new Je(i.h,i.D),i.s[t]=r),e.return(Qe(r,n,i.G))):e.return(void 0)}))}))}(b,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=w.get(C);e:{var T=new We;for(x=new z(x);K(x);)switch(x.i){case 13:var I=q(x);Ee(T,1,I);break;case 21:Ee(T,2,I=q(x));break;case 29:Ee(T,3,I=q(x));break;case 37:Ee(T,4,I=q(x));break;case 45:Ee(T,5,I=q(x));break;case 48:Ee(T,6,I=X(x.g));break;default:if(!Ie(T,x))break e}}T={Z:we(T,1),$:we(T,2),height:we(T,3),width:we(T,4),rotation:we(T,5,0),X:be(T,6,0)},x=_e(Ze(E.get(C)),je).map(Ke);var R=k.get(C);e:for(I=new Me,R=new z(R);K(R);)if(10===R.i)I.addClassification(Q(R,new Pe,Le));else if(!Ie(I,R))break e;T={T:T,O:x,M:ze(I)},S.push(T)}w=S}else w=[];r[d]=w,e.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,e.g=7;break}if(void 0===p){e.g=3;break}if("float_list"===f.type){r[d]=p,e.g=7;break}if("proto"===f.type){r[d]=p,e.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=b.s[d])||(h=new Je(b.h,b.D),b.s[d]=h),y(e,Qe(h,p,b.G),13);case 13:v=e.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),e.g=3;break;case 14:m[g]=e.h;case 3:a=l.next(),e.g=2;break;case 4:return e.return(r)}}))}))}function at(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.C=ot(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function st(e){e=function(e){e:{var t=new He;for(e=new z(e);K(e);)switch(e.i){case 10:var n=Q(e,new Ue,Xe);Se(t,1,n);break;case 18:Se(t,2,n=Q(e,new Re,Oe));break;default:if(!Ie(t,e))break e}}return t}(e);var t=e.getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var r=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return r},e}(t=nt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){return Ne(this,(function e(){var t=this;return _(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={K:o.K,L:o.L},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.K=u.onChange,o.L=e[c],r.push(function(e){return function(){return Ne(n,(function t(){var n=this;return _(t,(function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(i),this.u=(void 0===this.u?[]:this.u).concat(r))}},t.initialize=function(){return Ne(this,(function e(){var t=this;return _(e,(function(e){return 1==e.g?y(e,rt(t),2):3!=e.g?y(e,function(e){return Ne(e,(function e(){var t,n,r,i,o,a,u,c,l=this;return _(e,(function(e){if(1==e.g)return l.g.graph&&l.g.graph.url&&l.P===l.g.graph.url?e.return():(l.o=!0,l.g.graph&&l.g.graph.url?(l.P=l.g.graph.url,y(e,it(l,l.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,l.i.loadGraph(t)),n=s(Object.keys(l.B)),r=n.next();!r.done;r=n.next())i=r.value,l.i.overrideFile(i,l.B[i]);if(l.B={},l.g.listeners)for(o=s(l.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,at(l,u);c=l.j,l.j={},l.setOptions(c),e.g=0}))}))}(t),3):y(e,function(e){return Ne(e,(function e(){var t,n,r,i,o,a,u=this;return _(e,(function(e){switch(e.g){case 1:if(!u.o)return e.return();if(!u.u){e.g=2;break}t=s(u.u),n=t.next();case 3:if(n.done){e.g=5;break}return y(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:u.u=void 0;case 2:if(u.A){for(r=new u.h.GraphOptionChangeRequestList,i=s(u.A),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);u.i.changeOptions(r),r.delete(),u.A=void 0}u.o=!1,e.g=0}}))}))}(t),0)}))}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){return Ne(this,(function n(){var r,i,o,a,u,c,l,d,f,p=this;return _(n,(function(n){switch(n.g){case 1:return p.g.inputs?(r=1e3*(null==t?performance.now():t),y(n,p.C,2)):n.return();case 2:return y(n,p.initialize(),3);case 3:for(i=new p.h.PacketDataList,o=s(Object.keys(e)),a=o.next();!a.done;a=o.next())if(u=a.value,c=p.g.inputs[u]){e:{var h=p,v=e[u];switch(c.type){case"video":var m=h.m[c.stream];if(m||(m=new Je(h.h,h.D),h.m[c.stream]=m),0===(h=m).l&&(h.l=h.h.createTexture()),typeof HTMLVideoElement<"u"&&v instanceof HTMLVideoElement){var g=v.videoWidth;m=v.videoHeight}else typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement?(g=v.naturalWidth,m=v.naturalHeight):(g=v.width,m=v.height);m={glName:h.l,width:g,height:m},(g=h.g).canvas.width=m.width,g.canvas.height=m.height,g.activeTexture(g.TEXTURE0),h.h.bindTexture2d(h.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,v),h.h.bindTexture2d(0),h=m;break e;case"detections":for((m=h.m[c.stream])||(m=new qe(h.h),h.m[c.stream]=m),(h=m).data||(h.data=new h.g.DetectionListData),h.data.reset(v.length),m=0;m<v.length;++m){g=v[m];var b=h.data,w=b.setBoundingBox,E=m,k=g.T,_=new We;Ee(_,1,k.Z),Ee(_,2,k.$),Ee(_,3,k.height),Ee(_,4,k.width),Ee(_,5,k.rotation),Ee(_,6,k.X);var S=k=new ne;oe(S,1,me(_,1)),oe(S,2,me(_,2)),oe(S,3,me(_,3)),oe(S,4,me(_,4)),oe(S,5,me(_,5));var C=me(_,6);if(null!=C&&null!=C){Y(S.g,48);var x=S.g,T=C;C=0>T;var I=(T=Math.abs(T))>>>0;for(T=Math.floor((T-I)/4294967296),T>>>=0,C&&(T=~T>>>0,4294967295<(I=1+(~I>>>0))&&(I=0,4294967295<++T&&(T=0))),C=G=I,I=T;0<I||127<C;)x.push(127&C|128),C=(C>>>7|I<<25)>>>0,I>>>=7;x.push(C)}if(Te(_,S),k=ie(k),w.call(b,E,k),g.O)for(b=0;b<g.O.length;++b)S=!!(_=g.O[b]).visibility,E=(w=h.data).addNormalizedLandmark,k=m,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),Ee(S=new je,1,_.x),Ee(S,2,_.y),Ee(S,3,_.z),_.visibility&&Ee(S,4,_.visibility),oe(x=_=new ne,1,me(S,1)),oe(x,2,me(S,2)),oe(x,3,me(S,3)),oe(x,4,me(S,4)),oe(x,5,me(S,5)),Te(S,x),_=ie(_),E.call(w,k,_);if(g.M)for(b=0;b<g.M.length;++b){if(E=(w=h.data).addClassification,k=m,_=g.M[b],Ee(S=new Pe,2,_.Y),_.index&&Ee(S,1,_.index),_.label&&Ee(S,3,_.label),_.displayName&&Ee(S,4,_.displayName),x=_=new ne,null!=(I=me(S,1))&&null!=I)if(Y(x.g,8),C=x.g,0<=I)Y(C,I);else{for(T=0;9>T;T++)C.push(127&I|128),I>>=7;C.push(1)}oe(x,2,me(S,2)),null!=(C=me(S,3))&&(C=N(C),Y(x.g,26),Y(x.g,C.length),re(x,x.g.end()),re(x,C)),null!=(C=me(S,4))&&(C=N(C),Y(x.g,34),Y(x.g,C.length),re(x,x.g.end()),re(x,C)),Te(S,x),_=ie(_),E.call(w,k,_)}}h=h.data;break e;default:h={}}}switch(l=h,d=c.stream,c.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:r}));break;case"detections":(f=l).stream=d,f.timestamp=r,i.pushDetectionList(f);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return p.i.send(i),y(n,p.C,4);case 4:i.delete(),n.g=0}}))}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",nt),x("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var ut={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(st)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map((function(e){return _e(Ze(e),je).map(Ke)}))}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},ct=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],lt=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],dt=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ft=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],pt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],ht=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],vt=[].concat(u(ct),u(lt),u(dt),u(ft),u(pt),u(ht));function mt(e){e=e||{},e=Object.assign(Object.assign({},ut),e),this.g=new nt(e)}(t=mt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){return Ne(this,(function e(){var t=this;return _(e,(function(e){return y(e,t.g.initialize(),0)}))}))},t.reset=function(){this.g.reset()},t.send=function(e){return Ne(this,(function t(){var n=this;return _(t,(function(t){return y(t,n.g.send(e),0)}))}))},t.setOptions=function(e){this.g.setOptions(e)},x("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),x("FaceMesh",mt),x("FACEMESH_LIPS",ct),x("FACEMESH_LEFT_EYE",lt),x("FACEMESH_LEFT_EYEBROW",dt),x("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),x("FACEMESH_RIGHT_EYE",ft),x("FACEMESH_RIGHT_EYEBROW",pt),x("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),x("FACEMESH_FACE_OVAL",ht),x("FACEMESH_CONTOURS",vt),x("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),x("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),r=e.getPackedDataList(),i=[],o=0;o<n;o++)i.push(Array(t));for(o=0;o<n;o++)for(var a=0;a<t;a++){var s=1===e.getLayout()?o*t+a:a*n+o;i[o][a]=r[s]}return i})),x("VERSION","0.4.1633559619")}).call(Ze);var Ge={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(qt){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ka=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={V:t,X:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.X)throw t.V;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(t){return function(t){function n(e){return t.next(e)}function r(e){return t.throw(e)}return new e((function(i,o){!function t(a){a.done?i(a.value):e.resolve(a.value).then(n,r).then(t,o)}(t.next())}))}(new k(new b(t)))}v.prototype.o=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.s},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.G(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.m(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.H(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.F(),this.B()},t.prototype.F=function(){var e=this;o((function(){if(e.C()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.G=function(e){var t=this.j();e.K(t.resolve,t.reject)},t.prototype.H=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.K(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.K=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).K(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).K(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(e){throw e}function I(e,t){T(Error("Invalid wire type: "+e+" (at position "+t+")"))}function R(){T(Error("Failed to read varint, encoding is invalid."))}function O(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var A,N,P=typeof TextDecoder<"u",L=typeof TextEncoder<"u";function M(e){if(L)e=(N||(N=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128>o)r[n++]=o;else{if(2048>o)r[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&i<e.length){var a=e.charCodeAt(++i);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128;continue}i--}if(t)throw Error("Found an unpaired surrogate");o=65533}r[n++]=o>>12|224,r[n++]=o>>6&63|128}r[n++]=63&o|128}}e=r.subarray(0,n)}return e}var D={},j=null;function F(e){var t;void 0===t&&(t=0),Z(),t=D[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function V(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=j[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Z();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),r.subarray(0,i)}function Z(){if(!j){j={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));D[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===j[o]&&(j[o]=i)}}}}var G,W="function"==typeof Uint8Array;function U(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var X="function"==typeof Uint8Array.prototype.slice;function B(e,t,n){return t===n?G||(G=new Uint8Array(0)):X?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var H=0;function Y(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.v=t,e&&z(this,e)}function z(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return V(e);if(e.constructor===U){if(null==e.g)var t=G||(G=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||W&&null!=n&&n instanceof Uint8Array?n:"string"==typeof n?V(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.l=0,e.i=e.h.length,e.g=e.l}function K(e){for(var t=128,n=0,r=0,i=0;4>i&&128<=t;i++)n|=(127&(t=e.h[e.g++]))<<7*i;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,r|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)r|=(127&(t=e.h[e.g++]))<<7*i+3;if(128>t)return e=n>>>0,(r=2147483648&(t=r>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),r?-e:e;e.j=!0,R()}function J(e){e.g>e.i&&(e.j=!0,T(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}function Q(e){var t=e.h,n=t[e.g],r=127&n;return 128>n?(e.g+=1,J(e),r):(r|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,J(e),r):(r|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,J(e),r):(r|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,J(e),r):(r|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,J(e),r>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]?(e.j=!0,R(),r):(J(e),r))))))}function q(e){var t=e.h[e.g],n=e.h[e.g+1],r=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,J(e),(t<<0|n<<8|r<<16|i<<24)>>>0}Y.prototype.reset=function(){this.g=this.l},Y.prototype.m=function(){var e=q(this),t=2*(e>>31)+1,n=e>>>23&255;return e&=8388607,255==n?e?NaN:1/0*t:0==n?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))};var $=[];function ee(){this.g=new Uint8Array(64),this.h=0}function te(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function ne(e,t){for(;127<t;)te(e,127&t|128),t>>>=7;te(e,t)}function re(e){var t={},n=void 0!==t.O&&t.O;this.m={v:void 0!==t.v&&t.v},this.O=n,t=this.m,$.length?(n=$.pop(),t&&(n.v=t.v),e&&z(n,e),e=n):e=new Y(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function ie(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).j||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=Q(e.g);return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,I(n,e.l),!1)}function oe(e){switch(e.h){case 0:if(0!=e.h)oe(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,J(e);break e}t++}e.j=!0,R()}break;case 1:(e=e.g).g+=8,J(e);break;case 2:2!=e.h?oe(e):(t=Q(e.g),(e=e.g).g+=t,J(e));break;case 5:(e=e.g).g+=4,J(e);break;case 3:for(t=e.i;;){if(!ie(e)){e.j=!0,T(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,T(Error("Unmatched end-group tag")));break}oe(e)}break;default:e.j=!0,I(e.h,e.l)}}function ae(e,t,n){var r=e.g.i,i=Q(e.g),o=e.g.g+i;if(e.g.i=o,n(t,e),0!==(n=o-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=r,t}ee.prototype.length=function(){return this.h},ee.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,B(e,0,t)},re.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var se=[];function ue(){this.h=[],this.i=0,this.g=new ee}function ce(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function le(e,t,n){ne(e.g,8*t+2),ne(e.g,n.length),ce(e,e.g.end()),ce(e,n)}var de,fe="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function pe(e){return Object.isFrozen(e)||(fe?e[fe]|=1:void 0!==e.g?e.g|=1:Object.defineProperties(e,{g:{value:1,configurable:!0,writable:!0,enumerable:!1}})),e}function he(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function ve(e,t){if(null!=e)return Array.isArray(e)||he(e)?me(e,t):t(e)}function me(e,t){if(Array.isArray(e)){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=ve(e[r],t);var i;return(t=Array.isArray(e))&&(t=1&(null==(i=fe?e[fe]:e.g)?0:i)),t&&pe(n),n}for(n in i={},e)i[n]=ve(e[n],t);return i}function ge(e){return e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(W&&null!=e&&e instanceof Uint8Array)return F(e);if(e instanceof U){if(null==e.g)e="";else{var t=e.g;t=null==t||"string"==typeof t?t:W&&t instanceof Uint8Array?F(t):null,e=e.g=t}return e}}return e}(e),Array.isArray(e)?me(e,ge):e}function ye(e,t,n){var r=de;if(de=null,e||(e=r),r=this.constructor.ha,e||(e=r?[r]:[]),this.i=(r?0:-1)-(this.constructor.fa||0),this.l=this.g=null,this.u=e,e=(r=this.u.length)-1,r&&he(r=this.u[e])?(this.j=e-this.i,this.h=r):void 0!==t&&-1<t?(this.j=Math.max(t,e+1-this.i),this.h=null):this.j=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.j?(e+=this.i,(r=this.u[e])?Array.isArray(r)&&pe(r):this.u[e]=be):(we(this),(r=this.h[e])?Array.isArray(r)&&pe(r):this.h[e]=be)}var be=Object.freeze(pe([]));function we(e){var t=e.j+e.i;e.u[t]||(e.h=e.u[t]={})}function Ee(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.j?e.h?e.h[t]:void 0:e.u[t+e.i]}function ke(e,t,n){var r=Ee(e,t,n=void 0!==n&&n);return null==r&&(r=be),r===be&&Ce(e,t,r=pe(r.slice()),n),r}function _e(e,t){var n=ke(e,t);if(e.l||(e.l={}),!e.l[t]){for(var r=0;r<n.length;r++)n[r]=+n[r];e.l[t]=!0}return n}function Se(e,t,n){return null==(e=null==(e=Ee(e,t))?e:+e)?void 0===n?0:n:e}function Ce(e,t,n,r){void 0!==r&&r||t>=e.j?(we(e),e.h[t]=n):e.u[t+e.i]=n}function xe(e,t,n,r){n!==r?Ce(e,t,n):Ce(e,t,void 0,!1)}function Te(e,t,n){if(-1===n)return null;e.g||(e.g={});var r=e.g[n];if(r)return r;var i=Ee(e,n,!1);return null==i?r:(t=new t(i),e.g[n]=t)}function Ie(e,t,n){e.g||(e.g={});var r=e.g[n];if(!r){var i=ke(e,n,!1);r=[];for(var o=0;o<i.length;o++)r[o]=new t(i[o]);e.g[n]=r}return r}function Re(e,t,n,r,i){var o=Ie(e,r,t);n=n||new r,e=ke(e,t),null!=i?(o.splice(i,0,n),e.splice(i,0,n.u)):(o.push(n),e.push(n.u))}function Oe(e,t){return null==(e=Ee(e,t))?0:e}function Ae(e,t){return null==(e=Ee(e,t))?"":e}function Ne(e,t){if(e=e.m){ce(t,t.g.end());for(var n=0;n<e.length;n++)ce(t,e[n])}}ye.prototype.toJSON=function(){return me(this.u,ge)},ye.prototype.toString=function(){return this.u.toString()};var Pe=Symbol();function Le(e,t,n){return e[Pe]||(e[Pe]=function(e,r){return t(e,r,n)})}function Me(e){var t=e[Pe];if(!t){var n=e[Fe]||(e[Fe]=e());t=function(e,t){return Ve(e,t,n)},e[Pe]=t}return t}function De(e){var t=function(e){var t=e.da;if(t)return Me(t);if(t=e.ia){var n=e.Y;return delete e.Y,Le(e.W.g,t,n)}}(e),n=e.W,r=e.ea;return t?function(e,i){return r(e,i,n,t)}:function(e,t){return r(e,t,n)}}function je(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,r,i){return t(e,r,i,n)};case 3:var r=e[1],i=Me(e[2]);return function(e,n,o){return t(e,n,o,r,i)};case 4:var o=e[1],a=e[3],s=Me(e[2]);return function(e,n,r){return t(e,n,r,o,s,a)};case 5:var u=e[1],c=Le(u,e[3],e[4]);return function(e,n,r){return t(e,n,r,u,c)};case 6:var l=e[1],d=e[5],f=Le(l,e[3],e[4]);return function(e,n,r){return t(e,n,r,l,f,d)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+e.length)}}var Fe=Symbol();function Ve(e,t,n){for(;ie(t)&&4!=t.h;){var r=t.i,i=n[r];if(i)Array.isArray(i)&&(i=n[r]=je(i));else{var o=n[0];o&&(o=o[r])&&(i=n[r]=De(o))}i&&i(t,e,r)||(r=e,o=(i=t).l,oe(i),i.O||(i=B(i.g.h,o,i.g.g),(o=r.m)?o.push(i):r.m=[i]))}return e}function Ze(e,t){var n=new ue;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var r=n.h,i=r.length,o=t=0;o<i;o++){var a=r[o];0!==a.length&&(e.set(a,t),t+=a.length)}0!==(i=(r=n.g).h)&&(e.set(r.g.subarray(0,i),t),r.h=0),n.h=[e],n=e}return n}function Ge(e,t,n){if(se.length){var r=se.pop();e&&(z(r.g,e),r.i=-1,r.h=-1),e=r}else e=new re(e);try{return Ve(new t,e,n[Fe]||(n[Fe]=n()))}finally{(t=e.g).h=null,t.l=0,t.i=0,t.g=0,t.j=!1,t.v=!1,e.i=-1,e.h=-1,e.j=!1,100>se.length&&se.push(e)}}function We(e,t,n){if(null!=(t=Ee(t,n))){ne(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?H=0<1/r?0:2147483648:isNaN(r)?H=2147483647:34028234663852886e22<r?H=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),H=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,H=(n<<31|t+127<<23|8388607&r)>>>0),te(e,(n=H)>>>0&255),te(e,n>>>8&255),te(e,n>>>16&255),te(e,n>>>24&255)}}function Ue(e,t,n){if(1!==e.h)return!1;var r=e.g;e=q(r);var i=q(r);r=2*(i>>31)+1;var o=i>>>20&2047;return e=4294967296*(1048575&i)+e,xe(t,n,2047==o?e?NaN:1/0*r:0==o?r*Math.pow(2,-1074)*e:r*Math.pow(2,o-1075)*(e+4503599627370496),0),!0}function Xe(e,t,n){return 5===e.h&&(Ce(t,n,e.g.m()),!0)}function Be(e,t,n){if(5!==e.h&&2!==e.h)return!1;if(t=ke(t,n),2==e.h){n=Y.prototype.m;var r=Q(e.g);for(r=e.g.g+r;e.g.g<r;)t.push(n.call(e.g))}else t.push(e.g.m());return!0}function He(e,t,n){return 5===e.h&&(xe(t,n,e=e.g.m(),0),!0)}function Ye(e,t,n){return 0===e.h&&(Ce(t,n,K(e.g)),!0)}function ze(e,t,n){return 0===e.h&&(Ce(t,n,Q(e.g)),!0)}function Ke(e,t,n){return 0===e.h&&(xe(t,n,e=Q(e.g),0),!0)}function Je(e,t,n){return 0===e.h&&(xe(t,n,e=!!Q(e.g),!1),!0)}function Qe(e,t,n){if(2!==e.h)return!1;var r,i=Q(e.g),o=(e=e.g).g;if(e.g+=i,J(e),e=e.h,P)(r=A)||(r=A=new TextDecoder("utf-8",{fatal:!1})),r=r.decode(e.subarray(o,o+i));else{i=o+i;for(var a,s,u,c=[],l=null;o<i;)128>(a=e[o++])?c.push(a):224>a?o>=i?c.push(65533):(s=e[o++],194>a||128!==(192&s)?(o--,c.push(65533)):c.push((31&a)<<6|63&s)):240>a?o>=i-1?c.push(65533):128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(r=e[o++]))?(o--,c.push(65533)):c.push((15&a)<<12|(63&s)<<6|63&r):244>=a?o>=i-2?c.push(65533):128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(r=e[o++]))||128!==(192&(u=e[o++]))?(o--,c.push(65533)):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&u,a-=65536,c.push(55296+(a>>10&1023),56320+(1023&a))):c.push(65533),8192<=c.length&&(l=O(l,c),c.length=0);r=O(l,c)}return Ce(t,n,r),!0}function qe(e,t,n,r,i){return 2===e.h&&(e=ae(e,new r,i),t.g||(t.g={}),r=e&&e.u,t.g[n]=e,Ce(t,n,r,!1),!0)}function $e(e,t,n,r,i){return 2===e.h&&(Re(t,n,e=ae(e,new r,i),r,void 0),!0)}function et(e,t,n){return 0===e.h&&(Ce(t,n,K(e.g)),!0)}function tt(e){ye.call(this,e)}function nt(){return{1:ze,2:Xe,3:Qe,4:Qe}}function rt(e,t){var n=Ee(e,1);if(null!=n&&null!=n){ne(t.g,8);var r=t.g;if(0<=n)ne(r,n);else{for(var i=0;9>i;i++)te(r,127&n|128),n>>=7;te(r,1)}}We(t,e,2),null!=(r=Ee(e,3))&&le(t,3,M(r)),null!=(r=Ee(e,4))&&le(t,4,M(r)),Ne(e,t)}function it(e){ye.call(this,e,-1,at)}function ot(){return{1:[$e,tt,nt]}}h(tt,ye),h(it,ye),it.prototype.addClassification=function(e,t){return Re(this,1,e,tt,t),this};var at=[1];function st(e){ye.call(this,e)}function ut(){return{1:Xe,2:Xe,3:Xe,4:Xe,5:Xe}}function ct(e,t){We(t,e,1),We(t,e,2),We(t,e,3),We(t,e,4),We(t,e,5),Ne(e,t)}function lt(e){ye.call(this,e,-1,ft)}function dt(){return{1:[$e,st,ut]}}h(st,ye),h(lt,ye);var ft=[1];function pt(e){ye.call(this,e)}function ht(){return{1:Xe,2:Xe,3:Xe,4:Xe,5:Xe,6:Ye}}function vt(e,t){We(t,e,1),We(t,e,2),We(t,e,3),We(t,e,4),We(t,e,5);var n=Ee(e,6);if(null!=n&&null!=n){ne(t.g,48);var r=t.g,i=n;n=0>i;var o=(i=Math.abs(i))>>>0;for(i=Math.floor((i-o)/4294967296),i>>>=0,n&&(i=~i>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++i&&(i=0))),n=H=o,o=i;0<o||127<n;)te(r,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;te(r,n)}Ne(e,t)}function mt(e){ye.call(this,e,-1,wt)}function gt(){return{1:et,2:et,3:Be,4:[qe,yt,bt],5:ze,6:ze,7:Be,8:Be,9:Be}}function yt(e){ye.call(this,e)}function bt(){return{1:Xe,2:Xe,3:Xe}}h(pt,ye),h(mt,ye),h(yt,ye);var wt=[3,7,8,9];function Et(e){ye.call(this,e)}function kt(){return{1:He,2:He,3:He}}function _t(e){ye.call(this,e)}function St(){return{1:He,2:He,3:He}}function Ct(e){ye.call(this,e)}function xt(){return{1:Ke,2:[qe,_t,St],3:[qe,Et,kt],4:Je}}function Tt(e){ye.call(this,e,-1,Rt)}function It(){return{1:Ke,2:[$e,Ct,xt],3:He,4:Be,5:Be,6:Be}}h(Et,ye),h(_t,ye),h(Ct,ye),h(Tt,ye);var Rt=[2,4,5,6];function Ot(e){ye.call(this,e,-1,Nt)}function At(){return{1:Ke,2:[$e,Tt,It],3:[qe,mt,gt],4:Ue,5:Be,6:Be}}h(Ot,ye);var Nt=[2,5,6];function Pt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Lt(e){return Ie(e,tt,1).map((function(e){return{index:Oe(e,1),$:Se(e,2),label:null!=Ee(e,3)?Ae(e,3):void 0,displayName:null!=Ee(e,4)?Ae(e,4):void 0}}))}function Mt(e){return{x:Se(e,1),y:Se(e,2),z:Se(e,3),visibility:null!=Ee(e,4)?Se(e,4):void 0}}function Dt(e,t){this.h=e,this.g=t,this.l=0}function jt(t,n,r){return function(e,t){var n=e.g;if(void 0===e.m){var r=Pt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Pt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.m=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={J:n.getAttribLocation(r,"aVertex"),I:n.getAttribLocation(r,"aTex"),ja:i},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.J),n.disableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Ft(e){this.g=e}var Vt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Zt(e,t){return t+e}function Gt(e,t){window[e]=t}function Wt(t){if(this.g=t,this.listeners={},this.j={},this.G={},this.m={},this.s={},this.H=this.o=this.S=!0,this.D=e.resolve(),this.R="",this.C={},this.locateFile=t&&t.locateFile||Zt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.T=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function Ut(t){var n,r,i,o,a,s,c,l,d,f,p;return _((function(h){switch(h.g){case 1:return t.S?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,y(h,_((function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(Vt),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(r=h.h,"object"==typeof window)return Gt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Gt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(n){var r=Xt(t,n.url);if(void 0!==n.path){var i=n.path;r=r.then((function(n){return t.overrideFile(i,n),e.resolve(n)}))}return r}))),d=e.all(c.map((function(n){return void 0===n.simd||n.simd&&r||!n.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.T)):e.resolve()}))).then((function(){var e,n,r;return _((function(i){if(1==i.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=t,y(i,e(n),2);r.h=i.h,i.g=0}))})),f=_((function(e){return t.g.graph&&t.g.graph.url?e=y(e,Xt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),y(h,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=n.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return t.locateFile(e.url,t.T)})),importScripts.apply(null,u(i)),o=t,y(h,createMediapipeSolutionsWasm(Module),6);case 6:o.h=h.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ga:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),h.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(p=t.l.getContext("webgl2",{}))&&!(p=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();t.F=p,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.S=!1,h.g=0}}))}function Xt(e,t){var n,r;return _((function(i){return t in e.G?i.return(e.G[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.G[t]=r,i.return(r))}))}function Bt(e,t,n){var r,i,o,a,u,c,l,d,f,p,h,v,m,g;return _((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(e.H=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){b.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(b,function(e,t,n){var r;return _((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?i.return(n):n instanceof e.h.Texture2dDataOut?((r=e.s[t])||(r=new Dt(e.h,e.F),e.s[t]=r),i.return(jt(r,n,e.H))):i.return(void 0)}))}(e,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=Ge(w.get(C),pt,ht);x={U:{aa:Se(x,1),ba:Se(x,2),height:Se(x,3),width:Se(x,4),rotation:Se(x,5,0),Z:Oe(x,6)},P:Ie(Ge(E.get(C),lt,dt),st,1).map(Mt),N:Lt(Ge(k.get(C),it,ot))},S.push(x)}w=S}else w=[];r[d]=w,b.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===p){b.g=3;break}if("float_list"===f.type){r[d]=p,b.g=7;break}if("proto"===f.type){r[d]=p,b.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=e.s[d])||(h=new Dt(e.h,e.F),e.s[d]=h),y(b,jt(h,p,e.H),13);case 13:v=b.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),b.g=3;break;case 14:m[g]=b.h;case 3:a=l.next(),b.g=2;break;case 4:return b.return(r)}}))}function Ht(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.D=Bt(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function Yt(e){var t=Oe(e,1),n=Te(e,Et,3);return{id:t,point2d:n={x:Se(n,1),y:Se(n,2),depth:Se(n,3)},point3d:{x:Se(e=Te(e,_t,2),1),y:Se(e,2),z:Se(e,3)}}}function zt(e){var t=Ge(e,Ot,At);e=[],t=Ie(t,Tt,2);for(var n=0;n<t.length;n++)e.push({id:Oe(t[n],1),keypoints:Ie(t[n],Ct,2).map(Yt),visibility:Se(t[n],3),scale:_e(t[n],6),translation:_e(t[n],5),rotation:_e(t[n],4)});return e}function Kt(e){switch(e){case"Camera":return"Camera";case"Chair":return"Chair";case"Cup":return"Coffee cup, Mug";default:return"Footwear"}}(t=Wt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return _((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={L:o.L,M:o.M},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.L=u.onChange,o.M=e[c],r.push(function(e){return function(){return _((function(t){if(1==t.g)return y(t,e.L(e.M),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.o=!0,this.B=(void 0===this.B?[]:this.B).concat(i),this.A=(void 0===this.A?[]:this.A).concat(r))}},t.initialize=function(){var e=this;return _((function(t){return 1==t.g?y(t,Ut(e),2):3!=t.g?y(t,function(e){var t,n,r,i,o,a,u,c;return _((function(l){if(1==l.g)return e.g.graph&&e.g.graph.url&&e.R===e.g.graph.url?l.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.R=e.g.graph.url,y(l,Xt(e,e.g.graph.url),3)):void(l.g=2));for(2!=l.g&&(t=l.h,e.i.loadGraph(t)),n=s(Object.keys(e.C)),r=n.next();!r.done;r=n.next())i=r.value,e.i.overrideFile(i,e.C[i]);if(e.C={},e.g.listeners)for(o=s(e.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,Ht(e,u);c=e.j,e.j={},e.setOptions(c),l.g=0}))}(e),3):y(t,function(e){var t,n,r,i,o,a;return _((function(u){switch(u.g){case 1:if(!e.o)return u.return();if(!e.A){u.g=2;break}t=s(e.A),n=t.next();case 3:if(n.done){u.g=5;break}return y(u,(0,n.value)(),4);case 4:n=t.next(),u.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(r=new e.h.GraphOptionChangeRequestList,i=s(e.B),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);e.i.changeOptions(r),r.delete(),e.B=void 0}e.o=!1,u.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,r,i,o,a,u,c,l,d,f=this;return _((function(p){switch(p.g){case 1:return f.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,f.D,2)):p.return();case 2:return y(p,f.initialize(),3);case 3:for(r=new f.h.PacketDataList,i=s(Object.keys(e)),o=i.next();!o.done;o=i.next())if(a=o.value,u=f.g.inputs[a]){e:{var h=e[a];switch(u.type){case"video":var v=f.m[u.stream];if(v||(v=new Dt(f.h,f.F),f.m[u.stream]=v),0===v.l&&(v.l=v.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement)var m=h.videoWidth,g=h.videoHeight;else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(m=h.naturalWidth,g=h.naturalHeight):(m=h.width,g=h.height);g={glName:v.l,width:m,height:g},(m=v.g).canvas.width=g.width,m.canvas.height=g.height,m.activeTexture(m.TEXTURE0),v.h.bindTexture2d(v.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,h),v.h.bindTexture2d(0),v=g;break e;case"detections":for((v=f.m[u.stream])||(v=new Ft(f.h),f.m[u.stream]=v),v.data||(v.data=new v.g.DetectionListData),v.data.reset(h.length),g=0;g<h.length;++g){m=h[g];var b=v.data,w=b.setBoundingBox,E=g,k=m.U,_=new pt;if(Ce(_,1,k.aa),Ce(_,2,k.ba),Ce(_,3,k.height),Ce(_,4,k.width),Ce(_,5,k.rotation),Ce(_,6,k.Z),k=Ze(_,vt),w.call(b,E,k),m.P)for(b=0;b<m.P.length;++b){var S=!!(_=m.P[b]).visibility;E=(w=v.data).addNormalizedLandmark,k=g,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),Ce(S=new st,1,_.x),Ce(S,2,_.y),Ce(S,3,_.z),_.visibility&&Ce(S,4,_.visibility),_=Ze(S,ct),E.call(w,k,_)}if(m.N)for(b=0;b<m.N.length;++b)E=(w=v.data).addClassification,k=g,_=m.N[b],Ce(S=new tt,2,_.$),_.index&&Ce(S,1,_.index),_.label&&Ce(S,3,_.label),_.displayName&&Ce(S,4,_.displayName),_=Ze(S,rt),E.call(w,k,_)}v=v.data;break e;default:v={}}}switch(c=v,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:l,timestamp:n}));break;case"detections":(d=c).stream=l,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return f.i.send(r),y(p,f.D,4);case 4:r.delete(),p.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",Wt),x("OptionType",{BOOL:0,NUMBER:1,ca:2,0:"BOOL",1:"NUMBER",2:"STRING"});var Jt={focalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_x"}},focalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_y"}},principalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_x"}},principalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_y"}},allowedLabels:{type:2,graphOptionXref:{calculatorName:"ConstantSidePacketCalculatorAllowedLabels",calculatorType:"ConstantSidePacketCalculator",fieldName:"string_value"}}};function Qt(e){var t=this;e=e||{},this.g=new Wt({locateFile:e.locateFile,files:[{url:"objectron_solution_packed_assets_loader.js"},{simd:!1,url:"objectron_solution_wasm_bin.js"},{simd:!0,url:"objectron_solution_simd_wasm_bin.js"}],graph:{url:"objectron.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["lifted_objects","image_transformed"],outs:{image:"image_transformed",objectDetections:{type:"proto",stream:"lifted_objects",transform:zt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,default:!1,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumObjects:{type:1,default:5,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorMaxNumObjects",fieldName:"int_value"}},staticImageMode:{type:0,default:!0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"objectrongpusubgraph__ConstantSidePacketCalculator",fieldName:"bool_value"}},minDetectionConfidence:{type:1,default:.5,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"objectrongpusubgraph__objectdetectionoidv4subgraph__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,default:.99,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"objectrongpusubgraph__boxlandmarksubgraph__ThresholdingCalculator",fieldName:"threshold"}},modelName:{default:"Shoe",onChange:function(e){var n,r,i,o;return _((function(a){return 1==a.g?(n=e,t.g.setOptions({allowedLabels:Kt(n)},Jt),r=function(e){switch(e){case"Camera":return"object_detection_3d_camera.tflite";case"Chair":return"object_detection_3d_chair.tflite";case"Cup":return"object_detection_3d_cup.tflite";default:return"object_detection_3d_sneakers.tflite"}}(n),i="object_detection_3d.tflite",y(a,Xt(t.g,r),2)):(o=a.h,t.g.overrideFile(i,o),a.return(!0))}))}},focalLength:{default:[1,1],onChange:function(e){var n;return _((function(r){return n=e,t.h=n,t.g.setOptions({focalX:n[0],focalY:n[1]},Jt),r.return(!0)}))}},principalPoint:{default:[0,0],onChange:function(e){var n;return _((function(r){return n=e,t.i=n,t.g.setOptions({principalX:n[0],principalY:n[1]},Jt),r.return(!0)}))}},imageSize:{onChange:function(e){var n,r,i,o;return _((function(a){if(void 0===t.h||void 0===t.i)return console.error('"focalLength" and "principalPoint" must be set if setting image size'),a.return();r=[(n=e)[0]/2,n[1]/2],i=[t.h[0]/r[0],t.h[1]/r[1]],o=[t.i[0]/r[0],t.i[1]/r[1]],t.setOptions({focalLength:i,principalPoint:o}),a.g=0}))}}}})}(t=Qt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return _((function(t){return y(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return _((function(n){return y(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},x("Objectron",Qt),x("BOX_CONNECTIONS",[[1,2],[2,4],[4,3],[3,1],[5,6],[6,8],[8,7],[7,5],[1,5],[2,6],[3,7],[4,8]]),x("BOX_KEYPOINTS",{CENTER:0,BACK_BOTTOM_LEFT:1,FRONT_BOTTOM_LEFT:2,BACK_TOP_LEFT:3,FRONT_TOP_LEFT:4,BACK_BOTTOM_RIGHT:5,FRONT_BOTTOM_RIGHT:6,BACK_TOP_RIGHT:7,FRONT_TOP_RIGHT:8}),x("VERSION","0.4.1636596145")}).call(Ge);var We={};(function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g)];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<t.length;o++){var s=i[t[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(Ct){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ea=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var i=t.call(e.g.i,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.l=!1,i;var o=i.value}catch(a){return e.g.i=null,g(e.g,a),E(e)}return e.g.i=null,r.call(e.g,o),E(e)}function E(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=E(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=E(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),E(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(t){return function(t){function n(e){return t.next(e)}function r(e){return t.throw(e)}return new e((function(i,o){!function t(a){a.done?i(a.value):e.resolve(a.value).then(n,r).then(t,o)}(t.next())}))}(new k(new b(t)))}v.prototype.o=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.s},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=i.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;o((function(){if(e.B()){var t=i.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.J(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=s(e),o=i.next();!o.done;o=i.next())r(o.value).J(t,n)}))},t.all=function(e){var n=s(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).J(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};o("Object.assign",(function(e){return e||S})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e){return e}))}}));var C=this||self;function x(e,t){e=e.split(".");var n,r=C;e[0]in r||typeof r.execScript>"u"||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(e){!function(e){C.setTimeout((function(){throw e}),0)}(e)}function I(e,t){T(Error("Invalid wire type: "+e+" (at position "+t+")"))}function R(){T(Error("Failed to read varint, encoding is invalid."))}function O(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var A,N,P=typeof TextDecoder<"u",L=typeof TextEncoder<"u";function M(e){if(L)e=(N||(N=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128>o)r[n++]=o;else{if(2048>o)r[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&i<e.length){var a=e.charCodeAt(++i);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128;continue}i--}if(t)throw Error("Found an unpaired surrogate");o=65533}r[n++]=o>>12|224,r[n++]=o>>6&63|128}r[n++]=63&o|128}}e=r.subarray(0,n)}return e}var D={},j=null;function F(e){var t;void 0===t&&(t=0),Z(),t=D[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,o=0;i<e.length-2;i+=3){var a=e[i],s=e[i+1],u=e[i+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+a+s+u}switch(c=0,u=r,e.length-i){case 2:u=t[(15&(c=e[i+1]))<<2]||r;case 1:e=e[i],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function V(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=j[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Z();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){r[i++]=e})),r.subarray(0,i)}function Z(){if(!j){j={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));D[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===j[o]&&(j[o]=i)}}}}var G,W="function"==typeof Uint8Array;function U(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}U.prototype.toJSON=function(){if(null==this.g)var e="";else e=this.g,e=this.g=null==e||"string"==typeof e?e:W&&e instanceof Uint8Array?F(e):null;return e};var X="function"==typeof Uint8Array.prototype.slice;function B(e,t,n){return t===n?G||(G=new Uint8Array(0)):X?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var H=0;function Y(e,t){t=void 0!==(t=void 0===t?{}:t).u&&t.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=t,e&&z(this,e)}function z(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return V(e);if(e.constructor===U){if(null==e.g)var t=G||(G=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||W&&null!=n&&n instanceof Uint8Array?n:"string"==typeof n?V(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.l=0,e.i=e.h.length,e.g=e.l}function K(e){e.g>e.i&&(e.j=!0,T(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}function J(e){var t=e.h,n=t[e.g],r=127&n;return 128>n?(e.g+=1,K(e),r):(r|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,K(e),r):(r|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,K(e),r):(r|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,K(e),r):(r|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,K(e),r>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]?(e.j=!0,R(),r):(K(e),r))))))}Y.prototype.reset=function(){this.g=this.l};var Q=[];function q(){this.g=new Uint8Array(64),this.h=0}function $(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function ee(e,t){for(;127<t;)$(e,127&t|128),t>>>=7;$(e,t)}function te(e){var t={},n=void 0!==t.N&&t.N;this.m={u:void 0!==t.u&&t.u},this.N=n,t=this.m,Q.length?(n=Q.pop(),t&&(n.u=t.u),e&&z(n,e),e=n):e=new Y(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function ne(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).j||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=J(e.g);return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,I(n,e.l),!1)}function re(e){switch(e.h){case 0:if(0!=e.h)re(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,K(e);break e}t++}e.j=!0,R()}break;case 1:(e=e.g).g+=8,K(e);break;case 2:2!=e.h?re(e):(t=J(e.g),(e=e.g).g+=t,K(e));break;case 5:(e=e.g).g+=4,K(e);break;case 3:for(t=e.i;;){if(!ne(e)){e.j=!0,T(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,T(Error("Unmatched end-group tag")));break}re(e)}break;default:e.j=!0,I(e.h,e.l)}}function ie(e,t,n){e.N||(e=B(e.g.h,n,e.g.g),(n=t.m)?n.push(e):t.m=[e])}q.prototype.length=function(){return this.h},q.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,B(e,0,t)},te.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var oe=[];function ae(){this.h=[],this.i=0,this.g=new q}function se(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ue(e,t,n){ee(e.g,8*t+2),ee(e.g,n.length),se(e,e.g.end()),se(e,n)}var ce,le="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function de(e,t){Object.isFrozen(e)||(le?e[le]|=t:void 0!==e.g?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function fe(e){return e?null==(t=le?e[le]:e.g)?0:t:0;var t}function pe(e){return Array.isArray(e)&&de(e,1),e}function he(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");de(e,2)}function ve(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function me(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":return W&&null!=e&&e instanceof Uint8Array?F(e):e;default:return e}}function ge(e,t){if(null!=e)return Array.isArray(e)||ve(e)?ye(e,t):t(e)}function ye(e,t){if(Array.isArray(e)){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=ge(e[r],t);return 1&fe(e)&&pe(n),n}for(r in n={},e)n[r]=ge(e[r],t);return n}function be(e,t,n){var r=ce;if(ce=null,e||(e=r),r=this.constructor.ca,e||(e=r?[r]:[]),this.j=(r?0:-1)-(this.constructor.aa||0),this.i=null,this.g=e,e=(r=this.g.length)-1,r&&ve(r=this.g[e])?(this.l=e-this.j,this.h=r):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.h=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.g[e])?pe(r):this.g[e]=ke):(_e(this),(r=this.h[e])?pe(r):this.h[e]=ke)}var we,Ee,ke=Object.freeze(pe([]));function _e(e){var t=e.l+e.j;e.g[t]||(e.h=e.g[t]={})}function Se(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.h?e.h[t]:void 0:e.g[t+e.j]}function Ce(e,t,n){n=void 0===n||n;var r=void 0!==r&&r,i=Se(e,t,r);return null==i&&(i=ke),i===ke?Te(e,t,i=pe([]),r):n&&Array.isArray(i)&&2&fe(i)&&Te(e,t,i=i.slice(),r),i}function xe(e,t,n){return null==(e=null==(e=Se(e,t))?e:+e)?void 0===n?0:n:e}function Te(e,t,n,r){void 0!==r&&r||t>=e.l?(_e(e),e.h[t]=n):e.g[t+e.j]=n}function Ie(e,t,n){e.i||(e.i={});var r=e.i[n];if(!r){var i=Ce(e,n,!1);r=[];for(var o=!!Array.isArray(i)&&!!(2&fe(i)),a=0;a<i.length;a++)r[a]=new t(i[a]),o&&he(r[a].g);o&&(he(r),Object.freeze(r)),e.i[n]=r}return r}function Re(e,t,n,r,i){var o=Ie(e,r,t);n=n||new r,e=Ce(e,t),null!=i?(o.splice(i,0,n),e.splice(i,0,Oe(n))):(o.push(n),e.push(Oe(n)))}function Oe(e){if(e.i)for(var t in e.i){var n=e.i[t];if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&Oe(n[r]);else n&&Oe(n)}return e.g}function Ae(e,t){return null==(e=Se(e,t))?0:e}function Ne(e,t){return null==(e=Se(e,t))?"":e}function Pe(e,t){if(e=e.m){se(t,t.g.end());for(var n=0;n<e.length;n++)se(t,e[n])}}function Le(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,r,i){return t(e,r,i,n)};case 3:var r=e[1],i=e[2];return function(e,n,o){return t(e,n,o,r,i)};case 4:var o=e[1],a=e[2],s=e[3];return function(e,n,r){return t(e,n,r,o,a,s)};default:throw Error("unsupported number of parameters, expected [2-4], got "+e.length)}}function Me(e,t,n){for(;ne(t)&&4!=t.h;){var r=t.i,i=n[r];if(i){if(Array.isArray(i)&&(i=n[r]=Le(i)),!i(t,e,r)){i=e;var o=(r=t).l;re(r),ie(r,i,o)}}else i=e,o=(r=t).l,re(r),ie(r,i,o)}return e}function De(e,t){var n=new ae;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var r=n.h,i=r.length,o=t=0;o<i;o++){var a=r[o];0!==a.length&&(e.set(a,t),t+=a.length)}0!==(i=(r=n.g).h)&&(e.set(r.g.subarray(0,i),t),r.h=0),n.h=[e],n=e}return n}function je(e,t,n){if(oe.length){var r=oe.pop();e&&(z(r.g,e),r.i=-1,r.h=-1),e=r}else e=new te(e);try{return n(new t,e)}finally{(t=e.g).h=null,t.l=0,t.i=0,t.g=0,t.j=!1,t.u=!1,e.i=-1,e.h=-1,e.j=!1,100>oe.length&&oe.push(e)}}function Fe(e,t,n){if(null!=(t=Se(t,n))){ee(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?H=0<1/r?0:2147483648:isNaN(r)?H=2147483647:34028234663852886e22<r?H=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),H=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,H=(n<<31|t+127<<23|8388607&r)>>>0),$(e,(n=H)>>>0&255),$(e,n>>>8&255),$(e,n>>>16&255),$(e,n>>>24&255)}}function Ve(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],i=e.h[e.g+1],o=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,K(e),e=2*((i=(r<<0|i<<8|o<<16|a<<24)>>>0)>>31)+1,r=i>>>23&255,i&=8388607,Te(t,n,255==r?i?NaN:1/0*e:0==r?e*Math.pow(2,-149)*i:e*Math.pow(2,r-150)*(i+Math.pow(2,23))),!0}function Ze(e,t,n){if(0!==e.h)return!1;for(var r=e.g,i=128,o=0,a=e=0;4>a&&128<=i;a++)o|=(127&(i=r.h[r.g++]))<<7*a;if(128<=i&&(o|=(127&(i=r.h[r.g++]))<<28,e|=(127&i)>>4),128<=i)for(a=0;5>a&&128<=i;a++)e|=(127&(i=r.h[r.g++]))<<7*a+3;return 128>i?(r=o>>>0,(e=2147483648&(i=e>>>0))&&(i=~i>>>0,0==(r=1+~r>>>0)&&(i=i+1>>>0)),r=4294967296*i+(r>>>0),e=e?-r:r):(r.j=!0,R(),e=void 0),Te(t,n,e),!0}function Ge(e,t,n){return 0===e.h&&(Te(t,n,J(e.g)),!0)}function We(e,t,n){if(2!==e.h)return!1;var r,i=J(e.g),o=(e=e.g).g;if(e.g+=i,K(e),e=e.h,P)(r=A)||(r=A=new TextDecoder("utf-8",{fatal:!1})),r=r.decode(e.subarray(o,o+i));else{i=o+i;for(var a,s,u,c=[],l=null;o<i;)128>(a=e[o++])?c.push(a):224>a?o>=i?c.push(65533):(s=e[o++],194>a||128!==(192&s)?(o--,c.push(65533)):c.push((31&a)<<6|63&s)):240>a?o>=i-1?c.push(65533):128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(r=e[o++]))?(o--,c.push(65533)):c.push((15&a)<<12|(63&s)<<6|63&r):244>=a?o>=i-2?c.push(65533):128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(r=e[o++]))||128!==(192&(u=e[o++]))?(o--,c.push(65533)):(a=(7&a)<<18|(63&s)<<12|(63&r)<<6|63&u,a-=65536,c.push(55296+(a>>10&1023),56320+(1023&a))):c.push(65533),8192<=c.length&&(l=O(l,c),c.length=0);r=O(l,c)}return Te(t,n,r),!0}function Ue(e,t,n,r,i){if(2!==e.h)return!1;var o=new r,a=e.g.i,s=J(e.g),u=e.g.g+s;if(e.g.i=u,i(o,e),0!==(i=u-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+s+" bytes, instead read "+(s-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=u,e.g.i=a,Re(t,n,o,r,void 0),!0}function Xe(e){be.call(this,e)}function Be(e,t){var n=Se(e,1);if(null!=n&&null!=n){ee(t.g,8);var r=t.g;if(0<=n)ee(r,n);else{for(var i=0;9>i;i++)$(r,127&n|128),n>>=7;$(r,1)}}Fe(t,e,2),null!=(r=Se(e,3))&&ue(t,3,M(r)),null!=(r=Se(e,4))&&ue(t,4,M(r)),Pe(e,t)}function He(e,t){return Me(e,t,we||(we={1:Ge,2:Ve,3:We,4:We}))}function Ye(e){be.call(this,e,-1,Qe)}function ze(e,t){return Me(e,t,Ee||(Ee={1:[Ue,Xe,He]}))}be.prototype.toJSON=function(){return ye(Oe(this),me)},be.prototype.toString=function(){return Oe(this).toString()},h(Xe,be),h(Ye,be),Ye.prototype.addClassification=function(e,t){return Re(this,1,e,Xe,t),this};var Ke,Je,Qe=[1];function qe(e){be.call(this,e)}function $e(e,t){Fe(t,e,1),Fe(t,e,2),Fe(t,e,3),Fe(t,e,4),Fe(t,e,5),Pe(e,t)}function et(e,t){return Me(e,t,Ke||(Ke={1:Ve,2:Ve,3:Ve,4:Ve,5:Ve}))}function tt(e){be.call(this,e,-1,it)}function nt(e,t){return Me(e,t,Je||(Je={1:[Ue,qe,et]}))}h(qe,be),h(tt,be);var rt,it=[1];function ot(e){be.call(this,e)}function at(e,t){Fe(t,e,1),Fe(t,e,2),Fe(t,e,3),Fe(t,e,4),Fe(t,e,5);var n=Se(e,6);if(null!=n&&null!=n){ee(t.g,48);var r=t.g,i=n;n=0>i;var o=(i=Math.abs(i))>>>0;for(i=Math.floor((i-o)/4294967296),i>>>=0,n&&(i=~i>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++i&&(i=0))),n=H=o,o=i;0<o||127<n;)$(r,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;$(r,n)}Pe(e,t)}function st(e,t){return Me(e,t,rt||(rt={1:Ve,2:Ve,3:Ve,4:Ve,5:Ve,6:Ze}))}function ut(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function ct(e){return Ie(e,Xe,1).map((function(e){return{index:Ae(e,1),X:xe(e,2),label:null!=Se(e,3)?Ne(e,3):void 0,displayName:null!=Se(e,4)?Ne(e,4):void 0}}))}function lt(e){return{x:xe(e,1),y:xe(e,2),z:xe(e,3),visibility:null!=Se(e,4)?xe(e,4):void 0}}function dt(e){return Ie(je(e,tt,nt),qe,1).map(lt)}function ft(e,t){this.h=e,this.g=t,this.l=0}function pt(t,n,r){return function(e,t){var n=e.g;if(void 0===e.m){var r=ut(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=ut(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.m=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),da:i},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):r?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function ht(e){this.g=e}h(ot,be);var vt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function mt(e,t){return t+e}function gt(e,t){window[e]=t}function yt(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||mt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var r=(n=s(Object.keys(t.options))).next();!r.done;r=n.next()){r=r.value;var i=t.options[r].default;void 0!==i&&(this.j[r]="function"==typeof i?i():i)}}function bt(t){var n,r,i,o,a,s,c,l,d,f,p;return _((function(h){switch(h.g){case 1:return t.R?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,y(h,_((function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(vt),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):h.return();case 2:if(r=h.h,"object"==typeof window)return gt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),gt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),l=e.all(s.map((function(n){var r=wt(t,n.url);if(void 0!==n.path){var i=n.path;r=r.then((function(n){return t.overrideFile(i,n),e.resolve(n)}))}return r}))),d=e.all(c.map((function(n){return void 0===n.simd||n.simd&&r||!n.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.S)):e.resolve()}))).then((function(){var e,n,r;return _((function(i){if(1==i.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=t,y(i,e(n),2);r.h=i.h,i.g=0}))})),f=_((function(e){return t.g.graph&&t.g.graph.url?e=y(e,wt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),y(h,e.all([d,l,f]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=n.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,u(i)),o=t,y(h,createMediapipeSolutionsWasm(Module),6);case 6:o.h=h.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),h.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(p=t.l.getContext("webgl2",{}))&&!(p=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();t.D=p,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.R=!1,h.g=0}}))}function wt(e,t){var n,r;return _((function(i){return t in e.F?i.return(e.F[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.F[t]=r,i.return(r))}))}function Et(e,t,n){var r,i,o,a,u,c,l,d,f,p,h,v,m,g;return _((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())u=a.value,"string"!=typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++i;1<i&&(e.G=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){b.g=4;break}if(d=a.value,"string"==typeof(f=n[d]))return m=r,g=d,y(b,function(e,t,n){var r;return _((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?i.return(n):n instanceof e.h.Texture2dDataOut?((r=e.s[t])||(r=new ft(e.h,e.D),e.s[t]=r),i.return(pt(r,n,e.G))):i.return(void 0)}))}(e,d,t[f]),14);if(p=t[f.stream],"detection_list"===f.type){if(p){for(var w=p.getRectList(),E=p.getLandmarksList(),k=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var x=je(w.get(C),ot,st);x={T:{Y:xe(x,1),Z:xe(x,2),height:xe(x,3),width:xe(x,4),rotation:xe(x,5,0),W:Ae(x,6)},O:dt(E.get(C)),M:ct(je(k.get(C),Ye,ze))},S.push(x)}w=S}else w=[];r[d]=w,b.g=7;break}if("proto_list"===f.type){if(p){for(w=Array(p.size()),E=0;E<p.size();E++)w[E]=p.get(E);p.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===p){b.g=3;break}if("float_list"===f.type){r[d]=p,b.g=7;break}if("proto"===f.type){r[d]=p,b.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(h=e.s[d])||(h=new ft(e.h,e.D),e.s[d]=h),y(b,pt(h,p,e.G),13);case 13:v=b.h,r[d]=v;case 7:f.transform&&r[d]&&(r[d]=f.transform(r[d])),b.g=3;break;case 14:m[g]=b.h;case 3:a=l.next(),b.g=2;break;case 4:return b.return(r)}}))}function kt(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),i=new e.h.StringList,o=s(t.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<t.wants.length;++a)o[r[a]]=i.get(a);var s=e.listeners[n];s&&(e.C=Et(e,o,t.outs).then((function(n){n=s(n);for(var i=0;i<t.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(i,o),i.delete()}function _t(e){switch(void 0===e&&(e=0),e){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function St(e){var t=this;e=e||{},this.g=new yt({locateFile:e.locateFile,files:function(e){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:_t(e.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:dt},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:dt},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,i;return _((function(o){return 1==o.g?(n=_t(e),r="third_party/mediapipe/modules/pose_landmark/"+n,y(o,wt(t.g,n),2)):(i=o.h,t.g.overrideFile(r,i),o.return(!0))}))}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}(t=yt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return _((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],i=[],o={},a=s(Object.keys(e)),u=a.next();!u.done;o={K:o.K,L:o.L},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.K=u.onChange,o.L=e[c],r.push(function(e){return function(){return _((function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),i.push(u))))}(0!==r.length||0!==i.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(i),this.v=(void 0===this.v?[]:this.v).concat(r))}},t.initialize=function(){var e=this;return _((function(t){return 1==t.g?y(t,bt(e),2):3!=t.g?y(t,function(e){var t,n,r,i,o,a,u,c;return _((function(l){if(1==l.g)return e.g.graph&&e.g.graph.url&&e.P===e.g.graph.url?l.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.P=e.g.graph.url,y(l,wt(e,e.g.graph.url),3)):void(l.g=2));for(2!=l.g&&(t=l.h,e.i.loadGraph(t)),n=s(Object.keys(e.B)),r=n.next();!r.done;r=n.next())i=r.value,e.i.overrideFile(i,e.B[i]);if(e.B={},e.g.listeners)for(o=s(e.g.listeners),a=o.next();!a.done;a=o.next())u=a.value,kt(e,u);c=e.j,e.j={},e.setOptions(c),l.g=0}))}(e),3):y(t,function(e){var t,n,r,i,o,a;return _((function(u){switch(u.g){case 1:if(!e.o)return u.return();if(!e.v){u.g=2;break}t=s(e.v),n=t.next();case 3:if(n.done){u.g=5;break}return y(u,(0,n.value)(),4);case 4:n=t.next(),u.g=3;break;case 5:e.v=void 0;case 2:if(e.A){for(r=new e.h.GraphOptionChangeRequestList,i=s(e.A),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);e.i.changeOptions(r),r.delete(),e.A=void 0}e.o=!1,u.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,r,i,o,a,u,c,l,d,f=this;return _((function(p){switch(p.g){case 1:return f.g.inputs?(n=1e3*(null==t?performance.now():t),y(p,f.C,2)):p.return();case 2:return y(p,f.initialize(),3);case 3:for(r=new f.h.PacketDataList,i=s(Object.keys(e)),o=i.next();!o.done;o=i.next())if(a=o.value,u=f.g.inputs[a]){e:{var h=e[a];switch(u.type){case"video":var v=f.m[u.stream];if(v||(v=new ft(f.h,f.D),f.m[u.stream]=v),0===v.l&&(v.l=v.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement)var m=h.videoWidth,g=h.videoHeight;else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(m=h.naturalWidth,g=h.naturalHeight):(m=h.width,g=h.height);g={glName:v.l,width:m,height:g},(m=v.g).canvas.width=g.width,m.canvas.height=g.height,m.activeTexture(m.TEXTURE0),v.h.bindTexture2d(v.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,h),v.h.bindTexture2d(0),v=g;break e;case"detections":for((v=f.m[u.stream])||(v=new ht(f.h),f.m[u.stream]=v),v.data||(v.data=new v.g.DetectionListData),v.data.reset(h.length),g=0;g<h.length;++g){m=h[g];var b=v.data,w=b.setBoundingBox,E=g,k=m.T,_=new ot;if(Te(_,1,k.Y),Te(_,2,k.Z),Te(_,3,k.height),Te(_,4,k.width),Te(_,5,k.rotation),Te(_,6,k.W),k=De(_,at),w.call(b,E,k),m.O)for(b=0;b<m.O.length;++b){var S=!!(_=m.O[b]).visibility;E=(w=v.data).addNormalizedLandmark,k=g,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),Te(S=new qe,1,_.x),Te(S,2,_.y),Te(S,3,_.z),_.visibility&&Te(S,4,_.visibility),_=De(S,$e),E.call(w,k,_)}if(m.M)for(b=0;b<m.M.length;++b)E=(w=v.data).addClassification,k=g,_=m.M[b],Te(S=new Xe,2,_.X),_.index&&Te(S,1,_.index),_.label&&Te(S,3,_.label),_.displayName&&Te(S,4,_.displayName),_=De(S,Be),E.call(w,k,_)}v=v.data;break e;default:v={}}}switch(c=v,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:l,timestamp:n}));break;case"detections":(d=c).stream=l,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return f.i.send(r),y(p,f.C,4);case 4:r.delete(),p.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},x("Solution",yt),x("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=St.prototype).reset=function(){this.g.reset()},t.close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return _((function(t){return y(t,e.g.initialize(),0)}))},t.send=function(e,t){var n=this;return _((function(r){return y(r,n.g.send(e,t),0)}))},t.setOptions=function(e){this.g.setOptions(e)},x("Pose",St),x("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),x("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),x("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),x("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),x("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),x("VERSION","0.5.1635988162")}).call(We);var Ue=function(){function t(){_classCallCheck2(this,t),o(this,"mediapipeMap_",new Map)}return _createClass3(t,[{key:"getVersion",value:function(e){switch(e){case"face_detection":return Ve.VERSION;case"face_mesh":return Ze.VERSION;case"hands":return je.VERSION;case"holistic":return Fe.VERSION;case"objectron":return Ge.VERSION;case"selfie_segmentation":return De.VERSION;case"pose":return We.VERSION;default:return""}}},{key:"initialize",value:function(n){var r=this;return new e(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(i,o){var a,s,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=n.mediaPipeModelConfigArray.length){e.next=3;break}return o("no model was selected"),e.abrupt("return");case 3:a=_regeneratorRuntime().mark((function e(){var i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.mediaPipeModelConfigArray[s],!r.mediapipeMap_.has(i.modelType)){e.next=4;break}return o("setting same type is not supported"),e.abrupt("return",{v:void 0});case 4:if("function"==typeof i.listener){e.next=7;break}return o("[".concat(i.modelType,"] ResultsListener must be provided")),e.abrupt("return",{v:void 0});case 7:e.t0=i.modelType,e.next="face_mesh"===e.t0?10:"face_detection"===e.t0?12:"hands"===e.t0?14:"holistic"===e.t0?16:"objectron"===e.t0?18:"selfie_segmentation"===e.t0?20:"pose"===e.t0?22:24;break;case 10:return a=new Ze.FaceMesh({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"face_mesh/"+r.getVersion("face_mesh"))+"/"+e}}),e.abrupt("break",26);case 12:return a=new Ve.FaceDetection({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"face_detection/"+r.getVersion("face_detection"))+"/"+e}}),e.abrupt("break",26);case 14:return a=new je.Hands({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"hands/"+r.getVersion("hands"))+"/"+e}}),e.abrupt("break",26);case 16:return a=new Fe.Holistic({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"holistic/"+r.getVersion("holistic"))+"/"+e}}),e.abrupt("break",26);case 18:return a=new Ge.Objectron({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"objectron/"+r.getVersion("objectron"))+"/"+e}}),e.abrupt("break",26);case 20:return a=new De.SelfieSegmentation({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"selfie_segmentation/"+r.getVersion("selfie_segmentation"))+"/"+e}}),e.abrupt("break",26);case 22:return a=new We.Pose({locateFile:function(e,n){return(i.assetsUri||t.defaultAssetsBaseUrl+"pose/"+r.getVersion("pose"))+"/"+e}}),e.abrupt("break",26);case 24:return o("unknown model type"),e.abrupt("return",{v:void 0});case 26:return a.onResults(i.listener),i.options&&a.setOptions(i.options),e.prev=27,e.next=30,a.initialize();case 30:r.mediapipeMap_.set(i.modelType,a),e.next=37;break;case 33:return e.prev=33,e.t1=e.catch(27),o(e.t1),e.abrupt("return",{v:void 0});case 37:case"end":return e.stop()}}),e,null,[[27,33]])})),s=0;case 5:if(!(s<n.mediaPipeModelConfigArray.length)){e.next=13;break}return e.delegateYield(a(),"t0",7);case 7:if("object"!==typeof(u=e.t0)){e.next=10;break}return e.abrupt("return",u.v);case 10:s++,e.next=5;break;case 13:i();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},{key:"close",value:function(t){var n=this;return new e((function(r,i){var o=[];if(t){var a=n.mediapipeMap_.get(t);if(!a)return void i("model not exit");n.mediapipeMap_.delete(t),o.push(a.close())}else{var s,u=_createForOfIteratorHelper(n.mediapipeMap_.entries());try{for(u.s();!(s=u.n()).done;){var c=_slicedToArray(s.value,2),l=(c[0],c[1]);o.push(l.close())}}catch(d){u.e(d)}finally{u.f()}n.mediapipeMap_.clear()}e.all(o).then((function(){r()})).catch((function(e){i(e)}))}))}},{key:"send",value:function(t,n){var r=this;return new e((function(i,o){var a=[];if(n){var s=r.mediapipeMap_.get(n);if(!s)return void o("model not exit");a.push(s.send({image:t}))}else{var u,c=_createForOfIteratorHelper(r.mediapipeMap_.entries());try{for(c.s();!(u=c.n()).done;){var l=_slicedToArray(u.value,2),d=(l[0],l[1]);a.push(d.send({image:t}))}}catch(f){c.e(f)}finally{c.f()}}e.all(a).then((function(){i()})).catch((function(e){o(e)}))}))}},{key:"reset",value:function(e){if(e){var t=this.mediapipeMap_.get(e);t&&"function"==typeof t.reset&&t.reset()}else{var n,r=_createForOfIteratorHelper(this.mediapipeMap_.entries());try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),o=(i[0],i[1]);o&&"function"==typeof o.reset&&o.reset()}}catch(a){r.e(a)}finally{r.f()}}}}]),t}(),Xe=Ue;o(Xe,"defaultAssetsBaseUrl","https://d3opqjmqzxf057.cloudfront.net/ml/mediapipe/");var Be=new WeakMap,He=new WeakMap,Ye=new WeakMap,ze=Symbol("anyProducer"),Ke=e.resolve(),Je=Symbol("listenerAdded"),Qe=Symbol("listenerRemoved"),qe=!1;function $e(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("eventName must be a string or a symbol")}function et(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function tt(e,t){var n=He.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}function nt(e,t){var n="string"==typeof t||"symbol"==typeof t?t:ze,r=Ye.get(e);return r.has(n)||r.set(n,new Set),r.get(n)}function rt(t,n,r){var i=Ye.get(t);if(i.has(n)){var o,a=_createForOfIteratorHelper(i.get(n));try{for(a.s();!(o=a.n()).done;)o.value.enqueue(r)}catch(l){a.e(l)}finally{a.f()}}if(i.has(ze)){var s,u=e.all([n,r]),c=_createForOfIteratorHelper(i.get(ze));try{for(c.s();!(s=c.n()).done;)s.value.enqueue(u)}catch(l){c.e(l)}finally{c.f()}}}function it(t,n){n=Array.isArray(n)?n:[n];var r,i=!1,o=function(){},a=[],s={enqueue:function(e){a.push(e),o()},finish:function(){i=!0,o()}},u=_createForOfIteratorHelper(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;nt(t,c).add(s)}}catch(l){u.e(l)}finally{u.f()}return _defineProperty({next:function(){var t=this;return _asyncToGenerator3(_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=20;break}if(0!==a.length){n.next=12;break}if(!i){n.next=6;break}n.t2=(a=void 0,t.next()),n.next=9;break;case 6:return n.next=8,new e((function(e){o=e}));case 8:n.t2=t.next();case 9:n.t1=n.t2,n.next=17;break;case 12:return n.t3=!1,n.next=15,a.shift();case 15:n.t4=n.sent,n.t1={done:n.t3,value:n.t4};case 17:n.t0=n.t1,n.next=21;break;case 20:n.t0={done:!0};case 21:return n.abrupt("return",n.t0);case 22:case"end":return n.stop()}}),n)})))()},return:function(e){var r=arguments;return _asyncToGenerator3(_regeneratorRuntime().mark((function i(){var u,c,d;return _regeneratorRuntime().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=void 0,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;)d=c.value,nt(t,d).delete(s)}catch(l){u.e(l)}finally{u.f()}if(o(),!(r.length>0)){i.next=12;break}return i.t1=!0,i.next=8,e;case 8:i.t2=i.sent,i.t0={done:i.t1,value:i.t2},i.next=13;break;case 12:i.t0={done:!0};case 13:return i.abrupt("return",i.t0);case 14:case"end":return i.stop()}}),i)})))()}},Symbol.asyncIterator,(function(){return this}))}function ot(e){if(void 0===e)return ut;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ut.includes(r))throw"string"!=typeof r?new TypeError("`methodNames` element must be a string"):new Error("".concat(r," is not Emittery method"))}}catch(i){n.e(i)}finally{n.f()}return e}var at=function(e){return e===Je||e===Qe},st=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,t),Be.set(this,new Set),He.set(this,new Map),Ye.set(this,new Map),this.debug=e.debug||{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=function(e,t,n,r){try{r=JSON.stringify(r)}catch(a){r="Object with the following keys failed to stringify: ".concat(Object.keys(r).join(","))}"symbol"==typeof n&&(n=n.toString());var i=new Date,o="".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds(),".").concat(i.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(r))})}return _createClass3(t,[{key:"logIfDebugEnabled",value:function(e,n,r){(t.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,n,r)}},{key:"on",value:function(e,t){et(t),e=Array.isArray(e)?e:[e];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;$e(i),tt(this,i).add(t),this.logIfDebugEnabled("subscribe",i,void 0),at(i)||this.emit(Je,{eventName:i,listener:t})}}catch(o){r.e(o)}finally{r.f()}return this.off.bind(this,e,t)}},{key:"off",value:function(e,t){et(t),e=Array.isArray(e)?e:[e];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;$e(i),tt(this,i).delete(t),this.logIfDebugEnabled("unsubscribe",i,void 0),at(i)||this.emit(Qe,{eventName:i,listener:t})}}catch(o){r.e(o)}finally{r.f()}}},{key:"once",value:function(t){var n=this;return new e((function(e){var r=n.on(t,(function(t){r(),e(t)}))}))}},{key:"events",value:function(e){e=Array.isArray(e)?e:[e];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;)$e(t.value)}catch(r){n.e(r)}finally{n.f()}return it(this,e)}},{key:"emit",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n,r){var i,o,a,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $e(n),this.logIfDebugEnabled("emit",n,r),rt(this,n,r),i=tt(this,n),o=Be.get(this),a=_toConsumableArray(i),s=at(n)?[]:_toConsumableArray(o),t.next=4,Ke;case 4:return t.next=6,e.all([].concat(_toConsumableArray(a.map(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(t)){e.next=2;break}return e.abrupt("return",t(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),_toConsumableArray(s.map(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(n,r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"emitSerial",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $e(t),this.logIfDebugEnabled("emitSerial",t,n),r=tt(this,t),i=Be.get(this),o=_toConsumableArray(r),a=_toConsumableArray(i),e.next=4,Ke;case 4:s=_createForOfIteratorHelper(o),e.prev=5,s.s();case 7:if((u=s.n()).done){e.next=15;break}if(c=u.value,e.t0=r.has(c),!e.t0){e.next=13;break}return e.next=13,c(n);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(5),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:l=_createForOfIteratorHelper(a),e.prev=24,l.s();case 26:if((d=l.n()).done){e.next=34;break}if(f=d.value,e.t2=i.has(f),!e.t2){e.next=32;break}return e.next=32,f(t,n);case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t3=e.catch(24),l.e(e.t3);case 39:return e.prev=39,l.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[5,17,20,23],[24,36,39,42]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAny",value:function(e){return et(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Be.get(this).add(e),this.emit(Je,{listener:e}),this.offAny.bind(this,e)}},{key:"anyEvent",value:function(){return it(this)}},{key:"offAny",value:function(e){et(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(Qe,{listener:e}),Be.get(this).delete(e)}},{key:"clearListeners",value:function(e){e=Array.isArray(e)?e:[e];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.logIfDebugEnabled("clear",r,void 0),"string"==typeof r||"symbol"==typeof r){tt(this,r).clear();var i,o=nt(this,r),a=_createForOfIteratorHelper(o);try{for(a.s();!(i=a.n()).done;)i.value.finish()}catch(h){a.e(h)}finally{a.f()}o.clear()}else{Be.get(this).clear();var s,u=_createForOfIteratorHelper(He.get(this).values());try{for(u.s();!(s=u.n()).done;)s.value.clear()}catch(h){u.e(h)}finally{u.f()}var c,l=_createForOfIteratorHelper(Ye.get(this).values());try{for(l.s();!(c=l.n()).done;){var d,f=c.value,p=_createForOfIteratorHelper(f);try{for(p.s();!(d=p.n()).done;)d.value.finish()}catch(h){p.e(h)}finally{p.f()}f.clear()}}catch(h){l.e(h)}finally{l.f()}}}}catch(h){n.e(h)}finally{n.f()}}},{key:"listenerCount",value:function(e){e=Array.isArray(e)?e:[e];var t,n=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"!=typeof i){typeof i<"u"&&$e(i),n+=Be.get(this).size;var o,a=_createForOfIteratorHelper(He.get(this).values());try{for(a.s();!(o=a.n()).done;)n+=o.value.size}catch(c){a.e(c)}finally{a.f()}var s,u=_createForOfIteratorHelper(Ye.get(this).values());try{for(u.s();!(s=u.n()).done;)n+=s.value.size}catch(c){u.e(c)}finally{u.f()}}else n+=Be.get(this).size+tt(this,i).size+nt(this,i).size+nt(this).size}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"bindMethods",value:function(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=ot(t);var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(void 0!==e[i])throw new Error("The property `".concat(i,"` already exists on `target`"));Object.defineProperty(e,i,{enumerable:!1,value:this[i].bind(this)})}}catch(o){r.e(o)}finally{r.f()}}}],[{key:"mixin",value:function(e,n){return n=ot(n),function(r){if("function"!=typeof r)throw new TypeError("`target` must be function");var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==r.prototype[a])throw new Error("The property `".concat(a,"` already exists on `target`"))}}catch(d){o.e(d)}finally{o.f()}Object.defineProperty(r.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new t}),this[e]}});var s,u=function(t){return function(){var n;return(n=this[e])[t].apply(n,arguments)}},c=_createForOfIteratorHelper(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;Object.defineProperty(r.prototype,l,{enumerable:!1,value:u(l)})}}catch(d){c.e(d)}finally{c.f()}return r}}},{key:"isDebugEnabled",get:function(){if("object"!=typeof r)return qe;var e=(r||{env:{}}).env;return"emittery"===e.DEBUG||"*"===e.DEBUG||qe},set:function(e){qe=e}}]),t}(),ut=Object.getOwnPropertyNames(st.prototype).filter((function(e){return"constructor"!==e}));Object.defineProperty(st,"listenerAdded",{value:Je,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(st,"listenerRemoved",{value:Qe,writable:!1,enumerable:!0,configurable:!1});var ct=st;function lt(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});var n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}var dt=lt("globals",{}),ft=function(e){return e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e}(ft||{});function pt(e){return[ImageBitmap,ReadableStream,WritableStream].some((function(t){return e instanceof t}))}var ht=0;function vt(t,n,r,i,o){var a=ht++;return t.postMessage({id:a,type:n,functionName:r,args:i},i.filter((function(e){return pt(e)}))),new e((function(e){null==o||o.set(a,e)}))}function mt(e,t){var n=e.id,r=e.type,i=Array.isArray(t)?t:[t];postMessage({id:n,type:r,result:t},i.filter((function(e){return pt(e)})))}var gt=lt("workerized",{});function yt(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function bt(){return wt.apply(this,arguments)}function wt(){return(wt=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n,r,i,o,a;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!yt()){t.next=4;break}mt({type:ft.GLOBALS_SYNC},dt),t.next=8;break;case 4:for(r in n=[],gt)i=gt[r].workerContext,o=i.worker,a=i.resolvers,o&&n.push(vt(o,ft.GLOBALS_SYNC,"",[dt],a));return t.next=8,e.all(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(var n in t)delete t[n];for(var r in e)Array.isArray(e[r])?(t[r]=[],Et(e[r],t[r])):"object"==typeof e[r]?(t[r]={},Et(e[r],t[r])):t[r]=e[r]}function kt(e,t,n){return _t.apply(this,arguments)}function _t(){return _t=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n,r){var i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new n).addEventListener("message",function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,i,o,a,s,u,c,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,e.t0=n.type,e.next=e.t0===ft.GLOBALS_SYNC?4:12;break;case 4:if(!n.id){e.next=8;break}null==(o=r.get(null!=(i=n.id)?i:-1))||o(n.result),r.delete(null!=(a=n.id)?a:-1),e.next=11;break;case 8:return Et(null!=(s=n.result)?s:{},dt),e.next=11,bt();case 11:return e.abrupt("break",13);case 12:null==(c=r.get(null!=(u=n.id)?u:-1))||c(n.result),r.delete(null!=(l=n.id)?l:-1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,vt(i,ft.INIT,"",[t.workerId,dt],r);case 4:if(e.sent){e.next=6;break}throw"Failed to instantiate workerized class";case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}var St=0;function Ct(e,t,n){return xt.apply(this,arguments)}function xt(){return xt=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n,r){var i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},o=St++,e.abrupt("return",(Object.getOwnPropertyNames(t.prototype).forEach((function(e){i[e]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return vt(n,ft.FORWARD,e,i,r)}})),i.terminate=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,a,s,u,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,a=new Array(t),s=0;s<t;s++)a[s]=c[s];return e.next=3,vt(n,ft.TERMINATE,"",a,r);case 3:return u=e.sent,e.abrupt("return",(delete gt[o],n.terminate(),i.workerContext.worker=void 0,u));case 5:case"end":return e.stop()}}),e)}))),i.workerContext={id:o,worker:n,resolvers:r},gt[o]=i,i));case 2:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}function Tt(e,t){return It.apply(this,arguments)}function It(){return It=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Map,e.next=3,kt(t,n,r);case 3:return i=e.sent,e.abrupt("return",Ct(t,i,r));case 5:case"end":return e.stop()}}),e)}))),It.apply(this,arguments)}function Rt(e,t){return Ot.apply(this,arguments)}function Ot(){return Ot=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.functionName,o=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(i){e.next=5;break}throw"missing function name to call";case 5:if(n.instance[i]){e.next=7;break}throw"undefined function [".concat(i,"] in class ").concat(n.instance.constructor.workerId);case 7:return e.t0=mt,e.t1=t,e.next=11,(r=n.instance)[i].apply(r,_toConsumableArray(null!=o?o:[]));case 11:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e)}))),Ot.apply(this,arguments)}var At=lt("registeredWorkers",{});function Nt(e,t){if(!e.args)throw"Missing className while initializing worker";var n=_slicedToArray(e.args,2),r=n[0],i=n[1],o=At[r];if(!o)throw"unknown worker class ".concat(r);t.instance=new o(e.args.slice(1)),Et(i,dt),mt(e,void 0!==typeof t.instance)}function Pt(e,t){return Lt.apply(this,arguments)}function Lt(){return Lt=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(e.t0=n.instance.terminate,!e.t0){e.next=8;break}return e.next=7,(r=n.instance).terminate.apply(r,_toConsumableArray(null!=i?i:[]));case 7:o=e.sent;case 8:mt(t,o);case 9:case"end":return e.stop()}}),e)}))),Lt.apply(this,arguments)}function Mt(e){if(!e.args)throw"Missing globals while syncing";Et(e.args[0],dt),mt(e,{})}yt()&&function(){var e={};onmessage=function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.data,t.t0=r.type,t.next=t.t0===ft.INIT?4:t.t0===ft.FORWARD?6:t.t0===ft.TERMINATE?8:t.t0===ft.GLOBALS_SYNC?10:12;break;case 4:return Nt(r,e),t.abrupt("break",12);case 6:return Rt(r,e),t.abrupt("break",12);case 8:return Pt(r,e),t.abrupt("break",12);case 10:return Mt(r),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}();var Dt,jt=function(){function t(){_classCallCheck2(this,t)}return _createClass3(t,null,[{key:"createVideoReadable",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new e((function(e,t){var r=document.createElement("video"),i=new AbortController,o=new AbortController;r.addEventListener("canplay",(function(){i.abort(),r.muted=!0,r.loop=!0,r.play().then((function(){try{var n=r.captureStream(),i=new MediaStreamTrackProcessor(n.getVideoTracks()[0]);e(i.readable)}catch(n){t(n)}}))}),{once:!0,signal:o.signal}),r.addEventListener("error",(function(e){o.abort(),t("loading error:"+e)}),{once:!0,signal:i.signal}),r.crossOrigin="anonymous",r.src=n})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"createImageCanvas",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.blob();case 4:return n=e.sent,e.next=7,createImageBitmap(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),t}(),Ft=Object.defineProperty,Vt=function(e,t,n){return function(e,t,n){t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},Zt=new Uint8Array(16);function Gt(){if(!Dt&&!(Dt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dt(Zt)}for(var Wt=[],Ut=0;Ut<256;++Ut)Wt.push((Ut+256).toString(16).slice(1));var Xt={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Bt(e,t,n){if(Xt.randomUUID&&!t&&!e)return Xt.randomUUID();var r=(e=e||{}).random||(e.rng||Gt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Wt[e[t+0]]+Wt[e[t+1]]+Wt[e[t+2]]+Wt[e[t+3]]+"-"+Wt[e[t+4]]+Wt[e[t+5]]+"-"+Wt[e[t+6]]+Wt[e[t+7]]+"-"+Wt[e[t+8]]+Wt[e[t+9]]+"-"+Wt[e[t+10]]+Wt[e[t+11]]+Wt[e[t+12]]+Wt[e[t+13]]+Wt[e[t+14]]+Wt[e[t+15]]).toLowerCase()}(r)}function Ht(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});var n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}var Yt=Ht("globals",{}),zt=function(e){return e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e}(zt||{});function Kt(e){return[ImageBitmap,ReadableStream,WritableStream].some((function(t){return e instanceof t}))}var Jt=0;function Qt(t,n,r,i,o){var a=Jt++;return t.postMessage({id:a,type:n,functionName:r,args:i},i.filter((function(e){return Kt(e)}))),new e((function(e){null==o||o.set(a,e)}))}function qt(e,t){var n=e.id,r=e.type,i=Array.isArray(t)?t:[t];postMessage({id:n,type:r,result:t},i.filter((function(e){return Kt(e)})))}var $t=Ht("workerized",{});function en(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function tn(){return nn.apply(this,arguments)}function nn(){return(nn=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n,r,i,o,a;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!en()){t.next=4;break}qt({type:zt.GLOBALS_SYNC},Yt),t.next=8;break;case 4:for(r in n=[],$t)i=$t[r].workerContext,o=i.worker,a=i.resolvers,o&&n.push(Qt(o,zt.GLOBALS_SYNC,"",[Yt],a));return t.next=8,e.all(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rn(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(var n in t)delete t[n];for(var r in e)Array.isArray(e[r])?(t[r]=[],rn(e[r],t[r])):"object"==typeof e[r]?(t[r]={},rn(e[r],t[r])):t[r]=e[r]}function on(e,t){return an.apply(this,arguments)}function an(){return an=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.functionName,o=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(i){e.next=5;break}throw"missing function name to call";case 5:if(n.instance[i]){e.next=7;break}throw"undefined function [".concat(i,"] in class ").concat(n.instance.constructor.workerId);case 7:return e.t0=qt,e.t1=t,e.next=11,(r=n.instance)[i].apply(r,_toConsumableArray(null!=o?o:[]));case 11:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e)}))),an.apply(this,arguments)}var sn=Ht("registeredWorkers",{});function un(e,t){if(!e.args)throw"Missing className while initializing worker";var n=_slicedToArray(e.args,2),r=n[0],i=n[1],o=sn[r];if(!o)throw"unknown worker class ".concat(r);t.instance=new o(e.args.slice(1)),rn(i,Yt),qt(e,void 0!==typeof t.instance)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return ln=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(e.t0=n.instance.terminate,!e.t0){e.next=8;break}return e.next=7,(r=n.instance).terminate.apply(r,_toConsumableArray(null!=i?i:[]));case 7:o=e.sent;case 8:qt(t,o);case 9:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function dn(e){if(!e.args)throw"Missing globals while syncing";rn(e.args[0],Yt),qt(e,{})}en()&&function(){var e={};onmessage=function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.data,t.t0=r.type,t.next=t.t0===zt.INIT?4:t.t0===zt.FORWARD?6:t.t0===zt.TERMINATE?8:t.t0===zt.GLOBALS_SYNC?10:12;break;case 4:return un(r,e),t.abrupt("break",12);case 6:return on(r,e),t.abrupt("break",12);case 8:return cn(r,e),t.abrupt("break",12);case 10:return dn(r),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}();var fn=function(e,t){return function(e,t){return Yt[e]||(Yt[e]=t),[function(){return Yt[e]},function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Yt[e]=n,t.next=3,tn();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]}(e,t)}("metadata"),pn=_slicedToArray(fn,2),hn=pn[0];function vn(){return hn()}pn[1];var mn=function(){function e(t){_classCallCheck2(this,e),Vt(this,"uuid",Bt()),this.config=t}return _createClass3(e,[{key:"send",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r,i,o,a,s,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!=(n=vn())?n:{},a=o.appId,s=o.sourceType,a&&s){e.next=3;break}return e.abrupt("return","metadata missing");case 3:return u=new AbortController,c=setTimeout((function(){return u.abort()}),1e4),e.next=6,(null!=(i=null==(r=this.config)?void 0:r.fetch)?i:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(t)),signal:u.signal});case 6:return clearTimeout(c),e.abrupt("return","success");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUrl",value:function(){var e,t=null!=(e=vn().proxyUrl)?e:"https://";return t+=("/"===t.at(-1)?"":"/")+"hlg.tokbox.com/prod/logging/vcp_webrtc"}},{key:"getHeaders",value:function(){return{"Content-Type":"application/json"}}},{key:"buildReport",value:function(e){var t=vn();return _objectSpread(_objectSpread({guid:this.uuid},e),{},{applicationId:t.appId,timestamp:Date.now(),proxyUrl:t.proxyUrl,source:t.sourceType})}}]),e}(),gn=function(){function e(){_classCallCheck2(this,e),o(this,"canvas"),o(this,"context");var t=new OffscreenCanvas(0,0),n=t.getContext("2d");if(!n)throw"Fail to retrieve webgl2 context";this.canvas=t,this.context=n}return _createClass3(e,[{key:"setFlickeringOptions",value:function(e){}},{key:"enablePostProcessing",value:function(){}},{key:"disablePostProcessing",value:function(){}},{key:"profileWebgl",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.canvas);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"resizeCanvas",value:function(e){var t=e.width,n=e.height;this.canvas.width=t,this.canvas.height=n}},{key:"renderSilhouette",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",r=e.width,i=e.height;this.context.save(),this.context.drawImage(t,0,0,t.width,t.height,0,0,r,i),this.context.globalCompositeOperation="source-in",this.context.filter=n,this.context.drawImage(e,0,0,r,i,0,0,this.canvas.width,this.canvas.height),this.context.restore()}}]),e}(),yn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).radius=e,r}return _createClass3(n,[{key:"render",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(_get3(_getPrototypeOf2(n.prototype),"resizeCanvas",this).call(this,t),this.renderSilhouette(t,r),this.context.save(),this.context.filter="blur(".concat(this.radius,"px)"),this.context.globalCompositeOperation="destination-over",this.context.drawImage(t,0,0,t.width,t.height),this.context.restore(),_get3(_getPrototypeOf2(n.prototype),"render",this).call(this,t,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(gn),bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).radius=e,r}return _createClass3(n,[{key:"render",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(_get3(_getPrototypeOf2(n.prototype),"resizeCanvas",this).call(this,t),this.renderSilhouette(t,r,"blur(".concat(this.radius,"px)")),this.context.save(),this.context.filter="none",this.context.globalCompositeOperation="destination-over",this.context.drawImage(t,0,0,t.width,t.height),this.context.restore(),_get3(_getPrototypeOf2(n.prototype),"render",this).call(this,t,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(gn),wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.apply(this,arguments),o(_assertThisInitialized3(e),"backgroundImage"),e}return _createClass3(n,[{key:"setBackgroundImage",value:function(e){this.backgroundImage=e}},{key:"render",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(_get3(_getPrototypeOf2(n.prototype),"resizeCanvas",this).call(this,t),this.renderSilhouette(t,r),this.backgroundImage&&(this.context.save(),this.context.filter="none",this.context.globalCompositeOperation="destination-over",this.context.drawImage(this.backgroundImage,0,0,this.backgroundImage.width,this.backgroundImage.height,0,0,t.width,t.height),this.context.restore()),_get3(_getPrototypeOf2(n.prototype),"render",this).call(this,t,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(gn),En=5120,kn=5121,_n=5122,Sn=5123,Cn=5124,xn=5125,Tn=5126,In={},Rn=In;function On(e){if(e instanceof Int8Array)return En;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return kn;if(e instanceof Int16Array)return _n;if(e instanceof Uint16Array)return Sn;if(e instanceof Int32Array)return Cn;if(e instanceof Uint32Array)return xn;if(e instanceof Float32Array)return Tn;throw new Error("unsupported typed array type")}function An(e){if(e===Int8Array)return En;if(e===Uint8Array||e===Uint8ClampedArray)return kn;if(e===Int16Array)return _n;if(e===Uint16Array)return Sn;if(e===Int32Array)return Cn;if(e===Uint32Array)return xn;if(e===Float32Array)return Tn;throw new Error("unsupported typed array type")}function Nn(e){var t=In[e];if(!t)throw new Error("unknown gl type");return t}Rn[En]=Int8Array,Rn[kn]=Uint8Array,Rn[_n]=Int16Array,Rn[Sn]=Uint16Array,Rn[Cn]=Int32Array,Rn[xn]=Uint32Array,Rn[Tn]=Float32Array,Rn[32819]=Uint16Array,Rn[32820]=Uint16Array,Rn[33635]=Uint16Array,Rn[5131]=Uint16Array,Rn[33640]=Uint32Array,Rn[35899]=Uint32Array,Rn[35902]=Uint32Array,Rn[36269]=Uint32Array,Rn[34042]=Uint32Array;var Pn=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Ln(){var e;(e=console).error.apply(e,arguments)}var Mn=new Map;function Dn(e,t){if(!e||"object"!=typeof e)return!1;var n=Mn.get(t);n||(n=new WeakMap,Mn.set(t,n));var r=n.get(e);if(void 0===r){var i=Object.prototype.toString.call(e);r=i.substring(8,i.length-1)===t,n.set(e,r)}return r}function jn(e,t){return typeof WebGLTexture<"u"&&Dn(t,"WebGLTexture")}var Fn=35044,Vn=34962,Zn=34660,Gn=5120,Wn=5121,Un=5122,Xn=5123,Bn=5124,Hn=5125,Yn=5126,zn={attribPrefix:""};function Kn(e,t,n,r){if(function(e,t){return typeof WebGLBuffer<"u"&&Dn(t,"WebGLBuffer")}(0,t))return t;n=n||Vn;var i=e.createBuffer();return function(e,t,n,r,i){e.bindBuffer(t,n),e.bufferData(t,r,i||Fn)}(e,n,i,t,r),i}function Jn(e){return"indices"===e}var Qn=/coord|texture/i,qn=/color|colour/i;function $n(e,t,n){return e.numComponents||e.size||function(e,t){var n;if(t%(n=Qn.test(e)?2:qn.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(n," but ").concat(t," values is not evenly divisible by ").concat(n,". You should specify it."));return n}(t,n||function(e){return e.length?e:e.data}(e).length)}function er(e,t){if(Pn(e))return e;if(Pn(e.data))return e.data;Array.isArray(e)&&(e={data:e});var n=e.type?nr(e.type):void 0;return n||(n=Jn(t)?Uint16Array:Float32Array),new n(e.data)}function tr(e){return"number"==typeof e?e:e?An(e):Yn}function nr(e){return"number"==typeof e?Nn(e):e||Float32Array}function rr(e,t){return{buffer:t.buffer,numValues:24,type:tr(t.type),arrayType:nr(t.type)}}function ir(e,t){var n=t.data||t,r=nr(t.type),i=n*r.BYTES_PER_ELEMENT,o=e.createBuffer();return e.bindBuffer(Vn,o),e.bufferData(Vn,i,t.drawType||Fn),{buffer:o,numValues:n,type:An(r),arrayType:r}}function or(e,t,n){var r=er(t,n);return{arrayType:r.constructor,buffer:Kn(e,r,void 0,t.drawType),type:On(r),numValues:0}}function ar(e,t){var n={};return Object.keys(t).forEach((function(r){if(!Jn(r)){var i=t[r],o=i.attrib||i.name||i.attribName||zn.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!Pn(i.value))throw new Error("array.value is not array or typedarray");n[o]={value:i.value}}else{var a=(i.buffer&&i.buffer instanceof WebGLBuffer?rr:"number"==typeof i||"number"==typeof i.data?ir:or)(e,i,r),s=a.buffer,u=a.type,c=a.numValues,l=a.arrayType,d=void 0!==i.normalize?i.normalize:function(e){return e===Int8Array||e===Uint8Array}(l),f=$n(i,r,c);n[o]={buffer:s,numComponents:f,type:u,normalize:d,stride:i.stride||0,offset:i.offset||0,divisor:void 0===i.divisor?void 0:i.divisor,drawType:i.drawType}}}})),e.bindBuffer(Vn,null),n}var sr=["position","positions","a_position"];function ur(e,t){var n,r;for(r=0;r<sr.length&&!((n=sr[r])in t)&&!((n=zn.attribPrefix+n)in t);++r);r===sr.length&&(n=Object.keys(t)[0]);var i=t[n];if(!i.buffer)return 1;e.bindBuffer(Vn,i.buffer);var o=e.getBufferParameter(Vn,Zn);e.bindBuffer(Vn,null);var a=function(e,t){return t===Gn||t===Wn?1:t===Un||t===Xn?2:t===Bn||t===Hn||t===Yn?4:0}(0,i.type),s=o/a,u=i.numComponents||i.size,c=s/u;if(c%1!==0)throw new Error("numComponents ".concat(u," not correct for length ").concat(length));return c}function cr(e){return!!e.texStorage2D}var lr,dr=function(){var e={},t={};return function(n,r){return function(n){var r=n.constructor.name;if(!e[r]){for(var i in n)if("number"==typeof n[i]){var o=t[n[i]];t[n[i]]=o?"".concat(o," | ").concat(i):i}e[r]=!0}}(n),t[r]||("number"==typeof r?"0x".concat(r.toString(16)):r)}}(),fr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},pr=Pn,hr=function(){var e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null)}}(),vr=6406,mr=6407,gr=6408,yr=6409,br=6410,wr=6402,Er=34041,kr=33071,_r=9728,Sr=9729,Cr=3553,xr=34067,Tr=32879,Ir=35866,Rr=34069,Or=34070,Ar=34071,Nr=34072,Pr=34073,Lr=34074,Mr=10241,Dr=10240,jr=10242,Fr=10243,Vr=32882,Zr=33082,Gr=33083,Wr=33084,Ur=33085,Xr=3317,Br=3314,Hr=32878,Yr=3316,zr=3315,Kr=32877,Jr=37443,Qr=37441,qr=37440,$r=33321,ei=36756,ti=33325,ni=33326,ri=33330,ii=33329,oi=33338,ai=33337,si=33340,ui=33339,ci=33323,li=36757,di=33327,fi=33328,pi=33336,hi=33335,vi=33332,mi=33331,gi=33334,yi=33333,bi=32849,wi=35905,Ei=36194,ki=36758,_i=35898,Si=35901,Ci=34843,xi=34837,Ti=36221,Ii=36239,Ri=36215,Oi=36233,Ai=36209,Ni=36227,Pi=32856,Li=35907,Mi=36759,Di=32855,ji=32854,Fi=32857,Vi=34842,Zi=34836,Gi=36220,Wi=36238,Ui=36975,Xi=36214,Bi=36232,Hi=36226,Yi=36208,zi=33189,Ki=33190,Ji=36012,Qi=36013,qi=35056,$i=5120,eo=5121,to=5122,no=5123,ro=5124,io=5125,oo=5126,ao=32819,so=32820,uo=33635,co=5131,lo=36193,fo=33640,po=35899,ho=35902,vo=36269,mo=34042,go=33319,yo=33320,bo=6403,wo=36244,Eo=36248,ko=36249;function _o(e){if(!lr){var t={};t[vr]={textureFormat:vr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[eo,co,lo,oo]},t[yr]={textureFormat:yr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[eo,co,lo,oo]},t[br]={textureFormat:br,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[eo,co,lo,oo]},t[mr]={textureFormat:mr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[eo,co,lo,oo,uo]},t[gr]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[eo,co,lo,oo,ao,so]},t[wr]={textureFormat:wr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[io,no]},t[$r]={textureFormat:bo,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[eo]},t[ei]={textureFormat:bo,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[$i]},t[ti]={textureFormat:bo,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[oo,co]},t[ni]={textureFormat:bo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[oo]},t[ri]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[eo]},t[ii]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[$i]},t[vi]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[no]},t[mi]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[to]},t[gi]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[io]},t[yi]={textureFormat:wo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ro]},t[ci]={textureFormat:go,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[eo]},t[li]={textureFormat:go,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[$i]},t[di]={textureFormat:go,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[oo,co]},t[fi]={textureFormat:go,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[oo]},t[pi]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[eo]},t[hi]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[$i]},t[oi]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[no]},t[ai]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[to]},t[si]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[io]},t[ui]={textureFormat:yo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[ro]},t[bi]={textureFormat:mr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[eo]},t[wi]={textureFormat:mr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[eo]},t[Ei]={textureFormat:mr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[eo,uo]},t[ki]={textureFormat:mr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[$i]},t[_i]={textureFormat:mr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[oo,co,po]},t[Si]={textureFormat:mr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[oo,co,ho]},t[Ci]={textureFormat:mr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[oo,co]},t[xi]={textureFormat:mr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[oo]},t[Ti]={textureFormat:Eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[eo]},t[Ii]={textureFormat:Eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[$i]},t[Ri]={textureFormat:Eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[no]},t[Oi]={textureFormat:Eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[to]},t[Ai]={textureFormat:Eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[io]},t[Ni]={textureFormat:Eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ro]},t[Pi]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[eo]},t[Li]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[eo]},t[Mi]={textureFormat:gr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[$i]},t[Di]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[eo,so,fo]},t[ji]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[eo,ao]},t[Fi]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[fo]},t[Vi]={textureFormat:gr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[oo,co]},t[Zi]={textureFormat:gr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[oo]},t[Gi]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[eo]},t[Wi]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$i]},t[Ui]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[fo]},t[Xi]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[no]},t[Bi]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[to]},t[Hi]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[ro]},t[Yi]={textureFormat:ko,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[io]},t[zi]={textureFormat:wr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[no,io]},t[Ki]={textureFormat:wr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[io]},t[Ji]={textureFormat:wr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[oo]},t[qi]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[mo]},t[Qi]={textureFormat:Er,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[vo]},Object.keys(t).forEach((function(e){var n=t[e];n.bytesPerElementMap={},n.bytesPerElement.forEach((function(e,t){var r=n.type[t];n.bytesPerElementMap[r]=e}))})),lr=t}return lr[e]}function So(e){var t=_o(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Co(e){return 0===(e&e-1)}function xo(e,t,n,r,i){if(i%1!==0)throw"can't guess dimensions";if(n||r){if(r){if(!n&&(n=i/r)%1)throw"can't guess dimensions"}else if((r=i/n)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(i/(t===xr?6:1));o%1===0?(n=o,r=o):(n=i,r=1)}return{width:n,height:r}}function To(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(Jr,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(Qr,t.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(qr,t.flipY)}function Io(e){e.pixelStorei(Xr,4),cr(e)&&(e.pixelStorei(Br,0),e.pixelStorei(Hr,0),e.pixelStorei(Yr,0),e.pixelStorei(zr,0),e.pixelStorei(Kr,0))}function Ro(e,t,n,r){r.minMag&&(n.call(e,t,Mr,r.minMag),n.call(e,t,Dr,r.minMag)),r.min&&n.call(e,t,Mr,r.min),r.mag&&n.call(e,t,Dr,r.mag),r.wrap&&(n.call(e,t,jr,r.wrap),n.call(e,t,Fr,r.wrap),(t===Tr||function(e,t){return typeof WebGLSampler<"u"&&Dn(t,"WebGLSampler")}(0,t))&&n.call(e,t,Vr,r.wrap)),r.wrapR&&n.call(e,t,Vr,r.wrapR),r.wrapS&&n.call(e,t,jr,r.wrapS),r.wrapT&&n.call(e,t,Fr,r.wrapT),r.minLod&&n.call(e,t,Zr,r.minLod),r.maxLod&&n.call(e,t,Gr,r.maxLod),r.baseLevel&&n.call(e,t,Wr,r.baseLevel),r.maxLevel&&n.call(e,t,Ur,r.maxLevel)}function Oo(e,t,n){var r=n.target||Cr;e.bindTexture(r,t),Ro(e,r,e.texParameteri,n)}function Ao(e,t,n,r,i,o){n=n||fr.textureOptions,o=o||gr;var a=n.target||Cr;if(r=r||n.width,i=i||n.height,e.bindTexture(a,t),function(e,t,n,r){if(!cr(e))return Co(t)&&Co(n);var i=_o(r);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}(e,r,i,o))e.generateMipmap(a);else{var s=function(e){var t=_o(e);if(!t)throw"unknown internal format";return t.textureFilterable}(o)?Sr:_r;e.texParameteri(a,Mr,s),e.texParameteri(a,Dr,s),e.texParameteri(a,jr,kr),e.texParameteri(a,Fr,kr)}}function No(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function Po(e,t){return(t=t||{}).cubeFaceOrder||[Rr,Or,Ar,Nr,Pr,Lr]}function Lo(e,t){var n=Po(0,t).map((function(e,t){return{face:e,ndx:t}}));return n.sort((function(e,t){return e.face-t.face})),n}function Mo(e,t,n,r){var i=(r=r||fr.textureOptions).target||Cr,o=r.level||0,a=n.width,s=n.height,u=r.internalFormat||r.format||gr,c=So(u),l=r.format||c.format,d=r.type||c.type;if(To(e,r),e.bindTexture(i,t),i===xr){var f,p,h=n.width,v=n.height;if(h/6===v)f=v,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(v/6===h)f=h,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===v/2)f=h/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(h/2!==v/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);f=h/2,p=[0,0,1,0,0,1,1,1,0,2,1,2]}var m=hr();m?(m.canvas.width=f,m.canvas.height=f,a=f,s=f,Lo(0,r).forEach((function(t){var r=p[2*t.ndx+0]*f,i=p[2*t.ndx+1]*f;m.drawImage(n,r,i,f,f,0,0,f,f),e.texImage2D(t.face,o,u,l,d,m.canvas)})),m.canvas.width=1,m.canvas.height=1):typeof createImageBitmap<"u"&&(a=f,s=f,Lo(0,r).forEach((function(c){var h=p[2*c.ndx+0]*f,v=p[2*c.ndx+1]*f;e.texImage2D(c.face,o,u,f,f,0,l,d,null),createImageBitmap(n,h,v,f,f,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(n){To(e,r),e.bindTexture(i,t),e.texImage2D(c.face,o,u,l,d,n),No(r)&&Ao(e,t,r,a,s,u)}))})))}else if(i===Tr||i===Ir){var g=Math.min(n.width,n.height),y=Math.max(n.width,n.height),b=y/g;if(b%1!==0)throw"can not compute 3D dimensions of element";var w=n.width===y?1:0,E=n.height===y?1:0;e.pixelStorei(Xr,1),e.pixelStorei(Br,n.width),e.pixelStorei(Hr,0),e.pixelStorei(Kr,0),e.texImage3D(i,o,u,g,g,g,0,l,d,null);for(var k=0;k<b;++k){var _=k*g*w,S=k*g*E;e.pixelStorei(Yr,_),e.pixelStorei(zr,S),e.texSubImage3D(i,o,0,0,k,g,g,1,l,d,n)}Io(e)}else e.texImage2D(i,o,u,l,d,n);No(r)&&Ao(e,t,r,a,s,u),Oo(e,t,r)}function Do(){}function jo(e,t){return void 0!==t||function(e){if(typeof document<"u"){var t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}var n=new URL(location.href).origin;return new URL(e,location.href).origin===n}(e)?t:"anonymous"}function Fo(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function Vo(e,t,n){return Fo(e)?(setTimeout((function(){n(null,e)})),e):function(e,t,n){var r;if(n=n||Do,t=void 0!==t?t:fr.crossOrigin,t=jo(e,t),typeof Image<"u"){r=new Image,void 0!==t&&(r.crossOrigin=t);var i=function(){r.removeEventListener("error",o),r.removeEventListener("load",a),r=null},o=function(){var t="couldn't load image: "+e;Ln(t),n(t,r),i()},a=function(){n(null,r),i()};return r.addEventListener("error",o),r.addEventListener("load",a),r.src=e,r}if(typeof ImageBitmap<"u"){var s,u,c=function(){n(s,u)},l={};t&&(l.mode="cors"),fetch(e,l).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){u=e,setTimeout(c)})).catch((function(e){s=e,setTimeout(c)})),r=null}return r}(e,t,n)}function Zo(e,t,n){var r=(n=n||fr.textureOptions).target||Cr;if(e.bindTexture(r,t),!1!==n.color){var i=function(e){return e=e||fr.textureColor,pr(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(n.color);if(r===xr)for(var o=0;o<6;++o)e.texImage2D(Rr+o,0,gr,1,1,0,gr,eo,i);else r===Tr||r===Ir?e.texImage3D(r,0,gr,1,1,1,0,gr,eo,i):e.texImage2D(r,0,gr,1,1,0,gr,eo,i)}}function Go(e,t,n,r){r=r||Do;var i=n.src;if(6!==i.length)throw"there must be 6 urls for a cubemap";var o=n.level||0,a=n.internalFormat||n.format||gr,s=So(a),u=n.format||s.format,c=n.type||eo,l=n.target||Cr;if(l!==xr)throw"target must be TEXTURE_CUBE_MAP";Zo(e,t,n),n=Object.assign({},n);var d,f=6,p=[],h=Po(0,n);d=i.map((function(i,s){return Vo(i,n.crossOrigin,function(i){return function(s,h){--f,s?p.push(s):h.width!==h.height?p.push("cubemap face img is not a square: "+h.src):(To(e,n),e.bindTexture(l,t),5===f?Po().forEach((function(t){e.texImage2D(t,o,a,u,c,h)})):e.texImage2D(i,o,a,u,c,h),No(n)&&e.generateMipmap(l)),0===f&&r(p.length?p:void 0,t,d)}}(h[s]))}))}function Wo(e,t,n,r){r=r||Do;var i=n.src,o=n.internalFormat||n.format||gr,a=So(o),s=n.format||a.format,u=n.type||eo,c=n.target||Ir;if(c!==Tr&&c!==Ir)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Zo(e,t,n),n=Object.assign({},n);var l,d=i.length,f=[],p=n.level||0,h=n.width,v=n.height,m=i.length,g=!0;l=i.map((function(i,a){return Vo(i,n.crossOrigin,function(i){return function(a,y){if(--d,a)f.push(a);else{if(To(e,n),e.bindTexture(c,t),g){g=!1,h=n.width||y.width,v=n.height||y.height,e.texImage3D(c,p,o,h,v,m,0,s,u,null);for(var b=0;b<m;++b)e.texSubImage3D(c,p,0,0,b,h,v,1,s,u,y)}else{var w,E=y;(y.width!==h||y.height!==v)&&(E=(w=hr()).canvas,w.canvas.width=h,w.canvas.height=v,w.drawImage(y,0,0,h,v)),e.texSubImage3D(c,p,0,0,i,h,v,1,s,u,E),w&&E===w.canvas&&(w.canvas.width=0,w.canvas.height=0)}No(n)&&e.generateMipmap(c)}0===d&&r(f.length?f:void 0,t,l)}}(a))}))}function Uo(e,t,n,r){var i=(r=r||fr.textureOptions).target||Cr;e.bindTexture(i,t);var o=r.width,a=r.height,s=r.depth,u=r.level||0,c=r.internalFormat||r.format||gr,l=So(c),d=r.format||l.format,f=r.type||function(e,t,n){return pr(t)?On(t):n||eo}(0,n,l.type);if(pr(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{var p=Nn(f);n=new p(n)}var h,v=function(e,t){var n=_o(e);if(!n)throw"unknown internal format";var r=n.bytesPerElementMap[t];if(void 0===r)throw"unknown internal format";return r}(c,f),m=n.byteLength/v;if(m%1)throw"length wrong size for format: "+dr(e,d);if(i===Tr||i===Ir)if(o||a||s)!o||a&&s?!a||o&&s?(h=xo(0,i,o,a,m/s),o=h.width,a=h.height):(h=xo(0,i,o,s,m/a),o=h.width,s=h.height):(h=xo(0,i,a,s,m/o),a=h.width,s=h.height);else{var g=Math.cbrt(m);if(g%1!==0)throw"can't guess cube size of array of numElements: "+m;o=g,a=g,s=g}else h=xo(0,i,o,a,m),o=h.width,a=h.height;if(Io(e),e.pixelStorei(Xr,r.unpackAlignment||1),To(e,r),i===xr){var y=m/6*(v/n.BYTES_PER_ELEMENT);Lo(0,r).forEach((function(t){var r=y*t.ndx,i=n.subarray(r,r+y);e.texImage2D(t.face,u,c,o,a,0,d,f,i)}))}else i===Tr||i===Ir?e.texImage3D(i,u,c,o,a,s,0,d,f,n):e.texImage2D(i,u,c,o,a,0,d,f,n);return{width:o,height:a,depth:s,type:f}}function Xo(e,t,n){n=n||Do,t=t||fr.textureOptions;var r=e.createTexture(),i=t.target||Cr,o=t.width||1,a=t.height||1,s=t.internalFormat||gr;e.bindTexture(i,r),i===xr&&(e.texParameteri(i,jr,kr),e.texParameteri(i,Fr,kr));var u=t.src;if(u)if("function"==typeof u&&(u=u(e,t)),"string"==typeof u)!function(e,t,n,r){r=r||Do,n=n||fr.textureOptions,Zo(e,t,n),Vo((n=Object.assign({},n)).src,n.crossOrigin,(function(i,o){i?r(i,t,o):(Mo(e,t,o,n),r(null,t,o))}))}(e,r,t,n);else if(pr(u)||Array.isArray(u)&&("number"==typeof u[0]||Array.isArray(u[0])||pr(u[0]))){var c=Uo(e,r,u,t);o=c.width,a=c.height}else Array.isArray(u)&&("string"==typeof u[0]||Fo(u[0]))?i===xr?Go(e,r,t,n):Wo(e,r,t,n):(Mo(e,r,u,t),o=u.width,a=u.height);else!function(e,t,n){var r=n.target||Cr;e.bindTexture(r,t);var i=n.level||0,o=n.internalFormat||n.format||gr,a=So(o),s=n.format||a.format,u=n.type||a.type;if(To(e,n),r===xr)for(var c=0;c<6;++c)e.texImage2D(Rr+c,i,o,n.width,n.height,0,s,u,null);else r===Tr||r===Ir?e.texImage3D(r,i,o,n.width,n.height,n.depth,0,s,u,null):e.texImage2D(r,i,o,n.width,n.height,0,s,u,null)}(e,r,t);return No(t)&&Ao(e,r,t,o,a,s),Oo(e,r,t),r}var Bo=Ln;function Ho(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}var Yo=33984,zo=34962,Ko=35713,Jo=35714,Qo=35632,qo=35633,$o=35981,ea=35718,ta=35721,na=35971,ra=35382,ia=35396,oa=35398,aa=35392,sa=35395,ua=5126,ca=5124,la=5125,da=3553,fa=34067,pa=32879,ha=35866,va={};function ma(e,t){return va[t].bindPoint}function ga(e,t){return function(n){e.uniform1i(t,n)}}function ya(e,t){return function(n){e.uniform1iv(t,n)}}function ba(e,t){return function(n){e.uniform2iv(t,n)}}function wa(e,t){return function(n){e.uniform3iv(t,n)}}function Ea(e,t){return function(n){e.uniform4iv(t,n)}}function ka(e,t,n,r){var i=ma(0,t);return cr(e)?function(t){var o,a;jn(0,t)?(o=t,a=null):(o=t.texture,a=t.sampler),e.uniform1i(r,n),e.activeTexture(Yo+n),e.bindTexture(i,o),e.bindSampler(n,a)}:function(t){e.uniform1i(r,n),e.activeTexture(Yo+n),e.bindTexture(i,t)}}function _a(e,t,n,r,i){for(var o=ma(0,t),a=new Int32Array(i),s=0;s<i;++s)a[s]=n+s;return cr(e)?function(t){e.uniform1iv(r,a),t.forEach((function(t,r){var i,s;e.activeTexture(Yo+a[r]),jn(0,t)?(i=t,s=null):(i=t.texture,s=t.sampler),e.bindSampler(n,s),e.bindTexture(o,i)}))}:function(t){e.uniform1iv(r,a),t.forEach((function(t,n){e.activeTexture(Yo+a[n]),e.bindTexture(o,t)}))}}function Sa(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(zo,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||ua,n.normalize||!1,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function Ca(e,t){return function(n){if(n.value){if(e.disableVertexAttribArray(t),4!==n.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,n.value)}else e.bindBuffer(zo,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||ca,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function xa(e,t){return function(n){if(n.value){if(e.disableVertexAttribArray(t),4!==n.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,n.value)}else e.bindBuffer(zo,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||la,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function Ta(e,t,n){var r=n.size,i=n.count;return function(n){e.bindBuffer(zo,n.buffer);for(var o=n.size||n.numComponents||r,a=o/i,s=n.type||ua,u=va[s].size*o,c=n.normalize||!1,l=n.offset||0,d=u/i,f=0;f<i;++f)e.enableVertexAttribArray(t+f),e.vertexAttribPointer(t+f,a,s,c,u,l+d*f),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+f,n.divisor||0)}}va[ua]={Type:Float32Array,size:4,setter:function(e,t){return function(n){e.uniform1f(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1fv(t,n)}}},va[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(n){e.uniform2fv(t,n)}},cols:2},va[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(n){e.uniform3fv(t,n)}},cols:3},va[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(n){e.uniform4fv(t,n)}},cols:4},va[ca]={Type:Int32Array,size:4,setter:ga,arraySetter:ya},va[35667]={Type:Int32Array,size:8,setter:ba,cols:2},va[35668]={Type:Int32Array,size:12,setter:wa,cols:3},va[35669]={Type:Int32Array,size:16,setter:Ea,cols:4},va[la]={Type:Uint32Array,size:4,setter:function(e,t){return function(n){e.uniform1ui(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1uiv(t,n)}}},va[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(n){e.uniform2uiv(t,n)}},cols:2},va[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(n){e.uniform3uiv(t,n)}},cols:3},va[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(n){e.uniform4uiv(t,n)}},cols:4},va[35670]={Type:Uint32Array,size:4,setter:ga,arraySetter:ya},va[35671]={Type:Uint32Array,size:8,setter:ba,cols:2},va[35672]={Type:Uint32Array,size:12,setter:wa,cols:3},va[35673]={Type:Uint32Array,size:16,setter:Ea,cols:4},va[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}},rows:2,cols:2},va[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}},rows:3,cols:3},va[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}},rows:4,cols:4},va[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}},rows:2,cols:3},va[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}},rows:2,cols:4},va[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}},rows:3,cols:2},va[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}},rows:3,cols:4},va[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}},rows:4,cols:2},va[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}},rows:4,cols:3},va[35678]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:da},va[35680]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:fa},va[35679]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:pa},va[35682]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:da},va[36289]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:ha},va[36292]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:ha},va[36293]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:fa},va[36298]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:da},va[36299]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:pa},va[36300]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:fa},va[36303]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:ha},va[36306]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:da},va[36307]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:pa},va[36308]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:fa},va[36311]={Type:null,size:0,setter:ka,arraySetter:_a,bindPoint:ha};var Ia={};Ia[ua]={size:4,setter:Sa},Ia[35664]={size:8,setter:Sa},Ia[35665]={size:12,setter:Sa},Ia[35666]={size:16,setter:Sa},Ia[ca]={size:4,setter:Ca},Ia[35667]={size:8,setter:Ca},Ia[35668]={size:12,setter:Ca},Ia[35669]={size:16,setter:Ca},Ia[la]={size:4,setter:xa},Ia[36294]={size:8,setter:xa},Ia[36295]={size:12,setter:xa},Ia[36296]={size:16,setter:xa},Ia[35670]={size:4,setter:Ca},Ia[35671]={size:8,setter:Ca},Ia[35672]={size:12,setter:Ca},Ia[35673]={size:16,setter:Ca},Ia[35674]={size:4,setter:Ta,count:2},Ia[35675]={size:9,setter:Ta,count:3},Ia[35676]={size:16,setter:Ta,count:4};var Ra=/ERROR:\s*\d+:(\d+)/gi,Oa=/^[ \t]*\n/;function Aa(e){var t=0;return Oa.test(e)&&(t=1,e=e.replace(Oa,"")),{lineOffset:t,shaderSource:e}}function Na(e,t,n,r){if(r=r||Bo,!e.getShaderParameter(n,Ko)){var i=e.getShaderInfoLog(n),o=Aa(e.getShaderSource(n)),a=o.lineOffset,s=o.shaderSource,u="".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=_toConsumableArray(t.matchAll(Ra)),i=new Map(r.map((function(e,n){var i=parseInt(e[1]),o=r[n+1],a=o?o.index:t.length;return[i-1,t.substring(e.index,a)]})));return e.split("\n").map((function(e,t){var r=i.get(t);return"".concat(t+1+n,": ").concat(e).concat(r?"\n\n^^^ ".concat(r):"")})).join("\n")}(s,i,a),"\nError compiling ").concat(dr(e,t),": ").concat(i);return r(u),u}return""}function Pa(e,t,n){var r,i,o;if("function"==typeof t&&(n=t,t=void 0),"function"==typeof e)n=e,e=void 0;else if(e&&!Array.isArray(e)){var a=e;n=a.errorCallback,e=a.attribLocations,r=a.transformFeedbackVaryings,i=a.transformFeedbackMode,o=a.callback}var s=n||Bo,u=[],c={errorCallback:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.push(e),s.apply(void 0,[e].concat(n))},transformFeedbackVaryings:r,transformFeedbackMode:i,callback:o,errors:u},l={};return Array.isArray(e)?e.forEach((function(e,n){l[e]=t?t[n]:n})):l=e||{},c.attribLocations=l,c}var La=["VERTEX_SHADER","FRAGMENT_SHADER"];function Ma(e,t){return t.indexOf("frag")>=0?Qo:t.indexOf("vert")>=0?qo:void 0}var Da=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){return setTimeout(e,t)}))};function ja(e,t,n,r,i){var o=Pa(n,r,i),a=new Set(t),s=function(e,t,n){for(var r=e.createProgram(),i=Pa(n),o=i.attribLocations,a=i.transformFeedbackVaryings,s=i.transformFeedbackMode,u=0;u<t.length;++u){var c=t[u];if("string"==typeof c){var l=Ho(c),d=l?l.text:c,f=e[La[u]];l&&l.type&&(f=Ma(0,l.type)||f),c=e.createShader(f),e.shaderSource(c,Aa(d).shaderSource),e.compileShader(c),e.attachShader(r,c)}}Object.entries(o).forEach((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1];return e.bindAttribLocation(r,o,i)}));var p=a;return p&&(p.attribs&&(p=p.attribs),Array.isArray(p)||(p=Object.keys(p)),e.transformFeedbackVaryings(r,p,s||$o)),e.linkProgram(r),r}(e,t,o);function u(e,t){var n=function(e,t,n){if(n=n||Bo,!e.getProgramParameter(t,Jo)){var r=e.getProgramInfoLog(t);n("Error in program linking: ".concat(r));var i=e.getAttachedShaders(t).map((function(t){return Na(e,e.getShaderParameter(t,e.SHADER_TYPE),t,n)}));return"".concat(r,"\n").concat(i.filter((function(e){return e})).join("\n"))}}(e,t,o.errorCallback);return n&&function(e,t,n){var r,i=e.getAttachedShaders(t),o=_createForOfIteratorHelper(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.has(a)&&e.deleteShader(a)}}catch(s){o.e(s)}finally{o.f()}e.deleteProgram(t)}(e,t,a),n}if(!o.callback)return u(e,s)?void 0:s;(function(e,t){return Fa.apply(this,arguments)})(e,s).then((function(){var t=u(e,s);o.callback(t,t?void 0:s)}))}function Fa(){return Fa=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getExtension("KHR_parallel_shader_compile"),i=r?function(e,t){return e.getProgramParameter(t,r.COMPLETION_STATUS_KHR)}:function(){return!0},o=0;case 2:return e.next=4,Da(o);case 4:o=1e3/60;case 5:if(!i(t,n)){e.next=2;break}case 6:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Va(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}var Za=/(\.|\[|]|\w+)/g,Ga=function(e){return e>="0"&&e<="9"};function Wa(e,t,n,r){for(var i=e.split(Za).filter((function(e){return""!==e})),o=0,a="";;){var s=i[o++];a+=s;var u=Ga(s[0]),c=u?parseInt(s):s;if(u&&(a+=i[o++]),o===i.length){n[c]=t;break}var l=i[o++],d="["===l,f=n[c]||(d?[]:{});n[c]=f,n=f,r[a]=r[a]||function(e){return function(t){Ua(e,t)}}(f),a+=l}}function Ua(e,t){for(var n in t){var r=e[n];"function"==typeof r?r(t[n]):Ua(e[n],t[n])}}function Xa(e){for(var t=e.uniformSetters||e,n=arguments.length<=1?0:arguments.length-1,r=0;r<n;++r){var i=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];if(Array.isArray(i))for(var o=i.length,a=0;a<o;++a)Xa(t,i[a]);else for(var s in i){var u=t[s];u&&u(i[s])}}}function Ba(e,t){var n=function(e,t){var n=0;function r(t,r,i){var o,a=r.name.endsWith("[0]"),s=r.type,u=va[s];if(!u)throw new Error("unknown type: 0x".concat(s.toString(16)));if(u.bindPoint){var c=n;n+=r.size,o=a?u.arraySetter(e,s,c,i,r.size):u.setter(e,s,c,i,r.size)}else o=u.arraySetter&&a?u.arraySetter(e,i):u.setter(e,i);return o.location=i,o}for(var i={},o={},a=e.getProgramParameter(t,ea),s=0;s<a;++s){var u=e.getActiveUniform(t,s);if(!Va(u)){var c=u.name;c.endsWith("[0]")&&(c=c.substr(0,c.length-3));var l=e.getUniformLocation(t,u.name);if(l){var d=r(0,u,l);i[c]=d,Wa(c,d,o,i)}}}return i}(e,t),r=function(e,t){for(var n={},r=e.getProgramParameter(t,ta),i=0;i<r;++i){var o=e.getActiveAttrib(t,i);if(!Va(o)){var a=e.getAttribLocation(t,o.name),s=Ia[o.type],u=s.setter(e,a,s);u.location=a,n[o.name]=u}}return n}(e,t),i={program:t,uniformSetters:n,attribSetters:r};return cr(e)&&(i.uniformBlockSpec=function(e,t){for(var n=e.getProgramParameter(t,ea),r=[],i=[],o=0;o<n;++o){i.push(o),r.push({});var a=e.getActiveUniform(t,o);r[o].name=a.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(n){var o=n[0],a=n[1];e.getActiveUniforms(t,i,e[o]).forEach((function(e,t){r[t][a]=e}))}));for(var s={},u=e.getProgramParameter(t,ra),c=0;c<u;++c){var l=e.getActiveUniformBlockName(t,c),d={index:e.getUniformBlockIndex(t,l),usedByVertexShader:e.getActiveUniformBlockParameter(t,c,ia),usedByFragmentShader:e.getActiveUniformBlockParameter(t,c,oa),size:e.getActiveUniformBlockParameter(t,c,aa),uniformIndices:e.getActiveUniformBlockParameter(t,c,sa)};d.used=d.usedByVertexShader||d.usedByFragmentShader,s[l]=d}return{blockSpecs:s,uniformData:r}}(e,t),i.transformFeedbackInfo=function(e,t){for(var n={},r=e.getProgramParameter(t,na),i=0;i<r;++i){var o=e.getTransformFeedbackVarying(t,i);n[o.name]={index:i,type:o.type,size:o.size}}return n}(e,t)),i}var Ha=/\s|{|}|;/;function Ya(e,t,n,r,i){var o=Pa(n,r,i),a=[];if(t=t.map((function(e){if(!Ha.test(e)){var t=Ho(e);if(t)e=t.text;else{var n="no element with id: ".concat(e);o.errorCallback(n),a.push(n)}}return e})),a.length)return function(e,t){return e.errorCallback(t),e.callback&&setTimeout((function(){e.callback("".concat(t,"\n").concat(e.errors.join("\n")))})),null}(o,"");var s=o.callback;s&&(o.callback=function(t,n){s(t,t?void 0:Ba(e,n))});var u=function(e,t,n,r,i){return ja(e,t,n,r,i)}(e,t,o);return u?Ba(e,u):null}var za=36161,Ka=34041,Ja=36064,Qa=36096,qa=33306,$a=33071,es=9729,ts=[{format:6408,type:5121,min:es,wrap:$a},{format:Ka}],ns={};ns[Ka]=qa,ns[6401]=36128,ns[36168]=36128,ns[6402]=Qa,ns[33189]=Qa,ns[33190]=Qa,ns[36012]=Qa,ns[35056]=qa,ns[36013]=qa;var rs={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},is=32;function os(e,t,n,r){var i=36160,o=e.createFramebuffer();e.bindFramebuffer(i,o),n=n||e.drawingBufferWidth,r=r||e.drawingBufferHeight;var a=[],s={framebuffer:o,attachments:[],width:n,height:r};return(t=t||ts).forEach((function(t,o){var u=t.attachment,c=t.samples,l=t.format,d=t.attachmentPoint||function(e,t){return ns[e]||ns[t]}(l,t.internalFormat);if(d||(d=Ja+o),function(e){return e>=Ja&&e<Ja+is}(d)&&a.push(d),!u)if(void 0!==c||function(e){return rs[e]}(l))u=e.createRenderbuffer(),e.bindRenderbuffer(za,u),c>1?e.renderbufferStorageMultisample(za,c,l,n,r):e.renderbufferStorage(za,l,n,r);else{var f=Object.assign({},t);f.width=n,f.height=r,void 0===f.auto&&(f.auto=!1,f.min=f.min||f.minMag||es,f.mag=f.mag||f.minMag||es,f.wrapS=f.wrapS||f.wrap||$a,f.wrapT=f.wrapT||f.wrap||$a),u=Xo(e,f)}if(function(e,t){return typeof WebGLRenderbuffer<"u"&&Dn(t,"WebGLRenderbuffer")}(0,u))e.framebufferRenderbuffer(i,d,za,u);else{if(!jn(0,u))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(i,d,u,t.level||0,t.layer):e.framebufferTexture2D(i,d,t.target||3553,u,t.level||0)}s.attachments.push(u)})),e.drawBuffers&&e.drawBuffers(a),s}function as(e,t){return function(){return t instanceof WebGLTexture?t:Xo(e,{src:t,wrap:e.CLAMP_TO_EDGE})}}var ss=function(){function e(t){_classCallCheck2(this,e),o(this,"id","_"),o(this,"context"),o(this,"output"),o(this,"fbi"),o(this,"options"),o(this,"programInfo"),o(this,"bufferInfo"),o(this,"profiler"),o(this,"lastRun");var n=t.context,r=t.width,i=t.height;this.context=n,this.options=t;var a=this.buildDefines();this.programInfo=Ya(this.context,[a+this.getVertexShader(),a+this.getFragmentShader()]),this.bufferInfo=function(e,t,n){var r=ar(e,t),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},r);var o=t.indices;if(o){var a=er(o,"indices");i.indices=Kn(e,a,34963),i.numElements=a.length,i.elementType=On(a)}else i.numElements||(i.numElements=ur(e,i.attribs));return i}(this.context,this.getBuffers()),this.fbi=os(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],r,i),this.output=this.fbi.attachments[0]}return _createClass3(e,[{key:"resizeOutput",value:function(e,t){this.fbi=os(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],e,t),this.options.width=e,this.options.height=t,this.output=this.fbi.attachments[0]}},{key:"getDefines",value:function(){return{}}},{key:"getBuffers",value:function(){return{position:{numComponents:2,data:[-1,-1,-1,1,1,-1,1,1,-1,1,1,-1]},texture_coord:{numComponents:2,data:[0,0,0,1,1,0,1,1,0,1,1,0]}}}},{key:"buildDefines",value:function(){var e="",t=this.getDefines();for(var n in t)e+="#define ".concat(n," ").concat(t[n].toFixed(1),"\n");return e}},{key:"run",value:function(e){var t,n,r,i,o,a;for(var s in null==(t=this.profiler)||t.pushContext("[".concat(this.id,"] PROG : ").concat(this.constructor.name)),null==(n=this.profiler)||n.pushContext("[".concat(this.id,"] UNIFORMS")),e)"function"==typeof e[s]&&(null==(r=this.profiler)||r.pushContext("[".concat(this.id,"] UNI : ").concat(s)),e[s]=e[s](),null==(i=this.profiler)||i.popContext("[".concat(this.id,"] UNI : ").concat(s)));null==(o=this.profiler)||o.popContext("[".concat(this.id,"] UNIFORMS"));var u=Date.now(),c=0;this.lastRun&&(c=(u-this.lastRun)/1e3),this.lastRun=u,this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),this.context.useProgram(this.programInfo.program),function(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(function(e,t){for(var n in t){var r=e[n];r&&r(t[n])}}(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(34963,n.indices))}(this.context,this.programInfo,this.bufferInfo),Xa(this.programInfo,_objectSpread({delta:c,canvas:[this.context.canvas.width,this.context.canvas.height]},e)),function(e,t,n){n=n||36160,t?(e.bindFramebuffer(n,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(n,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}(this.context,this.options.disableFramebuffer?null:this.fbi),function(e,t,n,r,i,o){n=void 0===n?4:n;var a=t.indices,s=t.elementType,u=void 0===r?t.numElements:r;i=void 0===i?0:i,s||a?void 0!==o?e.drawElementsInstanced(n,u,void 0===s?5123:t.elementType,i,o):e.drawElements(n,u,void 0===s?5123:t.elementType,i):void 0!==o?e.drawArraysInstanced(n,i,u,o):e.drawArrays(n,i,u)}(this.context,this.bufferInfo),null==(a=this.profiler)||a.popContext("[".concat(this.id,"] PROG : ").concat(this.constructor.name))}},{key:"setProfiler",value:function(e){this.profiler=e}}]),e}(),us=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform sampler2D background;\nuniform sampler2D foreground;\nuniform sampler2D threshold;\n\nvoid main() {\n  vec4 backgroundColor = texture2D(background, _texture_coord);\n  vec4 foregroundColor = texture2D(foreground, _texture_coord);\n  vec4 tresholdColor = texture2D(threshold, _texture_coord);\n  gl_FragColor = foregroundColor * tresholdColor.a +\n                 backgroundColor * (1. - tresholdColor.a);\n}\n"}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n  _texture_coord.y = 1. - texture_coord.y;\n}\n"}}]),n}(ss),cs=function(){function e(){_classCallCheck2(this,e),o(this,"steps",[]),o(this,"profiler")}return _createClass3(e,[{key:"addStep",value:function(e){this.steps.push(e)}},{key:"run",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper(this.steps);try{for(t.s();!(n=t.n()).done;)(r=n.value).program.run(r.getUniforms())}catch(i){t.e(i)}finally{t.f()}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resizeOutput",value:function(e,t){var n,r;null==(n=this.profiler)||n.pushContext("PIP [".concat(this.constructor.name,"]"));var i,o=_createForOfIteratorHelper(this.steps);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.preventResize||a.program.resizeOutput(e,t)}}catch(s){o.e(s)}finally{o.f()}null==(r=this.profiler)||r.popContext("PIP [".concat(this.constructor.name,"]"))}},{key:"setProfiler",value:function(e){this.profiler=e;var t,n=_createForOfIteratorHelper(this.steps);try{for(n.s();!(t=n.n()).done;)t.value.program.setProfiler(e)}catch(r){n.e(r)}finally{n.f()}}},{key:"setId",value:function(e){var t,n=_createForOfIteratorHelper(this.steps);try{for(n.s();!(t=n.n()).done;)t.value.program.id=e}catch(r){n.e(r)}finally{n.f()}}}]),e}(),ls=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.apply(this,arguments),o(_assertThisInitialized3(e),"preciseMaskEnabled",!1),e}return _createClass3(n)}(cs),ds=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck2(this,n),r=t.call(this),o(_assertThisInitialized3(r),"inputImage"),o(_assertThisInitialized3(r),"inputBackgroundImage"),o(_assertThisInitialized3(r),"inputMask"),o(_assertThisInitialized3(r),"preciseMaskEnabled",!0),r.context=e;var i={context:e,height:e.canvas.height,width:e.canvas.width},a=new us(_objectSpread(_objectSpread({},i),{},{disableFramebuffer:!0}));return r.addStep({program:a,getUniforms:function(){return{background:as(e,r.inputBackgroundImage),foreground:as(e,r.inputImage),threshold:as(e,r.inputMask)}}}),r}return _createClass3(n,[{key:"setData",value:function(e,t){this.inputImage=e,this.inputMask=t}}]),n}(ls),fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\nuniform sampler2D texture;\n\nvoid main() { gl_FragColor = texture2D(texture, _texture_coord); }\n"}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\nuniform bool invert_y;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n  if (invert_y) {\n    _texture_coord.y = 1. - texture_coord.y;\n  }\n}\n"}}]),n}(ss),ps=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;_classCallCheck2(this,n),a=t.call(this),o(_assertThisInitialized3(a),"inputImage"),a.context=e;var s={context:e,height:i,width:r};return a.addStep({program:new fs(_objectSpread(_objectSpread({},s),{},{disableFramebuffer:!0})),getUniforms:function(){return{texture:as(e,a.inputImage),invert_y:!0}}}),a}return _createClass3(n,[{key:"setData",value:function(e){this.inputImage=e}}]),n}(cs);function hs(e){return vs.apply(this,arguments)}function vs(){return vs=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new e((function(e){setTimeout((function(){e()}),n)})));case 1:case"end":return t.stop()}}),t)}))),vs.apply(this,arguments)}var ms=function(e){return e[e.LINEAR=0]="LINEAR",e[e.GAUSSIAN=1]="GAUSSIAN",e}(ms||{}),gs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getDefines",value:function(){var e;return{RADIUS:null!=(e=this.options.radius)?e:1}}},{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\n\nvec4 loop();\n\nvoid main() { gl_FragColor = loop(); }\n"+this.createLoopFunction()}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}},{key:"createLoopFunction",value:function(){var e,t=null!=(e=this.options.radius)?e:1;return"\n\n        vec4 loop() { \n            vec4 result = vec4(0,0,0,0);\n            float factorSum = 0.;\n\n            vec2 normalizedRadius = vec2(-".concat(t,".) / canvas;\n            vec2 normalizedIncrement = vec2(1.) / canvas;\n            vec2 diff = normalizedRadius;\n\n            for(int y=-").concat(t,"; y<").concat(t+1,"; ++y) {\n                for(int x=-").concat(t,"; x<").concat(t+1,"; ++x) {\n                    float factor = 1.;\n                    result += factor * texture2D(texture, _texture_coord + diff);\n                    factorSum += factor;\n                    diff.x += normalizedIncrement.x;\n                }\n                diff.y += normalizedIncrement.y;\n                diff.x = normalizedRadius.x;\n            }\n            return result / factorSum;\n        }")}},{key:"getFactor",value:function(e,t){return this.options.type,this.getLinearFactor(e,t)}},{key:"getLinearFactor",value:function(e,t){return 1}},{key:"getGaussianFactor",value:function(e,t){var n,r=2*Math.PI,i=Math.max(null!=(n=this.options.radius)?n:1,1),o=1/(r*Math.pow(i,2)),a=o*-(Math.pow(e,2)+Math.pow(t,2));return o*Math.pow(Math.E,a)}}]),n}(ss),ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),r=t.call(this,e),o(_assertThisInitialized3(r),"fbi2"),r.fbi2=os(e.context,[{format:e.context.RGBA,type:e.context.UNSIGNED_BYTE,min:e.context.LINEAR,mag:e.context.LINEAR,wrap:e.context.CLAMP_TO_EDGE}],e.width,e.height),r}return _createClass3(n,[{key:"run",value:function(e){var t=this.fbi;this.fbi=this.fbi2,this.fbi2=t,this.output=this.fbi.attachments[0],_get3(_getPrototypeOf2(n.prototype),"run",this).call(this,_objectSpread(_objectSpread({},e),{},{previous_rendering:this.fbi2.attachments[0]}))}},{key:"resizeOutput",value:function(e,t){_get3(_getPrototypeOf2(n.prototype),"resizeOutput",this).call(this,e,t),this.fbi2=os(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],e,t)}}]),n}(ss),bs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\n// uniform float treshold;\nuniform sampler2D image_now;\nuniform sampler2D image_before;\nuniform sampler2D mask_now;\nuniform sampler2D mask_before;\nuniform sampler2D previous_rendering;\nuniform vec2 canvas;\n\nuniform float delta;\n\nfloat current_factor = 0.69;\nfloat previous_factor = 0.74;\nfloat threshold_activation = 0.54;\n\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nfloat getThreshold() {\n  vec4 color = vec4(0.);\n  for (float y = -6.; y < 7.; y += 1.) {\n    for (float x = -6.; x < 7.; x += 1.) {\n      vec4 image_now_color =\n          texture2D(image_now, _texture_coord + vec2(x, y) / canvas);\n      vec4 image_before_color =\n          texture2D(image_before, _texture_coord + vec2(x, y) / canvas);\n      color += abs(image_before_color - image_now_color);\n    }\n  }\n  return (color.x + color.y + color.z) / (3. * 9.);\n}\n\nvoid main() {\n  float treshold_input = .4;\n  float treshold_previous_rendering = .98;\n\n  vec4 mask_now_color = texture2D(mask_now, _texture_coord);\n  vec4 mask_before_color = texture2D(mask_before, _texture_coord);\n  vec4 previous_rendering_color = texture2D(previous_rendering, _texture_coord);\n\n  vec3 mask_diff = abs(mask_before_color.xyz - mask_now_color.xyz);\n  float flickering = mask_diff.x;\n  float threshold = getThreshold();\n  if (threshold < threshold_activation) {\n    gl_FragColor = vec4(flickering, 0., 0., 1.) * current_factor +\n                   previous_rendering_color * previous_factor;\n    gl_FragColor *= (1. - threshold);\n  }\n}\n"}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}]),n}(ys),ws=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"#version 300 es\n// https://github.com/Volcomix/virtual-background/blob/main/src/pipelines/webgl2/jointBilateralFilterStage.ts\n\nprecision highp float;\nuniform sampler2D input_frame;\nuniform sampler2D segmentation_mask;\nuniform sampler2D threshold;\nuniform vec2 texel_size;\nuniform float step;\nuniform float radius;\nuniform float offset;\nuniform float sigma_texel;\nuniform float sigma_color;\n\nin vec2 _texture_coord;\nout vec4 outColor;\n\nfloat gaussian(float x, float sigma) {\n  float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n  return exp((x * x) * coeff);\n}\n\nvoid main() {\n  vec2 centerCoord = _texture_coord;\n  vec3 centerColor = texture(input_frame, centerCoord).rgb;\n  float newVal = 0.0;\n  float spaceWeight = 0.0;\n  float colorWeight = 0.0;\n  float totalWeight = 0.0;\n  // Subsample kernel space.\n  for (float i = -radius + offset; i <= radius; i += step) {\n    for (float j = -radius + offset; j <= radius; j += step) {\n      vec2 shift = vec2(j, i) * texel_size;\n      vec2 coord = vec2(centerCoord + shift);\n      vec3 frameColor = texture(input_frame, coord).rgb;\n      float threshold = texture(threshold, coord).a;\n      float outVal = texture(segmentation_mask, coord).a;\n\n      spaceWeight = gaussian(distance(centerCoord, coord), sigma_texel);\n      colorWeight = gaussian(distance(centerColor, frameColor), sigma_color);\n      totalWeight += spaceWeight * colorWeight;\n      newVal += spaceWeight * colorWeight * outVal * threshold;\n    }\n  }\n  newVal /= totalWeight;\n  outColor = vec4(vec3(0.), newVal);\n}"}},{key:"getVertexShader",value:function(){return"#version 300 es\nin vec2 position;\nin vec2 texture_coord;\nout vec2 _texture_coord;\nvoid main() {\n  gl_Position = vec4(position, 0.0, 1.0);\n  _texture_coord = texture_coord;\n}"}}]),n}(ss),Es=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\n\nvoid main() {\n  int count = 0;\n  for (float y = -1.; y < 2.; y += 1.) {\n    for (float x = -1.; x < 2.; x += 1.) {\n      vec2 coord = _texture_coord + vec2(y, x) / canvas;\n      vec4 color = texture2D(texture, coord);\n      if (color.r > .1) {\n        count++;\n      }\n    }\n  }\n  if (count > 5) {\n    gl_FragColor = texture2D(texture, _texture_coord);\n  }\n}\n"}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}]),n}(ss),ks=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\n\nvoid main() {\n  vec4 color = texture2D(texture, _texture_coord);\n  for (float y = -2.; y < 3.; y += 1.) {\n    for (float x = -2.; x < 3.; x += 1.) {\n      vec2 coord = _texture_coord;\n      coord += vec2(y, x) / canvas;\n      color += texture2D(texture, coord) * (1. / 4.);\n    }\n  }\n\n  gl_FragColor = color;\n}\n"}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}]),n}(ys),_s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform sampler2D threshold;\nuniform sampler2D inputs;\n\nvoid main() {\n  vec4 inputs_color = texture2D(inputs, _texture_coord);\n  vec4 threshold_color = texture2D(threshold, _texture_coord);\n  if (threshold_color.r < .1 && inputs_color.r > .5) {\n    gl_FragColor = inputs_color;\n  }\n}\n"}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}]),n}(ys),Ss=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;_classCallCheck2(this,n),a=t.call(this),o(_assertThisInitialized3(a),"inputImage"),o(_assertThisInitialized3(a),"inputMask"),o(_assertThisInitialized3(a),"previousInputImage"),o(_assertThisInitialized3(a),"previousInputMask"),o(_assertThisInitialized3(a),"output"),o(_assertThisInitialized3(a),"options",{currentThresholdMinimum:0,currentThresholdMaximum:1,previousThresholdMinimum:0,previousThresholdMaximum:1,thresholdMinimum:0,thresholdMaximum:1,thresholdFactor:1}),o(_assertThisInitialized3(a),"jointBilateral"),a.context=e;var s={context:e,height:i,width:r},u=new bs(s),c=new gs(_objectSpread(_objectSpread({},s),{},{radius:1,type:ms.GAUSSIAN})),l=new _s(s),d=new ks(s),f=new Es(s);return a.jointBilateral=new ws(s),a.addStep({program:u,getUniforms:function(){return{image_now:as(e,a.inputImage),image_before:as(e,a.previousInputImage),mask_now:as(e,a.inputMask),mask_before:as(e,a.previousInputMask),current_threshold_minimum:a.options.currentThresholdMinimum,current_threshold_maximum:a.options.currentThresholdMaximum,previous_threshold_minimum:a.options.previousThresholdMinimum,previous_threshold_maximum:a.options.previousThresholdMaximum,threshold_minimum:a.options.thresholdMinimum,threshold_maximum:a.options.thresholdMaximum,threshold_factor:a.options.thresholdFactor}}}),a.addStep({program:l,getUniforms:function(){return{inputs:as(e,a.inputMask),threshold:as(e,u.output)}}}),a.addStep({program:f,getUniforms:function(){return{texture:as(e,l.output)}}}),a.addStep({program:d,getUniforms:function(){return{texture:as(e,f.output)}}}),a.addStep({program:c,getUniforms:function(){return{texture:as(e,d.output)}}}),a.addStep({program:a.jointBilateral,getUniforms:function(){var t,n,r,i,o,s,u,l,d=null!=(n=null==(t=a.inputImage)?void 0:t.width)?n:1,f=null!=(i=null==(r=a.inputImage)?void 0:r.height)?i:1,p=null!=(s=null==(o=a.inputMask)?void 0:o.width)?s:1,h=null!=(l=null==(u=a.inputMask)?void 0:u.height)?l:1,v=Math.max(d/p,f/h),m=Math.max(1,.66*Math.sqrt(v)),g=1/d,y=1/f;return{input_frame:as(e,a.inputImage),segmentation_mask:as(e,a.inputMask),threshold:as(e,c.output),texel_size:[g,y],step:m,radius:v,offset:m>1?.5*m:0,sigma_texel:Math.max(g,y)*v,sigma_color:.1}}}),a.output=a.jointBilateral.output,a}return _createClass3(n,[{key:"setData",value:function(e,t){this.previousInputImage=this.inputImage?this.inputImage:e,this.previousInputMask=this.inputMask?this.inputMask:t,this.inputImage=e,this.inputMask=t}},{key:"setOptions",value:function(e){this.options=e}},{key:"resizeOutput",value:function(e,t){_get3(_getPrototypeOf2(n.prototype),"resizeOutput",this).call(this,e,t),this.output=this.jointBilateral.output}}]),n}(cs),Cs=function(e){return e.PUSH="PUSH",e.POP="POP",e}(Cs||{}),xs=function(){function t(e){_classCallCheck2(this,t),o(this,"context"),o(this,"extension"),o(this,"queries",[]),o(this,"activeQuery"),this.context=e,this.extension=e.getExtension("EXT_disjoint_timer_query_webgl2")}return _createClass3(t,[{key:"start",value:function(){}},{key:"stop",value:function(){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT)}},{key:"pushContext",value:function(e){this.createQuery("PUSH",e)}},{key:"popContext",value:function(e){this.createQuery("POP",e)}},{key:"createQuery",value:function(e,t){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT),this.activeQuery=this.context.createQuery(),this.context.beginQuery(this.extension.TIME_ELAPSED_EXT,this.activeQuery),this.queries.push({name:t,action:e,query:this.activeQuery})}},{key:"getResolvedQueries",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n,r,i=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.all(_toConsumableArray(this.queries).map((function(e){return i.resolveQuery(e)})));case 2:for(n=t.sent.filter((function(e){return e})),r=1;r<n.length;++r)n[r].timestamp+=n[r-1].duration+n[r-1].timestamp;return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resolveQuery",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.awaitQueryAvailable(t);case 2:if(e.sent){e.next=5;break}return console.log("Unawaitable query",t),e.abrupt("return");case 5:if(!this.context.getParameter(this.extension.GPU_DISJOINT_EXT)){e.next=8;break}return console.log("Disjointed query",t),e.abrupt("return");case 8:return e.abrupt("return",_objectSpread(_objectSpread({},t),{},{duration:this.context.getQueryParameter(t.query,this.context.QUERY_RESULT),timestamp:0}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"awaitQueryAvailable",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<10)){e.next=9;break}if(!this.context.getQueryParameter(t.query,this.context.QUERY_RESULT_AVAILABLE)){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,hs(200);case 6:++n,e.next=1;break;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(),Ts=function(){function e(){_classCallCheck2(this,e),o(this,"canvas"),o(this,"context"),o(this,"pipeline"),o(this,"previousImageWidth",0),o(this,"previousImageHeight",0),o(this,"previousMaskWidth",2),o(this,"previousMaskHeight",2),o(this,"profiler"),o(this,"postProcessingEnabled",!0),o(this,"improveMask");var t=new OffscreenCanvas(0,0),n=t.getContext("webgl2");if(!n)throw"Fail to retrieve webgl2 context";this.canvas=t,this.context=n,this.improveMask=new Ss(this.context,2,2)}return _createClass3(e,[{key:"setFlickeringOptions",value:function(e){this.improveMask.setOptions(e)}},{key:"enablePostProcessing",value:function(){this.postProcessingEnabled=!0}},{key:"disablePostProcessing",value:function(){this.postProcessingEnabled=!1}},{key:"profileWebgl",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new xs(this.context),this.profiler=n,n.start(),e.next=5,hs(t);case 5:return this.profiler=void 0,n.stop(),e.abrupt("return",n.getResolvedQueries());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pipeline){e.next=2;break}throw"missing pipeline";case 2:return(this.previousImageHeight!==t.height||this.previousImageWidth!==t.width)&&this.resizeOutput(t.width,t.height),(this.previousMaskHeight!==n.height||this.previousMaskWidth!==n.width)&&(this.improveMask.resizeOutput(n.width,n.height),this.previousMaskWidth=n.width,this.previousMaskHeight=n.height),o="renderer",null==(r=this.profiler)||r.pushContext(o),this.improveMask.setProfiler(this.profiler),this.pipeline.setProfiler(this.profiler),a=n,this.postProcessingEnabled&&(this.improveMask.setData(t,n),this.improveMask.run(),a=this.improveMask.output),this.pipeline.setData(t,a),e.next=10,this.pipeline.run();case 10:return null==(i=this.profiler)||i.popContext(o),e.abrupt("return",this.canvas);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"resizeOutput",value:function(e,t){var n;this.canvas.width=e,this.canvas.height=t,null==(n=this.pipeline)||n.resizeOutput(e,t),this.previousImageWidth=e,this.previousImageHeight=t}}]),e}(),Is=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n),e=t.call(this),o(_assertThisInitialized3(e),"pipeline"),o(_assertThisInitialized3(e),"backgroundImage"),o(_assertThisInitialized3(e),"backgroundImageResizerCanvas"),o(_assertThisInitialized3(e),"backgroundImageResizerContext"),o(_assertThisInitialized3(e),"backgroundImageResizer"),e.pipeline=new ds(e.context);var r=new OffscreenCanvas(0,0),i=r.getContext("webgl2");if(!i)throw"Fail to retrieve webgl context";return e.backgroundImageResizerCanvas=r,e.backgroundImageResizerContext=i,e.backgroundImageResizer=new ps(e.backgroundImageResizerContext,0,0),e}return _createClass3(n,[{key:"setBackgroundImage",value:function(e){this.backgroundImage=e,this.updateBackgroundImage()}},{key:"updateBackgroundImage",value:function(){var e=this.canvas,t=e.width,n=e.height;this.backgroundImageResizer.resizeOutput(t,n),this.backgroundImageResizer.setData(this.backgroundImage),this.backgroundImageResizer.run(),this.pipeline.inputBackgroundImage=this.backgroundImageResizerCanvas}},{key:"resizeOutput",value:function(e,t){_get3(_getPrototypeOf2(n.prototype),"resizeOutput",this).call(this,e,t),this.backgroundImageResizerCanvas.width=e,this.backgroundImageResizerCanvas.height=t,this.backgroundImageResizer.resizeOutput(e,t),this.updateBackgroundImage()}}]),n}(Ts),Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.apply(this,arguments),o(_assertThisInitialized3(e),"frameReader"),e}return _createClass3(n,[{key:"setBackgroundVideo",value:function(e){this.frameReader=e.getReader(),this.readNextVideoFrame()}},{key:"render",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readNextVideoFrame();case 2:return e.abrupt("return",_get3(_getPrototypeOf2(n.prototype),"render",this).call(this,t,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"readNextVideoFrame",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this.frameReader)?void 0:t.read();case 2:if(null==(n=e.sent)||!n.value){e.next=8;break}return e.next=6,createImageBitmap(n.value);case 6:r=e.sent,this.setBackgroundImage(r),n.value.close();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Is),Os=function(){function e(){_classCallCheck2(this,e)}return _createClass3(e,[{key:"blurBackground",value:function(e){return new yn(e)}},{key:"blurSilhouette",value:function(e){return new bn(e)}},{key:"imageBackground",value:function(){return new wn}},{key:"videoBackground",value:function(){return new Rs}}]),e}(),As=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass3(n,[{key:"getDefines",value:function(){var e;return{RADIUS:null!=(e=this.options.radius)?e:1}}},{key:"getFragmentShader",value:function(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\nuniform sampler2D mask;\n\nvec4 loop();\n\nvoid main() { gl_FragColor = loop(); }\n"+this.createLoopFunction()}},{key:"getVertexShader",value:function(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}},{key:"createLoopFunction",value:function(){var e,t=null!=(e=this.options.radius)?e:1;return"\n\n        vec4 loop() { \n            vec4 result = vec4(0,0,0,0);\n            float factorSum = 0.;\n\n            vec2 normalizedRadius = vec2(-".concat(t,".) / canvas;\n            vec2 normalizedIncrement = vec2(1.) / canvas;\n            vec2 diff = normalizedRadius;\n            float maxLength = length(normalizedRadius);\n\n            for(int y=-").concat(t,"; y<").concat(t+1,"; ++y) {\n                for(int x=-").concat(t,"; x<").concat(t+1,"; ++x) {\n                    float factor = (1.- texture2D(mask, _texture_coord + diff).a) * (maxLength - length(diff)) / maxLength;\n                    result += factor * texture2D(texture, _texture_coord + diff);\n                    factorSum += factor;\n                    diff.x += normalizedIncrement.x;\n                }\n                diff.y += normalizedIncrement.y;\n                diff.x = normalizedRadius.x;\n            }\n            return result / factorSum;\n        }")}}]),n}(ss),Ns=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),i=t.call(this),o(_assertThisInitialized3(i),"inputImage"),o(_assertThisInitialized3(i),"inputMask"),o(_assertThisInitialized3(i),"blur"),i.context=e,i.radius=r;var a={context:e,height:e.canvas.height,width:e.canvas.width};i.blur=new As(_objectSpread(_objectSpread({},a),{},{radius:r},i.getBlurTextureSize(e.canvas.width,e.canvas.height)));var s=new us(_objectSpread(_objectSpread({},a),{},{disableFramebuffer:!0}));return i.addStep({program:i.blur,preventResize:!0,getUniforms:function(){return{texture:as(e,i.inputImage),mask:as(e,i.inputMask)}}}),i.addStep({program:s,getUniforms:function(){return{background:as(e,i.blur.output),foreground:as(e,i.inputImage),threshold:as(e,i.inputMask)}}}),i}return _createClass3(n,[{key:"getBlurTextureSize",value:function(e,t){var n=this.radius>10?8:2;return{width:Math.max(2,e/n),height:Math.max(2,t/n)}}},{key:"setData",value:function(e,t){this.inputImage=e,this.inputMask=t}},{key:"resizeOutput",value:function(e,t){_get3(_getPrototypeOf2(n.prototype),"resizeOutput",this).call(this,e,t);var r=this.getBlurTextureSize(e,t);this.blur.resizeOutput(r.width,r.height)}}]),n}(ls),Ps=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),r=t.call(this),o(_assertThisInitialized3(r),"pipeline"),r.pipeline=new Ns(r.context,e),r.disablePostProcessing(),r}return _createClass3(n)}(Ts),Ls=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),i=t.call(this),o(_assertThisInitialized3(i),"inputImage"),o(_assertThisInitialized3(i),"inputMask"),i.context=e;var a={context:e,height:e.canvas.height,width:e.canvas.width},s=new gs(_objectSpread(_objectSpread({},a),{},{radius:r,type:ms.GAUSSIAN})),u=new us(_objectSpread(_objectSpread({},a),{},{disableFramebuffer:!0}));return i.addStep({program:s,getUniforms:function(){return{texture:as(e,i.inputImage)}}}),i.addStep({program:u,getUniforms:function(){return{background:as(e,i.inputImage),foreground:as(e,s.output),threshold:as(e,i.inputMask)}}}),i}return _createClass3(n,[{key:"setData",value:function(e,t){this.inputImage=e,this.inputMask=t}}]),n}(ls),Ms=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),r=t.call(this),o(_assertThisInitialized3(r),"pipeline"),r.pipeline=new Ls(r.context,e),r.disablePostProcessing(),r}return _createClass3(n)}(Ts),Ds=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.apply(this,arguments),o(_assertThisInitialized3(e),"frameReader"),o(_assertThisInitialized3(e),"preciseMaskEnabled",!0),e}return _createClass3(n,[{key:"inputVideo",set:function(e){this.frameReader=e.getReader(),this.readNextVideoFrame()}},{key:"run",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.frameReader,!e.t0){e.next=5;break}return e.next=4,_get3(_getPrototypeOf2(n.prototype),"run",this).call(this);case 4:this.readNextVideoFrame();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readNextVideoFrame",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this.frameReader)?void 0:t.read();case 2:if(n=e.sent,e.t0=null!=n&&n.value,!e.t0){e.next=9;break}return e.next=7,createImageBitmap(n.value);case 7:this.inputBackgroundImage=e.sent,n.value.close();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ds),js=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.call(this),o(_assertThisInitialized3(e),"pipeline"),e.pipeline=new Ds(e.context),e}return _createClass3(n,[{key:"setBackgroundVideo",value:function(e){this.pipeline.inputVideo=e}}]),n}(Ts),Fs=function(){function e(){_classCallCheck2(this,e)}return _createClass3(e,[{key:"blurBackground",value:function(e){return new Ps(e)}},{key:"blurSilhouette",value:function(e){return new Ms(e)}},{key:"imageBackground",value:function(){return new Is}},{key:"videoBackground",value:function(){return new js}}]),e}(),Vs=function(){function e(t){switch(_classCallCheck2(this,e),o(this,"factory"),t){case ke.CANVAS:this.factory=new Os;break;case ke.WEBGL:this.factory=new Fs;break;default:var n=Me();this.factory=n.supported?new Fs:new Os}}return _createClass3(e,[{key:"blurBackground",value:function(e){return this.getFactory().blurBackground(e)}},{key:"blurSilhouette",value:function(e){return this.getFactory().blurSilhouette(e)}},{key:"imageBackground",value:function(){return this.getFactory().imageBackground()}},{key:"videoBackground",value:function(){return this.getFactory().videoBackground()}},{key:"getFactory",value:function(){if(!this.factory)throw"Factory is not initialized";return this.factory}}]),e}(),Zs=function(){function e(){_classCallCheck2(this,e),o(this,"renderer")}return _createClass3(e,[{key:"setBackgroundOptions",value:function(e){var t,n,r=new Vs(null==(t=e.renderingOptions)?void 0:t.type);switch(e.transformerType){case"BackgroundBlur":this.renderer=r.blurBackground(this.getBlurSize(e.radius));break;case"SilhouetteBlur":this.renderer=r.blurSilhouette(this.getBlurSize(e.radius));break;case"VideoBackground":this.renderer=r.videoBackground();break;case"VirtualBackground":this.renderer=r.imageBackground();break;default:throw"Unknown rendering type [".concat(e.transformerType,"]")}(null==(n=e.renderingOptions)?void 0:n.type)===ke.WEBGL&&(e.renderingOptions.selfieSegmentationType===Ee.PRECISE?this.renderer.enablePostProcessing():e.renderingOptions.selfieSegmentationType===Ee.FAST&&this.renderer.disablePostProcessing())}},{key:"setFlickeringOptions",value:function(e){var t;null==(t=this.renderer)||t.setFlickeringOptions(e)}},{key:"setVideoBGReadable",value:function(e){var t=this.renderer;t.setBackgroundVideo&&t.setBackgroundVideo(e)}},{key:"setVirtualBGImage",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.renderer).setBackgroundImage&&n.setBackgroundImage(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"process",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.renderer){e.next=2;break}return e.abrupt("return",this.renderer.render(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"resizeForeground",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBlurSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be.Low;switch(e){case be.Low:return 5;case be.High:return 12}return e}},{key:"profile",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!=(r=null==(n=this.renderer)?void 0:n.profileWebgl(t))?r:[]);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Gs=function(){function e(){_classCallCheck2(this,e),o(this,"selfieSegmentation",new Oe),o(this,"backgroundFilter"),o(this,"reporter",new mn),o(this,"backgroundOptions")}return _createClass3(e,[{key:"init",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selfieSegmentation.init(n.wasmAssetUriPath,n.tfliteAssetUriPath);case 2:this.backgroundFilter=new Zs,this.report({variation:"Create"});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"transform",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!=(r=t.timestamp)?r:0,e.next=3,createImageBitmap(t);case 3:return s=e.sent,e.next=6,this.selfieSegmentation.process(s);case 6:if(u=e.sent,e.t0=u,!e.t0){e.next=12;break}return e.next=11,null==(i=this.backgroundFilter)?void 0:i.process(s,u);case 11:o=e.sent;case 12:o?(t.close(),n.enqueue(new VideoFrame(o,{timestamp:a,alpha:"discard"}))):n.enqueue(t);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setBackgroundOptions",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backgroundOptions=t,e.next=3,null==(n=this.backgroundFilter)?void 0:n.setBackgroundOptions(t);case 3:this.report({variation:"Update"});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setVideoBGReadable",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.backgroundFilter)?void 0:n.setVideoBGReadable(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setVirtualBGImage",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.backgroundFilter)?void 0:n.setVirtualBGImage(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setFlickeringOptions",value:function(e){var t;null==(t=this.backgroundFilter)||t.setFlickeringOptions(e),this.report({variation:"Update"})}},{key:"profile",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!=(r=null==(n=this.backgroundFilter)?void 0:n.profile(t))?r:[]);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransformerType",value:function(){var e,t;return null!=(t=null==(e=this.backgroundOptions)?void 0:e.transformerType)?t:"Undefined"}},{key:"report",value:function(e){var t;this.reporter.send(_objectSpread({version:"5.0.1",action:"MlTransformers",transformerType:null==(t=this.backgroundOptions)?void 0:t.transformerType,config:JSON.stringify(this.backgroundOptions)},e))}}]),e}(),Ws=function(){function t(){_classCallCheck2(this,t),o(this,"backgroundTransformer",new Gs),o(this,"mediaProcessor",new me),o(this,"rate",30),o(this,"resolveOnMediaProcessor"),o(this,"eventsQueue",[])}return _createClass3(t,[{key:"init",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundTransformer.init(t,n);case 2:return e.next=4,this.mediaProcessor.setTransformers([this.backgroundTransformer]);case 4:this.mediaProcessor.setTrackExpectedRate(this.rate),this.mediaProcessor.onAny((function(e,t){r.resolveOnMediaProcessor?(r.resolveOnMediaProcessor({name:e,data:t}),r.resolveOnMediaProcessor=void 0):r.eventsQueue.push({name:e,data:t})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onMediaProcessorEvent",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new e((function(e){n.eventsQueue.length>0?e(n.eventsQueue.shift()):n.resolveOnMediaProcessor=e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"setTrackExpectedRate",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.rate=t,this.mediaProcessor.setTrackExpectedRate(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transform",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mediaProcessor.transform(t,n);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setBackgroundOptions",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.backgroundTransformer)?void 0:n.setBackgroundOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setVideoBGReadable",value:function(e){this.backgroundTransformer.setVideoBGReadable(e)}},{key:"setVirtualBGImage",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backgroundTransformer.setVirtualBGImage(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"terminate",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaProcessor.destroy();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setFlickeringOptions",value:function(e){this.backgroundTransformer.setFlickeringOptions(e)}},{key:"setVonageMetadata",value:function(e){!function(e){ae(e)}(e)}},{key:"profile",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.backgroundTransformer.profile(t);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.stringify.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(),Us=Ws;!function(e,t){t.workerId=e,yt()&&(At[t.workerId]=t)}("ProcessorWorker",Ws);var Xs="dmFyIF9sPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgYmw9KEosUSxIKT0+USBpbiBKP19sKEosUSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6SH0pOkpbUV09SDt2YXIgbD0oSixRLEgpPT4oYmwoSix0eXBlb2YgUSE9InN5bWJvbCI/USsiIjpRLEgpLEgpOyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBKKHIsdCl7Z2xvYmFsVGhpcy52b25hZ2V8fChnbG9iYWxUaGlzLnZvbmFnZT17fSksZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcnx8KGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI9e30pO2xldCBlPWdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI7cmV0dXJuIGVbcl18fChlW3JdPXQpLGVbcl19Y29uc3QgUT1KKCJnbG9iYWxzIix7fSk7dmFyIEg9KHI9PihyLklOSVQ9IklOSVQiLHIuRk9SV0FSRD0iRk9SV0FSRCIsci5URVJNSU5BVEU9IlRFUk1JTkFURSIsci5HTE9CQUxTX1NZTkM9IkdMT0JBTFNfU1lOQyIscikpKEh8fHt9KTtmdW5jdGlvbiBUbyhyKXtyZXR1cm5bSW1hZ2VCaXRtYXAsUmVhZGFibGVTdHJlYW0sV3JpdGFibGVTdHJlYW1dLnNvbWUodD0+ciBpbnN0YW5jZW9mIHQpfWZ1bmN0aW9uIEhlKHIsdCl7Y29uc3R7aWQ6ZSx0eXBlOm59PXIsbz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3Bvc3RNZXNzYWdlKHtpZDplLHR5cGU6bixyZXN1bHQ6dH0sby5maWx0ZXIoaT0+VG8oaSkpKX1KKCJ3b3JrZXJpemVkIix7fSk7ZnVuY3Rpb24gRHIoKXtyZXR1cm4gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlPCJ1IiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWZ1bmN0aW9uIGplKHIsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSl0LnNwbGljZSgwLHQubGVuZ3RoKTtlbHNlIGlmKHR5cGVvZiB0PT0ib2JqZWN0Iilmb3IoY29uc3QgZSBpbiB0KWRlbGV0ZSB0W2VdO2Zvcihjb25zdCBlIGluIHIpQXJyYXkuaXNBcnJheShyW2VdKT8odFtlXT1bXSxqZShyW2VdLHRbZV0pKTp0eXBlb2YgcltlXT09Im9iamVjdCI/KHRbZV09e30samUocltlXSx0W2VdKSk6dFtlXT1yW2VdfWFzeW5jIGZ1bmN0aW9uIEFvKHIsdCl7Y29uc3R7ZnVuY3Rpb25OYW1lOmUsYXJnczpufT1yO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIWUpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCF0Lmluc3RhbmNlW2VdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHtlfV0gaW4gY2xhc3MgJHt0Lmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7SGUocixhd2FpdCB0Lmluc3RhbmNlW2VdKC4uLm4hPW51bGw/bjpbXSkpfWNvbnN0IENyPUooInJlZ2lzdGVyZWRXb3JrZXJzIix7fSk7ZnVuY3Rpb24gd28ocix0KXt0LndvcmtlcklkPXIsRHIoKSYmKENyW3Qud29ya2VySWRdPXQpfWZ1bmN0aW9uIElvKHIsdCl7aWYoIXIuYXJncyl0aHJvdyJNaXNzaW5nIGNsYXNzTmFtZSB3aGlsZSBpbml0aWFsaXppbmcgd29ya2VyIjtjb25zdFtlLG5dPXIuYXJncyxvPUNyW2VdO2lmKG8pdC5pbnN0YW5jZT1uZXcgbyhyLmFyZ3Muc2xpY2UoMSkpO2Vsc2UgdGhyb3dgdW5rbm93biB3b3JrZXIgY2xhc3MgJHtlfWA7amUobixRKSxIZShyLHR5cGVvZiB0Lmluc3RhbmNlIT09dm9pZCAwKX1hc3luYyBmdW5jdGlvbiBTbyhyLHQpe2NvbnN0e2FyZ3M6ZX09cjtpZighdC5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2xldCBuO3QuaW5zdGFuY2UudGVybWluYXRlJiYobj1hd2FpdCB0Lmluc3RhbmNlLnRlcm1pbmF0ZSguLi5lIT1udWxsP2U6W10pKSxIZShyLG4pfWZ1bmN0aW9uIFJvKHIpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBnbG9iYWxzIHdoaWxlIHN5bmNpbmciO2plKHIuYXJnc1swXSxRKSxIZShyLHt9KX1mdW5jdGlvbiBGbygpe2NvbnN0IHI9e307b25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdCBlPXQuZGF0YTtzd2l0Y2goZS50eXBlKXtjYXNlIEguSU5JVDpJbyhlLHIpO2JyZWFrO2Nhc2UgSC5GT1JXQVJEOkFvKGUscik7YnJlYWs7Y2FzZSBILlRFUk1JTkFURTpTbyhlLHIpO2JyZWFrO2Nhc2UgSC5HTE9CQUxTX1NZTkM6Um8oZSk7YnJlYWt9fX1EcigpJiZGbygpO3ZhciBQbz1PYmplY3QuZGVmaW5lUHJvcGVydHksa289KHIsdCxlKT0+dCBpbiByP1BvKHIsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnJbdF09ZSxBPShyLHQsZSk9PihrbyhyLHR5cGVvZiB0IT0ic3ltYm9sIj90KyIiOnQsZSksZSk7Y2xhc3MgWnt9QShaLCJ1cGRhdGVzIix7dHJhbnNmb3JtZXJfbmV3OiJOZXcgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX251bGw6Ik51bGwgdHJhbnNmb3JtZXIifSksQShaLCJlcnJvcnMiLHt0cmFuc2Zvcm1lcl9ub25lOiJObyB0cmFuc2Zvcm1lcnMgcHJvdmlkZWQiLHRyYW5zZm9ybWVyX3N0YXJ0OiJDYW5ub3Qgc3RhcnQgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX3RyYW5zZm9ybToiQ2Fubm90IHRyYW5zZm9ybSBmcmFtZSIsdHJhbnNmb3JtZXJfZmx1c2g6IkNhbm5vdCBmbHVzaCB0cmFuc2Zvcm1lciIscmVhZGFibGVfbnVsbDoiUmVhZGFibGUgaXMgbnVsbCIsd3JpdGFibGVfbnVsbDoiV3JpdGFibGUgaXMgbnVsbCJ9KTtjb25zdCBlZT1uZXcgV2Vha01hcCxZZT1uZXcgV2Vha01hcCxQZT1uZXcgV2Vha01hcCxrdD1TeW1ib2woImFueVByb2R1Y2VyIiksQnI9UHJvbWlzZS5yZXNvbHZlKCksWGU9U3ltYm9sKCJsaXN0ZW5lckFkZGVkIiksUWU9U3ltYm9sKCJsaXN0ZW5lclJlbW92ZWQiKTtsZXQgRHQ9ITE7ZnVuY3Rpb24gRWUocil7aWYodHlwZW9mIHIhPSJzdHJpbmciJiZ0eXBlb2YgciE9InN5bWJvbCIpdGhyb3cgbmV3IFR5cGVFcnJvcigiZXZlbnROYW1lIG11c3QgYmUgYSBzdHJpbmcgb3IgYSBzeW1ib2wiKX1mdW5jdGlvbiBLZShyKXtpZih0eXBlb2YgciE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBUZShyLHQpe2NvbnN0IGU9WWUuZ2V0KHIpO3JldHVybiBlLmhhcyh0KXx8ZS5zZXQodCxuZXcgU2V0KSxlLmdldCh0KX1mdW5jdGlvbiBrZShyLHQpe2NvbnN0IGU9dHlwZW9mIHQ9PSJzdHJpbmcifHx0eXBlb2YgdD09InN5bWJvbCI/dDprdCxuPVBlLmdldChyKTtyZXR1cm4gbi5oYXMoZSl8fG4uc2V0KGUsbmV3IFNldCksbi5nZXQoZSl9ZnVuY3Rpb24gRG8ocix0LGUpe2NvbnN0IG49UGUuZ2V0KHIpO2lmKG4uaGFzKHQpKWZvcihjb25zdCBvIG9mIG4uZ2V0KHQpKW8uZW5xdWV1ZShlKTtpZihuLmhhcyhrdCkpe2NvbnN0IG89UHJvbWlzZS5hbGwoW3QsZV0pO2Zvcihjb25zdCBpIG9mIG4uZ2V0KGt0KSlpLmVucXVldWUobyl9fWZ1bmN0aW9uIE5yKHIsdCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2xldCBlPSExLG49KCk9Pnt9LG89W107Y29uc3QgaT17ZW5xdWV1ZShzKXtvLnB1c2gocyksbigpfSxmaW5pc2goKXtlPSEwLG4oKX19O2Zvcihjb25zdCBzIG9mIHQpa2UocixzKS5hZGQoaSk7cmV0dXJue2FzeW5jIG5leHQoKXtyZXR1cm4gbz9vLmxlbmd0aD09PTA/ZT8obz12b2lkIDAsdGhpcy5uZXh0KCkpOihhd2FpdCBuZXcgUHJvbWlzZShzPT57bj1zfSksdGhpcy5uZXh0KCkpOntkb25lOiExLHZhbHVlOmF3YWl0IG8uc2hpZnQoKX06e2RvbmU6ITB9fSxhc3luYyByZXR1cm4ocyl7bz12b2lkIDA7Zm9yKGNvbnN0IGEgb2YgdClrZShyLGEpLmRlbGV0ZShpKTtyZXR1cm4gbigpLGFyZ3VtZW50cy5sZW5ndGg+MD97ZG9uZTohMCx2YWx1ZTphd2FpdCBzfTp7ZG9uZTohMH19LFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKXtyZXR1cm4gdGhpc319fWZ1bmN0aW9uIE9yKHIpe2lmKHI9PT12b2lkIDApcmV0dXJuIE1yO2lmKCFBcnJheS5pc0FycmF5KHIpKXRocm93IG5ldyBUeXBlRXJyb3IoImBtZXRob2ROYW1lc2AgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIik7Zm9yKGNvbnN0IHQgb2YgcilpZighTXIuaW5jbHVkZXModCkpdGhyb3cgdHlwZW9mIHQhPSJzdHJpbmciP25ldyBUeXBlRXJyb3IoImBtZXRob2ROYW1lc2AgZWxlbWVudCBtdXN0IGJlIGEgc3RyaW5nIik6bmV3IEVycm9yKGAke3R9IGlzIG5vdCBFbWl0dGVyeSBtZXRob2RgKTtyZXR1cm4gcn1jb25zdCBDdD1yPT5yPT09WGV8fHI9PT1RZTtjbGFzcyBsZXtzdGF0aWMgbWl4aW4odCxlKXtyZXR1cm4gZT1PcihlKSxuPT57aWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBmdW5jdGlvbiIpO2Zvcihjb25zdCBzIG9mIGUpaWYobi5wcm90b3R5cGVbc10hPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke3N9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO2Z1bmN0aW9uIG8oKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMSx2YWx1ZTpuZXcgbGV9KSx0aGlzW3RdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiExLGdldDpvfSk7Y29uc3QgaT1zPT5mdW5jdGlvbiguLi5hKXtyZXR1cm4gdGhpc1t0XVtzXSguLi5hKX07Zm9yKGNvbnN0IHMgb2YgZSlPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUscyx7ZW51bWVyYWJsZTohMSx2YWx1ZTppKHMpfSk7cmV0dXJuIG59fXN0YXRpYyBnZXQgaXNEZWJ1Z0VuYWJsZWQoKXtpZih0eXBlb2YgcHJvY2VzcyE9Im9iamVjdCIpcmV0dXJuIER0O2NvbnN0e2Vudjp0fT1wcm9jZXNzfHx7ZW52Ont9fTtyZXR1cm4gdC5ERUJVRz09PSJlbWl0dGVyeSJ8fHQuREVCVUc9PT0iKiJ8fER0fXN0YXRpYyBzZXQgaXNEZWJ1Z0VuYWJsZWQodCl7RHQ9dH1jb25zdHJ1Y3Rvcih0PXt9KXtlZS5zZXQodGhpcyxuZXcgU2V0KSxZZS5zZXQodGhpcyxuZXcgTWFwKSxQZS5zZXQodGhpcyxuZXcgTWFwKSx0aGlzLmRlYnVnPXQuZGVidWd8fHt9LHRoaXMuZGVidWcuZW5hYmxlZD09PXZvaWQgMCYmKHRoaXMuZGVidWcuZW5hYmxlZD0hMSksdGhpcy5kZWJ1Zy5sb2dnZXJ8fCh0aGlzLmRlYnVnLmxvZ2dlcj0oZSxuLG8saSk9Pnt0cnl7aT1KU09OLnN0cmluZ2lmeShpKX1jYXRjaHtpPWBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleXMgZmFpbGVkIHRvIHN0cmluZ2lmeTogJHtPYmplY3Qua2V5cyhpKS5qb2luKCIsIil9YH10eXBlb2Ygbz09InN5bWJvbCImJihvPW8udG9TdHJpbmcoKSk7Y29uc3Qgcz1uZXcgRGF0ZSxhPWAke3MuZ2V0SG91cnMoKX06JHtzLmdldE1pbnV0ZXMoKX06JHtzLmdldFNlY29uZHMoKX0uJHtzLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske2F9XVtlbWl0dGVyeToke2V9XVske259XSBFdmVudCBOYW1lOiAke299CglkYXRhOiAke2l9YCl9KX1sb2dJZkRlYnVnRW5hYmxlZCh0LGUsbil7KGxlLmlzRGVidWdFbmFibGVkfHx0aGlzLmRlYnVnLmVuYWJsZWQpJiZ0aGlzLmRlYnVnLmxvZ2dlcih0LHRoaXMuZGVidWcubmFtZSxlLG4pfW9uKHQsZSl7S2UoZSksdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2Zvcihjb25zdCBuIG9mIHQpRWUobiksVGUodGhpcyxuKS5hZGQoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixuLHZvaWQgMCksQ3Qobil8fHRoaXMuZW1pdChYZSx7ZXZlbnROYW1lOm4sbGlzdGVuZXI6ZX0pO3JldHVybiB0aGlzLm9mZi5iaW5kKHRoaXMsdCxlKX1vZmYodCxlKXtLZShlKSx0PUFycmF5LmlzQXJyYXkodCk/dDpbdF07Zm9yKGNvbnN0IG4gb2YgdClFZShuKSxUZSh0aGlzLG4pLmRlbGV0ZShlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIsbix2b2lkIDApLEN0KG4pfHx0aGlzLmVtaXQoUWUse2V2ZW50TmFtZTpuLGxpc3RlbmVyOmV9KX1vbmNlKHQpe3JldHVybiBuZXcgUHJvbWlzZShlPT57Y29uc3Qgbj10aGlzLm9uKHQsbz0+e24oKSxlKG8pfSl9KX1ldmVudHModCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2Zvcihjb25zdCBlIG9mIHQpRWUoZSk7cmV0dXJuIE5yKHRoaXMsdCl9YXN5bmMgZW1pdCh0LGUpe0VlKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXQiLHQsZSksRG8odGhpcyx0LGUpO2NvbnN0IG49VGUodGhpcyx0KSxvPWVlLmdldCh0aGlzKSxpPVsuLi5uXSxzPUN0KHQpP1tdOlsuLi5vXTthd2FpdCBCcixhd2FpdCBQcm9taXNlLmFsbChbLi4uaS5tYXAoYXN5bmMgYT0+e2lmKG4uaGFzKGEpKXJldHVybiBhKGUpfSksLi4ucy5tYXAoYXN5bmMgYT0+e2lmKG8uaGFzKGEpKXJldHVybiBhKHQsZSl9KV0pfWFzeW5jIGVtaXRTZXJpYWwodCxlKXtFZSh0KSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0U2VyaWFsIix0LGUpO2NvbnN0IG49VGUodGhpcyx0KSxvPWVlLmdldCh0aGlzKSxpPVsuLi5uXSxzPVsuLi5vXTthd2FpdCBCcjtmb3IoY29uc3QgYSBvZiBpKW4uaGFzKGEpJiZhd2FpdCBhKGUpO2Zvcihjb25zdCBhIG9mIHMpby5oYXMoYSkmJmF3YWl0IGEodCxlKX1vbkFueSh0KXtyZXR1cm4gS2UodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSxlZS5nZXQodGhpcykuYWRkKHQpLHRoaXMuZW1pdChYZSx7bGlzdGVuZXI6dH0pLHRoaXMub2ZmQW55LmJpbmQodGhpcyx0KX1hbnlFdmVudCgpe3JldHVybiBOcih0aGlzKX1vZmZBbnkodCl7S2UodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHRoaXMuZW1pdChRZSx7bGlzdGVuZXI6dH0pLGVlLmdldCh0aGlzKS5kZWxldGUodCl9Y2xlYXJMaXN0ZW5lcnModCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO2Zvcihjb25zdCBlIG9mIHQpaWYodGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiY2xlYXIiLGUsdm9pZCAwKSx0eXBlb2YgZT09InN0cmluZyJ8fHR5cGVvZiBlPT0ic3ltYm9sIil7VGUodGhpcyxlKS5jbGVhcigpO2NvbnN0IG49a2UodGhpcyxlKTtmb3IoY29uc3QgbyBvZiBuKW8uZmluaXNoKCk7bi5jbGVhcigpfWVsc2V7ZWUuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0IG4gb2YgWWUuZ2V0KHRoaXMpLnZhbHVlcygpKW4uY2xlYXIoKTtmb3IoY29uc3QgbiBvZiBQZS5nZXQodGhpcykudmFsdWVzKCkpe2Zvcihjb25zdCBvIG9mIG4pby5maW5pc2goKTtuLmNsZWFyKCl9fX1saXN0ZW5lckNvdW50KHQpe3Q9QXJyYXkuaXNBcnJheSh0KT90Olt0XTtsZXQgZT0wO2Zvcihjb25zdCBuIG9mIHQpe2lmKHR5cGVvZiBuPT0ic3RyaW5nIil7ZSs9ZWUuZ2V0KHRoaXMpLnNpemUrVGUodGhpcyxuKS5zaXplK2tlKHRoaXMsbikuc2l6ZStrZSh0aGlzKS5zaXplO2NvbnRpbnVlfXR5cGVvZiBuPCJ1IiYmRWUobiksZSs9ZWUuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IG8gb2YgWWUuZ2V0KHRoaXMpLnZhbHVlcygpKWUrPW8uc2l6ZTtmb3IoY29uc3QgbyBvZiBQZS5nZXQodGhpcykudmFsdWVzKCkpZSs9by5zaXplfXJldHVybiBlfWJpbmRNZXRob2RzKHQsZSl7aWYodHlwZW9mIHQhPSJvYmplY3QifHx0PT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJgdGFyZ2V0YCBtdXN0IGJlIGFuIG9iamVjdCIpO2U9T3IoZSk7Zm9yKGNvbnN0IG4gb2YgZSl7aWYodFtuXSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSBcYCR7bn1cYCBhbHJlYWR5IGV4aXN0cyBvbiBcYHRhcmdldFxgYCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMSx2YWx1ZTp0aGlzW25dLmJpbmQodGhpcyl9KX19fWNvbnN0IE1yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGxlLnByb3RvdHlwZSkuZmlsdGVyKHI9PnIhPT0iY29uc3RydWN0b3IiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobGUsImxpc3RlbmVyQWRkZWQiLHt2YWx1ZTpYZSx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsZSwibGlzdGVuZXJSZW1vdmVkIix7dmFsdWU6UWUsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KTt2YXIgQnQ9bGU7ZnVuY3Rpb24gQ28ocil7cmV0dXJuIHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwmJiJtZXNzYWdlImluIHImJnR5cGVvZiByLm1lc3NhZ2U9PSJzdHJpbmcifWZ1bmN0aW9uIEJvKHIpe2lmKENvKHIpKXJldHVybiByO3RyeXtyZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHIpKX1jYXRjaHtyZXR1cm4gbmV3IEVycm9yKFN0cmluZyhyKSl9fWZ1bmN0aW9uIE50KHIpe3JldHVybiBCbyhyKS5tZXNzYWdlfXZhciBObz1PYmplY3QuZGVmaW5lUHJvcGVydHksT289KHIsdCxlKT0+dCBpbiByP05vKHIsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnJbdF09ZSxNbz0ocix0LGUpPT4oT28ocix0eXBlb2YgdCE9InN5bWJvbCI/dCsiIjp0LGUpLGUpO2NvbnN0IFVvPSJobGcudG9rYm94LmNvbS9wcm9kL2xvZ2dpbmcvdmNwX3dlYnJ0YyIsTG89Imh0dHBzOi8vIix6bz0xZTQ7bGV0IHFlO2NvbnN0ICRvPW5ldyBVaW50OEFycmF5KDE2KTtmdW5jdGlvbiBHbygpe2lmKCFxZSYmKHFlPXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSwhcWUpKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gcWUoJG8pfWNvbnN0IEM9W107Zm9yKGxldCByPTA7cjwyNTY7KytyKUMucHVzaCgocisyNTYpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7ZnVuY3Rpb24gV28ocix0PTApe3JldHVybihDW3JbdCswXV0rQ1tyW3QrMV1dK0Nbclt0KzJdXStDW3JbdCszXV0rIi0iK0Nbclt0KzRdXStDW3JbdCs1XV0rIi0iK0Nbclt0KzZdXStDW3JbdCs3XV0rIi0iK0Nbclt0KzhdXStDW3JbdCs5XV0rIi0iK0Nbclt0KzEwXV0rQ1tyW3QrMTFdXStDW3JbdCsxMl1dK0Nbclt0KzEzXV0rQ1tyW3QrMTRdXStDW3JbdCsxNV1dKS50b0xvd2VyQ2FzZSgpfWNvbnN0IFZvPXR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8ucmFuZG9tVVVJRCYmY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pLFVyPXtyYW5kb21VVUlEOlZvfTtmdW5jdGlvbiBIbyhyLHQsZSl7aWYoVXIucmFuZG9tVVVJRCYmIXQmJiFyKXJldHVybiBVci5yYW5kb21VVUlEKCk7cj1yfHx7fTtjb25zdCBuPXIucmFuZG9tfHwoci5ybmd8fEdvKSgpO2lmKG5bNl09bls2XSYxNXw2NCxuWzhdPW5bOF0mNjN8MTI4LHQpe2U9ZXx8MDtmb3IobGV0IG89MDtvPDE2Oysrbyl0W2Urb109bltvXTtyZXR1cm4gdH1yZXR1cm4gV28obil9ZnVuY3Rpb24gT3Qocix0KXtnbG9iYWxUaGlzLnZvbmFnZXx8KGdsb2JhbFRoaXMudm9uYWdlPXt9KSxnbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyfHwoZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcj17fSk7bGV0IGU9Z2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcjtyZXR1cm4gZVtyXXx8KGVbcl09dCksZVtyXX1jb25zdCB0ZT1PdCgiZ2xvYmFscyIse30pO3ZhciBkZT0ocj0+KHIuSU5JVD0iSU5JVCIsci5GT1JXQVJEPSJGT1JXQVJEIixyLlRFUk1JTkFURT0iVEVSTUlOQVRFIixyLkdMT0JBTFNfU1lOQz0iR0xPQkFMU19TWU5DIixyKSkoZGV8fHt9KTtmdW5jdGlvbiBMcihyKXtyZXR1cm5bSW1hZ2VCaXRtYXAsUmVhZGFibGVTdHJlYW0sV3JpdGFibGVTdHJlYW1dLnNvbWUodD0+ciBpbnN0YW5jZW9mIHQpfWxldCBqbz0wO2Z1bmN0aW9uIFlvKHIsdCxlLG4sbyl7Y29uc3QgaT1qbysrO3JldHVybiByLnBvc3RNZXNzYWdlKHtpZDppLHR5cGU6dCxmdW5jdGlvbk5hbWU6ZSxhcmdzOm59LG4uZmlsdGVyKHM9PkxyKHMpKSksbmV3IFByb21pc2Uocz0+e289PW51bGx8fG8uc2V0KGkscyl9KX1mdW5jdGlvbiBEZShyLHQpe2NvbnN0e2lkOmUsdHlwZTpufT1yLG89QXJyYXkuaXNBcnJheSh0KT90Olt0XTtwb3N0TWVzc2FnZSh7aWQ6ZSx0eXBlOm4scmVzdWx0OnR9LG8uZmlsdGVyKGk9PkxyKGkpKSl9Y29uc3QgenI9T3QoIndvcmtlcml6ZWQiLHt9KTtmdW5jdGlvbiAkcigpe3JldHVybiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGU8InUiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9YXN5bmMgZnVuY3Rpb24gWG8oKXtpZigkcigpKURlKHt0eXBlOmRlLkdMT0JBTFNfU1lOQ30sdGUpO2Vsc2V7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBpbiB6cil7Y29uc3R7d29ya2VyOmUscmVzb2x2ZXJzOm59PXpyW3RdLndvcmtlckNvbnRleHQ7ZSYmci5wdXNoKFlvKGUsZGUuR0xPQkFMU19TWU5DLCIiLFt0ZV0sbikpfWF3YWl0IFByb21pc2UuYWxsKHIpfX1mdW5jdGlvbiBKZShyLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpdC5zcGxpY2UoMCx0Lmxlbmd0aCk7ZWxzZSBpZih0eXBlb2YgdD09Im9iamVjdCIpZm9yKGNvbnN0IGUgaW4gdClkZWxldGUgdFtlXTtmb3IoY29uc3QgZSBpbiByKUFycmF5LmlzQXJyYXkocltlXSk/KHRbZV09W10sSmUocltlXSx0W2VdKSk6dHlwZW9mIHJbZV09PSJvYmplY3QiPyh0W2VdPXt9LEplKHJbZV0sdFtlXSkpOnRbZV09cltlXX1hc3luYyBmdW5jdGlvbiBRbyhyLHQpe2NvbnN0e2Z1bmN0aW9uTmFtZTplLGFyZ3M6bn09cjtpZighdC5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2lmKCFlKXRocm93Im1pc3NpbmcgZnVuY3Rpb24gbmFtZSB0byBjYWxsIjtpZighdC5pbnN0YW5jZVtlXSl0aHJvd2B1bmRlZmluZWQgZnVuY3Rpb24gWyR7ZX1dIGluIGNsYXNzICR7dC5pbnN0YW5jZS5jb25zdHJ1Y3Rvci53b3JrZXJJZH1gO0RlKHIsYXdhaXQgdC5pbnN0YW5jZVtlXSguLi5uIT1udWxsP246W10pKX1jb25zdCBLbz1PdCgicmVnaXN0ZXJlZFdvcmtlcnMiLHt9KTtmdW5jdGlvbiBxbyhyLHQpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBjbGFzc05hbWUgd2hpbGUgaW5pdGlhbGl6aW5nIHdvcmtlciI7Y29uc3RbZSxuXT1yLmFyZ3Msbz1Lb1tlXTtpZihvKXQuaW5zdGFuY2U9bmV3IG8oci5hcmdzLnNsaWNlKDEpKTtlbHNlIHRocm93YHVua25vd24gd29ya2VyIGNsYXNzICR7ZX1gO0plKG4sdGUpLERlKHIsdHlwZW9mIHQuaW5zdGFuY2UhPT12b2lkIDApfWFzeW5jIGZ1bmN0aW9uIEpvKHIsdCl7Y29uc3R7YXJnczplfT1yO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7bGV0IG47dC5pbnN0YW5jZS50ZXJtaW5hdGUmJihuPWF3YWl0IHQuaW5zdGFuY2UudGVybWluYXRlKC4uLmUhPW51bGw/ZTpbXSkpLERlKHIsbil9ZnVuY3Rpb24gWm8ocil7aWYoIXIuYXJncyl0aHJvdyJNaXNzaW5nIGdsb2JhbHMgd2hpbGUgc3luY2luZyI7SmUoci5hcmdzWzBdLHRlKSxEZShyLHt9KX1mdW5jdGlvbiBlaSgpe2NvbnN0IHI9e307b25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdCBlPXQuZGF0YTtzd2l0Y2goZS50eXBlKXtjYXNlIGRlLklOSVQ6cW8oZSxyKTticmVhaztjYXNlIGRlLkZPUldBUkQ6UW8oZSxyKTticmVhaztjYXNlIGRlLlRFUk1JTkFURTpKbyhlLHIpO2JyZWFrO2Nhc2UgZGUuR0xPQkFMU19TWU5DOlpvKGUpO2JyZWFrfX19JHIoKSYmZWkoKTtmdW5jdGlvbiB0aShyLHQpe3JldHVybiB0ZVtyXXx8KHRlW3JdPXQpLFsoKT0+dGVbcl0sYXN5bmMgZT0+e3RlW3JdPWUsYXdhaXQgWG8oKX1dfWZ1bmN0aW9uIHJpKHIsdCl7cmV0dXJuIHRpKHIsdCl9Y29uc3Rbbmksb2ldPXJpKCJtZXRhZGF0YSIpO2Z1bmN0aW9uIGlpKHIpe29pKHIpfWZ1bmN0aW9uIE10KCl7cmV0dXJuIG5pKCl9Y2xhc3MgVXR7Y29uc3RydWN0b3IodCl7TW8odGhpcywidXVpZCIsSG8oKSksdGhpcy5jb25maWc9dH1hc3luYyBzZW5kKHQpe3ZhciBlLG4sbztjb25zdHthcHBJZDppLHNvdXJjZVR5cGU6c309KGU9TXQoKSkhPW51bGw/ZTp7fTtpZighaXx8IXMpcmV0dXJuIm1ldGFkYXRhIG1pc3NpbmciO2NvbnN0IGE9bmV3IEFib3J0Q29udHJvbGxlcix1PXNldFRpbWVvdXQoKCk9PmEuYWJvcnQoKSx6byk7cmV0dXJuIGF3YWl0KChvPShuPXRoaXMuY29uZmlnKT09bnVsbD92b2lkIDA6bi5mZXRjaCkhPW51bGw/bzpmZXRjaCkodGhpcy5nZXRVcmwoKSx7bWV0aG9kOiJQT1NUIixoZWFkZXJzOnRoaXMuZ2V0SGVhZGVycygpLGJvZHk6SlNPTi5zdHJpbmdpZnkodGhpcy5idWlsZFJlcG9ydCh0KSksc2lnbmFsOmEuc2lnbmFsfSksY2xlYXJUaW1lb3V0KHUpLCJzdWNjZXNzIn1nZXRVcmwoKXt2YXIgdDtsZXQgZT0odD1NdCgpLnByb3h5VXJsKSE9bnVsbD90OkxvO3JldHVybiBlKz0oZS5hdCgtMSk9PT0iLyI/IiI6Ii8iKStVbyxlfWdldEhlYWRlcnMoKXtyZXR1cm57IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifX1idWlsZFJlcG9ydCh0KXtjb25zdCBlPU10KCk7cmV0dXJue2d1aWQ6dGhpcy51dWlkLC4uLnQsYXBwbGljYXRpb25JZDplLmFwcElkLHRpbWVzdGFtcDpEYXRlLm5vdygpLHByb3h5VXJsOmUucHJveHlVcmwsc291cmNlOmUuc291cmNlVHlwZX19fWNvbnN0IFplPSIyLjAuMyI7Y2xhc3Mgc2l7Y29uc3RydWN0b3IodCl7QSh0aGlzLCJmcmFtZVRyYW5zZm9ybWVkQ291bnQiLDApLEEodGhpcywiZnJhbWVGcm9tU291cmNlQ291bnQiLDApLEEodGhpcywic3RhcnRBdCIsMCksQSh0aGlzLCJyZXBvcnRlciIpLHRoaXMuY29uZmlnPXQsdGhpcy5yZXBvcnRlcj1uZXcgVXQodCl9YXN5bmMgb25GcmFtZUZyb21Tb3VyY2UoKXt0aGlzLmZyYW1lRnJvbVNvdXJjZUNvdW50Kyt9Z2V0IGZwcygpe2NvbnN0e3N0YXJ0QXQ6dCxmcmFtZUZyb21Tb3VyY2VDb3VudDplfT10aGlzLG49KERhdGUubm93KCktdCkvMWUzO3JldHVybiBlL259YXN5bmMgb25GcmFtZVRyYW5zZm9ybWVkKHQ9e30sZT0hMSl7dGhpcy5zdGFydEF0PT09MCYmKHRoaXMuc3RhcnRBdD1EYXRlLm5vdygpKSx0aGlzLmZyYW1lVHJhbnNmb3JtZWRDb3VudCsrO2NvbnN0e3N0YXJ0QXQ6bixmcmFtZVRyYW5zZm9ybWVkQ291bnQ6byxmcmFtZUZyb21Tb3VyY2VDb3VudDppfT10aGlzLHM9RGF0ZS5ub3coKSxhPShzLW4pLzFlMyx1PW8vYSxmPWkvYTtyZXR1cm4gZXx8dGhpcy5mcmFtZVRyYW5zZm9ybWVkQ291bnQ+PXRoaXMuY29uZmlnLmxvZ2dpbmdJbnRlcnZhbEZyYW1lQ291bnQ/KHRoaXMuZnJhbWVGcm9tU291cmNlQ291bnQ9MCx0aGlzLmZyYW1lVHJhbnNmb3JtZWRDb3VudD0wLHRoaXMuc3RhcnRBdD1zLHRoaXMucmVwb3J0ZXIuY29uZmlnPXRoaXMuY29uZmlnLHRoaXMucmVwb3J0ZXIuc2VuZCh7Li4udGhpcy5jb25maWcucmVwb3J0LHZhcmlhdGlvbjoiUW9TIixmcHM6Zix0cmFuc2Zvcm1lZEZwczp1LGZyYW1lc1RyYW5zZm9ybWVkOm8sLi4udH0pKToic3VjY2VzcyJ9fXZhciBMdD0ocj0+KHIucGlwZWxpbmVfZW5kZWQ9InBpcGVsaW5lX2VuZGVkIixyLnBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX2VuZGVkX3dpdGhfZXJyb3IiLHIucGlwZWxpbmVfc3RhcnRlZD0icGlwZWxpbmVfc3RhcnRlZCIsci5waXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciIsci5waXBlbGluZV9yZXN0YXJ0ZWQ9InBpcGVsaW5lX3Jlc3RhcnRlZCIsci5waXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvcj0icGlwZWxpbmVfcmVzdGFydGVkX3dpdGhfZXJyb3IiLHIpKShMdHx8e30pO2NvbnN0IGFpPTUwMCx1aT0uODtjbGFzcyBjaSBleHRlbmRzIEJ0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSxBKHRoaXMsInJlcG9ydGVyXyIsbmV3IFV0KSxBKHRoaXMsInJlcG9ydGVyUW9zXyIsbmV3IHNpKHtsb2dnaW5nSW50ZXJ2YWxGcmFtZUNvdW50OmFpLHJlcG9ydDp7dmVyc2lvbjpaZX19KSksQSh0aGlzLCJ0cmFuc2Zvcm1lclR5cGVfIiksQSh0aGlzLCJ0cmFuc2Zvcm1lcl8iKSxBKHRoaXMsInNob3VsZFN0b3BfIiksQSh0aGlzLCJpc0ZsYXNoZWRfIiksQSh0aGlzLCJtZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfIiksQSh0aGlzLCJ2aWRlb0hlaWdodF8iKSxBKHRoaXMsInZpZGVvV2lkdGhfIiksQSh0aGlzLCJ0cmFja0V4cGVjdGVkUmF0ZV8iKSxBKHRoaXMsImluZGV4XyIpLEEodGhpcywiY29udHJvbGxlcl8iKSx0aGlzLmluZGV4Xz1lLHRoaXMudHJhbnNmb3JtZXJfPXQsdGhpcy5zaG91bGRTdG9wXz0hMSx0aGlzLmlzRmxhc2hlZF89ITEsdGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPTAsdGhpcy52aWRlb0hlaWdodF89MCx0aGlzLnZpZGVvV2lkdGhfPTAsdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTEsdGhpcy50cmFuc2Zvcm1lclR5cGVfPSJDdXN0b20iLCJnZXRUcmFuc2Zvcm1lclR5cGUiaW4gdCYmKHRoaXMudHJhbnNmb3JtZXJUeXBlXz10LmdldFRyYW5zZm9ybWVyVHlwZSgpKSx0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJDcmVhdGUifSl9c2V0VHJhY2tFeHBlY3RlZFJhdGUodCl7dGhpcy50cmFja0V4cGVjdGVkUmF0ZV89dH1hc3luYyBzdGFydCh0KXtpZih0aGlzLmNvbnRyb2xsZXJfPXQsdGhpcy50cmFuc2Zvcm1lcl8mJnR5cGVvZiB0aGlzLnRyYW5zZm9ybWVyXy5zdGFydD09ImZ1bmN0aW9uIil0cnl7YXdhaXQgdGhpcy50cmFuc2Zvcm1lcl8uc3RhcnQodCl9Y2F0Y2goZSl7dGhpcy5yZXBvcnQoe21lc3NhZ2U6Wi5lcnJvcnMudHJhbnNmb3JtZXJfc3RhcnQsdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6TnQoZSl9KTtjb25zdCBuPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjplLGZ1bmN0aW9uOiJzdGFydCJ9O3RoaXMuZW1pdCgiZXJyb3IiLG4pfX1hc3luYyB0cmFuc2Zvcm0odCxlKXt2YXIgbixvLGkscztpZih0aGlzLm1lZGlhVHJhbnNmb3JtZXJRb3NSZXBvcnRTdGFydFRpbWVzdGFtcF89PT0wJiYodGhpcy5tZWRpYVRyYW5zZm9ybWVyUW9zUmVwb3J0U3RhcnRUaW1lc3RhbXBfPURhdGUubm93KCkpLHQgaW5zdGFuY2VvZiBWaWRlb0ZyYW1lJiYodGhpcy52aWRlb0hlaWdodF89KG49dD09bnVsbD92b2lkIDA6dC5kaXNwbGF5SGVpZ2h0KSE9bnVsbD9uOjAsdGhpcy52aWRlb1dpZHRoXz0obz10PT1udWxsP3ZvaWQgMDp0LmRpc3BsYXlXaWR0aCkhPW51bGw/bzowKSx0aGlzLnJlcG9ydGVyUW9zXy5vbkZyYW1lRnJvbVNvdXJjZSgpLHRoaXMudHJhbnNmb3JtZXJfKWlmKHRoaXMuc2hvdWxkU3RvcF8pY29uc29sZS53YXJuKCJbUGlwZWxpbmVdIGZsdXNoIGZyb20gdHJhbnNmb3JtIiksdC5jbG9zZSgpLHRoaXMuZmx1c2goZSksZS50ZXJtaW5hdGUoKTtlbHNle3RyeXthd2FpdCgocz0oaT10aGlzLnRyYW5zZm9ybWVyXykudHJhbnNmb3JtKT09bnVsbD92b2lkIDA6cy5jYWxsKGksdCxlKSksdGhpcy5yZXBvcnRRb3MoKX1jYXRjaChhKXt0aGlzLnJlcG9ydCh7bWVzc2FnZTpaLmVycm9ycy50cmFuc2Zvcm1lcl90cmFuc2Zvcm0sdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6TnQoYSl9KTtjb25zdCB1PXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjphLGZ1bmN0aW9uOiJ0cmFuc2Zvcm0ifTt0aGlzLmVtaXQoImVycm9yIix1KX1pZih0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyE9LTEmJnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKnVpPnRoaXMucmVwb3J0ZXJRb3NfLmZwcyl7Y29uc3QgYT17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sd2FybmluZ1R5cGU6ImZwc19kcm9wIixkcm9wSW5mbzp7cmVxdWVzdGVkOnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfLGN1cnJlbnQ6dGhpcy5yZXBvcnRlclFvc18uZnBzfX07dGhpcy5lbWl0KCJ3YXJuIixhKX19fWFzeW5jIGZsdXNoKHQpe2lmKHRoaXMudHJhbnNmb3JtZXJfJiZ0eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uZmx1c2g9PSJmdW5jdGlvbiImJiF0aGlzLmlzRmxhc2hlZF8pe3RoaXMuaXNGbGFzaGVkXz0hMDt0cnl7YXdhaXQgdGhpcy50cmFuc2Zvcm1lcl8uZmx1c2godCl9Y2F0Y2goZSl7dGhpcy5yZXBvcnQoe21lc3NhZ2U6Wi5lcnJvcnMudHJhbnNmb3JtZXJfZmx1c2gsdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6TnQoZSl9KTtjb25zdCBuPXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjplLGZ1bmN0aW9uOiJmbHVzaCJ9O3RoaXMuZW1pdCgiZXJyb3IiLG4pfX10aGlzLnJlcG9ydFFvcyghMCksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiRGVsZXRlIn0pfXN0b3AoKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTdG9wIHN0cmVhbS4iKSx0aGlzLmNvbnRyb2xsZXJfJiYodGhpcy5mbHVzaCh0aGlzLmNvbnRyb2xsZXJfKSx0aGlzLmNvbnRyb2xsZXJfLnRlcm1pbmF0ZSgpKSx0aGlzLnNob3VsZFN0b3BfPSEwfXJlcG9ydCh0KXt0aGlzLnJlcG9ydGVyXy5zZW5kKHt2ZXJzaW9uOlplLGFjdGlvbjoiTWVkaWFUcmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJUeXBlOnRoaXMudHJhbnNmb3JtZXJUeXBlXywuLi50fSl9cmVwb3J0UW9zKHQ9ITEpe3RoaXMucmVwb3J0ZXJRb3NfLmNvbmZpZz17Li4udGhpcy5yZXBvcnRlclFvc18uY29uZmlnfSx0aGlzLnJlcG9ydGVyUW9zXy5vbkZyYW1lVHJhbnNmb3JtZWQoe3ZlcnNpb246WmUsYWN0aW9uOiJNZWRpYVRyYW5zZm9ybWVyIix0cmFuc2Zvcm1lclR5cGU6dGhpcy50cmFuc2Zvcm1lclR5cGVfLHZpZGVvV2lkdGg6dGhpcy52aWRlb1dpZHRoXyx2aWRlb0hlaWdodDp0aGlzLnZpZGVvSGVpZ2h0X30sdCl9fWNsYXNzIGZpIGV4dGVuZHMgQnR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSxBKHRoaXMsInRyYW5zZm9ybWVyc18iKSxBKHRoaXMsInRyYWNrRXhwZWN0ZWRSYXRlXyIpLHRoaXMudHJhbnNmb3JtZXJzXz1bXSx0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz0tMTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7bGV0IG49bmV3IGNpKHRbZV0sZSk7bi5vbigiZXJyb3IiLG89Pnt0aGlzLmVtaXQoImVycm9yIixvKX0pLG4ub24oIndhcm4iLG89Pnt0aGlzLmVtaXQoIndhcm4iLG8pfSksdGhpcy50cmFuc2Zvcm1lcnNfLnB1c2gobil9fXNldFRyYWNrRXhwZWN0ZWRSYXRlKHQpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPXQ7Zm9yKGxldCBlIG9mIHRoaXMudHJhbnNmb3JtZXJzXyllLnNldFRyYWNrRXhwZWN0ZWRSYXRlKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKX1hc3luYyBzdGFydCh0LGUpe2lmKCF0aGlzLnRyYW5zZm9ybWVyc198fHRoaXMudHJhbnNmb3JtZXJzXy5sZW5ndGg9PT0wKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBObyB0cmFuc2Zvcm1lcnMuIik7cmV0dXJufXRyeXtsZXQgbj10O2ZvcihsZXQgbyBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdD10LnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW0obykpO3QucGlwZVRvKGUpLnRoZW4oYXN5bmMoKT0+e2NvbnNvbGUubG9nKCJbUGlwZWxpbmVdIFNldHVwLiIpLGF3YWl0IGUuYWJvcnQoKSxhd2FpdCBuLmNhbmNlbCgpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfZW5kZWQiKX0pLmNhdGNoKGFzeW5jIG89Pnt0LmNhbmNlbCgpLnRoZW4oKCk9Pntjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTaHV0dGluZyBkb3duIHN0cmVhbXMgYWZ0ZXIgYWJvcnQuIil9KS5jYXRjaChpPT57Y29uc29sZS5lcnJvcigiW1BpcGVsaW5lXSBFcnJvciBmcm9tIHN0cmVhbSB0cmFuc2Zvcm06IixpKX0pLGF3YWl0IGUuYWJvcnQobyksYXdhaXQgbi5jYW5jZWwobyksdGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9lbmRlZF93aXRoX2Vycm9yIil9KX1jYXRjaHt0aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX3N0YXJ0ZWRfd2l0aF9lcnJvciIpLHRoaXMuZGVzdHJveSgpO3JldHVybn10aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX3N0YXJ0ZWQiKSxjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBQaXBlbGluZSBzdGFydGVkLiIpfWFzeW5jIGRlc3Ryb3koKXtjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBEZXN0cm95aW5nIFBpcGVsaW5lLiIpO2ZvcihsZXQgdCBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdC5zdG9wKCl9fWNsYXNzIGxpIGV4dGVuZHMgQnR7Y29uc3RydWN0b3IoKXtzdXBlcigpLEEodGhpcywicmVwb3J0ZXJfIiksQSh0aGlzLCJwaXBlbGluZV8iKSxBKHRoaXMsInRyYW5zZm9ybWVyc18iKSxBKHRoaXMsInJlYWRhYmxlXyIpLEEodGhpcywid3JpdGFibGVfIiksQSh0aGlzLCJ0cmFja0V4cGVjdGVkUmF0ZV8iKSx0aGlzLnJlcG9ydGVyXz1uZXcgVXQsdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTEsdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiQ3JlYXRlIn0pfXNldFRyYWNrRXhwZWN0ZWRSYXRlKHQpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPXQsdGhpcy5waXBlbGluZV8mJnRoaXMucGlwZWxpbmVfLnNldFRyYWNrRXhwZWN0ZWRSYXRlKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKX10cmFuc2Zvcm0odCxlKXtyZXR1cm4gdGhpcy5yZWFkYWJsZV89dCx0aGlzLndyaXRhYmxlXz1lLHRoaXMudHJhbnNmb3JtSW50ZXJuYWwoKX10cmFuc2Zvcm1JbnRlcm5hbCgpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyh0LGUpPT57aWYoIXRoaXMudHJhbnNmb3JtZXJzX3x8dGhpcy50cmFuc2Zvcm1lcnNfLmxlbmd0aD09PTApe3RoaXMucmVwb3J0KHttZXNzYWdlOlouZXJyb3JzLnRyYW5zZm9ybWVyX25vbmUsdmFyaWF0aW9uOiJFcnJvciJ9KSxlKCJbTWVkaWFQcm9jZXNzb3JdIE5lZWQgdG8gc2V0IHRyYW5zZm9ybWVycy4iKTtyZXR1cm59aWYoIXRoaXMucmVhZGFibGVfKXt0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJFcnJvciIsbWVzc2FnZTpaLmVycm9ycy5yZWFkYWJsZV9udWxsfSksZSgiW01lZGlhUHJvY2Vzc29yXSBSZWFkYWJsZSBpcyBudWxsLiIpO3JldHVybn1pZighdGhpcy53cml0YWJsZV8pe3RoaXMucmVwb3J0KHt2YXJpYXRpb246IkVycm9yIixtZXNzYWdlOlouZXJyb3JzLndyaXRhYmxlX251bGx9KSxlKCJbTWVkaWFQcm9jZXNzb3JdIFdyaXRhYmxlIGlzIG51bGwuIik7cmV0dXJufWxldCBuPSExO3RoaXMucGlwZWxpbmVfJiYobj0hMCx0aGlzLnBpcGVsaW5lXy5jbGVhckxpc3RlbmVycygpLHRoaXMucGlwZWxpbmVfLmRlc3Ryb3koKSksdGhpcy5waXBlbGluZV89bmV3IGZpKHRoaXMudHJhbnNmb3JtZXJzXyksdGhpcy5waXBlbGluZV8ub24oIndhcm4iLG89Pnt0aGlzLmVtaXQoIndhcm4iLG8pfSksdGhpcy5waXBlbGluZV8ub24oImVycm9yIixvPT57dGhpcy5lbWl0KCJlcnJvciIsbyl9KSx0aGlzLnBpcGVsaW5lXy5vbigicGlwZWxpbmVJbmZvIixvPT57biYmKG89PT0icGlwZWxpbmVfc3RhcnRlZCI/bz1MdC5waXBlbGluZV9yZXN0YXJ0ZWQ6bz09PSJwaXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3IiJiYobz1MdC5waXBlbGluZV9yZXN0YXJ0ZWRfd2l0aF9lcnJvcikpLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIixvKX0pLHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfIT0tMSYmdGhpcy5waXBlbGluZV8uc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy50cmFja0V4cGVjdGVkUmF0ZV8pLHRoaXMucGlwZWxpbmVfLnN0YXJ0KHRoaXMucmVhZGFibGVfLHRoaXMud3JpdGFibGVfKS50aGVuKCgpPT57dCgpfSkuY2F0Y2gobz0+e2Uobyl9KX0pfXNldFRyYW5zZm9ybWVycyh0KXtyZXR1cm4gdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiVXBkYXRlIixtZXNzYWdlOloudXBkYXRlcy50cmFuc2Zvcm1lcl9uZXd9KSx0aGlzLnRyYW5zZm9ybWVyc189dCx0aGlzLnJlYWRhYmxlXyYmdGhpcy53cml0YWJsZV8/dGhpcy50cmFuc2Zvcm1JbnRlcm5hbCgpOlByb21pc2UucmVzb2x2ZSgpfWRlc3Ryb3koKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgdD0+e3RoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5kZXN0cm95KCksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiRGVsZXRlIn0pLHQoKX0pfXJlcG9ydCh0KXt0aGlzLnJlcG9ydGVyXy5zZW5kKHt2ZXJzaW9uOlplLGFjdGlvbjoiTWVkaWFQcm9jZXNzb3IiLC4uLnR9KX19dmFyIGRpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxtaT0ocix0LGUpPT50IGluIHI/ZGkocix0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6clt0XT1lLGhpPShyLHQsZSk9PihtaShyLHR5cGVvZiB0IT0ic3ltYm9sIj90KyIiOnQsZSksZSk7Y29uc3QgcGk9ImhsZy50b2tib3guY29tL3Byb2QvbG9nZ2luZy92Y3Bfd2VicnRjIixnaT0iaHR0cHM6Ly8iLHlpPTFlNDtsZXQgZXQ7Y29uc3QgeGk9bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIF9pKCl7aWYoIWV0JiYoZXQ9dHlwZW9mIGNyeXB0bzwidSImJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pLCFldCkpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiBldCh4aSl9Y29uc3QgQj1bXTtmb3IobGV0IHI9MDtyPDI1NjsrK3IpQi5wdXNoKChyKzI1NikudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtmdW5jdGlvbiBiaShyLHQ9MCl7cmV0dXJuKEJbclt0KzBdXStCW3JbdCsxXV0rQltyW3QrMl1dK0Jbclt0KzNdXSsiLSIrQltyW3QrNF1dK0Jbclt0KzVdXSsiLSIrQltyW3QrNl1dK0Jbclt0KzddXSsiLSIrQltyW3QrOF1dK0Jbclt0KzldXSsiLSIrQltyW3QrMTBdXStCW3JbdCsxMV1dK0Jbclt0KzEyXV0rQltyW3QrMTNdXStCW3JbdCsxNF1dK0Jbclt0KzE1XV0pLnRvTG93ZXJDYXNlKCl9Y29uc3Qgdmk9dHlwZW9mIGNyeXB0bzwidSImJmNyeXB0by5yYW5kb21VVUlEJiZjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byksR3I9e3JhbmRvbVVVSUQ6dml9O2Z1bmN0aW9uIEVpKHIsdCxlKXtpZihHci5yYW5kb21VVUlEJiYhdCYmIXIpcmV0dXJuIEdyLnJhbmRvbVVVSUQoKTtyPXJ8fHt9O2NvbnN0IG49ci5yYW5kb218fChyLnJuZ3x8X2kpKCk7aWYobls2XT1uWzZdJjE1fDY0LG5bOF09bls4XSY2M3wxMjgsdCl7ZT1lfHwwO2ZvcihsZXQgbz0wO288MTY7KytvKXRbZStvXT1uW29dO3JldHVybiB0fXJldHVybiBiaShuKX1mdW5jdGlvbiB6dChyLHQpe2dsb2JhbFRoaXMudm9uYWdlfHwoZ2xvYmFsVGhpcy52b25hZ2U9e30pLGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXJ8fChnbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyPXt9KTtsZXQgZT1nbG9iYWxUaGlzLnZvbmFnZS53b3JrZXJpemVyO3JldHVybiBlW3JdfHwoZVtyXT10KSxlW3JdfWNvbnN0IHJlPXp0KCJnbG9iYWxzIix7fSk7dmFyIG1lPShyPT4oci5JTklUPSJJTklUIixyLkZPUldBUkQ9IkZPUldBUkQiLHIuVEVSTUlOQVRFPSJURVJNSU5BVEUiLHIuR0xPQkFMU19TWU5DPSJHTE9CQUxTX1NZTkMiLHIpKShtZXx8e30pO2Z1bmN0aW9uIFdyKHIpe3JldHVybltJbWFnZUJpdG1hcCxSZWFkYWJsZVN0cmVhbSxXcml0YWJsZVN0cmVhbV0uc29tZSh0PT5yIGluc3RhbmNlb2YgdCl9bGV0IFRpPTA7ZnVuY3Rpb24gQWkocix0LGUsbixvKXtjb25zdCBpPVRpKys7cmV0dXJuIHIucG9zdE1lc3NhZ2Uoe2lkOmksdHlwZTp0LGZ1bmN0aW9uTmFtZTplLGFyZ3M6bn0sbi5maWx0ZXIocz0+V3IocykpKSxuZXcgUHJvbWlzZShzPT57bz09bnVsbHx8by5zZXQoaSxzKX0pfWZ1bmN0aW9uIENlKHIsdCl7Y29uc3R7aWQ6ZSx0eXBlOm59PXIsbz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3Bvc3RNZXNzYWdlKHtpZDplLHR5cGU6bixyZXN1bHQ6dH0sby5maWx0ZXIoaT0+V3IoaSkpKX1jb25zdCBWcj16dCgid29ya2VyaXplZCIse30pO2Z1bmN0aW9uIEhyKCl7cmV0dXJuIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1hc3luYyBmdW5jdGlvbiB3aSgpe2lmKEhyKCkpQ2Uoe3R5cGU6bWUuR0xPQkFMU19TWU5DfSxyZSk7ZWxzZXtjb25zdCByPVtdO2Zvcihjb25zdCB0IGluIFZyKXtjb25zdHt3b3JrZXI6ZSxyZXNvbHZlcnM6bn09VnJbdF0ud29ya2VyQ29udGV4dDtlJiZyLnB1c2goQWkoZSxtZS5HTE9CQUxTX1NZTkMsIiIsW3JlXSxuKSl9YXdhaXQgUHJvbWlzZS5hbGwocil9fWZ1bmN0aW9uIHR0KHIsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSl0LnNwbGljZSgwLHQubGVuZ3RoKTtlbHNlIGlmKHR5cGVvZiB0PT0ib2JqZWN0Iilmb3IoY29uc3QgZSBpbiB0KWRlbGV0ZSB0W2VdO2Zvcihjb25zdCBlIGluIHIpQXJyYXkuaXNBcnJheShyW2VdKT8odFtlXT1bXSx0dChyW2VdLHRbZV0pKTp0eXBlb2YgcltlXT09Im9iamVjdCI/KHRbZV09e30sdHQocltlXSx0W2VdKSk6dFtlXT1yW2VdfWFzeW5jIGZ1bmN0aW9uIElpKHIsdCl7Y29uc3R7ZnVuY3Rpb25OYW1lOmUsYXJnczpufT1yO2lmKCF0Lmluc3RhbmNlKXRocm93Imluc3RhbmNlIG5vdCBpbml0aWFsaXplZCI7aWYoIWUpdGhyb3cibWlzc2luZyBmdW5jdGlvbiBuYW1lIHRvIGNhbGwiO2lmKCF0Lmluc3RhbmNlW2VdKXRocm93YHVuZGVmaW5lZCBmdW5jdGlvbiBbJHtlfV0gaW4gY2xhc3MgJHt0Lmluc3RhbmNlLmNvbnN0cnVjdG9yLndvcmtlcklkfWA7Q2Uocixhd2FpdCB0Lmluc3RhbmNlW2VdKC4uLm4hPW51bGw/bjpbXSkpfWNvbnN0IFNpPXp0KCJyZWdpc3RlcmVkV29ya2VycyIse30pO2Z1bmN0aW9uIFJpKHIsdCl7aWYoIXIuYXJncyl0aHJvdyJNaXNzaW5nIGNsYXNzTmFtZSB3aGlsZSBpbml0aWFsaXppbmcgd29ya2VyIjtjb25zdFtlLG5dPXIuYXJncyxvPVNpW2VdO2lmKG8pdC5pbnN0YW5jZT1uZXcgbyhyLmFyZ3Muc2xpY2UoMSkpO2Vsc2UgdGhyb3dgdW5rbm93biB3b3JrZXIgY2xhc3MgJHtlfWA7dHQobixyZSksQ2Uocix0eXBlb2YgdC5pbnN0YW5jZSE9PXZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gRmkocix0KXtjb25zdHthcmdzOmV9PXI7aWYoIXQuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjt0Lmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgdC5pbnN0YW5jZS50ZXJtaW5hdGUoLi4uZSE9bnVsbD9lOltdKSksQ2UocixuKX1mdW5jdGlvbiBQaShyKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgZ2xvYmFscyB3aGlsZSBzeW5jaW5nIjt0dChyLmFyZ3NbMF0scmUpLENlKHIse30pfWZ1bmN0aW9uIGtpKCl7Y29uc3Qgcj17fTtvbm1lc3NhZ2U9YXN5bmMgdD0+e2NvbnN0IGU9dC5kYXRhO3N3aXRjaChlLnR5cGUpe2Nhc2UgbWUuSU5JVDpSaShlLHIpO2JyZWFrO2Nhc2UgbWUuRk9SV0FSRDpJaShlLHIpO2JyZWFrO2Nhc2UgbWUuVEVSTUlOQVRFOkZpKGUscik7YnJlYWs7Y2FzZSBtZS5HTE9CQUxTX1NZTkM6UGkoZSk7YnJlYWt9fX1IcigpJiZraSgpO2Z1bmN0aW9uIERpKHIsdCl7cmV0dXJuIHJlW3JdfHwocmVbcl09dCksWygpPT5yZVtyXSxhc3luYyBlPT57cmVbcl09ZSxhd2FpdCB3aSgpfV19ZnVuY3Rpb24gQ2kocix0KXtyZXR1cm4gRGkocix0KX1jb25zdFtCaSx2bF09Q2koIm1ldGFkYXRhIik7ZnVuY3Rpb24gJHQoKXtyZXR1cm4gQmkoKX1jbGFzcyBOaXtjb25zdHJ1Y3Rvcih0KXtoaSh0aGlzLCJ1dWlkIixFaSgpKSx0aGlzLmNvbmZpZz10fWFzeW5jIHNlbmQodCl7dmFyIGUsbixvO2NvbnN0e2FwcElkOmksc291cmNlVHlwZTpzfT0oZT0kdCgpKSE9bnVsbD9lOnt9O2lmKCFpfHwhcylyZXR1cm4ibWV0YWRhdGEgbWlzc2luZyI7Y29uc3QgYT1uZXcgQWJvcnRDb250cm9sbGVyLHU9c2V0VGltZW91dCgoKT0+YS5hYm9ydCgpLHlpKTtyZXR1cm4gYXdhaXQoKG89KG49dGhpcy5jb25maWcpPT1udWxsP3ZvaWQgMDpuLmZldGNoKSE9bnVsbD9vOmZldGNoKSh0aGlzLmdldFVybCgpLHttZXRob2Q6IlBPU1QiLGhlYWRlcnM6dGhpcy5nZXRIZWFkZXJzKCksYm9keTpKU09OLnN0cmluZ2lmeSh0aGlzLmJ1aWxkUmVwb3J0KHQpKSxzaWduYWw6YS5zaWduYWx9KSxjbGVhclRpbWVvdXQodSksInN1Y2Nlc3MifWdldFVybCgpe3ZhciB0O2xldCBlPSh0PSR0KCkucHJveHlVcmwpIT1udWxsP3Q6Z2k7cmV0dXJuIGUrPShlLmF0KC0xKT09PSIvIj8iIjoiLyIpK3BpLGV9Z2V0SGVhZGVycygpe3JldHVybnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9fWJ1aWxkUmVwb3J0KHQpe2NvbnN0IGU9JHQoKTtyZXR1cm57Z3VpZDp0aGlzLnV1aWQsLi4udCxhcHBsaWNhdGlvbklkOmUuYXBwSWQsdGltZXN0YW1wOkRhdGUubm93KCkscHJveHlVcmw6ZS5wcm94eVVybCxzb3VyY2U6ZS5zb3VyY2VUeXBlfX19Y29uc3QgT2k9IjUuMC4xIjt2YXIgcnQ9KHI9PihyLkxvdz0iTG93IixyLkhpZ2g9IkhpZ2giLHIpKShydHx8e30pLEd0PShyPT4oci5GQVNUPSJGQVNUIixyLlBSRUNJU0U9IlBSRUNJU0UiLHIpKShHdHx8e30pLG50PShyPT4oci5DQU5WQVM9IkNBTlZBUyIsci5XRUJHTD0iV0VCR0wiLHIpKShudHx8e30pLE1pPWZ1bmN0aW9uKCl7dmFyIHI9dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIGU9dHlwZW9mIHQ8InUiP3Q6e30sbixvO2UucmVhZHk9bmV3IFByb21pc2UoZnVuY3Rpb24oYyxoKXtuPWMsbz1ofSk7dmFyIGk9e30scztmb3IocyBpbiBlKWUuaGFzT3duUHJvcGVydHkocykmJihpW3NdPWVbc10pO3ZhciBhPSIuL3RoaXMucHJvZ3JhbSIsdT1mdW5jdGlvbihjLGgpe3Rocm93IGh9LGY9ITAsbT0iIjtmdW5jdGlvbiBwKGMpe3JldHVybiBlLmxvY2F0ZUZpbGU/ZS5sb2NhdGVGaWxlKGMsbSk6bStjfXZhciBnO3R5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihtPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxyJiYobT1yKSxtLmluZGV4T2YoImJsb2I6IikhPT0wP209bS5zdWJzdHIoMCxtLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6bT0iIjt2YXIgeD1lLnByaW50fHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLGQ9ZS5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7Zm9yKHMgaW4gaSlpLmhhc093blByb3BlcnR5KHMpJiYoZVtzXT1pW3NdKTtpPW51bGwsZS5hcmd1bWVudHMmJmUuYXJndW1lbnRzLGUudGhpc1Byb2dyYW0mJihhPWUudGhpc1Byb2dyYW0pLGUucXVpdCYmKHU9ZS5xdWl0KTt2YXIgXztlLndhc21CaW5hcnkmJihfPWUud2FzbUJpbmFyeSk7dmFyIEU9ZS5ub0V4aXRSdW50aW1lfHwhMDt0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiJiZmZSgibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciB2LEY9ITEsaz10eXBlb2YgVGV4dERlY29kZXI8InUiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnZvaWQgMDtmdW5jdGlvbiAkKGMsaCx5KXtmb3IodmFyIFQ9aCt5LEQ9aDtjW0RdJiYhKEQ+PVQpOykrK0Q7aWYoRC1oPjE2JiZjLnN1YmFycmF5JiZrKXJldHVybiBrLmRlY29kZShjLnN1YmFycmF5KGgsRCkpO2Zvcih2YXIgTj0iIjtoPEQ7KXt2YXIgdz1jW2grK107aWYoISh3JjEyOCkpe04rPVN0cmluZy5mcm9tQ2hhckNvZGUodyk7Y29udGludWV9dmFyIE09Y1toKytdJjYzO2lmKCh3JjIyNCk9PTE5Mil7Tis9U3RyaW5nLmZyb21DaGFyQ29kZSgodyYzMSk8PDZ8TSk7Y29udGludWV9dmFyIHE9Y1toKytdJjYzO2lmKCh3JjI0MCk9PTIyND93PSh3JjE1KTw8MTJ8TTw8NnxxOnc9KHcmNyk8PDE4fE08PDEyfHE8PDZ8Y1toKytdJjYzLHc8NjU1MzYpTis9U3RyaW5nLmZyb21DaGFyQ29kZSh3KTtlbHNle3ZhciBFbz13LTY1NTM2O04rPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8RW8+PjEwLDU2MzIwfEVvJjEwMjMpfX1yZXR1cm4gTn1mdW5jdGlvbiB6KGMsaCl7cmV0dXJuIGM/JChjZSxjLGgpOiIifWZ1bmN0aW9uIFYoYyxoLHkpe2Zvcih2YXIgVD0wO1Q8Yy5sZW5ndGg7KytUKWJlW2grKz4+MF09Yy5jaGFyQ29kZUF0KFQpO3l8fChiZVtoPj4wXT0wKX1mdW5jdGlvbiBHKGMsaCl7cmV0dXJuIGMlaD4wJiYoYys9aC1jJWgpLGN9dmFyIEdlLGJlLGNlLFc7ZnVuY3Rpb24gcG8oYyl7R2U9YyxlLkhFQVA4PWJlPW5ldyBJbnQ4QXJyYXkoYyksZS5IRUFQMTY9bmV3IEludDE2QXJyYXkoYyksZS5IRUFQMzI9Vz1uZXcgSW50MzJBcnJheShjKSxlLkhFQVBVOD1jZT1uZXcgVWludDhBcnJheShjKSxlLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGMpLGUuSEVBUFUzMj1uZXcgVWludDMyQXJyYXkoYyksZS5IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYyksZS5IRUFQRjY0PW5ldyBGbG9hdDY0QXJyYXkoYyl9ZS5JTklUSUFMX01FTU9SWTt2YXIgUnIsZ289W10seW89W10seG89W10sT2Y9MDtmdW5jdGlvbiBNZigpe3JldHVybiBFfHxPZj4wfWZ1bmN0aW9uIFVmKCl7aWYoZS5wcmVSdW4pZm9yKHR5cGVvZiBlLnByZVJ1bj09ImZ1bmN0aW9uIiYmKGUucHJlUnVuPVtlLnByZVJ1bl0pO2UucHJlUnVuLmxlbmd0aDspJGYoZS5wcmVSdW4uc2hpZnQoKSk7RnIoZ28pfWZ1bmN0aW9uIExmKCl7RnIoeW8pfWZ1bmN0aW9uIHpmKCl7aWYoZS5wb3N0UnVuKWZvcih0eXBlb2YgZS5wb3N0UnVuPT0iZnVuY3Rpb24iJiYoZS5wb3N0UnVuPVtlLnBvc3RSdW5dKTtlLnBvc3RSdW4ubGVuZ3RoOylXZihlLnBvc3RSdW4uc2hpZnQoKSk7RnIoeG8pfWZ1bmN0aW9uICRmKGMpe2dvLnVuc2hpZnQoYyl9ZnVuY3Rpb24gR2YoYyl7eW8udW5zaGlmdChjKX1mdW5jdGlvbiBXZihjKXt4by51bnNoaWZ0KGMpfXZhciB2ZT0wLFdlPW51bGw7ZnVuY3Rpb24gVmYoYyl7dmUrKyxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSl9ZnVuY3Rpb24gSGYoYyl7aWYodmUtLSxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh2ZSksdmU9PTAmJldlKXt2YXIgaD1XZTtXZT1udWxsLGgoKX19ZS5wcmVsb2FkZWRJbWFnZXM9e30sZS5wcmVsb2FkZWRBdWRpb3M9e307ZnVuY3Rpb24gZmUoYyl7ZS5vbkFib3J0JiZlLm9uQWJvcnQoYyksYz0iQWJvcnRlZCgiK2MrIikiLGQoYyksRj0hMCxjKz0iLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiI7dmFyIGg9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihjKTt0aHJvdyBvKGgpLGh9dmFyIGpmPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBfbyhjKXtyZXR1cm4gYy5zdGFydHNXaXRoKGpmKX12YXIgWDtYPSJ0ZmxpdGUtc2ltZC53YXNtIixfbyhYKXx8KFg9cChYKSk7ZnVuY3Rpb24gYm8oYyl7dHJ5e2lmKGM9PVgmJl8pcmV0dXJuIG5ldyBVaW50OEFycmF5KF8pO2lmKCFnKXRocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaChoKXtmZShoKX19ZnVuY3Rpb24gWWYoKXtyZXR1cm4hXyYmZiYmdHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iP2ZldGNoKFgse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKGMpe2lmKCFjLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrWCsiJyI7cmV0dXJuIGMuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGJvKFgpfSk6UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBibyhYKX0pfWZ1bmN0aW9uIFhmKCl7dmFyIGM9e2E6cGx9O2Z1bmN0aW9uIGgodyxNKXt2YXIgcT13LmV4cG9ydHM7ZS5hc209cSx2PWUuYXNtLnEscG8odi5idWZmZXIpLFJyPWUuYXNtLkUsR2YoZS5hc20uciksSGYoKX1WZigpO2Z1bmN0aW9uIHkodyl7aCh3Lmluc3RhbmNlKX1mdW5jdGlvbiBUKHcpe3JldHVybiBZZigpLnRoZW4oZnVuY3Rpb24oTSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKE0sYyl9KS50aGVuKGZ1bmN0aW9uKE0pe3JldHVybiBNfSkudGhlbih3LGZ1bmN0aW9uKE0pe2QoImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrTSksZmUoTSl9KX1mdW5jdGlvbiBEKCl7cmV0dXJuIV8mJnR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZz09ImZ1bmN0aW9uIiYmIV9vKFgpJiZ0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiI/ZmV0Y2goWCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24odyl7dmFyIE09V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcodyxjKTtyZXR1cm4gTS50aGVuKHksZnVuY3Rpb24ocSl7cmV0dXJuIGQoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK3EpLGQoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksVCh5KX0pfSk6VCh5KX1pZihlLmluc3RhbnRpYXRlV2FzbSl0cnl7dmFyIE49ZS5pbnN0YW50aWF0ZVdhc20oYyxoKTtyZXR1cm4gTn1jYXRjaCh3KXtyZXR1cm4gZCgiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIit3KSwhMX1yZXR1cm4gRCgpLmNhdGNoKG8pLHt9fWZ1bmN0aW9uIEZyKGMpe2Zvcig7Yy5sZW5ndGg+MDspe3ZhciBoPWMuc2hpZnQoKTtpZih0eXBlb2YgaD09ImZ1bmN0aW9uIil7aChlKTtjb250aW51ZX12YXIgeT1oLmZ1bmM7dHlwZW9mIHk9PSJudW1iZXIiP2guYXJnPT09dm9pZCAwP1JyLmdldCh5KSgpOlJyLmdldCh5KShoLmFyZyk6eShoLmFyZz09PXZvaWQgMD9udWxsOmguYXJnKX19ZnVuY3Rpb24gUWYoYyxoLHksVCl7ZmUoIkFzc2VydGlvbiBmYWlsZWQ6ICIreihjKSsiLCBhdDogIitbaD96KGgpOiJ1bmtub3duIGZpbGVuYW1lIix5LFQ/eihUKToidW5rbm93biBmdW5jdGlvbiJdKX1mdW5jdGlvbiBLZihjLGgpe2ZlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX1mdW5jdGlvbiBxZihjLGgpe2ZlKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCB0byB1c2UgRW1zY3JpcHRlbidzIGxpbmtpbmcgc3VwcG9ydCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX1mdW5jdGlvbiBKZigpe2ZlKCIiKX12YXIgU3Q7U3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9O3ZhciBaZj0hMDtmdW5jdGlvbiBlbChjKXtyZXR1cm4gV1t2bygpPj4yXT1jLGN9ZnVuY3Rpb24gdGwoYyxoKXt2YXIgeTtpZihjPT09MCl5PURhdGUubm93KCk7ZWxzZSBpZigoYz09PTF8fGM9PT00KSYmWmYpeT1TdCgpO2Vsc2UgcmV0dXJuIGVsKDI4KSwtMTtyZXR1cm4gV1toPj4yXT15LzFlM3wwLFdbaCs0Pj4yXT15JTFlMyoxZTMqMWUzfDAsMH1mdW5jdGlvbiBybCgpe3JldHVybiAyMTQ3NDgzNjQ4fWZ1bmN0aW9uIG5sKGMsaCx5KXtjZS5jb3B5V2l0aGluKGMsaCxoK3kpfWZ1bmN0aW9uIG9sKGMpe3RyeXtyZXR1cm4gdi5ncm93KGMtR2UuYnl0ZUxlbmd0aCs2NTUzNT4+PjE2KSxwbyh2LmJ1ZmZlciksMX1jYXRjaHt9fWZ1bmN0aW9uIGlsKGMpe3ZhciBoPWNlLmxlbmd0aDtjPWM+Pj4wO3ZhciB5PTIxNDc0ODM2NDg7aWYoYz55KXJldHVybiExO2Zvcih2YXIgVD0xO1Q8PTQ7VCo9Mil7dmFyIEQ9aCooMSsuMi9UKTtEPU1hdGgubWluKEQsYysxMDA2NjMyOTYpO3ZhciBOPU1hdGgubWluKHksRyhNYXRoLm1heChjLEQpLDY1NTM2KSksdz1vbChOKTtpZih3KXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHNsKGMpe2Zvcih2YXIgaD1TdCgpO1N0KCktaDxjOyk7fXZhciBQcj17fTtmdW5jdGlvbiBhbCgpe3JldHVybiBhfHwiLi90aGlzLnByb2dyYW0ifWZ1bmN0aW9uIFZlKCl7aWYoIVZlLnN0cmluZ3Mpe3ZhciBjPSh0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLGg9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzpjLF86YWwoKX07Zm9yKHZhciB5IGluIFByKVByW3ldPT09dm9pZCAwP2RlbGV0ZSBoW3ldOmhbeV09UHJbeV07dmFyIFQ9W107Zm9yKHZhciB5IGluIGgpVC5wdXNoKHkrIj0iK2hbeV0pO1ZlLnN0cmluZ3M9VH1yZXR1cm4gVmUuc3RyaW5nc312YXIgUnQ9e21hcHBpbmdzOnt9LGJ1ZmZlcnM6W251bGwsW10sW11dLHByaW50Q2hhcjpmdW5jdGlvbihjLGgpe3ZhciB5PVJ0LmJ1ZmZlcnNbY107aD09PTB8fGg9PT0xMD8oKGM9PT0xP3g6ZCkoJCh5LDApKSx5Lmxlbmd0aD0wKTp5LnB1c2goaCl9LHZhcmFyZ3M6dm9pZCAwLGdldDpmdW5jdGlvbigpe1J0LnZhcmFyZ3MrPTQ7dmFyIGM9V1tSdC52YXJhcmdzLTQ+PjJdO3JldHVybiBjfSxnZXRTdHI6ZnVuY3Rpb24oYyl7dmFyIGg9eihjKTtyZXR1cm4gaH0sZ2V0NjQ6ZnVuY3Rpb24oYyxoKXtyZXR1cm4gY319O2Z1bmN0aW9uIHVsKGMsaCl7dmFyIHk9MDtyZXR1cm4gVmUoKS5mb3JFYWNoKGZ1bmN0aW9uKFQsRCl7dmFyIE49aCt5O1dbYytEKjQ+PjJdPU4sVihULE4pLHkrPVQubGVuZ3RoKzF9KSwwfWZ1bmN0aW9uIGNsKGMsaCl7dmFyIHk9VmUoKTtXW2M+PjJdPXkubGVuZ3RoO3ZhciBUPTA7cmV0dXJuIHkuZm9yRWFjaChmdW5jdGlvbihEKXtUKz1ELmxlbmd0aCsxfSksV1toPj4yXT1ULDB9ZnVuY3Rpb24gZmwoYyl7eWwoYyl9ZnVuY3Rpb24gbGwoYyl7cmV0dXJuIDB9ZnVuY3Rpb24gZGwoYyxoLHksVCxEKXt9ZnVuY3Rpb24gbWwoYyxoLHksVCl7Zm9yKHZhciBEPTAsTj0wO048eTtOKyspe2Zvcih2YXIgdz1XW2grTio4Pj4yXSxNPVdbaCsoTio4KzQpPj4yXSxxPTA7cTxNO3ErKylSdC5wcmludENoYXIoYyxjZVt3K3FdKTtEKz1NfXJldHVybiBXW1Q+PjJdPUQsMH1mdW5jdGlvbiBobCgpe2lmKHR5cGVvZiBjcnlwdG89PSJvYmplY3QiJiZ0eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIil7dmFyIGM9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYyksY1swXX19ZWxzZSByZXR1cm4gZnVuY3Rpb24oKXtmZSgicmFuZG9tRGV2aWNlIil9fWZ1bmN0aW9uIEZ0KGMsaCl7RnQucmFuZG9tRGV2aWNlfHwoRnQucmFuZG9tRGV2aWNlPWhsKCkpO2Zvcih2YXIgeT0wO3k8aDt5KyspYmVbYyt5Pj4wXT1GdC5yYW5kb21EZXZpY2UoKTtyZXR1cm4gMH12YXIgcGw9e2E6UWYsZTpLZixkOnFmLGI6SmYsbjp0bCxoOnJsLGw6bmwsbTppbCxwOnNsLGY6dWwsZzpjbCxqOmZsLGk6bGwsazpkbCxjOm1sLG86RnR9O1hmKCksZS5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fX193YXNtX2NhbGxfY3RvcnM9ZS5hc20ucikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybihlLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldD1lLmFzbS5zKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX2dldElucHV0TWVtb3J5T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKGUuX2dldElucHV0TWVtb3J5T2Zmc2V0PWUuYXNtLnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fZ2V0SW5wdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0SW5wdXRIZWlnaHQ9ZS5hc20udSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRJbnB1dFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX2dldElucHV0V2lkdGg9ZS5hc20udikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRJbnB1dENoYW5uZWxDb3VudD1mdW5jdGlvbigpe3JldHVybihlLl9nZXRJbnB1dENoYW5uZWxDb3VudD1lLmFzbS53KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX2dldE91dHB1dE1lbW9yeU9mZnNldD1mdW5jdGlvbigpe3JldHVybihlLl9nZXRPdXRwdXRNZW1vcnlPZmZzZXQ9ZS5hc20ueCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRPdXRwdXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0T3V0cHV0SGVpZ2h0PWUuYXNtLnkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fZ2V0T3V0cHV0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0T3V0cHV0V2lkdGg9ZS5hc20ueikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9nZXRPdXRwdXRDaGFubmVsQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fZ2V0T3V0cHV0Q2hhbm5lbENvdW50PWUuYXNtLkEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fbG9hZE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX2xvYWRNb2RlbD1lLmFzbS5CKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX3J1bkluZmVyZW5jZT1mdW5jdGlvbigpe3JldHVybihlLl9ydW5JbmZlcmVuY2U9ZS5hc20uQykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9pc0dQVUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5faXNHUFVFbmFibGVkPWUuYXNtLkQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIHZvPWUuX19fZXJybm9fbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4odm89ZS5fX19lcnJub19sb2NhdGlvbj1lLmFzbS5GKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFB0O2Z1bmN0aW9uIGdsKGMpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPSJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCIrYysiKSIsdGhpcy5zdGF0dXM9Y31XZT1mdW5jdGlvbiBjKCl7UHR8fGtyKCksUHR8fChXZT1jKX07ZnVuY3Rpb24ga3IoYyl7aWYodmU+MHx8KFVmKCksdmU+MCkpcmV0dXJuO2Z1bmN0aW9uIGgoKXtQdHx8KFB0PSEwLGUuY2FsbGVkUnVuPSEwLCFGJiYoTGYoKSxuKGUpLGUub25SdW50aW1lSW5pdGlhbGl6ZWQmJmUub25SdW50aW1lSW5pdGlhbGl6ZWQoKSx6ZigpKSl9ZS5zZXRTdGF0dXM/KGUuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnNldFN0YXR1cygiIil9LDEpLGgoKX0sMSkpOmgoKX1lLnJ1bj1rcjtmdW5jdGlvbiB5bChjLGgpe3hsKGMpfWZ1bmN0aW9uIHhsKGMpe01mKCl8fChlLm9uRXhpdCYmZS5vbkV4aXQoYyksRj0hMCksdShjLG5ldyBnbChjKSl9aWYoZS5wcmVJbml0KWZvcih0eXBlb2YgZS5wcmVJbml0PT0iZnVuY3Rpb24iJiYoZS5wcmVJbml0PVtlLnByZUluaXRdKTtlLnByZUluaXQubGVuZ3RoPjA7KWUucHJlSW5pdC5wb3AoKSgpO3JldHVybiBrcigpLHQucmVhZHl9fSgpO2NsYXNzIFVpe2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJzZWxlY3RlZFRGTGl0ZSIpO2wodGhpcywiaXNTSU1EU3VwcG9ydGVkIiwhMSk7bCh0aGlzLCJpc1RocmVhZHNTdXBwb3J0ZWQiLCExKTtsKHRoaXMsImlucHV0V2lkdGgiLDApO2wodGhpcywiaW5wdXRIZWlnaHQiLDApO2wodGhpcywiaW5wdXRDaGFubmVsQ291bnQiLDApO2wodGhpcywiaW5wdXRNZW1vcnlPZmZzZXQiLDApO2wodGhpcywib3V0cHV0V2lkdGgiLDApO2wodGhpcywib3V0cHV0SGVpZ2h0IiwwKTtsKHRoaXMsIm91dHB1dENoYW5uZWxDb3VudCIsMCk7bCh0aGlzLCJvdXRwdXRNZW1vcnlPZmZzZXQiLDApfX1jb25zdCBMaT0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC92b25hZ2UtdGVuc29yZmxvdy13YXNtL3RmbGl0ZS1zaW1kLXdhc20vMS4xLjMvIix6aT0iaHR0cHM6Ly9kM29wcWptcXp4ZjA1Ny5jbG91ZGZyb250Lm5ldC9tbC9zZWxmaWVfc2VnbWVudGF0aW9uLzQuMC4wLyI7YXN5bmMgZnVuY3Rpb24gJGkocj1MaSx0PXppKXtsZXQgZT1uZXcgVWk7dmFyIG49bmV3IFByb21pc2UoZnVuY3Rpb24obyxpKXthc3luYyBmdW5jdGlvbiBzKCl7cmV0dXJuIE1pKHtsb2NhdGVGaWxlOmZ1bmN0aW9uKGYpe3JldHVybiByK2Z9fSl9YXN5bmMgZnVuY3Rpb24gYSh1KXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoZixtKT0+e2NvbnN0IHA9dTtpZih0eXBlb2YgcD4idSIpcmV0dXJuIG0oIlRGTGl0ZSBiYWNrZW5kIHVuYXZhaWxhYmxlOiB3YXNtU2ltZCIpO2NvbnN0IGc9InNlbGZpZV9zZWdtZW50YXRpb25fbGFuZHNjYXBlIjtjb25zb2xlLmxvZygiTG9hZGluZyB0ZmxpdGUgbW9kZWw6IixnKTtsZXQgeD10K2Ake2d9LnRmbGl0ZWA7Y29uc29sZS5sb2coIlRGTGl0ZSBtb2RlbFVybDogIit4KTt0cnl7Y29uc3QgXz1hd2FpdChhd2FpdCBmZXRjaCh4KSkuYXJyYXlCdWZmZXIoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIHNpemU6IixfLmJ5dGVMZW5ndGgpO2NvbnN0IEU9cC5fZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQoKTtjb25zb2xlLmxvZygiTW9kZWwgYnVmZmVyIG1lbW9yeSBvZmZzZXQ6IixFKSxjb25zb2xlLmxvZygiTG9hZGluZyBtb2RlbCBidWZmZXIuLi4iKSxwLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoXyksRSk7Y29uc3Qgdj1wLl9sb2FkTW9kZWwoXy5ieXRlTGVuZ3RoKTtpZihjb25zb2xlLmxvZygiTG9hZCBtb2RlbCByZXN1bHQ6Iix2KSx2IT09MCl7bSgiQ2Fubm90IGxvYWQgbW9kZWwiKTtyZXR1cm59ZS5pbnB1dFdpZHRoPXAuX2dldElucHV0V2lkdGgoKSxlLmlucHV0SGVpZ2h0PXAuX2dldElucHV0SGVpZ2h0KCksZS5pbnB1dENoYW5uZWxDb3VudD1wLl9nZXRJbnB1dENoYW5uZWxDb3VudCgpLGUuaW5wdXRNZW1vcnlPZmZzZXQ9cC5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQoKSxjb25zb2xlLmxvZygiSW5wdXQgbWVtb3J5IG9mZnNldDoiLGUuaW5wdXRNZW1vcnlPZmZzZXQpLGNvbnNvbGUubG9nKCJJbnB1dCBoZWlnaHQ6IixlLmlucHV0SGVpZ2h0KSxjb25zb2xlLmxvZygiSW5wdXQgd2lkdGg6IixlLmlucHV0V2lkdGgpLGNvbnNvbGUubG9nKCJJbnB1dCBjaGFubmVsczoiLGUuaW5wdXRDaGFubmVsQ291bnQpLGUub3V0cHV0TWVtb3J5T2Zmc2V0PXAuX2dldE91dHB1dE1lbW9yeU9mZnNldCgpLGUub3V0cHV0V2lkdGg9cC5fZ2V0T3V0cHV0V2lkdGgoKSxlLm91dHB1dEhlaWdodD1wLl9nZXRPdXRwdXRIZWlnaHQoKSxlLm91dHB1dENoYW5uZWxDb3VudD1wLl9nZXRPdXRwdXRDaGFubmVsQ291bnQoKSxjb25zb2xlLmxvZygiT3V0cHV0IG1lbW9yeSBvZmZzZXQ6IixlLm91dHB1dE1lbW9yeU9mZnNldCksY29uc29sZS5sb2coIk91dHB1dCBoZWlnaHQ6IixlLm91dHB1dEhlaWdodCksY29uc29sZS5sb2coIk91dHB1dCB3aWR0aDoiLGUub3V0cHV0V2lkdGgpLGNvbnNvbGUubG9nKCJPdXRwdXQgY2hhbm5lbHM6IixlLm91dHB1dENoYW5uZWxDb3VudCksZS5zZWxlY3RlZFRGTGl0ZT1wfWNhdGNoKGQpe20oZCk7cmV0dXJufWYoKX0pfXMoKS50aGVuKHU9PntpZih1PT09bnVsbCl0aHJvdyBjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIG51bGwiKSwibG9hZFRGTGl0ZSBudWxsIjthKHUpLnRoZW4oZj0+e28oZSl9KS5jYXRjaChmPT57Y29uc29sZS5lcnJvcigibG9hZFRGTGl0ZU1vZGVsIGVycm9yIiksaSgibG9hZFRGTGl0ZU1vZGVsIGVycm9yIil9KX0pLmNhdGNoKHU9Pntjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlIGVycm9yOiIsdSksaSgibG9hZFRGTGl0ZSBlcnJvcjoiK3UpfSl9KTtyZXR1cm4gbn1jbGFzcyBHaXtjb25zdHJ1Y3Rvcigpe2wodGhpcywiY2FudmFzIixuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCkpO2wodGhpcywiY29udGV4dCIsdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSk7bCh0aGlzLCJwaXhlbENvdW50IiwwKTtsKHRoaXMsImlucHV0T2Zmc2V0IiwwKTtsKHRoaXMsIm91dHB1dE9mZnNldCIsMCk7bCh0aGlzLCJpbmZvcyIpO2wodGhpcywibWFzayIpfWFzeW5jIGluaXQodCxlKXthd2FpdCB0aGlzLmluaXRXYXNtKHQsZSksdGhpcy5pbmZvcyYmKHRoaXMuY2FudmFzLndpZHRoPXRoaXMuaW5mb3MuaW5wdXRXaWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy5pbmZvcy5pbnB1dEhlaWdodCx0aGlzLnBpeGVsQ291bnQ9dGhpcy5pbmZvcy5pbnB1dFdpZHRoKnRoaXMuaW5mb3MuaW5wdXRIZWlnaHQsdGhpcy5tYXNrPW5ldyBJbWFnZURhdGEodGhpcy5pbmZvcy5pbnB1dFdpZHRoLHRoaXMuaW5mb3MuaW5wdXRIZWlnaHQpLHRoaXMuaW5wdXRPZmZzZXQ9dGhpcy5pbmZvcy5pbnB1dE1lbW9yeU9mZnNldC80LHRoaXMub3V0cHV0T2Zmc2V0PXRoaXMuaW5mb3Mub3V0cHV0TWVtb3J5T2Zmc2V0LzQpfWFzeW5jIGluaXRXYXNtKHQsZSl7dGhpcy5pbmZvcz1hd2FpdCAkaSh0LGUpfWdldE91dHB1dERpbWVuc2lvbnMoKXt2YXIgdCxlLG4sbztyZXR1cm57d2lkdGg6KGU9KHQ9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOnQub3V0cHV0V2lkdGgpIT1udWxsP2U6MCxoZWlnaHQ6KG89KG49dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOm4ub3V0cHV0SGVpZ2h0KSE9bnVsbD9vOjB9fWFzeW5jIHByb2Nlc3ModCl7aWYoIXRoaXMubWFza3x8IXRoaXMuaW5mb3MpcmV0dXJuO2NvbnN0IGU9dGhpcy5pbmZvcy5pbnB1dFdpZHRoLG49dGhpcy5pbmZvcy5pbnB1dEhlaWdodDt0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQsMCwwLGUsbik7Y29uc3Qgbz10aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCxlLG4pLGk9dGhpcy5pbmZvcy5zZWxlY3RlZFRGTGl0ZS5IRUFQRjMyO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmlucHV0T2Zmc2V0K3MqMztpW2FdPW8uZGF0YVtzKjRdLzI1NSxpW2ErMV09by5kYXRhW3MqNCsxXS8yNTUsaVthKzJdPW8uZGF0YVtzKjQrMl0vMjU1fXRoaXMuaW5mb3Muc2VsZWN0ZWRURkxpdGUuX3J1bkluZmVyZW5jZSgpO2ZvcihsZXQgcz0wO3M8dGhpcy5waXhlbENvdW50O3MrKyl7Y29uc3QgYT10aGlzLmluZm9zLnNlbGVjdGVkVEZMaXRlLkhFQVBGMzJbdGhpcy5vdXRwdXRPZmZzZXQrc107dGhpcy5tYXNrLmRhdGFbcyo0XT10aGlzLm1hc2suZGF0YVtzKjQrM109MjU1KmF9cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKHRoaXMubWFzayl9aXNHcHVTdXBwb3J0ZWQoKXt2YXIgdCxlLG47cmV0dXJuKG49KGU9KHQ9dGhpcy5pbmZvcyk9PW51bGw/dm9pZCAwOnQuc2VsZWN0ZWRURkxpdGUpPT1udWxsP3ZvaWQgMDplLl9pc0dQVUVuYWJsZWQoKSkhPW51bGw/bjohMX19ZnVuY3Rpb24gV2koKXtyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcygwLDApLmdldENvbnRleHQoIndlYmdsMiIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KT97c3VwcG9ydGVkOiEwfTp7c3VwcG9ydGVkOiExLG1lc3NhZ2U6IllvdXIgaGFyZHdhcmUgZG9lcyBub3QgcGVyZm9ybSBnb29kIGVub3VnaCB0byBydW4gdGhlIGxpYnJhcnkgZWZmaWNpZW50bHkifX1jbGFzcyBXdHtjb25zdHJ1Y3Rvcigpe2wodGhpcywiY2FudmFzIik7bCh0aGlzLCJjb250ZXh0Iik7Y29uc3QgdD1uZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCksZT10LmdldENvbnRleHQoIjJkIik7aWYoIWUpdGhyb3ciRmFpbCB0byByZXRyaWV2ZSB3ZWJnbDIgY29udGV4dCI7dGhpcy5jYW52YXM9dCx0aGlzLmNvbnRleHQ9ZX1zZXRGbGlja2VyaW5nT3B0aW9ucyh0KXt9ZW5hYmxlUG9zdFByb2Nlc3NpbmcoKXt9ZGlzYWJsZVBvc3RQcm9jZXNzaW5nKCl7fWFzeW5jIHByb2ZpbGVXZWJnbCh0KXtyZXR1cm5bXX1hc3luYyByZW5kZXIodCxlKXtyZXR1cm4gdGhpcy5jYW52YXN9cmVzaXplQ2FudmFzKHQpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0Om59PXQ7dGhpcy5jYW52YXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9bn1yZW5kZXJTaWxob3VldHRlKHQsZSxuPSJub25lIil7Y29uc3R7d2lkdGg6byxoZWlnaHQ6aX09dDt0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsbyxpKSx0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJzb3VyY2UtaW4iLHRoaXMuY29udGV4dC5maWx0ZXI9bix0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHQsMCwwLG8saSwwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KSx0aGlzLmNvbnRleHQucmVzdG9yZSgpfX1jbGFzcyBWaSBleHRlbmRzIFd0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5yYWRpdXM9dH1hc3luYyByZW5kZXIodCxlKXtyZXR1cm4gc3VwZXIucmVzaXplQ2FudmFzKHQpLHRoaXMucmVuZGVyU2lsaG91ZXR0ZSh0LGUpLHRoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LmZpbHRlcj1gYmx1cigke3RoaXMucmFkaXVzfXB4KWAsdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24tb3ZlciIsdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLmNvbnRleHQucmVzdG9yZSgpLHN1cGVyLnJlbmRlcih0LGUpfX1jbGFzcyBIaSBleHRlbmRzIFd0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5yYWRpdXM9dH1hc3luYyByZW5kZXIodCxlKXtyZXR1cm4gc3VwZXIucmVzaXplQ2FudmFzKHQpLHRoaXMucmVuZGVyU2lsaG91ZXR0ZSh0LGUsYGJsdXIoJHt0aGlzLnJhZGl1c31weClgKSx0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5maWx0ZXI9Im5vbmUiLHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImRlc3RpbmF0aW9uLW92ZXIiLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodCwwLDAsdC53aWR0aCx0LmhlaWdodCksdGhpcy5jb250ZXh0LnJlc3RvcmUoKSxzdXBlci5yZW5kZXIodCxlKX19Y2xhc3MgamkgZXh0ZW5kcyBXdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJiYWNrZ3JvdW5kSW1hZ2UiKX1zZXRCYWNrZ3JvdW5kSW1hZ2UoZSl7dGhpcy5iYWNrZ3JvdW5kSW1hZ2U9ZX1hc3luYyByZW5kZXIoZSxuKXtyZXR1cm4gc3VwZXIucmVzaXplQ2FudmFzKGUpLHRoaXMucmVuZGVyU2lsaG91ZXR0ZShlLG4pLHRoaXMuYmFja2dyb3VuZEltYWdlJiYodGhpcy5jb250ZXh0LnNhdmUoKSx0aGlzLmNvbnRleHQuZmlsdGVyPSJub25lIix0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1vdmVyIix0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuYmFja2dyb3VuZEltYWdlLDAsMCx0aGlzLmJhY2tncm91bmRJbWFnZS53aWR0aCx0aGlzLmJhY2tncm91bmRJbWFnZS5oZWlnaHQsMCwwLGUud2lkdGgsZS5oZWlnaHQpLHRoaXMuY29udGV4dC5yZXN0b3JlKCkpLHN1cGVyLnJlbmRlcihlLG4pfX0vKiBAbGljZW5zZSB0d2dsLmpzIDUuMi4wIENvcHlyaWdodCAoYykgMjAxNSwgR3JlZ2cgVGF2YXJlcyBBbGwgUmlnaHRzIFJlc2VydmVkLgpBdmFpbGFibGUgdmlhIHRoZSBNSVQgbGljZW5zZS4Kc2VlOiBodHRwOi8vZ2l0aHViLmNvbS9ncmVnZ21hbi90d2dsLmpzIGZvciBkZXRhaWxzICovY29uc3QgVnQ9NTEyMCxCZT01MTIxLEh0PTUxMjIsanQ9NTEyMyxZdD01MTI0LFh0PTUxMjUsUXQ9NTEyNixZaT0zMjgxOSxYaT0zMjgyMCxRaT0zMzYzNSxLaT01MTMxLHFpPTMzNjQwLEppPTM1ODk5LFppPTM1OTAyLGVzPTM2MjY5LHRzPTM0MDQyLGpyPXt9O3tjb25zdCByPWpyO3JbVnRdPUludDhBcnJheSxyW0JlXT1VaW50OEFycmF5LHJbSHRdPUludDE2QXJyYXkscltqdF09VWludDE2QXJyYXkscltZdF09SW50MzJBcnJheSxyW1h0XT1VaW50MzJBcnJheSxyW1F0XT1GbG9hdDMyQXJyYXkscltZaV09VWludDE2QXJyYXkscltYaV09VWludDE2QXJyYXkscltRaV09VWludDE2QXJyYXkscltLaV09VWludDE2QXJyYXkscltxaV09VWludDMyQXJyYXkscltKaV09VWludDMyQXJyYXkscltaaV09VWludDMyQXJyYXkscltlc109VWludDMyQXJyYXksclt0c109VWludDMyQXJyYXl9ZnVuY3Rpb24gS3Qocil7aWYociBpbnN0YW5jZW9mIEludDhBcnJheSlyZXR1cm4gVnQ7aWYociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHIgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSlyZXR1cm4gQmU7aWYociBpbnN0YW5jZW9mIEludDE2QXJyYXkpcmV0dXJuIEh0O2lmKHIgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlyZXR1cm4ganQ7aWYociBpbnN0YW5jZW9mIEludDMyQXJyYXkpcmV0dXJuIFl0O2lmKHIgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gWHQ7aWYociBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlyZXR1cm4gUXQ7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gWXIocil7aWYocj09PUludDhBcnJheSlyZXR1cm4gVnQ7aWYocj09PVVpbnQ4QXJyYXl8fHI9PT1VaW50OENsYW1wZWRBcnJheSlyZXR1cm4gQmU7aWYocj09PUludDE2QXJyYXkpcmV0dXJuIEh0O2lmKHI9PT1VaW50MTZBcnJheSlyZXR1cm4ganQ7aWYocj09PUludDMyQXJyYXkpcmV0dXJuIFl0O2lmKHI9PT1VaW50MzJBcnJheSlyZXR1cm4gWHQ7aWYocj09PUZsb2F0MzJBcnJheSlyZXR1cm4gUXQ7dGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlIil9ZnVuY3Rpb24gWHIocil7Y29uc3QgdD1qcltyXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gZ2wgdHlwZSIpO3JldHVybiB0fWNvbnN0IG90PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSI/ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuYnVmZmVyJiYodC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dC5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcil9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn07ZnVuY3Rpb24gUXIoLi4ucil7Y29uc29sZS5lcnJvciguLi5yKX1jb25zdCBLcj1uZXcgTWFwO2Z1bmN0aW9uIGl0KHIsdCl7aWYoIXJ8fHR5cGVvZiByIT0ib2JqZWN0IilyZXR1cm4hMTtsZXQgZT1Lci5nZXQodCk7ZXx8KGU9bmV3IFdlYWtNYXAsS3Iuc2V0KHQsZSkpO2xldCBuPWUuZ2V0KHIpO2lmKG49PT12b2lkIDApe2NvbnN0IG89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpO249by5zdWJzdHJpbmcoOCxvLmxlbmd0aC0xKT09PXQsZS5zZXQocixuKX1yZXR1cm4gbn1mdW5jdGlvbiBycyhyLHQpe3JldHVybiB0eXBlb2YgV2ViR0xCdWZmZXI8InUiJiZpdCh0LCJXZWJHTEJ1ZmZlciIpfWZ1bmN0aW9uIG5zKHIsdCl7cmV0dXJuIHR5cGVvZiBXZWJHTFJlbmRlcmJ1ZmZlcjwidSImJml0KHQsIldlYkdMUmVuZGVyYnVmZmVyIil9ZnVuY3Rpb24gcXQocix0KXtyZXR1cm4gdHlwZW9mIFdlYkdMVGV4dHVyZTwidSImJml0KHQsIldlYkdMVGV4dHVyZSIpfWZ1bmN0aW9uIG9zKHIsdCl7cmV0dXJuIHR5cGVvZiBXZWJHTFNhbXBsZXI8InUiJiZpdCh0LCJXZWJHTFNhbXBsZXIiKX1jb25zdCBxcj0zNTA0NCxoZT0zNDk2Mixpcz0zNDk2Myxzcz0zNDY2MCxhcz01MTIwLHVzPTUxMjEsY3M9NTEyMixmcz01MTIzLGxzPTUxMjQsZHM9NTEyNSxKcj01MTI2LFpyPXthdHRyaWJQcmVmaXg6IiJ9O2Z1bmN0aW9uIG1zKHIsdCxlLG4sbyl7ci5iaW5kQnVmZmVyKHQsZSksci5idWZmZXJEYXRhKHQsbixvfHxxcil9ZnVuY3Rpb24gZW4ocix0LGUsbil7aWYocnMocix0KSlyZXR1cm4gdDtlPWV8fGhlO2NvbnN0IG89ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gbXMocixlLG8sdCxuKSxvfWZ1bmN0aW9uIHRuKHIpe3JldHVybiByPT09ImluZGljZXMifWZ1bmN0aW9uIGhzKHIpe3JldHVybiByPT09SW50OEFycmF5fHxyPT09VWludDhBcnJheX1mdW5jdGlvbiBwcyhyKXtyZXR1cm4gci5sZW5ndGg/cjpyLmRhdGF9Y29uc3QgZ3M9L2Nvb3JkfHRleHR1cmUvaSx5cz0vY29sb3J8Y29sb3VyL2k7ZnVuY3Rpb24geHMocix0KXtsZXQgZTtpZihncy50ZXN0KHIpP2U9Mjp5cy50ZXN0KHIpP2U9NDplPTMsdCVlPjApdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGd1ZXNzIG51bUNvbXBvbmVudHMgZm9yIGF0dHJpYnV0ZSAnJHtyfScuIFRyaWVkICR7ZX0gYnV0ICR7dH0gdmFsdWVzIGlzIG5vdCBldmVubHkgZGl2aXNpYmxlIGJ5ICR7ZX0uIFlvdSBzaG91bGQgc3BlY2lmeSBpdC5gKTtyZXR1cm4gZX1mdW5jdGlvbiBfcyhyLHQsZSl7cmV0dXJuIHIubnVtQ29tcG9uZW50c3x8ci5zaXplfHx4cyh0LGV8fHBzKHIpLmxlbmd0aCl9ZnVuY3Rpb24gcm4ocix0KXtpZihvdChyKSlyZXR1cm4gcjtpZihvdChyLmRhdGEpKXJldHVybiByLmRhdGE7QXJyYXkuaXNBcnJheShyKSYmKHI9e2RhdGE6cn0pO2xldCBlPXIudHlwZT9KdChyLnR5cGUpOnZvaWQgMDtyZXR1cm4gZXx8KHRuKHQpP2U9VWludDE2QXJyYXk6ZT1GbG9hdDMyQXJyYXkpLG5ldyBlKHIuZGF0YSl9ZnVuY3Rpb24gYnMocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9yOnI/WXIocik6SnJ9ZnVuY3Rpb24gSnQocil7cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIj9YcihyKTpyfHxGbG9hdDMyQXJyYXl9ZnVuY3Rpb24gdnMocix0KXtyZXR1cm57YnVmZmVyOnQuYnVmZmVyLG51bVZhbHVlczoyKjMqNCx0eXBlOmJzKHQudHlwZSksYXJyYXlUeXBlOkp0KHQudHlwZSl9fWZ1bmN0aW9uIEVzKHIsdCl7Y29uc3QgZT10LmRhdGF8fHQsbj1KdCh0LnR5cGUpLG89ZSpuLkJZVEVTX1BFUl9FTEVNRU5ULGk9ci5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gci5iaW5kQnVmZmVyKGhlLGkpLHIuYnVmZmVyRGF0YShoZSxvLHQuZHJhd1R5cGV8fHFyKSx7YnVmZmVyOmksbnVtVmFsdWVzOmUsdHlwZTpZcihuKSxhcnJheVR5cGU6bn19ZnVuY3Rpb24gVHMocix0LGUpe2NvbnN0IG49cm4odCxlKTtyZXR1cm57YXJyYXlUeXBlOm4uY29uc3RydWN0b3IsYnVmZmVyOmVuKHIsbix2b2lkIDAsdC5kcmF3VHlwZSksdHlwZTpLdChuKSxudW1WYWx1ZXM6MH19ZnVuY3Rpb24gQXMocix0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCF0bihuKSl7Y29uc3Qgbz10W25dLGk9by5hdHRyaWJ8fG8ubmFtZXx8by5hdHRyaWJOYW1lfHxaci5hdHRyaWJQcmVmaXgrbjtpZihvLnZhbHVlKXtpZighQXJyYXkuaXNBcnJheShvLnZhbHVlKSYmIW90KG8udmFsdWUpKXRocm93IG5ldyBFcnJvcigiYXJyYXkudmFsdWUgaXMgbm90IGFycmF5IG9yIHR5cGVkYXJyYXkiKTtlW2ldPXt2YWx1ZTpvLnZhbHVlfX1lbHNle2xldCBzO28uYnVmZmVyJiZvLmJ1ZmZlciBpbnN0YW5jZW9mIFdlYkdMQnVmZmVyP3M9dnM6dHlwZW9mIG89PSJudW1iZXIifHx0eXBlb2Ygby5kYXRhPT0ibnVtYmVyIj9zPUVzOnM9VHM7Y29uc3R7YnVmZmVyOmEsdHlwZTp1LG51bVZhbHVlczpmLGFycmF5VHlwZTptfT1zKHIsbyxuKSxwPW8ubm9ybWFsaXplIT09dm9pZCAwP28ubm9ybWFsaXplOmhzKG0pLGc9X3MobyxuLGYpO2VbaV09e2J1ZmZlcjphLG51bUNvbXBvbmVudHM6Zyx0eXBlOnUsbm9ybWFsaXplOnAsc3RyaWRlOm8uc3RyaWRlfHwwLG9mZnNldDpvLm9mZnNldHx8MCxkaXZpc29yOm8uZGl2aXNvcj09PXZvaWQgMD92b2lkIDA6by5kaXZpc29yLGRyYXdUeXBlOm8uZHJhd1R5cGV9fX19KSxyLmJpbmRCdWZmZXIoaGUsbnVsbCksZX1mdW5jdGlvbiB3cyhyLHQpe3JldHVybiB0PT09YXN8fHQ9PT11cz8xOnQ9PT1jc3x8dD09PWZzPzI6dD09PWxzfHx0PT09ZHN8fHQ9PT1Kcj80OjB9Y29uc3QgWnQ9WyJwb3NpdGlvbiIsInBvc2l0aW9ucyIsImFfcG9zaXRpb24iXTtmdW5jdGlvbiBJcyhyLHQpe2xldCBlLG47Zm9yKG49MDtuPFp0Lmxlbmd0aCYmKGU9WnRbbl0sIShlIGluIHR8fChlPVpyLmF0dHJpYlByZWZpeCtlLGUgaW4gdCkpKTsrK24pO249PT1adC5sZW5ndGgmJihlPU9iamVjdC5rZXlzKHQpWzBdKTtjb25zdCBvPXRbZV07aWYoIW8uYnVmZmVyKXJldHVybiAxO3IuYmluZEJ1ZmZlcihoZSxvLmJ1ZmZlcik7Y29uc3QgaT1yLmdldEJ1ZmZlclBhcmFtZXRlcihoZSxzcyk7ci5iaW5kQnVmZmVyKGhlLG51bGwpO2NvbnN0IHM9d3MocixvLnR5cGUpLGE9aS9zLHU9by5udW1Db21wb25lbnRzfHxvLnNpemUsZj1hL3U7aWYoZiUxIT09MCl0aHJvdyBuZXcgRXJyb3IoYG51bUNvbXBvbmVudHMgJHt1fSBub3QgY29ycmVjdCBmb3IgbGVuZ3RoICR7bGVuZ3RofWApO3JldHVybiBmfWZ1bmN0aW9uIFNzKHIsdCxlKXtjb25zdCBuPUFzKHIsdCksbz1PYmplY3QuYXNzaWduKHt9LGV8fHt9KTtvLmF0dHJpYnM9T2JqZWN0LmFzc2lnbih7fSxlP2UuYXR0cmliczp7fSxuKTtjb25zdCBpPXQuaW5kaWNlcztpZihpKXtjb25zdCBzPXJuKGksImluZGljZXMiKTtvLmluZGljZXM9ZW4ocixzLGlzKSxvLm51bUVsZW1lbnRzPXMubGVuZ3RoLG8uZWxlbWVudFR5cGU9S3Qocyl9ZWxzZSBvLm51bUVsZW1lbnRzfHwoby5udW1FbGVtZW50cz1JcyhyLG8uYXR0cmlicykpO3JldHVybiBvfWZ1bmN0aW9uIE5lKHIpe3JldHVybiEhci50ZXhTdG9yYWdlMkR9Y29uc3Qgbm49ZnVuY3Rpb24oKXtjb25zdCByPXt9LHQ9e307ZnVuY3Rpb24gZShuKXtjb25zdCBvPW4uY29uc3RydWN0b3IubmFtZTtpZighcltvXSl7Zm9yKGNvbnN0IGkgaW4gbilpZih0eXBlb2YgbltpXT09Im51bWJlciIpe2NvbnN0IHM9dFtuW2ldXTt0W25baV1dPXM/YCR7c30gfCAke2l9YDppfXJbb109ITB9fXJldHVybiBmdW5jdGlvbihvLGkpe3JldHVybiBlKG8pLHRbaV18fCh0eXBlb2YgaT09Im51bWJlciI/YDB4JHtpLnRvU3RyaW5nKDE2KX1gOmkpfX0oKSxuZT17dGV4dHVyZUNvbG9yOm5ldyBVaW50OEFycmF5KFsxMjgsMTkyLDI1NSwyNTVdKSx0ZXh0dXJlT3B0aW9uczp7fSxjcm9zc09yaWdpbjp2b2lkIDB9LE9lPW90LG9uPWZ1bmN0aW9uKCl7bGV0IHI7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHI9cnx8KHR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTpudWxsKSxyfX0oKSxzbj02NDA2LEs9NjQwNyxSPTY0MDgsYW49NjQwOSx1bj02NDEwLE1lPTY0MDIsY249MzQwNDEsc3Q9MzMwNzEsUnM9OTcyOCxGcz05NzI5LG9lPTM1NTMsaWU9MzQwNjcscGU9MzI4NzksZ2U9MzU4NjYsZXI9MzQwNjksUHM9MzQwNzAsa3M9MzQwNzEsRHM9MzQwNzIsQ3M9MzQwNzMsQnM9MzQwNzQsdHI9MTAyNDEscnI9MTAyNDAsYXQ9MTAyNDIsdXQ9MTAyNDMsZm49MzI4ODIsTnM9MzMwODIsT3M9MzMwODMsTXM9MzMwODQsVXM9MzMwODUsbnI9MzMxNyxsbj0zMzE0LGRuPTMyODc4LG1uPTMzMTYsaG49MzMxNSxwbj0zMjg3NyxMcz0zNzQ0Myx6cz0zNzQ0MSwkcz0zNzQ0MCxHcz0zMzMyMSxXcz0zNjc1NixWcz0zMzMyNSxIcz0zMzMyNixqcz0zMzMzMCxZcz0zMzMyOSxYcz0zMzMzOCxRcz0zMzMzNyxLcz0zMzM0MCxxcz0zMzMzOSxKcz0zMzMyMyxacz0zNjc1NyxlYT0zMzMyNyx0YT0zMzMyOCxyYT0zMzMzNixuYT0zMzMzNSxvYT0zMzMzMixpYT0zMzMzMSxzYT0zMzMzNCxhYT0zMzMzMyx1YT0zMjg0OSxjYT0zNTkwNSxmYT0zNjE5NCxsYT0zNjc1OCxkYT0zNTg5OCxtYT0zNTkwMSxoYT0zNDg0MyxwYT0zNDgzNyxnYT0zNjIyMSx5YT0zNjIzOSx4YT0zNjIxNSxfYT0zNjIzMyxiYT0zNjIwOSx2YT0zNjIyNyxFYT0zMjg1NixUYT0zNTkwNyxBYT0zNjc1OSx3YT0zMjg1NSxJYT0zMjg1NCxTYT0zMjg1NyxSYT0zNDg0MixGYT0zNDgzNixQYT0zNjIyMCxrYT0zNjIzOCxEYT0zNjk3NSxDYT0zNjIxNCxCYT0zNjIzMixOYT0zNjIyNixPYT0zNjIwOCxNYT0zMzE4OSxVYT0zMzE5MCxMYT0zNjAxMix6YT0zNjAxMywkYT0zNTA1NixzZT01MTIwLFM9NTEyMSxjdD01MTIyLEFlPTUxMjMsZnQ9NTEyNCx5ZT01MTI1LE89NTEyNixnbj0zMjgxOSx5bj0zMjgyMCx4bj0zMzYzNSxqPTUxMzEsVWU9MzYxOTMsb3I9MzM2NDAsR2E9MzU4OTksV2E9MzU5MDIsVmE9MzYyNjksSGE9MzQwNDIsbHQ9MzMzMTksd2U9MzMzMjAsZHQ9NjQwMyxJZT0zNjI0NCxTZT0zNjI0OCx4ZT0zNjI0OTtsZXQgaXI7ZnVuY3Rpb24gbXQocil7aWYoIWlyKXtjb25zdCB0PXt9O3Rbc25dPXt0ZXh0dXJlRm9ybWF0OnNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEsMiwyLDRdLHR5cGU6W1MsaixVZSxPXX0sdFthbl09e3RleHR1cmVGb3JtYXQ6YW4sY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMSwyLDIsNF0sdHlwZTpbUyxqLFVlLE9dfSx0W3VuXT17dGV4dHVyZUZvcm1hdDp1bixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsyLDQsNCw4XSx0eXBlOltTLGosVWUsT119LHRbS109e3RleHR1cmVGb3JtYXQ6Syxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlszLDYsNiwxMiwyXSx0eXBlOltTLGosVWUsTyx4bl19LHRbUl09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDgsOCwxNiwyLDJdLHR5cGU6W1MsaixVZSxPLGduLHluXX0sdFtNZV09e3RleHR1cmVGb3JtYXQ6TWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMiw0XSx0eXBlOlt5ZSxBZV19LHRbR3NdPXt0ZXh0dXJlRm9ybWF0OmR0LGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W1NdfSx0W1dzXT17dGV4dHVyZUZvcm1hdDpkdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltzZV19LHRbVnNdPXt0ZXh0dXJlRm9ybWF0OmR0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzQsMl0sdHlwZTpbTyxqXX0sdFtIc109e3RleHR1cmVGb3JtYXQ6ZHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbT119LHRbanNdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W1NdfSx0W1lzXT17dGV4dHVyZUZvcm1hdDpJZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxXSx0eXBlOltzZV19LHRbb2FdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W0FlXX0sdFtpYV09e3RleHR1cmVGb3JtYXQ6SWUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbY3RdfSx0W3NhXT17dGV4dHVyZUZvcm1hdDpJZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt5ZV19LHRbYWFdPXt0ZXh0dXJlRm9ybWF0OkllLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W2Z0XX0sdFtKc109e3RleHR1cmVGb3JtYXQ6bHQsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbU119LHRbWnNdPXt0ZXh0dXJlRm9ybWF0Omx0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W3NlXX0sdFtlYV09e3RleHR1cmVGb3JtYXQ6bHQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbOCw0XSx0eXBlOltPLGpdfSx0W3RhXT17dGV4dHVyZUZvcm1hdDpsdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltPXX0sdFtyYV09e3RleHR1cmVGb3JtYXQ6d2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbU119LHRbbmFdPXt0ZXh0dXJlRm9ybWF0OndlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzJdLHR5cGU6W3NlXX0sdFtYc109e3RleHR1cmVGb3JtYXQ6d2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbQWVdfSx0W1FzXT17dGV4dHVyZUZvcm1hdDp3ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltjdF19LHRbS3NdPXt0ZXh0dXJlRm9ybWF0OndlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzhdLHR5cGU6W3llXX0sdFtxc109e3RleHR1cmVGb3JtYXQ6d2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbZnRdfSx0W3VhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W1NdfSx0W2NhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W1NdfSx0W2ZhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzMsMl0sdHlwZTpbUyx4bl19LHRbbGFdPXt0ZXh0dXJlRm9ybWF0OkssY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbc2VdfSx0W2RhXT17dGV4dHVyZUZvcm1hdDpLLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEyLDYsNF0sdHlwZTpbTyxqLEdhXX0sdFttYV09e3RleHR1cmVGb3JtYXQ6Syxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxMiw2LDRdLHR5cGU6W08saixXYV19LHRbaGFdPXt0ZXh0dXJlRm9ybWF0OkssY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTIsNl0sdHlwZTpbTyxqXX0sdFtwYV09e3RleHR1cmVGb3JtYXQ6Syxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbT119LHRbZ2FdPXt0ZXh0dXJlRm9ybWF0OlNlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W1NdfSx0W3lhXT17dGV4dHVyZUZvcm1hdDpTZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlszXSx0eXBlOltzZV19LHRbeGFdPXt0ZXh0dXJlRm9ybWF0OlNlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzZdLHR5cGU6W0FlXX0sdFtfYV09e3RleHR1cmVGb3JtYXQ6U2UsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNl0sdHlwZTpbY3RdfSx0W2JhXT17dGV4dHVyZUZvcm1hdDpTZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbeWVdfSx0W3ZhXT17dGV4dHVyZUZvcm1hdDpTZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxMl0sdHlwZTpbZnRdfSx0W0VhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1NdfSx0W1RhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1NdfSx0W0FhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W3NlXX0sdFt3YV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDIsNF0sdHlwZTpbUyx5bixvcl19LHRbSWFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNCwyXSx0eXBlOltTLGduXX0sdFtTYV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltvcl19LHRbUmFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTYsOF0sdHlwZTpbTyxqXX0sdFtGYV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsxNl0sdHlwZTpbT119LHRbUGFdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1NdfSx0W2thXT17dGV4dHVyZUZvcm1hdDp4ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltzZV19LHRbRGFdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W29yXX0sdFtDYV09e3RleHR1cmVGb3JtYXQ6eGUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbQWVdfSx0W0JhXT17dGV4dHVyZUZvcm1hdDp4ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltjdF19LHRbTmFdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOltmdF19LHRbT2FdPXt0ZXh0dXJlRm9ybWF0OnhlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOlt5ZV19LHRbTWFdPXt0ZXh0dXJlRm9ybWF0Ok1lLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzIsNF0sdHlwZTpbQWUseWVdfSx0W1VhXT17dGV4dHVyZUZvcm1hdDpNZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOlt5ZV19LHRbTGFdPXt0ZXh0dXJlRm9ybWF0Ok1lLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W09dfSx0WyRhXT17dGV4dHVyZUZvcm1hdDpjbixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltIYV19LHRbemFdPXt0ZXh0dXJlRm9ybWF0OmNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1ZhXX0sT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtjb25zdCBuPXRbZV07bi5ieXRlc1BlckVsZW1lbnRNYXA9e30sbi5ieXRlc1BlckVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbihvLGkpe2NvbnN0IHM9bi50eXBlW2ldO24uYnl0ZXNQZXJFbGVtZW50TWFwW3NdPW99KX0pLGlyPXR9cmV0dXJuIGlyW3JdfWZ1bmN0aW9uIGphKHIsdCl7Y29uc3QgZT1tdChyKTtpZighZSl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7Y29uc3Qgbj1lLmJ5dGVzUGVyRWxlbWVudE1hcFt0XTtpZihuPT09dm9pZCAwKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm4gbn1mdW5jdGlvbiBMZShyKXtjb25zdCB0PW10KHIpO2lmKCF0KXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm57Zm9ybWF0OnQudGV4dHVyZUZvcm1hdCx0eXBlOnQudHlwZVswXX19ZnVuY3Rpb24gX24ocil7cmV0dXJuKHImci0xKT09PTB9ZnVuY3Rpb24gWWEocix0LGUsbil7aWYoIU5lKHIpKXJldHVybiBfbih0KSYmX24oZSk7Y29uc3Qgbz1tdChuKTtpZighbyl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7cmV0dXJuIG8uY29sb3JSZW5kZXJhYmxlJiZvLnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIFhhKHIpe2NvbnN0IHQ9bXQocik7aWYoIXQpdGhyb3cidW5rbm93biBpbnRlcm5hbCBmb3JtYXQiO3JldHVybiB0LnRleHR1cmVGaWx0ZXJhYmxlfWZ1bmN0aW9uIFFhKHIsdCxlKXtyZXR1cm4gT2UodCk/S3QodCk6ZXx8U31mdW5jdGlvbiBodChyLHQsZSxuLG8pe2lmKG8lMSE9PTApdGhyb3ciY2FuJ3QgZ3Vlc3MgZGltZW5zaW9ucyI7aWYoIWUmJiFuKXtjb25zdCBpPU1hdGguc3FydChvLyh0PT09aWU/NjoxKSk7aSUxPT09MD8oZT1pLG49aSk6KGU9byxuPTEpfWVsc2UgaWYobil7aWYoIWUmJihlPW8vbixlJTEpKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMifWVsc2UgaWYobj1vL2UsbiUxKXRocm93ImNhbid0IGd1ZXNzIGRpbWVuc2lvbnMiO3JldHVybnt3aWR0aDplLGhlaWdodDpufX1mdW5jdGlvbiBSZShyLHQpe3QuY29sb3JzcGFjZUNvbnZlcnNpb24hPT12b2lkIDAmJnIucGl4ZWxTdG9yZWkoTHMsdC5jb2xvcnNwYWNlQ29udmVyc2lvbiksdC5wcmVtdWx0aXBseUFscGhhIT09dm9pZCAwJiZyLnBpeGVsU3RvcmVpKHpzLHQucHJlbXVsdGlwbHlBbHBoYSksdC5mbGlwWSE9PXZvaWQgMCYmci5waXhlbFN0b3JlaSgkcyx0LmZsaXBZKX1mdW5jdGlvbiBibihyKXtyLnBpeGVsU3RvcmVpKG5yLDQpLE5lKHIpJiYoci5waXhlbFN0b3JlaShsbiwwKSxyLnBpeGVsU3RvcmVpKGRuLDApLHIucGl4ZWxTdG9yZWkobW4sMCksci5waXhlbFN0b3JlaShobiwwKSxyLnBpeGVsU3RvcmVpKHBuLDApKX1mdW5jdGlvbiBLYShyLHQsZSxuKXtuLm1pbk1hZyYmKGUuY2FsbChyLHQsdHIsbi5taW5NYWcpLGUuY2FsbChyLHQscnIsbi5taW5NYWcpKSxuLm1pbiYmZS5jYWxsKHIsdCx0cixuLm1pbiksbi5tYWcmJmUuY2FsbChyLHQscnIsbi5tYWcpLG4ud3JhcCYmKGUuY2FsbChyLHQsYXQsbi53cmFwKSxlLmNhbGwocix0LHV0LG4ud3JhcCksKHQ9PT1wZXx8b3Mocix0KSkmJmUuY2FsbChyLHQsZm4sbi53cmFwKSksbi53cmFwUiYmZS5jYWxsKHIsdCxmbixuLndyYXBSKSxuLndyYXBTJiZlLmNhbGwocix0LGF0LG4ud3JhcFMpLG4ud3JhcFQmJmUuY2FsbChyLHQsdXQsbi53cmFwVCksbi5taW5Mb2QmJmUuY2FsbChyLHQsTnMsbi5taW5Mb2QpLG4ubWF4TG9kJiZlLmNhbGwocix0LE9zLG4ubWF4TG9kKSxuLmJhc2VMZXZlbCYmZS5jYWxsKHIsdCxNcyxuLmJhc2VMZXZlbCksbi5tYXhMZXZlbCYmZS5jYWxsKHIsdCxVcyxuLm1heExldmVsKX1mdW5jdGlvbiB2bihyLHQsZSl7Y29uc3Qgbj1lLnRhcmdldHx8b2U7ci5iaW5kVGV4dHVyZShuLHQpLEthKHIsbixyLnRleFBhcmFtZXRlcmksZSl9ZnVuY3Rpb24gcWEocil7cmV0dXJuIHI9cnx8bmUudGV4dHVyZUNvbG9yLE9lKHIpP3I6bmV3IFVpbnQ4QXJyYXkoW3JbMF0qMjU1LHJbMV0qMjU1LHJbMl0qMjU1LHJbM10qMjU1XSl9ZnVuY3Rpb24gc3Iocix0LGUsbixvLGkpe2U9ZXx8bmUudGV4dHVyZU9wdGlvbnMsaT1pfHxSO2NvbnN0IHM9ZS50YXJnZXR8fG9lO2lmKG49bnx8ZS53aWR0aCxvPW98fGUuaGVpZ2h0LHIuYmluZFRleHR1cmUocyx0KSxZYShyLG4sbyxpKSlyLmdlbmVyYXRlTWlwbWFwKHMpO2Vsc2V7Y29uc3QgYT1YYShpKT9GczpScztyLnRleFBhcmFtZXRlcmkocyx0cixhKSxyLnRleFBhcmFtZXRlcmkocyxycixhKSxyLnRleFBhcmFtZXRlcmkocyxhdCxzdCksci50ZXhQYXJhbWV0ZXJpKHMsdXQsc3QpfX1mdW5jdGlvbiB6ZShyKXtyZXR1cm4gci5hdXRvPT09ITB8fHIuYXV0bz09PXZvaWQgMCYmci5sZXZlbD09PXZvaWQgMH1mdW5jdGlvbiBhcihyLHQpe3JldHVybiB0PXR8fHt9LHQuY3ViZUZhY2VPcmRlcnx8W2VyLFBzLGtzLERzLENzLEJzXX1mdW5jdGlvbiB1cihyLHQpe2NvbnN0IG49YXIocix0KS5tYXAoZnVuY3Rpb24obyxpKXtyZXR1cm57ZmFjZTpvLG5keDppfX0pO3JldHVybiBuLnNvcnQoZnVuY3Rpb24obyxpKXtyZXR1cm4gby5mYWNlLWkuZmFjZX0pLG59ZnVuY3Rpb24gRW4ocix0LGUsbil7bj1ufHxuZS50ZXh0dXJlT3B0aW9ucztjb25zdCBvPW4udGFyZ2V0fHxvZSxpPW4ubGV2ZWx8fDA7bGV0IHM9ZS53aWR0aCxhPWUuaGVpZ2h0O2NvbnN0IHU9bi5pbnRlcm5hbEZvcm1hdHx8bi5mb3JtYXR8fFIsZj1MZSh1KSxtPW4uZm9ybWF0fHxmLmZvcm1hdCxwPW4udHlwZXx8Zi50eXBlO2lmKFJlKHIsbiksci5iaW5kVGV4dHVyZShvLHQpLG89PT1pZSl7Y29uc3QgZz1lLndpZHRoLHg9ZS5oZWlnaHQ7bGV0IGQsXztpZihnLzY9PT14KWQ9eCxfPVswLDAsMSwwLDIsMCwzLDAsNCwwLDUsMF07ZWxzZSBpZih4LzY9PT1nKWQ9ZyxfPVswLDAsMCwxLDAsMiwwLDMsMCw0LDAsNV07ZWxzZSBpZihnLzM9PT14LzIpZD1nLzMsXz1bMCwwLDEsMCwyLDAsMCwxLDEsMSwyLDFdO2Vsc2UgaWYoZy8yPT09eC8zKWQ9Zy8yLF89WzAsMCwxLDAsMCwxLDEsMSwwLDIsMSwyXTtlbHNlIHRocm93ImNhbid0IGZpZ3VyZSBvdXQgY3ViZSBtYXAgZnJvbSBlbGVtZW50OiAiKyhlLnNyYz9lLnNyYzplLm5vZGVOYW1lKTtjb25zdCBFPW9uKCk7RT8oRS5jYW52YXMud2lkdGg9ZCxFLmNhbnZhcy5oZWlnaHQ9ZCxzPWQsYT1kLHVyKHIsbikuZm9yRWFjaChmdW5jdGlvbih2KXtjb25zdCBGPV9bdi5uZHgqMiswXSpkLGs9X1t2Lm5keCoyKzFdKmQ7RS5kcmF3SW1hZ2UoZSxGLGssZCxkLDAsMCxkLGQpLHIudGV4SW1hZ2UyRCh2LmZhY2UsaSx1LG0scCxFLmNhbnZhcyl9KSxFLmNhbnZhcy53aWR0aD0xLEUuY2FudmFzLmhlaWdodD0xKTp0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXA8InUiJiYocz1kLGE9ZCx1cihyLG4pLmZvckVhY2goZnVuY3Rpb24odil7Y29uc3QgRj1fW3YubmR4KjIrMF0qZCxrPV9bdi5uZHgqMisxXSpkO3IudGV4SW1hZ2UyRCh2LmZhY2UsaSx1LGQsZCwwLG0scCxudWxsKSxjcmVhdGVJbWFnZUJpdG1hcChlLEYsayxkLGQse3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLGNvbG9yU3BhY2VDb252ZXJzaW9uOiJub25lIn0pLnRoZW4oZnVuY3Rpb24oJCl7UmUocixuKSxyLmJpbmRUZXh0dXJlKG8sdCksci50ZXhJbWFnZTJEKHYuZmFjZSxpLHUsbSxwLCQpLHplKG4pJiZzcihyLHQsbixzLGEsdSl9KX0pKX1lbHNlIGlmKG89PT1wZXx8bz09PWdlKXtjb25zdCBnPU1hdGgubWluKGUud2lkdGgsZS5oZWlnaHQpLHg9TWF0aC5tYXgoZS53aWR0aCxlLmhlaWdodCksZD14L2c7aWYoZCUxIT09MCl0aHJvdyJjYW4gbm90IGNvbXB1dGUgM0QgZGltZW5zaW9ucyBvZiBlbGVtZW50Ijtjb25zdCBfPWUud2lkdGg9PT14PzE6MCxFPWUuaGVpZ2h0PT09eD8xOjA7ci5waXhlbFN0b3JlaShuciwxKSxyLnBpeGVsU3RvcmVpKGxuLGUud2lkdGgpLHIucGl4ZWxTdG9yZWkoZG4sMCksci5waXhlbFN0b3JlaShwbiwwKSxyLnRleEltYWdlM0QobyxpLHUsZyxnLGcsMCxtLHAsbnVsbCk7Zm9yKGxldCB2PTA7djxkOysrdil7Y29uc3QgRj12KmcqXyxrPXYqZypFO3IucGl4ZWxTdG9yZWkobW4sRiksci5waXhlbFN0b3JlaShobixrKSxyLnRleFN1YkltYWdlM0QobyxpLDAsMCx2LGcsZywxLG0scCxlKX1ibihyKX1lbHNlIHIudGV4SW1hZ2UyRChvLGksdSxtLHAsZSk7emUobikmJnNyKHIsdCxuLHMsYSx1KSx2bihyLHQsbil9ZnVuY3Rpb24gJGUoKXt9ZnVuY3Rpb24gSmEocil7aWYodHlwZW9mIGRvY3VtZW50PCJ1Iil7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIHQuaHJlZj1yLHQuaG9zdG5hbWU9PT1sb2NhdGlvbi5ob3N0bmFtZSYmdC5wb3J0PT09bG9jYXRpb24ucG9ydCYmdC5wcm90b2NvbD09PWxvY2F0aW9uLnByb3RvY29sfWVsc2V7Y29uc3QgdD1uZXcgVVJMKGxvY2F0aW9uLmhyZWYpLm9yaWdpbjtyZXR1cm4gbmV3IFVSTChyLGxvY2F0aW9uLmhyZWYpLm9yaWdpbj09PXR9fWZ1bmN0aW9uIFphKHIsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJiFKYShyKT8iYW5vbnltb3VzIjp0fWZ1bmN0aW9uIGV1KHIsdCxlKXtlPWV8fCRlO2xldCBuO2lmKHQ9dCE9PXZvaWQgMD90Om5lLmNyb3NzT3JpZ2luLHQ9WmEocix0KSx0eXBlb2YgSW1hZ2U8InUiKXtuPW5ldyBJbWFnZSx0IT09dm9pZCAwJiYobi5jcm9zc09yaWdpbj10KTtjb25zdCBvPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsaSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixzKSxuPW51bGx9LGk9ZnVuY3Rpb24oKXtjb25zdCB1PSJjb3VsZG4ndCBsb2FkIGltYWdlOiAiK3I7UXIodSksZSh1LG4pLG8oKX0scz1mdW5jdGlvbigpe2UobnVsbCxuKSxvKCl9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixpKSxuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHMpLG4uc3JjPXIsbn1lbHNlIGlmKHR5cGVvZiBJbWFnZUJpdG1hcDwidSIpe2xldCBvLGk7Y29uc3Qgcz1mdW5jdGlvbigpe2UobyxpKX0sYT17fTt0JiYoYS5tb2RlPSJjb3JzIiksZmV0Y2gocixhKS50aGVuKGZ1bmN0aW9uKHUpe2lmKCF1Lm9rKXRocm93IHU7cmV0dXJuIHUuYmxvYigpfSkudGhlbihmdW5jdGlvbih1KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsY29sb3JTcGFjZUNvbnZlcnNpb246Im5vbmUifSl9KS50aGVuKGZ1bmN0aW9uKHUpe2k9dSxzZXRUaW1lb3V0KHMpfSkuY2F0Y2goZnVuY3Rpb24odSl7bz11LHNldFRpbWVvdXQocyl9KSxuPW51bGx9cmV0dXJuIG59ZnVuY3Rpb24gVG4ocil7cmV0dXJuIHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnIgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcHx8dHlwZW9mIEltYWdlRGF0YTwidSImJnIgaW5zdGFuY2VvZiBJbWFnZURhdGF8fHR5cGVvZiBIVE1MRWxlbWVudDwidSImJnIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH1mdW5jdGlvbiBjcihyLHQsZSl7cmV0dXJuIFRuKHIpPyhzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShudWxsLHIpfSkscik6ZXUocix0LGUpfWZ1bmN0aW9uIGZyKHIsdCxlKXtlPWV8fG5lLnRleHR1cmVPcHRpb25zO2NvbnN0IG49ZS50YXJnZXR8fG9lO2lmKHIuYmluZFRleHR1cmUobix0KSxlLmNvbG9yPT09ITEpcmV0dXJuO2NvbnN0IG89cWEoZS5jb2xvcik7aWYobj09PWllKWZvcihsZXQgaT0wO2k8NjsrK2kpci50ZXhJbWFnZTJEKGVyK2ksMCxSLDEsMSwwLFIsUyxvKTtlbHNlIG49PT1wZXx8bj09PWdlP3IudGV4SW1hZ2UzRChuLDAsUiwxLDEsMSwwLFIsUyxvKTpyLnRleEltYWdlMkQobiwwLFIsMSwxLDAsUixTLG8pfWZ1bmN0aW9uIHR1KHIsdCxlLG4pe3JldHVybiBuPW58fCRlLGU9ZXx8bmUudGV4dHVyZU9wdGlvbnMsZnIocix0LGUpLGU9T2JqZWN0LmFzc2lnbih7fSxlKSxjcihlLnNyYyxlLmNyb3NzT3JpZ2luLGZ1bmN0aW9uKGkscyl7aT9uKGksdCxzKTooRW4ocix0LHMsZSksbihudWxsLHQscykpfSl9ZnVuY3Rpb24gcnUocix0LGUsbil7bj1ufHwkZTtjb25zdCBvPWUuc3JjO2lmKG8ubGVuZ3RoIT09Nil0aHJvdyJ0aGVyZSBtdXN0IGJlIDYgdXJscyBmb3IgYSBjdWJlbWFwIjtjb25zdCBpPWUubGV2ZWx8fDAscz1lLmludGVybmFsRm9ybWF0fHxlLmZvcm1hdHx8UixhPUxlKHMpLHU9ZS5mb3JtYXR8fGEuZm9ybWF0LGY9ZS50eXBlfHxTLG09ZS50YXJnZXR8fG9lO2lmKG0hPT1pZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFX0NVQkVfTUFQIjtmcihyLHQsZSksZT1PYmplY3QuYXNzaWduKHt9LGUpO2xldCBwPTY7Y29uc3QgZz1bXSx4PWFyKHIsZSk7bGV0IGQ7ZnVuY3Rpb24gXyhFKXtyZXR1cm4gZnVuY3Rpb24odixGKXstLXAsdj9nLnB1c2godik6Ri53aWR0aCE9PUYuaGVpZ2h0P2cucHVzaCgiY3ViZW1hcCBmYWNlIGltZyBpcyBub3QgYSBzcXVhcmU6ICIrRi5zcmMpOihSZShyLGUpLHIuYmluZFRleHR1cmUobSx0KSxwPT09NT9hcigpLmZvckVhY2goZnVuY3Rpb24oayl7ci50ZXhJbWFnZTJEKGssaSxzLHUsZixGKX0pOnIudGV4SW1hZ2UyRChFLGkscyx1LGYsRiksemUoZSkmJnIuZ2VuZXJhdGVNaXBtYXAobSkpLHA9PT0wJiZuKGcubGVuZ3RoP2c6dm9pZCAwLHQsZCl9fWQ9by5tYXAoZnVuY3Rpb24oRSx2KXtyZXR1cm4gY3IoRSxlLmNyb3NzT3JpZ2luLF8oeFt2XSkpfSl9ZnVuY3Rpb24gbnUocix0LGUsbil7bj1ufHwkZTtjb25zdCBvPWUuc3JjLGk9ZS5pbnRlcm5hbEZvcm1hdHx8ZS5mb3JtYXR8fFIscz1MZShpKSxhPWUuZm9ybWF0fHxzLmZvcm1hdCx1PWUudHlwZXx8UyxmPWUudGFyZ2V0fHxnZTtpZihmIT09cGUmJmYhPT1nZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFXzNEIG9yIFRFWFRVUkVfMkRfQVJSQVkiO2ZyKHIsdCxlKSxlPU9iamVjdC5hc3NpZ24oe30sZSk7bGV0IG09by5sZW5ndGg7Y29uc3QgcD1bXTtsZXQgZztjb25zdCB4PWUubGV2ZWx8fDA7bGV0IGQ9ZS53aWR0aCxfPWUuaGVpZ2h0O2NvbnN0IEU9by5sZW5ndGg7bGV0IHY9ITA7ZnVuY3Rpb24gRihrKXtyZXR1cm4gZnVuY3Rpb24oJCx6KXtpZigtLW0sJClwLnB1c2goJCk7ZWxzZXtpZihSZShyLGUpLHIuYmluZFRleHR1cmUoZix0KSx2KXt2PSExLGQ9ZS53aWR0aHx8ei53aWR0aCxfPWUuaGVpZ2h0fHx6LmhlaWdodCxyLnRleEltYWdlM0QoZix4LGksZCxfLEUsMCxhLHUsbnVsbCk7Zm9yKGxldCBWPTA7VjxFOysrVilyLnRleFN1YkltYWdlM0QoZix4LDAsMCxWLGQsXywxLGEsdSx6KX1lbHNle2xldCBWPXosRzsoei53aWR0aCE9PWR8fHouaGVpZ2h0IT09XykmJihHPW9uKCksVj1HLmNhbnZhcyxHLmNhbnZhcy53aWR0aD1kLEcuY2FudmFzLmhlaWdodD1fLEcuZHJhd0ltYWdlKHosMCwwLGQsXykpLHIudGV4U3ViSW1hZ2UzRChmLHgsMCwwLGssZCxfLDEsYSx1LFYpLEcmJlY9PT1HLmNhbnZhcyYmKEcuY2FudmFzLndpZHRoPTAsRy5jYW52YXMuaGVpZ2h0PTApfXplKGUpJiZyLmdlbmVyYXRlTWlwbWFwKGYpfW09PT0wJiZuKHAubGVuZ3RoP3A6dm9pZCAwLHQsZyl9fWc9by5tYXAoZnVuY3Rpb24oaywkKXtyZXR1cm4gY3IoayxlLmNyb3NzT3JpZ2luLEYoJCkpfSl9ZnVuY3Rpb24gb3Uocix0LGUsbil7bj1ufHxuZS50ZXh0dXJlT3B0aW9ucztjb25zdCBvPW4udGFyZ2V0fHxvZTtyLmJpbmRUZXh0dXJlKG8sdCk7bGV0IGk9bi53aWR0aCxzPW4uaGVpZ2h0LGE9bi5kZXB0aDtjb25zdCB1PW4ubGV2ZWx8fDAsZj1uLmludGVybmFsRm9ybWF0fHxuLmZvcm1hdHx8UixtPUxlKGYpLHA9bi5mb3JtYXR8fG0uZm9ybWF0LGc9bi50eXBlfHxRYShyLGUsbS50eXBlKTtpZihPZShlKSllIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkmJihlPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyKSk7ZWxzZXtjb25zdCBFPVhyKGcpO2U9bmV3IEUoZSl9Y29uc3QgeD1qYShmLGcpLGQ9ZS5ieXRlTGVuZ3RoL3g7aWYoZCUxKXRocm93Imxlbmd0aCB3cm9uZyBzaXplIGZvciBmb3JtYXQ6ICIrbm4ocixwKTtsZXQgXztpZihvPT09cGV8fG89PT1nZSlpZighaSYmIXMmJiFhKXtjb25zdCBFPU1hdGguY2JydChkKTtpZihFJTEhPT0wKXRocm93ImNhbid0IGd1ZXNzIGN1YmUgc2l6ZSBvZiBhcnJheSBvZiBudW1FbGVtZW50czogIitkO2k9RSxzPUUsYT1FfWVsc2UgaSYmKCFzfHwhYSk/KF89aHQocixvLHMsYSxkL2kpLHM9Xy53aWR0aCxhPV8uaGVpZ2h0KTpzJiYoIWl8fCFhKT8oXz1odChyLG8saSxhLGQvcyksaT1fLndpZHRoLGE9Xy5oZWlnaHQpOihfPWh0KHIsbyxpLHMsZC9hKSxpPV8ud2lkdGgscz1fLmhlaWdodCk7ZWxzZSBfPWh0KHIsbyxpLHMsZCksaT1fLndpZHRoLHM9Xy5oZWlnaHQ7aWYoYm4ociksci5waXhlbFN0b3JlaShucixuLnVucGFja0FsaWdubWVudHx8MSksUmUocixuKSxvPT09aWUpe2NvbnN0IEU9eC9lLkJZVEVTX1BFUl9FTEVNRU5ULHY9ZC82KkU7dXIocixuKS5mb3JFYWNoKEY9Pntjb25zdCBrPXYqRi5uZHgsJD1lLnN1YmFycmF5KGssayt2KTtyLnRleEltYWdlMkQoRi5mYWNlLHUsZixpLHMsMCxwLGcsJCl9KX1lbHNlIG89PT1wZXx8bz09PWdlP3IudGV4SW1hZ2UzRChvLHUsZixpLHMsYSwwLHAsZyxlKTpyLnRleEltYWdlMkQobyx1LGYsaSxzLDAscCxnLGUpO3JldHVybnt3aWR0aDppLGhlaWdodDpzLGRlcHRoOmEsdHlwZTpnfX1mdW5jdGlvbiBpdShyLHQsZSl7Y29uc3Qgbj1lLnRhcmdldHx8b2U7ci5iaW5kVGV4dHVyZShuLHQpO2NvbnN0IG89ZS5sZXZlbHx8MCxpPWUuaW50ZXJuYWxGb3JtYXR8fGUuZm9ybWF0fHxSLHM9TGUoaSksYT1lLmZvcm1hdHx8cy5mb3JtYXQsdT1lLnR5cGV8fHMudHlwZTtpZihSZShyLGUpLG49PT1pZSlmb3IobGV0IGY9MDtmPDY7KytmKXIudGV4SW1hZ2UyRChlcitmLG8saSxlLndpZHRoLGUuaGVpZ2h0LDAsYSx1LG51bGwpO2Vsc2Ugbj09PXBlfHxuPT09Z2U/ci50ZXhJbWFnZTNEKG4sbyxpLGUud2lkdGgsZS5oZWlnaHQsZS5kZXB0aCwwLGEsdSxudWxsKTpyLnRleEltYWdlMkQobixvLGksZS53aWR0aCxlLmhlaWdodCwwLGEsdSxudWxsKX1mdW5jdGlvbiBBbihyLHQsZSl7ZT1lfHwkZSx0PXR8fG5lLnRleHR1cmVPcHRpb25zO2NvbnN0IG49ci5jcmVhdGVUZXh0dXJlKCksbz10LnRhcmdldHx8b2U7bGV0IGk9dC53aWR0aHx8MSxzPXQuaGVpZ2h0fHwxO2NvbnN0IGE9dC5pbnRlcm5hbEZvcm1hdHx8UjtyLmJpbmRUZXh0dXJlKG8sbiksbz09PWllJiYoci50ZXhQYXJhbWV0ZXJpKG8sYXQsc3QpLHIudGV4UGFyYW1ldGVyaShvLHV0LHN0KSk7bGV0IHU9dC5zcmM7aWYodSlpZih0eXBlb2YgdT09ImZ1bmN0aW9uIiYmKHU9dShyLHQpKSx0eXBlb2YgdT09InN0cmluZyIpdHUocixuLHQsZSk7ZWxzZSBpZihPZSh1KXx8QXJyYXkuaXNBcnJheSh1KSYmKHR5cGVvZiB1WzBdPT0ibnVtYmVyInx8QXJyYXkuaXNBcnJheSh1WzBdKXx8T2UodVswXSkpKXtjb25zdCBmPW91KHIsbix1LHQpO2k9Zi53aWR0aCxzPWYuaGVpZ2h0fWVsc2UgQXJyYXkuaXNBcnJheSh1KSYmKHR5cGVvZiB1WzBdPT0ic3RyaW5nInx8VG4odVswXSkpP289PT1pZT9ydShyLG4sdCxlKTpudShyLG4sdCxlKTooRW4ocixuLHUsdCksaT11LndpZHRoLHM9dS5oZWlnaHQpO2Vsc2UgaXUocixuLHQpO3JldHVybiB6ZSh0KSYmc3IocixuLHQsaSxzLGEpLHZuKHIsbix0KSxufWNvbnN0IGxyPVFyO2Z1bmN0aW9uIHduKHIpe3JldHVybiB0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTpudWxsfWNvbnN0IHB0PTMzOTg0LGd0PTM0OTYyLHN1PTM0OTYzLGF1PTM1NzEzLHV1PTM1NzE0LGN1PTM1NjMyLGZ1PTM1NjMzLGx1PTM1OTgxLEluPTM1NzE4LGR1PTM1NzIxLG11PTM1OTcxLGh1PTM1MzgyLHB1PTM1Mzk2LGd1PTM1Mzk4LHl1PTM1MzkyLHh1PTM1Mzk1LHl0PTUxMjYsU249MzU2NjQsUm49MzU2NjUsRm49MzU2NjYsZHI9NTEyNCxQbj0zNTY2Nyxrbj0zNTY2OCxEbj0zNTY2OSxDbj0zNTY3MCxCbj0zNTY3MSxObj0zNTY3MixPbj0zNTY3MyxNbj0zNTY3NCxVbj0zNTY3NSxMbj0zNTY3NixfdT0zNTY3OCxidT0zNTY4MCx2dT0zNTY3OSxFdT0zNTY4MixUdT0zNTY4NSxBdT0zNTY4Nix3dT0zNTY4NyxJdT0zNTY4OCxTdT0zNTY4OSxSdT0zNTY5MCxGdT0zNjI4OSxQdT0zNjI5MixrdT0zNjI5Myxtcj01MTI1LHpuPTM2Mjk0LCRuPTM2Mjk1LEduPTM2Mjk2LER1PTM2Mjk4LEN1PTM2Mjk5LEJ1PTM2MzAwLE51PTM2MzAzLE91PTM2MzA2LE11PTM2MzA3LFV1PTM2MzA4LEx1PTM2MzExLHh0PTM1NTMsX3Q9MzQwNjcsaHI9MzI4NzksYnQ9MzU4NjYsYj17fTtmdW5jdGlvbiBXbihyLHQpe3JldHVybiBiW3RdLmJpbmRQb2ludH1mdW5jdGlvbiB6dShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0xZih0LGUpfX1mdW5jdGlvbiAkdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0xZnYodCxlKX19ZnVuY3Rpb24gR3Uocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtMmZ2KHQsZSl9fWZ1bmN0aW9uIFd1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTNmdih0LGUpfX1mdW5jdGlvbiBWdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm00ZnYodCxlKX19ZnVuY3Rpb24gVm4ocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtMWkodCxlKX19ZnVuY3Rpb24gSG4ocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtMWl2KHQsZSl9fWZ1bmN0aW9uIGpuKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTJpdih0LGUpfX1mdW5jdGlvbiBZbihyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0zaXYodCxlKX19ZnVuY3Rpb24gWG4ocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtNGl2KHQsZSl9fWZ1bmN0aW9uIEh1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTF1aSh0LGUpfX1mdW5jdGlvbiBqdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm0xdWl2KHQsZSl9fWZ1bmN0aW9uIFl1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybTJ1aXYodCxlKX19ZnVuY3Rpb24gWHUocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtM3Vpdih0LGUpfX1mdW5jdGlvbiBRdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm00dWl2KHQsZSl9fWZ1bmN0aW9uIEt1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDJmdih0LCExLGUpfX1mdW5jdGlvbiBxdShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtyLnVuaWZvcm1NYXRyaXgzZnYodCwhMSxlKX19ZnVuY3Rpb24gSnUocix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7ci51bmlmb3JtTWF0cml4NGZ2KHQsITEsZSl9fWZ1bmN0aW9uIFp1KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDJ4M2Z2KHQsITEsZSl9fWZ1bmN0aW9uIGVjKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDN4MmZ2KHQsITEsZSl9fWZ1bmN0aW9uIHRjKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDJ4NGZ2KHQsITEsZSl9fWZ1bmN0aW9uIHJjKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDR4MmZ2KHQsITEsZSl9fWZ1bmN0aW9uIG5jKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDN4NGZ2KHQsITEsZSl9fWZ1bmN0aW9uIG9jKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3IudW5pZm9ybU1hdHJpeDR4M2Z2KHQsITEsZSl9fWZ1bmN0aW9uIFUocix0LGUsbil7Y29uc3Qgbz1XbihyLHQpO3JldHVybiBOZShyKT9mdW5jdGlvbihpKXtsZXQgcyxhO3F0KHIsaSk/KHM9aSxhPW51bGwpOihzPWkudGV4dHVyZSxhPWkuc2FtcGxlciksci51bmlmb3JtMWkobixlKSxyLmFjdGl2ZVRleHR1cmUocHQrZSksci5iaW5kVGV4dHVyZShvLHMpLHIuYmluZFNhbXBsZXIoZSxhKX06ZnVuY3Rpb24oaSl7ci51bmlmb3JtMWkobixlKSxyLmFjdGl2ZVRleHR1cmUocHQrZSksci5iaW5kVGV4dHVyZShvLGkpfX1mdW5jdGlvbiBMKHIsdCxlLG4sbyl7Y29uc3QgaT1XbihyLHQpLHM9bmV3IEludDMyQXJyYXkobyk7Zm9yKGxldCBhPTA7YTxvOysrYSlzW2FdPWUrYTtyZXR1cm4gTmUocik/ZnVuY3Rpb24oYSl7ci51bmlmb3JtMWl2KG4scyksYS5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7ci5hY3RpdmVUZXh0dXJlKHB0K3NbZl0pO2xldCBtLHA7cXQocix1KT8obT11LHA9bnVsbCk6KG09dS50ZXh0dXJlLHA9dS5zYW1wbGVyKSxyLmJpbmRTYW1wbGVyKGUscCksci5iaW5kVGV4dHVyZShpLG0pfSl9OmZ1bmN0aW9uKGEpe3IudW5pZm9ybTFpdihuLHMpLGEuZm9yRWFjaChmdW5jdGlvbih1LGYpe3IuYWN0aXZlVGV4dHVyZShwdCtzW2ZdKSxyLmJpbmRUZXh0dXJlKGksdSl9KX19Ylt5dF09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NCxzZXR0ZXI6enUsYXJyYXlTZXR0ZXI6JHV9LGJbU25dPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjgsc2V0dGVyOkd1LGNvbHM6Mn0sYltSbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6MTIsc2V0dGVyOld1LGNvbHM6M30sYltGbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6MTYsc2V0dGVyOlZ1LGNvbHM6NH0sYltkcl09e1R5cGU6SW50MzJBcnJheSxzaXplOjQsc2V0dGVyOlZuLGFycmF5U2V0dGVyOkhufSxiW1BuXT17VHlwZTpJbnQzMkFycmF5LHNpemU6OCxzZXR0ZXI6am4sY29sczoyfSxiW2tuXT17VHlwZTpJbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOlluLGNvbHM6M30sYltEbl09e1R5cGU6SW50MzJBcnJheSxzaXplOjE2LHNldHRlcjpYbixjb2xzOjR9LGJbbXJdPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6NCxzZXR0ZXI6SHUsYXJyYXlTZXR0ZXI6anV9LGJbem5dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6OCxzZXR0ZXI6WXUsY29sczoyfSxiWyRuXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjEyLHNldHRlcjpYdSxjb2xzOjN9LGJbR25dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTYsc2V0dGVyOlF1LGNvbHM6NH0sYltDbl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo0LHNldHRlcjpWbixhcnJheVNldHRlcjpIbn0sYltCbl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpqbixjb2xzOjJ9LGJbTm5dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOlluLGNvbHM6M30sYltPbl09e1R5cGU6VWludDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6WG4sY29sczo0fSxiW01uXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6S3Uscm93czoyLGNvbHM6Mn0sYltVbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NDgsc2V0dGVyOnF1LHJvd3M6Myxjb2xzOjN9LGJbTG5dPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjY0LHNldHRlcjpKdSxyb3dzOjQsY29sczo0fSxiW1R1XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6WnUscm93czoyLGNvbHM6M30sYltBdV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6MzIsc2V0dGVyOnRjLHJvd3M6Mixjb2xzOjR9LGJbd3VdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjQ4LHNldHRlcjplYyxyb3dzOjMsY29sczoyfSxiW0l1XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0OCxzZXR0ZXI6bmMscm93czozLGNvbHM6NH0sYltTdV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOnJjLHJvd3M6NCxjb2xzOjJ9LGJbUnVdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjY0LHNldHRlcjpvYyxyb3dzOjQsY29sczozfSxiW191XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDp4dH0sYltidV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6X3R9LGJbdnVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmhyfSxiW0V1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDp4dH0sYltGdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6YnR9LGJbUHVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmJ0fSxiW2t1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDpfdH0sYltEdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6eHR9LGJbQ3VdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmhyfSxiW0J1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDpfdH0sYltOdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6YnR9LGJbT3VdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50Onh0fSxiW011XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6VSxhcnJheVNldHRlcjpMLGJpbmRQb2ludDpocn0sYltVdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOlUsYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6X3R9LGJbTHVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpVLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OmJ0fTtmdW5jdGlvbiB2dChyLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnZhbHVlKXN3aXRjaChyLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSh0KSxlLnZhbHVlLmxlbmd0aCl7Y2FzZSA0OnIudmVydGV4QXR0cmliNGZ2KHQsZS52YWx1ZSk7YnJlYWs7Y2FzZSAzOnIudmVydGV4QXR0cmliM2Z2KHQsZS52YWx1ZSk7YnJlYWs7Y2FzZSAyOnIudmVydGV4QXR0cmliMmZ2KHQsZS52YWx1ZSk7YnJlYWs7Y2FzZSAxOnIudmVydGV4QXR0cmliMWZ2KHQsZS52YWx1ZSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInRoZSBsZW5ndGggb2YgYSBmbG9hdCBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgNCEiKX1lbHNlIHIuYmluZEJ1ZmZlcihndCxlLmJ1ZmZlciksci5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0KSxyLnZlcnRleEF0dHJpYlBvaW50ZXIodCxlLm51bUNvbXBvbmVudHN8fGUuc2l6ZSxlLnR5cGV8fHl0LGUubm9ybWFsaXplfHwhMSxlLnN0cmlkZXx8MCxlLm9mZnNldHx8MCksci52ZXJ0ZXhBdHRyaWJEaXZpc29yJiZyLnZlcnRleEF0dHJpYkRpdmlzb3IodCxlLmRpdmlzb3J8fDApfX1mdW5jdGlvbiBhZShyLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnZhbHVlKWlmKHIuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLGUudmFsdWUubGVuZ3RoPT09NClyLnZlcnRleEF0dHJpYjRpdih0LGUudmFsdWUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJUaGUgbGVuZ3RoIG9mIGFuIGludGVnZXIgY29uc3RhbnQgdmFsdWUgbXVzdCBiZSA0ISIpO2Vsc2Ugci5iaW5kQnVmZmVyKGd0LGUuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLHIudmVydGV4QXR0cmliSVBvaW50ZXIodCxlLm51bUNvbXBvbmVudHN8fGUuc2l6ZSxlLnR5cGV8fGRyLGUuc3RyaWRlfHwwLGUub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcih0LGUuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIEV0KHIsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUudmFsdWUpaWYoci5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodCksZS52YWx1ZS5sZW5ndGg9PT00KXIudmVydGV4QXR0cmliNHVpdih0LGUudmFsdWUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJUaGUgbGVuZ3RoIG9mIGFuIHVuc2lnbmVkIGludGVnZXIgY29uc3RhbnQgdmFsdWUgbXVzdCBiZSA0ISIpO2Vsc2Ugci5iaW5kQnVmZmVyKGd0LGUuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLHIudmVydGV4QXR0cmliSVBvaW50ZXIodCxlLm51bUNvbXBvbmVudHN8fGUuc2l6ZSxlLnR5cGV8fG1yLGUuc3RyaWRlfHwwLGUub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcih0LGUuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIHByKHIsdCxlKXtjb25zdCBuPWUuc2l6ZSxvPWUuY291bnQ7cmV0dXJuIGZ1bmN0aW9uKGkpe3IuYmluZEJ1ZmZlcihndCxpLmJ1ZmZlcik7Y29uc3Qgcz1pLnNpemV8fGkubnVtQ29tcG9uZW50c3x8bixhPXMvbyx1PWkudHlwZXx8eXQsbT1iW3VdLnNpemUqcyxwPWkubm9ybWFsaXplfHwhMSxnPWkub2Zmc2V0fHwwLHg9bS9vO2ZvcihsZXQgZD0wO2Q8bzsrK2Qpci5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0K2QpLHIudmVydGV4QXR0cmliUG9pbnRlcih0K2QsYSx1LHAsbSxnK3gqZCksci52ZXJ0ZXhBdHRyaWJEaXZpc29yJiZyLnZlcnRleEF0dHJpYkRpdmlzb3IodCtkLGkuZGl2aXNvcnx8MCl9fWNvbnN0IFA9e307UFt5dF09e3NpemU6NCxzZXR0ZXI6dnR9LFBbU25dPXtzaXplOjgsc2V0dGVyOnZ0fSxQW1JuXT17c2l6ZToxMixzZXR0ZXI6dnR9LFBbRm5dPXtzaXplOjE2LHNldHRlcjp2dH0sUFtkcl09e3NpemU6NCxzZXR0ZXI6YWV9LFBbUG5dPXtzaXplOjgsc2V0dGVyOmFlfSxQW2tuXT17c2l6ZToxMixzZXR0ZXI6YWV9LFBbRG5dPXtzaXplOjE2LHNldHRlcjphZX0sUFttcl09e3NpemU6NCxzZXR0ZXI6RXR9LFBbem5dPXtzaXplOjgsc2V0dGVyOkV0fSxQWyRuXT17c2l6ZToxMixzZXR0ZXI6RXR9LFBbR25dPXtzaXplOjE2LHNldHRlcjpFdH0sUFtDbl09e3NpemU6NCxzZXR0ZXI6YWV9LFBbQm5dPXtzaXplOjgsc2V0dGVyOmFlfSxQW05uXT17c2l6ZToxMixzZXR0ZXI6YWV9LFBbT25dPXtzaXplOjE2LHNldHRlcjphZX0sUFtNbl09e3NpemU6NCxzZXR0ZXI6cHIsY291bnQ6Mn0sUFtVbl09e3NpemU6OSxzZXR0ZXI6cHIsY291bnQ6M30sUFtMbl09e3NpemU6MTYsc2V0dGVyOnByLGNvdW50OjR9O2NvbnN0IGljPS9FUlJPUjpccypcZCs6KFxkKykvZ2k7ZnVuY3Rpb24gc2Mocix0PSIiLGU9MCl7Y29uc3Qgbj1bLi4udC5tYXRjaEFsbChpYyldLG89bmV3IE1hcChuLm1hcCgoaSxzKT0+e2NvbnN0IGE9cGFyc2VJbnQoaVsxXSksdT1uW3MrMV0sZj11P3UuaW5kZXg6dC5sZW5ndGgsbT10LnN1YnN0cmluZyhpLmluZGV4LGYpO3JldHVyblthLTEsbV19KSk7cmV0dXJuIHIuc3BsaXQoYApgKS5tYXAoKGkscyk9Pntjb25zdCBhPW8uZ2V0KHMpO3JldHVybmAke3MrMStlfTogJHtpfSR7YT9gCgpeXl4gJHthfWA6IiJ9YH0pLmpvaW4oYApgKX1jb25zdCBRbj0vXlsgXHRdKlxuLztmdW5jdGlvbiBLbihyKXtsZXQgdD0wO3JldHVybiBRbi50ZXN0KHIpJiYodD0xLHI9ci5yZXBsYWNlKFFuLCIiKSkse2xpbmVPZmZzZXQ6dCxzaGFkZXJTb3VyY2U6cn19ZnVuY3Rpb24gYWMocix0KXtyZXR1cm4gci5lcnJvckNhbGxiYWNrKHQpLHIuY2FsbGJhY2smJnNldFRpbWVvdXQoKCk9PntyLmNhbGxiYWNrKGAke3R9CiR7ci5lcnJvcnMuam9pbihgCmApfWApfSksbnVsbH1mdW5jdGlvbiB1YyhyLHQsZSxuKXtpZihuPW58fGxyLCFyLmdldFNoYWRlclBhcmFtZXRlcihlLGF1KSl7Y29uc3QgaT1yLmdldFNoYWRlckluZm9Mb2coZSkse2xpbmVPZmZzZXQ6cyxzaGFkZXJTb3VyY2U6YX09S24oci5nZXRTaGFkZXJTb3VyY2UoZSkpLHU9YCR7c2MoYSxpLHMpfQpFcnJvciBjb21waWxpbmcgJHtubihyLHQpfTogJHtpfWA7cmV0dXJuIG4odSksdX1yZXR1cm4iIn1mdW5jdGlvbiBncihyLHQsZSl7bGV0IG4sbyxpO2lmKHR5cGVvZiB0PT0iZnVuY3Rpb24iJiYoZT10LHQ9dm9pZCAwKSx0eXBlb2Ygcj09ImZ1bmN0aW9uIillPXIscj12b2lkIDA7ZWxzZSBpZihyJiYhQXJyYXkuaXNBcnJheShyKSl7Y29uc3QgZj1yO2U9Zi5lcnJvckNhbGxiYWNrLHI9Zi5hdHRyaWJMb2NhdGlvbnMsbj1mLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3Msbz1mLnRyYW5zZm9ybUZlZWRiYWNrTW9kZSxpPWYuY2FsbGJhY2t9Y29uc3Qgcz1lfHxscixhPVtdLHU9e2Vycm9yQ2FsbGJhY2soZiwuLi5tKXthLnB1c2goZikscyhmLC4uLm0pfSx0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzOm4sdHJhbnNmb3JtRmVlZGJhY2tNb2RlOm8sY2FsbGJhY2s6aSxlcnJvcnM6YX07e2xldCBmPXt9O0FycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKGZ1bmN0aW9uKG0scCl7ZlttXT10P3RbcF06cH0pOmY9cnx8e30sdS5hdHRyaWJMb2NhdGlvbnM9Zn1yZXR1cm4gdX1jb25zdCBjYz1bIlZFUlRFWF9TSEFERVIiLCJGUkFHTUVOVF9TSEFERVIiXTtmdW5jdGlvbiBmYyhyLHQpe2lmKHQuaW5kZXhPZigiZnJhZyIpPj0wKXJldHVybiBjdTtpZih0LmluZGV4T2YoInZlcnQiKT49MClyZXR1cm4gZnV9ZnVuY3Rpb24gbGMocix0LGUpe2NvbnN0IG49ci5nZXRBdHRhY2hlZFNoYWRlcnModCk7Zm9yKGNvbnN0IG8gb2YgbillLmhhcyhvKSYmci5kZWxldGVTaGFkZXIobyk7ci5kZWxldGVQcm9ncmFtKHQpfWNvbnN0IGRjPShyPTApPT5uZXcgUHJvbWlzZSh0PT5zZXRUaW1lb3V0KHQscikpO2Z1bmN0aW9uIG1jKHIsdCxlKXtjb25zdCBuPXIuY3JlYXRlUHJvZ3JhbSgpLHthdHRyaWJMb2NhdGlvbnM6byx0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzOmksdHJhbnNmb3JtRmVlZGJhY2tNb2RlOnN9PWdyKGUpO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7KythKXtsZXQgdT10W2FdO2lmKHR5cGVvZiB1PT0ic3RyaW5nIil7Y29uc3QgZj13bih1KSxtPWY/Zi50ZXh0OnU7bGV0IHA9cltjY1thXV07ZiYmZi50eXBlJiYocD1mYyhyLGYudHlwZSl8fHApLHU9ci5jcmVhdGVTaGFkZXIocCksci5zaGFkZXJTb3VyY2UodSxLbihtKS5zaGFkZXJTb3VyY2UpLHIuY29tcGlsZVNoYWRlcih1KSxyLmF0dGFjaFNoYWRlcihuLHUpfX1PYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChbYSx1XSk9PnIuYmluZEF0dHJpYkxvY2F0aW9uKG4sdSxhKSk7e2xldCBhPWk7YSYmKGEuYXR0cmlicyYmKGE9YS5hdHRyaWJzKSxBcnJheS5pc0FycmF5KGEpfHwoYT1PYmplY3Qua2V5cyhhKSksci50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKG4sYSxzfHxsdSkpfXJldHVybiByLmxpbmtQcm9ncmFtKG4pLG59ZnVuY3Rpb24gaGMocix0LGUsbixvKXtjb25zdCBpPWdyKGUsbixvKSxzPW5ldyBTZXQodCksYT1tYyhyLHQsaSk7ZnVuY3Rpb24gdShmLG0pe2NvbnN0IHA9Z2MoZixtLGkuZXJyb3JDYWxsYmFjayk7cmV0dXJuIHAmJmxjKGYsbSxzKSxwfWlmKGkuY2FsbGJhY2spe3BjKHIsYSkudGhlbigoKT0+e2NvbnN0IGY9dShyLGEpO2kuY2FsbGJhY2soZixmP3ZvaWQgMDphKX0pO3JldHVybn1yZXR1cm4gdShyLGEpP3ZvaWQgMDphfWFzeW5jIGZ1bmN0aW9uIHBjKHIsdCl7Y29uc3QgZT1yLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIiksbj1lPyhpLHMpPT5pLmdldFByb2dyYW1QYXJhbWV0ZXIocyxlLkNPTVBMRVRJT05fU1RBVFVTX0tIUik6KCk9PiEwO2xldCBvPTA7ZG8gYXdhaXQgZGMobyksbz0xZTMvNjA7d2hpbGUoIW4ocix0KSl9ZnVuY3Rpb24gZ2Mocix0LGUpe2lmKGU9ZXx8bHIsIXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LHV1KSl7Y29uc3Qgbz1yLmdldFByb2dyYW1JbmZvTG9nKHQpO2UoYEVycm9yIGluIHByb2dyYW0gbGlua2luZzogJHtvfWApO2NvbnN0IHM9ci5nZXRBdHRhY2hlZFNoYWRlcnModCkubWFwKGE9PnVjKHIsci5nZXRTaGFkZXJQYXJhbWV0ZXIoYSxyLlNIQURFUl9UWVBFKSxhLGUpKTtyZXR1cm5gJHtvfQoke3MuZmlsdGVyKGE9PmEpLmpvaW4oYApgKX1gfX1mdW5jdGlvbiB5YyhyLHQsZSxuLG8pe3JldHVybiBoYyhyLHQsZSxuLG8pfWZ1bmN0aW9uIHFuKHIpe2NvbnN0IHQ9ci5uYW1lO3JldHVybiB0LnN0YXJ0c1dpdGgoImdsXyIpfHx0LnN0YXJ0c1dpdGgoIndlYmdsXyIpfWNvbnN0IHhjPS8oXC58XFt8XXxcdyspL2csX2M9cj0+cj49IjAiJiZyPD0iOSI7ZnVuY3Rpb24gYmMocix0LGUsbil7Y29uc3Qgbz1yLnNwbGl0KHhjKS5maWx0ZXIoYT0+YSE9PSIiKTtsZXQgaT0wLHM9IiI7Zm9yKDs7KXtjb25zdCBhPW9baSsrXTtzKz1hO2NvbnN0IHU9X2MoYVswXSksZj11P3BhcnNlSW50KGEpOmE7aWYodSYmKHMrPW9baSsrXSksaT09PW8ubGVuZ3RoKXtlW2ZdPXQ7YnJlYWt9ZWxzZXtjb25zdCBwPW9baSsrXSxnPXA9PT0iWyIseD1lW2ZdfHwoZz9bXTp7fSk7ZVtmXT14LGU9eCxuW3NdPW5bc118fGZ1bmN0aW9uKGQpe3JldHVybiBmdW5jdGlvbihfKXtKbihkLF8pfX0oeCkscys9cH19fWZ1bmN0aW9uIHZjKHIsdCl7bGV0IGU9MDtmdW5jdGlvbiBuKGEsdSxmKXtjb25zdCBtPXUubmFtZS5lbmRzV2l0aCgiWzBdIikscD11LnR5cGUsZz1iW3BdO2lmKCFnKXRocm93IG5ldyBFcnJvcihgdW5rbm93biB0eXBlOiAweCR7cC50b1N0cmluZygxNil9YCk7bGV0IHg7aWYoZy5iaW5kUG9pbnQpe2NvbnN0IGQ9ZTtlKz11LnNpemUsbT94PWcuYXJyYXlTZXR0ZXIocixwLGQsZix1LnNpemUpOng9Zy5zZXR0ZXIocixwLGQsZix1LnNpemUpfWVsc2UgZy5hcnJheVNldHRlciYmbT94PWcuYXJyYXlTZXR0ZXIocixmKTp4PWcuc2V0dGVyKHIsZik7cmV0dXJuIHgubG9jYXRpb249Zix4fWNvbnN0IG89e30saT17fSxzPXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LEluKTtmb3IobGV0IGE9MDthPHM7KythKXtjb25zdCB1PXIuZ2V0QWN0aXZlVW5pZm9ybSh0LGEpO2lmKHFuKHUpKWNvbnRpbnVlO2xldCBmPXUubmFtZTtmLmVuZHNXaXRoKCJbMF0iKSYmKGY9Zi5zdWJzdHIoMCxmLmxlbmd0aC0zKSk7Y29uc3QgbT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0LHUubmFtZSk7aWYobSl7Y29uc3QgcD1uKHQsdSxtKTtvW2ZdPXAsYmMoZixwLGksbyl9fXJldHVybiBvfWZ1bmN0aW9uIEVjKHIsdCl7Y29uc3QgZT17fSxuPXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LG11KTtmb3IobGV0IG89MDtvPG47KytvKXtjb25zdCBpPXIuZ2V0VHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nKHQsbyk7ZVtpLm5hbWVdPXtpbmRleDpvLHR5cGU6aS50eXBlLHNpemU6aS5zaXplfX1yZXR1cm4gZX1mdW5jdGlvbiBUYyhyLHQpe2NvbnN0IGU9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKHQsSW4pLG49W10sbz1bXTtmb3IobGV0IGE9MDthPGU7KythKXtvLnB1c2goYSksbi5wdXNoKHt9KTtjb25zdCB1PXIuZ2V0QWN0aXZlVW5pZm9ybSh0LGEpO25bYV0ubmFtZT11Lm5hbWV9W1siVU5JRk9STV9UWVBFIiwidHlwZSJdLFsiVU5JRk9STV9TSVpFIiwic2l6ZSJdLFsiVU5JRk9STV9CTE9DS19JTkRFWCIsImJsb2NrTmR4Il0sWyJVTklGT1JNX09GRlNFVCIsIm9mZnNldCJdXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2NvbnN0IHU9YVswXSxmPWFbMV07ci5nZXRBY3RpdmVVbmlmb3Jtcyh0LG8sclt1XSkuZm9yRWFjaChmdW5jdGlvbihtLHApe25bcF1bZl09bX0pfSk7Y29uc3QgaT17fSxzPXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LGh1KTtmb3IobGV0IGE9MDthPHM7KythKXtjb25zdCB1PXIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrTmFtZSh0LGEpLGY9e2luZGV4OnIuZ2V0VW5pZm9ybUJsb2NrSW5kZXgodCx1KSx1c2VkQnlWZXJ0ZXhTaGFkZXI6ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodCxhLHB1KSx1c2VkQnlGcmFnbWVudFNoYWRlcjpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcih0LGEsZ3UpLHNpemU6ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tQYXJhbWV0ZXIodCxhLHl1KSx1bmlmb3JtSW5kaWNlczpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcih0LGEseHUpfTtmLnVzZWQ9Zi51c2VkQnlWZXJ0ZXhTaGFkZXJ8fGYudXNlZEJ5RnJhZ21lbnRTaGFkZXIsaVt1XT1mfXJldHVybntibG9ja1NwZWNzOmksdW5pZm9ybURhdGE6bn19ZnVuY3Rpb24gSm4ocix0KXtmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBuPXJbZV07dHlwZW9mIG49PSJmdW5jdGlvbiI/bih0W2VdKTpKbihyW2VdLHRbZV0pfX1mdW5jdGlvbiBabihyLC4uLnQpe2NvbnN0IGU9ci51bmlmb3JtU2V0dGVyc3x8cixuPXQubGVuZ3RoO2ZvcihsZXQgbz0wO288bjsrK28pe2NvbnN0IGk9dFtvXTtpZihBcnJheS5pc0FycmF5KGkpKXtjb25zdCBzPWkubGVuZ3RoO2ZvcihsZXQgYT0wO2E8czsrK2EpWm4oZSxpW2FdKX1lbHNlIGZvcihjb25zdCBzIGluIGkpe2NvbnN0IGE9ZVtzXTthJiZhKGlbc10pfX19ZnVuY3Rpb24gQWMocix0KXtjb25zdCBlPXt9LG49ci5nZXRQcm9ncmFtUGFyYW1ldGVyKHQsZHUpO2ZvcihsZXQgbz0wO288bjsrK28pe2NvbnN0IGk9ci5nZXRBY3RpdmVBdHRyaWIodCxvKTtpZihxbihpKSljb250aW51ZTtjb25zdCBzPXIuZ2V0QXR0cmliTG9jYXRpb24odCxpLm5hbWUpLGE9UFtpLnR5cGVdLHU9YS5zZXR0ZXIocixzLGEpO3UubG9jYXRpb249cyxlW2kubmFtZV09dX1yZXR1cm4gZX1mdW5jdGlvbiB3YyhyLHQpe2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IG49cltlXTtuJiZuKHRbZV0pfX1mdW5jdGlvbiBJYyhyLHQsZSl7ZS52ZXJ0ZXhBcnJheU9iamVjdD9yLmJpbmRWZXJ0ZXhBcnJheShlLnZlcnRleEFycmF5T2JqZWN0KTood2ModC5hdHRyaWJTZXR0ZXJzfHx0LGUuYXR0cmlicyksZS5pbmRpY2VzJiZyLmJpbmRCdWZmZXIoc3UsZS5pbmRpY2VzKSl9ZnVuY3Rpb24gZW8ocix0KXtjb25zdCBlPXZjKHIsdCksbj1BYyhyLHQpLG89e3Byb2dyYW06dCx1bmlmb3JtU2V0dGVyczplLGF0dHJpYlNldHRlcnM6bn07cmV0dXJuIE5lKHIpJiYoby51bmlmb3JtQmxvY2tTcGVjPVRjKHIsdCksby50cmFuc2Zvcm1GZWVkYmFja0luZm89RWMocix0KSksb31jb25zdCBTYz0vXHN8e3x9fDsvO2Z1bmN0aW9uIFJjKHIsdCxlLG4sbyl7Y29uc3QgaT1ncihlLG4sbykscz1bXTtpZih0PXQubWFwKGZ1bmN0aW9uKGYpe2lmKCFTYy50ZXN0KGYpKXtjb25zdCBtPXduKGYpO2lmKG0pZj1tLnRleHQ7ZWxzZXtjb25zdCBwPWBubyBlbGVtZW50IHdpdGggaWQ6ICR7Zn1gO2kuZXJyb3JDYWxsYmFjayhwKSxzLnB1c2gocCl9fXJldHVybiBmfSkscy5sZW5ndGgpcmV0dXJuIGFjKGksIiIpO2NvbnN0IGE9aS5jYWxsYmFjazthJiYoaS5jYWxsYmFjaz0oZixtKT0+e2EoZixmP3ZvaWQgMDplbyhyLG0pKX0pO2NvbnN0IHU9eWMocix0LGkpO3JldHVybiB1P2VvKHIsdSk6bnVsbH1jb25zdCBGYz00LHRvPTUxMjM7ZnVuY3Rpb24gUGMocix0LGUsbixvLGkpe2U9ZT09PXZvaWQgMD9GYzplO2NvbnN0IHM9dC5pbmRpY2VzLGE9dC5lbGVtZW50VHlwZSx1PW49PT12b2lkIDA/dC5udW1FbGVtZW50czpuO289bz09PXZvaWQgMD8wOm8sYXx8cz9pIT09dm9pZCAwP3IuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGUsdSxhPT09dm9pZCAwP3RvOnQuZWxlbWVudFR5cGUsbyxpKTpyLmRyYXdFbGVtZW50cyhlLHUsYT09PXZvaWQgMD90bzp0LmVsZW1lbnRUeXBlLG8pOmkhPT12b2lkIDA/ci5kcmF3QXJyYXlzSW5zdGFuY2VkKGUsbyx1LGkpOnIuZHJhd0FycmF5cyhlLG8sdSl9Y29uc3Qgcm89MzYxNjAsVHQ9MzYxNjEsa2M9MzU1MyxEYz01MTIxLENjPTY0MDIsQmM9NjQwOCxOYz0zMzE5MCxPYz0zNjAxMixNYz0zNTA1NixVYz0zNjAxMyxMYz0zMjg1NCx6Yz0zMjg1NSwkYz0zNjE5NCxubz0zMzE4OSxvbz02NDAxLGlvPTM2MTY4LHlyPTM0MDQxLHhyPTM2MDY0LEF0PTM2MDk2LHNvPTM2MTI4LF9yPTMzMzA2LGJyPTMzMDcxLHZyPTk3MjksR2M9W3tmb3JtYXQ6QmMsdHlwZTpEYyxtaW46dnIsd3JhcDpicn0se2Zvcm1hdDp5cn1dLFk9e307WVt5cl09X3IsWVtvb109c28sWVtpb109c28sWVtDY109QXQsWVtub109QXQsWVtOY109QXQsWVtPY109QXQsWVtNY109X3IsWVtVY109X3I7ZnVuY3Rpb24gV2Mocix0KXtyZXR1cm4gWVtyXXx8WVt0XX1jb25zdCB1ZT17fTt1ZVtMY109ITAsdWVbemNdPSEwLHVlWyRjXT0hMCx1ZVt5cl09ITAsdWVbbm9dPSEwLHVlW29vXT0hMCx1ZVtpb109ITA7ZnVuY3Rpb24gVmMocil7cmV0dXJuIHVlW3JdfWNvbnN0IEhjPTMyO2Z1bmN0aW9uIGpjKHIpe3JldHVybiByPj14ciYmcjx4citIY31mdW5jdGlvbiB3dChyLHQsZSxuKXtjb25zdCBvPXJvLGk9ci5jcmVhdGVGcmFtZWJ1ZmZlcigpO3IuYmluZEZyYW1lYnVmZmVyKG8saSksZT1lfHxyLmRyYXdpbmdCdWZmZXJXaWR0aCxuPW58fHIuZHJhd2luZ0J1ZmZlckhlaWdodCx0PXR8fEdjO2NvbnN0IHM9W10sYT17ZnJhbWVidWZmZXI6aSxhdHRhY2htZW50czpbXSx3aWR0aDplLGhlaWdodDpufTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7bGV0IG09dS5hdHRhY2htZW50O2NvbnN0IHA9dS5zYW1wbGVzLGc9dS5mb3JtYXQ7bGV0IHg9dS5hdHRhY2htZW50UG9pbnR8fFdjKGcsdS5pbnRlcm5hbEZvcm1hdCk7aWYoeHx8KHg9eHIrZiksamMoeCkmJnMucHVzaCh4KSwhbSlpZihwIT09dm9pZCAwfHxWYyhnKSltPXIuY3JlYXRlUmVuZGVyYnVmZmVyKCksci5iaW5kUmVuZGVyYnVmZmVyKFR0LG0pLHA+MT9yLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShUdCxwLGcsZSxuKTpyLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoVHQsZyxlLG4pO2Vsc2V7Y29uc3QgZD1PYmplY3QuYXNzaWduKHt9LHUpO2Qud2lkdGg9ZSxkLmhlaWdodD1uLGQuYXV0bz09PXZvaWQgMCYmKGQuYXV0bz0hMSxkLm1pbj1kLm1pbnx8ZC5taW5NYWd8fHZyLGQubWFnPWQubWFnfHxkLm1pbk1hZ3x8dnIsZC53cmFwUz1kLndyYXBTfHxkLndyYXB8fGJyLGQud3JhcFQ9ZC53cmFwVHx8ZC53cmFwfHxiciksbT1BbihyLGQpfWlmKG5zKHIsbSkpci5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihvLHgsVHQsbSk7ZWxzZSBpZihxdChyLG0pKXUubGF5ZXIhPT12b2lkIDA/ci5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihvLHgsbSx1LmxldmVsfHwwLHUubGF5ZXIpOnIuZnJhbWVidWZmZXJUZXh0dXJlMkQobyx4LHUudGFyZ2V0fHxrYyxtLHUubGV2ZWx8fDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGF0dGFjaG1lbnQgdHlwZSIpO2EuYXR0YWNobWVudHMucHVzaChtKX0pLHIuZHJhd0J1ZmZlcnMmJnIuZHJhd0J1ZmZlcnMocyksYX1mdW5jdGlvbiBZYyhyLHQsZSl7ZT1lfHxybyx0PyhyLmJpbmRGcmFtZWJ1ZmZlcihlLHQuZnJhbWVidWZmZXIpLHIudmlld3BvcnQoMCwwLHQud2lkdGgsdC5oZWlnaHQpKTooci5iaW5kRnJhbWVidWZmZXIoZSxudWxsKSxyLnZpZXdwb3J0KDAsMCxyLmRyYXdpbmdCdWZmZXJXaWR0aCxyLmRyYXdpbmdCdWZmZXJIZWlnaHQpKX1mdW5jdGlvbiBJKHIsdCl7cmV0dXJuKCk9PnQgaW5zdGFuY2VvZiBXZWJHTFRleHR1cmU/dDpBbihyLHtzcmM6dCx3cmFwOnIuQ0xBTVBfVE9fRURHRX0pfWNvbnN0IEZlPTI7Y2xhc3MgX2V7Y29uc3RydWN0b3IodCl7bCh0aGlzLCJpZCIsIl8iKTtsKHRoaXMsImNvbnRleHQiKTtsKHRoaXMsIm91dHB1dCIpO2wodGhpcywiZmJpIik7bCh0aGlzLCJvcHRpb25zIik7bCh0aGlzLCJwcm9ncmFtSW5mbyIpO2wodGhpcywiYnVmZmVySW5mbyIpO2wodGhpcywicHJvZmlsZXIiKTtsKHRoaXMsImxhc3RSdW4iKTtjb25zdHtjb250ZXh0OmUsd2lkdGg6bixoZWlnaHQ6b309dDt0aGlzLmNvbnRleHQ9ZSx0aGlzLm9wdGlvbnM9dDtjb25zdCBpPXRoaXMuYnVpbGREZWZpbmVzKCk7dGhpcy5wcm9ncmFtSW5mbz1SYyh0aGlzLmNvbnRleHQsW2krdGhpcy5nZXRWZXJ0ZXhTaGFkZXIoKSxpK3RoaXMuZ2V0RnJhZ21lbnRTaGFkZXIoKV0pLHRoaXMuYnVmZmVySW5mbz1Tcyh0aGlzLmNvbnRleHQsdGhpcy5nZXRCdWZmZXJzKCkpLHRoaXMuZmJpPXd0KHRoaXMuY29udGV4dCxbe2Zvcm1hdDp0aGlzLmNvbnRleHQuUkdCQSx0eXBlOnRoaXMuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0aGlzLmNvbnRleHQuTElORUFSLHdyYXA6dGhpcy5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSxuLG8pLHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdfXJlc2l6ZU91dHB1dCh0LGUpe3RoaXMuZmJpPXd0KHRoaXMuY29udGV4dCxbe2Zvcm1hdDp0aGlzLmNvbnRleHQuUkdCQSx0eXBlOnRoaXMuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0aGlzLmNvbnRleHQuTElORUFSLHdyYXA6dGhpcy5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSx0LGUpLHRoaXMub3B0aW9ucy53aWR0aD10LHRoaXMub3B0aW9ucy5oZWlnaHQ9ZSx0aGlzLm91dHB1dD10aGlzLmZiaS5hdHRhY2htZW50c1swXX1nZXREZWZpbmVzKCl7cmV0dXJue319Z2V0QnVmZmVycygpe3JldHVybntwb3NpdGlvbjp7bnVtQ29tcG9uZW50czoyLGRhdGE6Wy0xLC0xLC0xLDEsMSwtMSwxLDEsLTEsMSwxLC0xXX0sdGV4dHVyZV9jb29yZDp7bnVtQ29tcG9uZW50czoyLGRhdGE6WzAsMCwwLDEsMSwwLDEsMSwwLDEsMSwwXX19fWJ1aWxkRGVmaW5lcygpe2xldCB0PSIiO2NvbnN0IGU9dGhpcy5nZXREZWZpbmVzKCk7Zm9yKGxldCBuIGluIGUpdCs9YCNkZWZpbmUgJHtufSAke2Vbbl0udG9GaXhlZCgxKX0KYDtyZXR1cm4gdH1ydW4odCl7dmFyIG8saSxzLGEsdSxmOyhvPXRoaXMucHJvZmlsZXIpPT1udWxsfHxvLnB1c2hDb250ZXh0KGBbJHt0aGlzLmlkfV0gUFJPRyA6ICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApLChpPXRoaXMucHJvZmlsZXIpPT1udWxsfHxpLnB1c2hDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JRk9STVNgKTtmb3IoY29uc3QgbSBpbiB0KXR5cGVvZiB0W21dPT0iZnVuY3Rpb24iJiYoKHM9dGhpcy5wcm9maWxlcik9PW51bGx8fHMucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBVTkkgOiAke219YCksdFttXT10W21dKCksKGE9dGhpcy5wcm9maWxlcik9PW51bGx8fGEucG9wQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSSA6ICR7bX1gKSk7KHU9dGhpcy5wcm9maWxlcik9PW51bGx8fHUucG9wQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSUZPUk1TYCk7Y29uc3QgZT1EYXRlLm5vdygpO2xldCBuPTA7dGhpcy5sYXN0UnVuJiYobj0oZS10aGlzLmxhc3RSdW4pLzFlMyksdGhpcy5sYXN0UnVuPWUsdGhpcy5jb250ZXh0LnZpZXdwb3J0KDAsMCx0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoLHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KSx0aGlzLmNvbnRleHQudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW1JbmZvLnByb2dyYW0pLEljKHRoaXMuY29udGV4dCx0aGlzLnByb2dyYW1JbmZvLHRoaXMuYnVmZmVySW5mbyksWm4odGhpcy5wcm9ncmFtSW5mbyx7ZGVsdGE6bixjYW52YXM6W3RoaXMuY29udGV4dC5jYW52YXMud2lkdGgsdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHRdLC4uLnR9KSxZYyh0aGlzLmNvbnRleHQsdGhpcy5vcHRpb25zLmRpc2FibGVGcmFtZWJ1ZmZlcj9udWxsOnRoaXMuZmJpKSxQYyh0aGlzLmNvbnRleHQsdGhpcy5idWZmZXJJbmZvKSwoZj10aGlzLnByb2ZpbGVyKT09bnVsbHx8Zi5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gUFJPRyA6ICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApfXNldFByb2ZpbGVyKHQpe3RoaXMucHJvZmlsZXI9dH19dmFyIFhjPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gc2FtcGxlcjJEIGJhY2tncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIGZvcmVncm91bmQ7CnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUyRChiYWNrZ3JvdW5kLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBmb3JlZ3JvdW5kQ29sb3IgPSB0ZXh0dXJlMkQoZm9yZWdyb3VuZCwgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgdHJlc2hvbGRDb2xvciA9IHRleHR1cmUyRCh0aHJlc2hvbGQsIF90ZXh0dXJlX2Nvb3JkKTsKICBnbF9GcmFnQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3IgKiB0cmVzaG9sZENvbG9yLmEgKwogICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciAqICgxLiAtIHRyZXNob2xkQ29sb3IuYSk7Cn0KYCxRYz1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7Cn0KYDtjbGFzcyBFciBleHRlbmRzIF9le2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIFhjfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBRY319Y2xhc3MgVHJ7Y29uc3RydWN0b3IoKXtsKHRoaXMsInN0ZXBzIixbXSk7bCh0aGlzLCJwcm9maWxlciIpfWFkZFN0ZXAodCl7dGhpcy5zdGVwcy5wdXNoKHQpfWFzeW5jIHJ1bigpe2Zvcihjb25zdCB0IG9mIHRoaXMuc3RlcHMpdC5wcm9ncmFtLnJ1bih0LmdldFVuaWZvcm1zKCkpfXJlc2l6ZU91dHB1dCh0LGUpe3ZhciBuLG87KG49dGhpcy5wcm9maWxlcik9PW51bGx8fG4ucHVzaENvbnRleHQoYFBJUCBbJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9XWApO2Zvcihjb25zdCBpIG9mIHRoaXMuc3RlcHMpaS5wcmV2ZW50UmVzaXplfHxpLnByb2dyYW0ucmVzaXplT3V0cHV0KHQsZSk7KG89dGhpcy5wcm9maWxlcik9PW51bGx8fG8ucG9wQ29udGV4dChgUElQIFske3RoaXMuY29uc3RydWN0b3IubmFtZX1dYCl9c2V0UHJvZmlsZXIodCl7dGhpcy5wcm9maWxlcj10O2Zvcihjb25zdCBlIG9mIHRoaXMuc3RlcHMpZS5wcm9ncmFtLnNldFByb2ZpbGVyKHQpfXNldElkKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuc3RlcHMpZS5wcm9ncmFtLmlkPXR9fWNsYXNzIEFyIGV4dGVuZHMgVHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO2wodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMSl9fWNsYXNzIGFvIGV4dGVuZHMgQXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTtsKHRoaXMsImlucHV0SW1hZ2UiKTtsKHRoaXMsImlucHV0QmFja2dyb3VuZEltYWdlIik7bCh0aGlzLCJpbnB1dE1hc2siKTtsKHRoaXMsInByZWNpc2VNYXNrRW5hYmxlZCIsITApO3RoaXMuY29udGV4dD1lO2NvbnN0IG49e2NvbnRleHQ6ZSxoZWlnaHQ6ZS5jYW52YXMuaGVpZ2h0LHdpZHRoOmUuY2FudmFzLndpZHRofSxvPW5ldyBFcih7Li4ubixkaXNhYmxlRnJhbWVidWZmZXI6ITB9KTt0aGlzLmFkZFN0ZXAoe3Byb2dyYW06byxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOkkoZSx0aGlzLmlucHV0QmFja2dyb3VuZEltYWdlKSxmb3JlZ3JvdW5kOkkoZSx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKGUsbil7dGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn19dmFyIEtjPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZvaWQgbWFpbigpIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkKTsgfQpgLHFjPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKdW5pZm9ybSBib29sIGludmVydF95OwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7CiAgaWYgKGludmVydF95KSB7CiAgICBfdGV4dHVyZV9jb29yZC55ID0gMS4gLSB0ZXh0dXJlX2Nvb3JkLnk7CiAgfQp9CmA7Y2xhc3MgSmMgZXh0ZW5kcyBfZXtnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBLY31nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gcWN9fWNsYXNzIFpjIGV4dGVuZHMgVHJ7Y29uc3RydWN0b3IoZSxuLG8pe3N1cGVyKCk7bCh0aGlzLCJpbnB1dEltYWdlIik7dGhpcy5jb250ZXh0PWU7Y29uc3QgaT17Y29udGV4dDplLGhlaWdodDpvLHdpZHRoOm59O3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpuZXcgSmMoey4uLmksZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSksZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpJKGUsdGhpcy5pbnB1dEltYWdlKSxpbnZlcnRfeTohMH0pfSl9c2V0RGF0YShlKXt0aGlzLmlucHV0SW1hZ2U9ZX19YXN5bmMgZnVuY3Rpb24gdW8ocil7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntzZXRUaW1lb3V0KCgpPT57dCgpfSxyKX0pfXZhciBlZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7Cgp1bmlmb3JtIHZlYzIgY2FudmFzOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdmVjNCBsb29wKCk7Cgp2b2lkIG1haW4oKSB7IGdsX0ZyYWdDb2xvciA9IGxvb3AoKTsgfQpgLHRmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmAsd3I9KHI9PihyW3IuTElORUFSPTBdPSJMSU5FQVIiLHJbci5HQVVTU0lBTj0xXT0iR0FVU1NJQU4iLHIpKSh3cnx8e30pO2NsYXNzIGNvIGV4dGVuZHMgX2V7Z2V0RGVmaW5lcygpe3ZhciB0O3JldHVybntSQURJVVM6KHQ9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dDoxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBlZit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiB0Zn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgZTtsZXQgdD0oZT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD9lOjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHt0fS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKCiAgICAgICAgICAgIGZvcihpbnQgeT0tJHt0fTsgeTwke3QrMX07ICsreSkgewogICAgICAgICAgICAgICAgZm9yKGludCB4PS0ke3R9OyB4PCR7dCsxfTsgKyt4KSB7CiAgICAgICAgICAgICAgICAgICAgZmxvYXQgZmFjdG9yID0gMS47CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH1nZXRGYWN0b3IodCxlKXtzd2l0Y2godGhpcy5vcHRpb25zLnR5cGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5nZXRMaW5lYXJGYWN0b3IodCxlKTtjYXNlIDA6ZGVmYXVsdDpyZXR1cm4gdGhpcy5nZXRMaW5lYXJGYWN0b3IodCxlKX19Z2V0TGluZWFyRmFjdG9yKHQsZSl7cmV0dXJuIDF9Z2V0R2F1c3NpYW5GYWN0b3IodCxlKXt2YXIgdTtjb25zdCBuPU1hdGguUEkqMixvPU1hdGgubWF4KCh1PXRoaXMub3B0aW9ucy5yYWRpdXMpIT1udWxsP3U6MSwxKSxpPTEvKG4qbyoqMikscz0tKHQqKjIrZSoqMiksYT1pKnM7cmV0dXJuIGkqTWF0aC5FKiphfX1jbGFzcyBJciBleHRlbmRzIF9le2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2wodGhpcywiZmJpMiIpO3RoaXMuZmJpMj13dChlLmNvbnRleHQsW3tmb3JtYXQ6ZS5jb250ZXh0LlJHQkEsdHlwZTplLmNvbnRleHQuVU5TSUdORURfQllURSxtaW46ZS5jb250ZXh0LkxJTkVBUixtYWc6ZS5jb250ZXh0LkxJTkVBUix3cmFwOmUuY29udGV4dC5DTEFNUF9UT19FREdFfV0sZS53aWR0aCxlLmhlaWdodCl9cnVuKGUpe2NvbnN0IG49dGhpcy5mYmk7dGhpcy5mYmk9dGhpcy5mYmkyLHRoaXMuZmJpMj1uLHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdLHN1cGVyLnJ1bih7Li4uZSxwcmV2aW91c19yZW5kZXJpbmc6dGhpcy5mYmkyLmF0dGFjaG1lbnRzWzBdfSl9cmVzaXplT3V0cHV0KGUsbil7c3VwZXIucmVzaXplT3V0cHV0KGUsbiksdGhpcy5mYmkyPXd0KHRoaXMuY29udGV4dCxbe2Zvcm1hdDp0aGlzLmNvbnRleHQuUkdCQSx0eXBlOnRoaXMuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0aGlzLmNvbnRleHQuTElORUFSLHdyYXA6dGhpcy5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSxlLG4pfX12YXIgcmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKLy8gdW5pZm9ybSBmbG9hdCB0cmVzaG9sZDsKdW5pZm9ybSBzYW1wbGVyMkQgaW1hZ2Vfbm93Owp1bmlmb3JtIHNhbXBsZXIyRCBpbWFnZV9iZWZvcmU7CnVuaWZvcm0gc2FtcGxlcjJEIG1hc2tfbm93Owp1bmlmb3JtIHNhbXBsZXIyRCBtYXNrX2JlZm9yZTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJldmlvdXNfcmVuZGVyaW5nOwp1bmlmb3JtIHZlYzIgY2FudmFzOwoKdW5pZm9ybSBmbG9hdCBkZWx0YTsKCmZsb2F0IGN1cnJlbnRfZmFjdG9yID0gMC42OTsKZmxvYXQgcHJldmlvdXNfZmFjdG9yID0gMC43NDsKZmxvYXQgdGhyZXNob2xkX2FjdGl2YXRpb24gPSAwLjU0OwoKZmxvYXQgbWFwKGZsb2F0IHZhbHVlLCBmbG9hdCBtaW4xLCBmbG9hdCBtYXgxLCBmbG9hdCBtaW4yLCBmbG9hdCBtYXgyKSB7CiAgcmV0dXJuIG1pbjIgKyAodmFsdWUgLSBtaW4xKSAqIChtYXgyIC0gbWluMikgLyAobWF4MSAtIG1pbjEpOwp9CgpmbG9hdCBnZXRUaHJlc2hvbGQoKSB7CiAgdmVjNCBjb2xvciA9IHZlYzQoMC4pOwogIGZvciAoZmxvYXQgeSA9IC02LjsgeSA8IDcuOyB5ICs9IDEuKSB7CiAgICBmb3IgKGZsb2F0IHggPSAtNi47IHggPCA3LjsgeCArPSAxLikgewogICAgICB2ZWM0IGltYWdlX25vd19jb2xvciA9CiAgICAgICAgICB0ZXh0dXJlMkQoaW1hZ2Vfbm93LCBfdGV4dHVyZV9jb29yZCArIHZlYzIoeCwgeSkgLyBjYW52YXMpOwogICAgICB2ZWM0IGltYWdlX2JlZm9yZV9jb2xvciA9CiAgICAgICAgICB0ZXh0dXJlMkQoaW1hZ2VfYmVmb3JlLCBfdGV4dHVyZV9jb29yZCArIHZlYzIoeCwgeSkgLyBjYW52YXMpOwogICAgICBjb2xvciArPSBhYnMoaW1hZ2VfYmVmb3JlX2NvbG9yIC0gaW1hZ2Vfbm93X2NvbG9yKTsKICAgIH0KICB9CiAgcmV0dXJuIChjb2xvci54ICsgY29sb3IueSArIGNvbG9yLnopIC8gKDMuICogOS4pOwp9Cgp2b2lkIG1haW4oKSB7CiAgZmxvYXQgdHJlc2hvbGRfaW5wdXQgPSAuNDsKICBmbG9hdCB0cmVzaG9sZF9wcmV2aW91c19yZW5kZXJpbmcgPSAuOTg7CgogIHZlYzQgbWFza19ub3dfY29sb3IgPSB0ZXh0dXJlMkQobWFza19ub3csIF90ZXh0dXJlX2Nvb3JkKTsKICB2ZWM0IG1hc2tfYmVmb3JlX2NvbG9yID0gdGV4dHVyZTJEKG1hc2tfYmVmb3JlLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCBwcmV2aW91c19yZW5kZXJpbmdfY29sb3IgPSB0ZXh0dXJlMkQocHJldmlvdXNfcmVuZGVyaW5nLCBfdGV4dHVyZV9jb29yZCk7CgogIHZlYzMgbWFza19kaWZmID0gYWJzKG1hc2tfYmVmb3JlX2NvbG9yLnh5eiAtIG1hc2tfbm93X2NvbG9yLnh5eik7CiAgZmxvYXQgZmxpY2tlcmluZyA9IG1hc2tfZGlmZi54OwogIGZsb2F0IHRocmVzaG9sZCA9IGdldFRocmVzaG9sZCgpOwogIGlmICh0aHJlc2hvbGQgPCB0aHJlc2hvbGRfYWN0aXZhdGlvbikgewogICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChmbGlja2VyaW5nLCAwLiwgMC4sIDEuKSAqIGN1cnJlbnRfZmFjdG9yICsKICAgICAgICAgICAgICAgICAgIHByZXZpb3VzX3JlbmRlcmluZ19jb2xvciAqIHByZXZpb3VzX2ZhY3RvcjsKICAgIGdsX0ZyYWdDb2xvciAqPSAoMS4gLSB0aHJlc2hvbGQpOwogIH0KfQpgLG5mPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3Mgb2YgZXh0ZW5kcyBJcntnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiByZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gbmZ9fXZhciBzZj1gI3ZlcnNpb24gMzAwIGVzCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Wb2xjb21peC92aXJ0dWFsLWJhY2tncm91bmQvYmxvYi9tYWluL3NyYy9waXBlbGluZXMvd2ViZ2wyL2pvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UudHMKCnByZWNpc2lvbiBoaWdocCBmbG9hdDsKdW5pZm9ybSBzYW1wbGVyMkQgaW5wdXRfZnJhbWU7CnVuaWZvcm0gc2FtcGxlcjJEIHNlZ21lbnRhdGlvbl9tYXNrOwp1bmlmb3JtIHNhbXBsZXIyRCB0aHJlc2hvbGQ7CnVuaWZvcm0gdmVjMiB0ZXhlbF9zaXplOwp1bmlmb3JtIGZsb2F0IHN0ZXA7CnVuaWZvcm0gZmxvYXQgcmFkaXVzOwp1bmlmb3JtIGZsb2F0IG9mZnNldDsKdW5pZm9ybSBmbG9hdCBzaWdtYV90ZXhlbDsKdW5pZm9ybSBmbG9hdCBzaWdtYV9jb2xvcjsKCmluIHZlYzIgX3RleHR1cmVfY29vcmQ7Cm91dCB2ZWM0IG91dENvbG9yOwoKZmxvYXQgZ2F1c3NpYW4oZmxvYXQgeCwgZmxvYXQgc2lnbWEpIHsKICBmbG9hdCBjb2VmZiA9IC0wLjUgLyAoc2lnbWEgKiBzaWdtYSAqIDQuMCArIDEuMGUtNik7CiAgcmV0dXJuIGV4cCgoeCAqIHgpICogY29lZmYpOwp9Cgp2b2lkIG1haW4oKSB7CiAgdmVjMiBjZW50ZXJDb29yZCA9IF90ZXh0dXJlX2Nvb3JkOwogIHZlYzMgY2VudGVyQ29sb3IgPSB0ZXh0dXJlKGlucHV0X2ZyYW1lLCBjZW50ZXJDb29yZCkucmdiOwogIGZsb2F0IG5ld1ZhbCA9IDAuMDsKICBmbG9hdCBzcGFjZVdlaWdodCA9IDAuMDsKICBmbG9hdCBjb2xvcldlaWdodCA9IDAuMDsKICBmbG9hdCB0b3RhbFdlaWdodCA9IDAuMDsKICAvLyBTdWJzYW1wbGUga2VybmVsIHNwYWNlLgogIGZvciAoZmxvYXQgaSA9IC1yYWRpdXMgKyBvZmZzZXQ7IGkgPD0gcmFkaXVzOyBpICs9IHN0ZXApIHsKICAgIGZvciAoZmxvYXQgaiA9IC1yYWRpdXMgKyBvZmZzZXQ7IGogPD0gcmFkaXVzOyBqICs9IHN0ZXApIHsKICAgICAgdmVjMiBzaGlmdCA9IHZlYzIoaiwgaSkgKiB0ZXhlbF9zaXplOwogICAgICB2ZWMyIGNvb3JkID0gdmVjMihjZW50ZXJDb29yZCArIHNoaWZ0KTsKICAgICAgdmVjMyBmcmFtZUNvbG9yID0gdGV4dHVyZShpbnB1dF9mcmFtZSwgY29vcmQpLnJnYjsKICAgICAgZmxvYXQgdGhyZXNob2xkID0gdGV4dHVyZSh0aHJlc2hvbGQsIGNvb3JkKS5hOwogICAgICBmbG9hdCBvdXRWYWwgPSB0ZXh0dXJlKHNlZ21lbnRhdGlvbl9tYXNrLCBjb29yZCkuYTsKCiAgICAgIHNwYWNlV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29vcmQsIGNvb3JkKSwgc2lnbWFfdGV4ZWwpOwogICAgICBjb2xvcldlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvbG9yLCBmcmFtZUNvbG9yKSwgc2lnbWFfY29sb3IpOwogICAgICB0b3RhbFdlaWdodCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0OwogICAgICBuZXdWYWwgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodCAqIG91dFZhbCAqIHRocmVzaG9sZDsKICAgIH0KICB9CiAgbmV3VmFsIC89IHRvdGFsV2VpZ2h0OwogIG91dENvbG9yID0gdmVjNCh2ZWMzKDAuKSwgbmV3VmFsKTsKfWAsYWY9YCN2ZXJzaW9uIDMwMCBlcwppbiB2ZWMyIHBvc2l0aW9uOwppbiB2ZWMyIHRleHR1cmVfY29vcmQ7Cm91dCB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9YDtjbGFzcyB1ZiBleHRlbmRzIF9le2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIHNmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBhZn19dmFyIGNmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gdmVjMiBjYW52YXM7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7Cgp2b2lkIG1haW4oKSB7CiAgaW50IGNvdW50ID0gMDsKICBmb3IgKGZsb2F0IHkgPSAtMS47IHkgPCAyLjsgeSArPSAxLikgewogICAgZm9yIChmbG9hdCB4ID0gLTEuOyB4IDwgMi47IHggKz0gMS4pIHsKICAgICAgdmVjMiBjb29yZCA9IF90ZXh0dXJlX2Nvb3JkICsgdmVjMih5LCB4KSAvIGNhbnZhczsKICAgICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCBjb29yZCk7CiAgICAgIGlmIChjb2xvci5yID4gLjEpIHsKICAgICAgICBjb3VudCsrOwogICAgICB9CiAgICB9CiAgfQogIGlmIChjb3VudCA+IDUpIHsKICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCk7CiAgfQp9CmAsZmY9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBsZiBleHRlbmRzIF9le2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIGNmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBmZn19dmFyIGRmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gdmVjMiBjYW52YXM7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7Cgp2b2lkIG1haW4oKSB7CiAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCk7CiAgZm9yIChmbG9hdCB5ID0gLTIuOyB5IDwgMy47IHkgKz0gMS4pIHsKICAgIGZvciAoZmxvYXQgeCA9IC0yLjsgeCA8IDMuOyB4ICs9IDEuKSB7CiAgICAgIHZlYzIgY29vcmQgPSBfdGV4dHVyZV9jb29yZDsKICAgICAgY29vcmQgKz0gdmVjMih5LCB4KSAvIGNhbnZhczsKICAgICAgY29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkKSAqICgxLiAvIDQuKTsKICAgIH0KICB9CgogIGdsX0ZyYWdDb2xvciA9IGNvbG9yOwp9CmAsbWY9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBoZiBleHRlbmRzIElye2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIGRmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBtZn19dmFyIHBmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKdW5pZm9ybSBzYW1wbGVyMkQgaW5wdXRzOwoKdm9pZCBtYWluKCkgewogIHZlYzQgaW5wdXRzX2NvbG9yID0gdGV4dHVyZTJEKGlucHV0cywgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgdGhyZXNob2xkX2NvbG9yID0gdGV4dHVyZTJEKHRocmVzaG9sZCwgX3RleHR1cmVfY29vcmQpOwogIGlmICh0aHJlc2hvbGRfY29sb3IuciA8IC4xICYmIGlucHV0c19jb2xvci5yID4gLjUpIHsKICAgIGdsX0ZyYWdDb2xvciA9IGlucHV0c19jb2xvcjsKICB9Cn0KYCxnZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIHlmIGV4dGVuZHMgSXJ7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gcGZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIGdmfX1jbGFzcyB4ZiBleHRlbmRzIFRye2NvbnN0cnVjdG9yKGUsbixvKXtzdXBlcigpO2wodGhpcywiaW5wdXRJbWFnZSIpO2wodGhpcywiaW5wdXRNYXNrIik7bCh0aGlzLCJwcmV2aW91c0lucHV0SW1hZ2UiKTtsKHRoaXMsInByZXZpb3VzSW5wdXRNYXNrIik7bCh0aGlzLCJvdXRwdXQiKTtsKHRoaXMsIm9wdGlvbnMiLHtjdXJyZW50VGhyZXNob2xkTWluaW11bTowLGN1cnJlbnRUaHJlc2hvbGRNYXhpbXVtOjEscHJldmlvdXNUaHJlc2hvbGRNaW5pbXVtOjAscHJldmlvdXNUaHJlc2hvbGRNYXhpbXVtOjEsdGhyZXNob2xkTWluaW11bTowLHRocmVzaG9sZE1heGltdW06MSx0aHJlc2hvbGRGYWN0b3I6MX0pO2wodGhpcywiam9pbnRCaWxhdGVyYWwiKTt0aGlzLmNvbnRleHQ9ZTtjb25zdCBpPXtjb250ZXh0OmUsaGVpZ2h0Om8sd2lkdGg6bn0scz1uZXcgb2YoaSksYT1uZXcgY28oey4uLmkscmFkaXVzOjEsdHlwZTp3ci5HQVVTU0lBTn0pLHU9bmV3IHlmKGkpLGY9bmV3IGhmKGkpLG09bmV3IGxmKGkpO3RoaXMuam9pbnRCaWxhdGVyYWw9bmV3IHVmKGkpLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2ltYWdlX25vdzpJKGUsdGhpcy5pbnB1dEltYWdlKSxpbWFnZV9iZWZvcmU6SShlLHRoaXMucHJldmlvdXNJbnB1dEltYWdlKSxtYXNrX25vdzpJKGUsdGhpcy5pbnB1dE1hc2spLG1hc2tfYmVmb3JlOkkoZSx0aGlzLnByZXZpb3VzSW5wdXRNYXNrKSxjdXJyZW50X3RocmVzaG9sZF9taW5pbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWluaW11bSxjdXJyZW50X3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5jdXJyZW50VGhyZXNob2xkTWF4aW11bSxwcmV2aW91c190aHJlc2hvbGRfbWluaW11bTp0aGlzLm9wdGlvbnMucHJldmlvdXNUaHJlc2hvbGRNaW5pbXVtLHByZXZpb3VzX3RocmVzaG9sZF9tYXhpbXVtOnRoaXMub3B0aW9ucy5wcmV2aW91c1RocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX21pbmltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1pbmltdW0sdGhyZXNob2xkX21heGltdW06dGhpcy5vcHRpb25zLnRocmVzaG9sZE1heGltdW0sdGhyZXNob2xkX2ZhY3Rvcjp0aGlzLm9wdGlvbnMudGhyZXNob2xkRmFjdG9yfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06dSxnZXRVbmlmb3JtczooKT0+KHtpbnB1dHM6SShlLHRoaXMuaW5wdXRNYXNrKSx0aHJlc2hvbGQ6SShlLHMub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOm0sZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpJKGUsdS5vdXRwdXQpfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06ZixnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOkkoZSxtLm91dHB1dCl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTphLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SShlLGYub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOnRoaXMuam9pbnRCaWxhdGVyYWwsZ2V0VW5pZm9ybXM6KCk9Pnt2YXIgJCx6LFYsRyxHZSxiZSxjZSxXO2NvbnN0IGc9KHo9KCQ9dGhpcy5pbnB1dEltYWdlKT09bnVsbD92b2lkIDA6JC53aWR0aCkhPW51bGw/ejoxLHg9KEc9KFY9dGhpcy5pbnB1dEltYWdlKT09bnVsbD92b2lkIDA6Vi5oZWlnaHQpIT1udWxsP0c6MSxkPShiZT0oR2U9dGhpcy5pbnB1dE1hc2spPT1udWxsP3ZvaWQgMDpHZS53aWR0aCkhPW51bGw/YmU6MSxfPShXPShjZT10aGlzLmlucHV0TWFzayk9PW51bGw/dm9pZCAwOmNlLmhlaWdodCkhPW51bGw/VzoxLEU9TWF0aC5tYXgoZy9kLHgvXyksdj1NYXRoLm1heCgxLE1hdGguc3FydChFKSouNjYpLEY9MS9nLGs9MS94O3JldHVybntpbnB1dF9mcmFtZTpJKGUsdGhpcy5pbnB1dEltYWdlKSxzZWdtZW50YXRpb25fbWFzazpJKGUsdGhpcy5pbnB1dE1hc2spLHRocmVzaG9sZDpJKGUsYS5vdXRwdXQpLHRleGVsX3NpemU6W0Ysa10sc3RlcDp2LHJhZGl1czpFLG9mZnNldDp2PjE/diouNTowLHNpZ21hX3RleGVsOk1hdGgubWF4KEYsaykqRSxzaWdtYV9jb2xvcjouMX19fSksdGhpcy5vdXRwdXQ9dGhpcy5qb2ludEJpbGF0ZXJhbC5vdXRwdXR9c2V0RGF0YShlLG4pe3RoaXMucHJldmlvdXNJbnB1dEltYWdlPXRoaXMuaW5wdXRJbWFnZT90aGlzLmlucHV0SW1hZ2U6ZSx0aGlzLnByZXZpb3VzSW5wdXRNYXNrPXRoaXMuaW5wdXRNYXNrP3RoaXMuaW5wdXRNYXNrOm4sdGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn1zZXRPcHRpb25zKGUpe3RoaXMub3B0aW9ucz1lfXJlc2l6ZU91dHB1dChlLG4pe3N1cGVyLnJlc2l6ZU91dHB1dChlLG4pLHRoaXMub3V0cHV0PXRoaXMuam9pbnRCaWxhdGVyYWwub3V0cHV0fX1jbGFzcyBfZntjb25zdHJ1Y3Rvcih0KXtsKHRoaXMsImNvbnRleHQiKTtsKHRoaXMsImV4dGVuc2lvbiIpO2wodGhpcywicXVlcmllcyIsW10pO2wodGhpcywiYWN0aXZlUXVlcnkiKTt0aGlzLmNvbnRleHQ9dCx0aGlzLmV4dGVuc2lvbj10LmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpfXN0YXJ0KCl7fXN0b3AoKXt0aGlzLmFjdGl2ZVF1ZXJ5JiZ0aGlzLmNvbnRleHQuZW5kUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCl9cHVzaENvbnRleHQodCl7dGhpcy5jcmVhdGVRdWVyeSgiUFVTSCIsdCl9cG9wQ29udGV4dCh0KXt0aGlzLmNyZWF0ZVF1ZXJ5KCJQT1AiLHQpfWNyZWF0ZVF1ZXJ5KHQsZSl7dGhpcy5hY3RpdmVRdWVyeSYmdGhpcy5jb250ZXh0LmVuZFF1ZXJ5KHRoaXMuZXh0ZW5zaW9uLlRJTUVfRUxBUFNFRF9FWFQpLHRoaXMuYWN0aXZlUXVlcnk9dGhpcy5jb250ZXh0LmNyZWF0ZVF1ZXJ5KCksdGhpcy5jb250ZXh0LmJlZ2luUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCx0aGlzLmFjdGl2ZVF1ZXJ5KSx0aGlzLnF1ZXJpZXMucHVzaCh7bmFtZTplLGFjdGlvbjp0LHF1ZXJ5OnRoaXMuYWN0aXZlUXVlcnl9KX1hc3luYyBnZXRSZXNvbHZlZFF1ZXJpZXMoKXtjb25zdCB0PShhd2FpdCBQcm9taXNlLmFsbChbLi4udGhpcy5xdWVyaWVzXS5tYXAoZT0+dGhpcy5yZXNvbHZlUXVlcnkoZSkpKSkuZmlsdGVyKGU9PmUpO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7KytlKXRbZV0udGltZXN0YW1wKz10W2UtMV0uZHVyYXRpb24rdFtlLTFdLnRpbWVzdGFtcDtyZXR1cm4gdH1hc3luYyByZXNvbHZlUXVlcnkodCl7aWYoIWF3YWl0IHRoaXMuYXdhaXRRdWVyeUF2YWlsYWJsZSh0KSl7Y29uc29sZS5sb2coIlVuYXdhaXRhYmxlIHF1ZXJ5Iix0KTtyZXR1cm59aWYodGhpcy5jb250ZXh0LmdldFBhcmFtZXRlcih0aGlzLmV4dGVuc2lvbi5HUFVfRElTSk9JTlRfRVhUKSl7Y29uc29sZS5sb2coIkRpc2pvaW50ZWQgcXVlcnkiLHQpO3JldHVybn1yZXR1cm57Li4udCxkdXJhdGlvbjp0aGlzLmNvbnRleHQuZ2V0UXVlcnlQYXJhbWV0ZXIodC5xdWVyeSx0aGlzLmNvbnRleHQuUVVFUllfUkVTVUxUKSx0aW1lc3RhbXA6MH19YXN5bmMgYXdhaXRRdWVyeUF2YWlsYWJsZSh0KXtmb3IobGV0IGU9MDtlPDEwOysrZSl7aWYodGhpcy5jb250ZXh0LmdldFF1ZXJ5UGFyYW1ldGVyKHQucXVlcnksdGhpcy5jb250ZXh0LlFVRVJZX1JFU1VMVF9BVkFJTEFCTEUpKXJldHVybiB0O2F3YWl0IHVvKDIwMCl9fX1jbGFzcyBJdHtjb25zdHJ1Y3Rvcigpe2wodGhpcywiY2FudmFzIik7bCh0aGlzLCJjb250ZXh0Iik7bCh0aGlzLCJwaXBlbGluZSIpO2wodGhpcywicHJldmlvdXNJbWFnZVdpZHRoIiwwKTtsKHRoaXMsInByZXZpb3VzSW1hZ2VIZWlnaHQiLDApO2wodGhpcywicHJldmlvdXNNYXNrV2lkdGgiLEZlKTtsKHRoaXMsInByZXZpb3VzTWFza0hlaWdodCIsRmUpO2wodGhpcywicHJvZmlsZXIiKTtsKHRoaXMsInBvc3RQcm9jZXNzaW5nRW5hYmxlZCIsITApO2wodGhpcywiaW1wcm92ZU1hc2siKTtjb25zdCB0PW5ldyBPZmZzY3JlZW5DYW52YXMoMCwwKSxlPXQuZ2V0Q29udGV4dCgid2ViZ2wyIik7aWYoIWUpdGhyb3ciRmFpbCB0byByZXRyaWV2ZSB3ZWJnbDIgY29udGV4dCI7dGhpcy5jYW52YXM9dCx0aGlzLmNvbnRleHQ9ZSx0aGlzLmltcHJvdmVNYXNrPW5ldyB4Zih0aGlzLmNvbnRleHQsRmUsRmUpfXNldEZsaWNrZXJpbmdPcHRpb25zKHQpe3RoaXMuaW1wcm92ZU1hc2suc2V0T3B0aW9ucyh0KX1lbmFibGVQb3N0UHJvY2Vzc2luZygpe3RoaXMucG9zdFByb2Nlc3NpbmdFbmFibGVkPSEwfWRpc2FibGVQb3N0UHJvY2Vzc2luZygpe3RoaXMucG9zdFByb2Nlc3NpbmdFbmFibGVkPSExfWFzeW5jIHByb2ZpbGVXZWJnbCh0KXtjb25zdCBlPW5ldyBfZih0aGlzLmNvbnRleHQpO3JldHVybiB0aGlzLnByb2ZpbGVyPWUsZS5zdGFydCgpLGF3YWl0IHVvKHQpLHRoaXMucHJvZmlsZXI9dm9pZCAwLGUuc3RvcCgpLGUuZ2V0UmVzb2x2ZWRRdWVyaWVzKCl9YXN5bmMgcmVuZGVyKHQsZSl7dmFyIGkscztpZighdGhpcy5waXBlbGluZSl0aHJvdyJtaXNzaW5nIHBpcGVsaW5lIjsodGhpcy5wcmV2aW91c0ltYWdlSGVpZ2h0IT09dC5oZWlnaHR8fHRoaXMucHJldmlvdXNJbWFnZVdpZHRoIT09dC53aWR0aCkmJnRoaXMucmVzaXplT3V0cHV0KHQud2lkdGgsdC5oZWlnaHQpLCh0aGlzLnByZXZpb3VzTWFza0hlaWdodCE9PWUuaGVpZ2h0fHx0aGlzLnByZXZpb3VzTWFza1dpZHRoIT09ZS53aWR0aCkmJih0aGlzLmltcHJvdmVNYXNrLnJlc2l6ZU91dHB1dChlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLnByZXZpb3VzTWFza1dpZHRoPWUud2lkdGgsdGhpcy5wcmV2aW91c01hc2tIZWlnaHQ9ZS5oZWlnaHQpO2NvbnN0IG49InJlbmRlcmVyIjsoaT10aGlzLnByb2ZpbGVyKT09bnVsbHx8aS5wdXNoQ29udGV4dChuKSx0aGlzLmltcHJvdmVNYXNrLnNldFByb2ZpbGVyKHRoaXMucHJvZmlsZXIpLHRoaXMucGlwZWxpbmUuc2V0UHJvZmlsZXIodGhpcy5wcm9maWxlcik7bGV0IG89ZTtyZXR1cm4gdGhpcy5wb3N0UHJvY2Vzc2luZ0VuYWJsZWQmJih0aGlzLmltcHJvdmVNYXNrLnNldERhdGEodCxlKSx0aGlzLmltcHJvdmVNYXNrLnJ1bigpLG89dGhpcy5pbXByb3ZlTWFzay5vdXRwdXQpLHRoaXMucGlwZWxpbmUuc2V0RGF0YSh0LG8pLGF3YWl0IHRoaXMucGlwZWxpbmUucnVuKCksKHM9dGhpcy5wcm9maWxlcik9PW51bGx8fHMucG9wQ29udGV4dChuKSx0aGlzLmNhbnZhc31yZXNpemVPdXRwdXQodCxlKXt2YXIgbjt0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmhlaWdodD1lLChuPXRoaXMucGlwZWxpbmUpPT1udWxsfHxuLnJlc2l6ZU91dHB1dCh0LGUpLHRoaXMucHJldmlvdXNJbWFnZVdpZHRoPXQsdGhpcy5wcmV2aW91c0ltYWdlSGVpZ2h0PWV9fWNsYXNzIGZvIGV4dGVuZHMgSXR7Y29uc3RydWN0b3IoKXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTtsKHRoaXMsImJhY2tncm91bmRJbWFnZSIpO2wodGhpcywiYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcyIpO2wodGhpcywiYmFja2dyb3VuZEltYWdlUmVzaXplckNvbnRleHQiKTtsKHRoaXMsImJhY2tncm91bmRJbWFnZVJlc2l6ZXIiKTt0aGlzLnBpcGVsaW5lPW5ldyBhbyh0aGlzLmNvbnRleHQpO2NvbnN0IGU9bmV3IE9mZnNjcmVlbkNhbnZhcygwLDApLG49ZS5nZXRDb250ZXh0KCJ3ZWJnbDIiKTtpZighbil0aHJvdyJGYWlsIHRvIHJldHJpZXZlIHdlYmdsIGNvbnRleHQiO3RoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcz1lLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNvbnRleHQ9bix0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXI9bmV3IFpjKHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNvbnRleHQsMCwwKX1zZXRCYWNrZ3JvdW5kSW1hZ2UoZSl7dGhpcy5iYWNrZ3JvdW5kSW1hZ2U9ZSx0aGlzLnVwZGF0ZUJhY2tncm91bmRJbWFnZSgpfXVwZGF0ZUJhY2tncm91bmRJbWFnZSgpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0Om59PXRoaXMuY2FudmFzO3RoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplci5yZXNpemVPdXRwdXQoZSxuKSx0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXIuc2V0RGF0YSh0aGlzLmJhY2tncm91bmRJbWFnZSksdGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyLnJ1bigpLHRoaXMucGlwZWxpbmUuaW5wdXRCYWNrZ3JvdW5kSW1hZ2U9dGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ2FudmFzfXJlc2l6ZU91dHB1dChlLG4pe3N1cGVyLnJlc2l6ZU91dHB1dChlLG4pLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcy53aWR0aD1lLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplckNhbnZhcy5oZWlnaHQ9bix0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXIucmVzaXplT3V0cHV0KGUsbiksdGhpcy51cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoKX19Y2xhc3MgYmYgZXh0ZW5kcyBmb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJmcmFtZVJlYWRlciIpfXNldEJhY2tncm91bmRWaWRlbyhlKXt0aGlzLmZyYW1lUmVhZGVyPWUuZ2V0UmVhZGVyKCksdGhpcy5yZWFkTmV4dFZpZGVvRnJhbWUoKX1hc3luYyByZW5kZXIoZSxuKXtyZXR1cm4gYXdhaXQgdGhpcy5yZWFkTmV4dFZpZGVvRnJhbWUoKSxzdXBlci5yZW5kZXIoZSxuKX1hc3luYyByZWFkTmV4dFZpZGVvRnJhbWUoKXt2YXIgbjtjb25zdCBlPWF3YWl0KChuPXRoaXMuZnJhbWVSZWFkZXIpPT1udWxsP3ZvaWQgMDpuLnJlYWQoKSk7aWYoZSE9bnVsbCYmZS52YWx1ZSl7Y29uc3Qgbz1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChlLnZhbHVlKTt0aGlzLnNldEJhY2tncm91bmRJbWFnZShvKSxlLnZhbHVlLmNsb3NlKCl9fX1jbGFzcyBsb3tibHVyQmFja2dyb3VuZCh0KXtyZXR1cm4gbmV3IFZpKHQpfWJsdXJTaWxob3VldHRlKHQpe3JldHVybiBuZXcgSGkodCl9aW1hZ2VCYWNrZ3JvdW5kKCl7cmV0dXJuIG5ldyBqaX12aWRlb0JhY2tncm91bmQoKXtyZXR1cm4gbmV3IGJmfX12YXIgdmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWFzazsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCxFZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIFRmIGV4dGVuZHMgX2V7Z2V0RGVmaW5lcygpe3ZhciB0O3JldHVybntSQURJVVM6KHQ9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dDoxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiB2Zit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBFZn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgZTtsZXQgdD0oZT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD9lOjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHt0fS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKICAgICAgICAgICAgZmxvYXQgbWF4TGVuZ3RoID0gbGVuZ3RoKG5vcm1hbGl6ZWRSYWRpdXMpOwoKICAgICAgICAgICAgZm9yKGludCB5PS0ke3R9OyB5PCR7dCsxfTsgKyt5KSB7CiAgICAgICAgICAgICAgICBmb3IoaW50IHg9LSR7dH07IHg8JHt0KzF9OyArK3gpIHsKICAgICAgICAgICAgICAgICAgICBmbG9hdCBmYWN0b3IgPSAoMS4tIHRleHR1cmUyRChtYXNrLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpLmEpICogKG1heExlbmd0aCAtIGxlbmd0aChkaWZmKSkgLyBtYXhMZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH19Y29uc3QgQWY9MTAsd2Y9MixJZj04O2NsYXNzIFNmIGV4dGVuZHMgQXJ7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpO2wodGhpcywiaW5wdXRJbWFnZSIpO2wodGhpcywiaW5wdXRNYXNrIik7bCh0aGlzLCJibHVyIik7dGhpcy5jb250ZXh0PWUsdGhpcy5yYWRpdXM9bjtjb25zdCBvPXtjb250ZXh0OmUsaGVpZ2h0OmUuY2FudmFzLmhlaWdodCx3aWR0aDplLmNhbnZhcy53aWR0aH07dGhpcy5ibHVyPW5ldyBUZih7Li4ubyxyYWRpdXM6biwuLi50aGlzLmdldEJsdXJUZXh0dXJlU2l6ZShlLmNhbnZhcy53aWR0aCxlLmNhbnZhcy5oZWlnaHQpfSk7Y29uc3QgaT1uZXcgRXIoey4uLm8sZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSk7dGhpcy5hZGRTdGVwKHtwcm9ncmFtOnRoaXMuYmx1cixwcmV2ZW50UmVzaXplOiEwLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SShlLHRoaXMuaW5wdXRJbWFnZSksbWFzazpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06aSxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOkkoZSx0aGlzLmJsdXIub3V0cHV0KSxmb3JlZ3JvdW5kOkkoZSx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KX1nZXRCbHVyVGV4dHVyZVNpemUoZSxuKXtjb25zdCBvPXRoaXMucmFkaXVzPkFmP0lmOndmO3JldHVybnt3aWR0aDpNYXRoLm1heChGZSxlL28pLGhlaWdodDpNYXRoLm1heChGZSxuL28pfX1zZXREYXRhKGUsbil7dGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn1yZXNpemVPdXRwdXQoZSxuKXtzdXBlci5yZXNpemVPdXRwdXQoZSxuKTtjb25zdCBvPXRoaXMuZ2V0Qmx1clRleHR1cmVTaXplKGUsbik7dGhpcy5ibHVyLnJlc2l6ZU91dHB1dChvLndpZHRoLG8uaGVpZ2h0KX19Y2xhc3MgUmYgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTt0aGlzLnBpcGVsaW5lPW5ldyBTZih0aGlzLmNvbnRleHQsZSksdGhpcy5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKX19Y2xhc3MgRmYgZXh0ZW5kcyBBcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCk7bCh0aGlzLCJpbnB1dEltYWdlIik7bCh0aGlzLCJpbnB1dE1hc2siKTt0aGlzLmNvbnRleHQ9ZTtjb25zdCBvPXtjb250ZXh0OmUsaGVpZ2h0OmUuY2FudmFzLmhlaWdodCx3aWR0aDplLmNhbnZhcy53aWR0aH0saT1uZXcgY28oey4uLm8scmFkaXVzOm4sdHlwZTp3ci5HQVVTU0lBTn0pLHM9bmV3IEVyKHsuLi5vLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTppLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SShlLHRoaXMuaW5wdXRJbWFnZSl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2JhY2tncm91bmQ6SShlLHRoaXMuaW5wdXRJbWFnZSksZm9yZWdyb3VuZDpJKGUsaS5vdXRwdXQpLHRocmVzaG9sZDpJKGUsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKGUsbil7dGhpcy5pbnB1dEltYWdlPWUsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3MgUGYgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTt0aGlzLnBpcGVsaW5lPW5ldyBGZih0aGlzLmNvbnRleHQsZSksdGhpcy5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKX19Y2xhc3Mga2YgZXh0ZW5kcyBhb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJmcmFtZVJlYWRlciIpO2wodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMCl9c2V0IGlucHV0VmlkZW8oZSl7dGhpcy5mcmFtZVJlYWRlcj1lLmdldFJlYWRlcigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCl9YXN5bmMgcnVuKCl7dGhpcy5mcmFtZVJlYWRlciYmKGF3YWl0IHN1cGVyLnJ1bigpLHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCkpfWFzeW5jIHJlYWROZXh0VmlkZW9GcmFtZSgpe3ZhciBuO2NvbnN0IGU9YXdhaXQoKG49dGhpcy5mcmFtZVJlYWRlcik9PW51bGw/dm9pZCAwOm4ucmVhZCgpKTtlIT1udWxsJiZlLnZhbHVlJiYodGhpcy5pbnB1dEJhY2tncm91bmRJbWFnZT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChlLnZhbHVlKSxlLnZhbHVlLmNsb3NlKCkpfX1jbGFzcyBEZiBleHRlbmRzIEl0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtsKHRoaXMsInBpcGVsaW5lIik7dGhpcy5waXBlbGluZT1uZXcga2YodGhpcy5jb250ZXh0KX1zZXRCYWNrZ3JvdW5kVmlkZW8oZSl7dGhpcy5waXBlbGluZS5pbnB1dFZpZGVvPWV9fWNsYXNzIG1ve2JsdXJCYWNrZ3JvdW5kKHQpe3JldHVybiBuZXcgUmYodCl9Ymx1clNpbGhvdWV0dGUodCl7cmV0dXJuIG5ldyBQZih0KX1pbWFnZUJhY2tncm91bmQoKXtyZXR1cm4gbmV3IGZvfXZpZGVvQmFja2dyb3VuZCgpe3JldHVybiBuZXcgRGZ9fWNsYXNzIENme2NvbnN0cnVjdG9yKHQpe2wodGhpcywiZmFjdG9yeSIpO3N3aXRjaCh0KXtjYXNlIG50LkNBTlZBUzp0aGlzLmZhY3Rvcnk9bmV3IGxvO2JyZWFrO2Nhc2UgbnQuV0VCR0w6dGhpcy5mYWN0b3J5PW5ldyBtbzticmVhaztkZWZhdWx0OmNvbnN0IGU9V2koKTt0aGlzLmZhY3Rvcnk9ZS5zdXBwb3J0ZWQ/bmV3IG1vOm5ldyBsb319Ymx1ckJhY2tncm91bmQodCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmJsdXJCYWNrZ3JvdW5kKHQpfWJsdXJTaWxob3VldHRlKHQpe3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5ibHVyU2lsaG91ZXR0ZSh0KX1pbWFnZUJhY2tncm91bmQoKXtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuaW1hZ2VCYWNrZ3JvdW5kKCl9dmlkZW9CYWNrZ3JvdW5kKCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLnZpZGVvQmFja2dyb3VuZCgpfWdldEZhY3RvcnkoKXtpZighdGhpcy5mYWN0b3J5KXRocm93IkZhY3RvcnkgaXMgbm90IGluaXRpYWxpemVkIjtyZXR1cm4gdGhpcy5mYWN0b3J5fX1jbGFzcyBCZntjb25zdHJ1Y3Rvcigpe2wodGhpcywicmVuZGVyZXIiKX1zZXRCYWNrZ3JvdW5kT3B0aW9ucyh0KXt2YXIgbixvO2NvbnN0IGU9bmV3IENmKChuPXQucmVuZGVyaW5nT3B0aW9ucyk9PW51bGw/dm9pZCAwOm4udHlwZSk7c3dpdGNoKHQudHJhbnNmb3JtZXJUeXBlKXtjYXNlIkJhY2tncm91bmRCbHVyIjp0aGlzLnJlbmRlcmVyPWUuYmx1ckJhY2tncm91bmQodGhpcy5nZXRCbHVyU2l6ZSh0LnJhZGl1cykpO2JyZWFrO2Nhc2UiU2lsaG91ZXR0ZUJsdXIiOnRoaXMucmVuZGVyZXI9ZS5ibHVyU2lsaG91ZXR0ZSh0aGlzLmdldEJsdXJTaXplKHQucmFkaXVzKSk7YnJlYWs7Y2FzZSJWaWRlb0JhY2tncm91bmQiOnRoaXMucmVuZGVyZXI9ZS52aWRlb0JhY2tncm91bmQoKTticmVhaztjYXNlIlZpcnR1YWxCYWNrZ3JvdW5kIjp0aGlzLnJlbmRlcmVyPWUuaW1hZ2VCYWNrZ3JvdW5kKCk7YnJlYWs7ZGVmYXVsdDp0aHJvd2BVbmtub3duIHJlbmRlcmluZyB0eXBlIFske3QudHJhbnNmb3JtZXJUeXBlfV1gfSgobz10LnJlbmRlcmluZ09wdGlvbnMpPT1udWxsP3ZvaWQgMDpvLnR5cGUpPT09bnQuV0VCR0wmJih0LnJlbmRlcmluZ09wdGlvbnMuc2VsZmllU2VnbWVudGF0aW9uVHlwZT09PUd0LlBSRUNJU0U/dGhpcy5yZW5kZXJlci5lbmFibGVQb3N0UHJvY2Vzc2luZygpOnQucmVuZGVyaW5nT3B0aW9ucy5zZWxmaWVTZWdtZW50YXRpb25UeXBlPT09R3QuRkFTVCYmdGhpcy5yZW5kZXJlci5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKSl9c2V0RmxpY2tlcmluZ09wdGlvbnModCl7dmFyIGU7KGU9dGhpcy5yZW5kZXJlcik9PW51bGx8fGUuc2V0RmxpY2tlcmluZ09wdGlvbnModCl9c2V0VmlkZW9CR1JlYWRhYmxlKHQpe2NvbnN0IGU9dGhpcy5yZW5kZXJlcjtlLnNldEJhY2tncm91bmRWaWRlbyYmZS5zZXRCYWNrZ3JvdW5kVmlkZW8odCl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UodCl7Y29uc3QgZT10aGlzLnJlbmRlcmVyO2Uuc2V0QmFja2dyb3VuZEltYWdlJiZlLnNldEJhY2tncm91bmRJbWFnZSh0KX1hc3luYyBwcm9jZXNzKHQsZSl7aWYodGhpcy5yZW5kZXJlcilyZXR1cm4gdGhpcy5yZW5kZXJlci5yZW5kZXIodCxlKX1hc3luYyByZXNpemVGb3JlZ3JvdW5kKHQsZSl7fWdldEJsdXJTaXplKHQ9cnQuTG93KXtzd2l0Y2godCl7Y2FzZSBydC5Mb3c6cmV0dXJuIDU7Y2FzZSBydC5IaWdoOnJldHVybiAxMn1yZXR1cm4gdH1hc3luYyBwcm9maWxlKHQpe3ZhciBlLG47cmV0dXJuKG49KGU9dGhpcy5yZW5kZXJlcik9PW51bGw/dm9pZCAwOmUucHJvZmlsZVdlYmdsKHQpKSE9bnVsbD9uOltdfX1jbGFzcyBOZntjb25zdHJ1Y3Rvcigpe2wodGhpcywic2VsZmllU2VnbWVudGF0aW9uIixuZXcgR2kpO2wodGhpcywiYmFja2dyb3VuZEZpbHRlciIpO2wodGhpcywicmVwb3J0ZXIiLG5ldyBOaSk7bCh0aGlzLCJiYWNrZ3JvdW5kT3B0aW9ucyIpfWFzeW5jIGluaXQodCxlKXthd2FpdCB0aGlzLnNlbGZpZVNlZ21lbnRhdGlvbi5pbml0KGUud2FzbUFzc2V0VXJpUGF0aCxlLnRmbGl0ZUFzc2V0VXJpUGF0aCksdGhpcy5iYWNrZ3JvdW5kRmlsdGVyPW5ldyBCZix0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJDcmVhdGUifSl9YXN5bmMgdHJhbnNmb3JtKHQsZSl7dmFyIGEsdTtsZXQgbjtjb25zdCBvPShhPXQudGltZXN0YW1wKSE9bnVsbD9hOjAsaT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0KSxzPWF3YWl0IHRoaXMuc2VsZmllU2VnbWVudGF0aW9uLnByb2Nlc3MoaSk7cyYmKG49YXdhaXQoKHU9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dS5wcm9jZXNzKGkscykpKSxuPyh0LmNsb3NlKCksZS5lbnF1ZXVlKG5ldyBWaWRlb0ZyYW1lKG4se3RpbWVzdGFtcDpvLGFscGhhOiJkaXNjYXJkIn0pKSk6ZS5lbnF1ZXVlKHQpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKHQpe3ZhciBlO3RoaXMuYmFja2dyb3VuZE9wdGlvbnM9dCxhd2FpdCgoZT10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDplLnNldEJhY2tncm91bmRPcHRpb25zKHQpKSx0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJVcGRhdGUifSl9YXN5bmMgc2V0VmlkZW9CR1JlYWRhYmxlKHQpe3ZhciBlO2F3YWl0KChlPXRoaXMuYmFja2dyb3VuZEZpbHRlcik9PW51bGw/dm9pZCAwOmUuc2V0VmlkZW9CR1JlYWRhYmxlKHQpKX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZSh0KXt2YXIgZTthd2FpdCgoZT10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDplLnNldFZpcnR1YWxCR0ltYWdlKHQpKX1zZXRGbGlja2VyaW5nT3B0aW9ucyh0KXt2YXIgZTsoZT10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsfHxlLnNldEZsaWNrZXJpbmdPcHRpb25zKHQpLHRoaXMucmVwb3J0KHt2YXJpYXRpb246IlVwZGF0ZSJ9KX1hc3luYyBwcm9maWxlKHQpe3ZhciBlLG47cmV0dXJuKG49KGU9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6ZS5wcm9maWxlKHQpKSE9bnVsbD9uOltdfWdldFRyYW5zZm9ybWVyVHlwZSgpe3ZhciB0LGU7cmV0dXJuKGU9KHQ9dGhpcy5iYWNrZ3JvdW5kT3B0aW9ucyk9PW51bGw/dm9pZCAwOnQudHJhbnNmb3JtZXJUeXBlKSE9bnVsbD9lOiJVbmRlZmluZWQifXJlcG9ydCh0KXt2YXIgZTt0aGlzLnJlcG9ydGVyLnNlbmQoe3ZlcnNpb246T2ksYWN0aW9uOiJNbFRyYW5zZm9ybWVycyIsdHJhbnNmb3JtZXJUeXBlOihlPXRoaXMuYmFja2dyb3VuZE9wdGlvbnMpPT1udWxsP3ZvaWQgMDplLnRyYW5zZm9ybWVyVHlwZSxjb25maWc6SlNPTi5zdHJpbmdpZnkodGhpcy5iYWNrZ3JvdW5kT3B0aW9ucyksLi4udH0pfX1jb25zdCBTcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe2wodGhpcywiYmFja2dyb3VuZFRyYW5zZm9ybWVyIixuZXcgTmYpO2wodGhpcywibWVkaWFQcm9jZXNzb3IiLG5ldyBsaSk7bCh0aGlzLCJyYXRlIiwzMCk7bCh0aGlzLCJyZXNvbHZlT25NZWRpYVByb2Nlc3NvciIpO2wodGhpcywiZXZlbnRzUXVldWUiLFtdKX1hc3luYyBpbml0KHQsZSl7YXdhaXQgdGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuaW5pdCh0LGUpLGF3YWl0IHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhbnNmb3JtZXJzKFt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lcl0pLHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhY2tFeHBlY3RlZFJhdGUodGhpcy5yYXRlKSx0aGlzLm1lZGlhUHJvY2Vzc29yLm9uQW55KChuLG8pPT57dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj8odGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcih7bmFtZTpuLGRhdGE6b30pLHRoaXMucmVzb2x2ZU9uTWVkaWFQcm9jZXNzb3I9dm9pZCAwKTp0aGlzLmV2ZW50c1F1ZXVlLnB1c2goe25hbWU6bixkYXRhOm99KX0pfWFzeW5jIG9uTWVkaWFQcm9jZXNzb3JFdmVudCgpe3JldHVybiBhd2FpdCBuZXcgUHJvbWlzZSh0PT57dGhpcy5ldmVudHNRdWV1ZS5sZW5ndGg+MD90KHRoaXMuZXZlbnRzUXVldWUuc2hpZnQoKSk6dGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj10fSl9YXN5bmMgc2V0VHJhY2tFeHBlY3RlZFJhdGUodCl7dGhpcy5yYXRlPXQsdGhpcy5tZWRpYVByb2Nlc3Nvci5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0KX1hc3luYyB0cmFuc2Zvcm0odCxlKXt0aGlzLm1lZGlhUHJvY2Vzc29yLnRyYW5zZm9ybSh0LGUpfWFzeW5jIHNldEJhY2tncm91bmRPcHRpb25zKHQpe3ZhciBlO2F3YWl0KChlPXRoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyKT09bnVsbD92b2lkIDA6ZS5zZXRCYWNrZ3JvdW5kT3B0aW9ucyh0KSl9c2V0VmlkZW9CR1JlYWRhYmxlKHQpe3RoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyLnNldFZpZGVvQkdSZWFkYWJsZSh0KX1hc3luYyBzZXRWaXJ0dWFsQkdJbWFnZSh0KXthd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRWaXJ0dWFsQkdJbWFnZSh0KX1hc3luYyB0ZXJtaW5hdGUoKXthd2FpdCB0aGlzLm1lZGlhUHJvY2Vzc29yLmRlc3Ryb3koKX1zZXRGbGlja2VyaW5nT3B0aW9ucyh0KXt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRGbGlja2VyaW5nT3B0aW9ucyh0KX1zZXRWb25hZ2VNZXRhZGF0YSh0KXtpaSh0KX1hc3luYyBwcm9maWxlKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShhd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5wcm9maWxlKHQpKX19O2xldCBobz1TcjsoKCk9Pnt3bygiUHJvY2Vzc29yV29ya2VyIixTcil9KSgpfSkoKTsK",Bs=typeof window<"u"&&window.Blob&&new Blob([atob(Xs)],{type:"text/javascript;charset=utf-8"});function Hs(){var e=Bs&&(window.URL||window.webkitURL).createObjectURL(Bs);try{return e?new Worker(e):new Worker("data:application/javascript;base64,"+Xs)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}var Ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.apply(this,arguments),o(_assertThisInitialized3(e),"rate",30),o(_assertThisInitialized3(e),"worker"),e}return _createClass3(n,[{key:"init",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(Us,Hs);case 2:return this.worker=e.sent,e.next=5,this.worker.init("worker_".concat(n.initCount++),t);case 5:return e.next=7,this.worker.setVonageMetadata(se());case 7:return e.next=9,this.setBackgroundOptions(t);case 9:this.listenWorker();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTrackExpectedRate",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.setTrackExpectedRate(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setBackgroundOptions",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.setBackgroundOptions(t);case 2:o=t.transformerType,e.t0=o,e.next="VideoBackground"===e.t0?6:"VirtualBackground"===e.t0?18:30;break;case 6:if(null!=(r=this.worker)){e.next=10;break}e.t1=void 0,e.next=15;break;case 10:return e.t2=r,e.next=13,jt.createVideoReadable(t.backgroundAssetUri);case 13:e.t3=e.sent,e.t1=e.t2.setVideoBGReadable.call(e.t2,e.t3);case 15:return e.next=17,e.t1;case 17:return e.abrupt("break",30);case 18:if(null!=(i=this.worker)){e.next=22;break}e.t4=void 0,e.next=27;break;case 22:return e.t5=i,e.next=25,jt.createImageCanvas(t.backgroundAssetUri);case 25:e.t6=e.sent,e.t4=e.t5.setVirtualBGImage.call(e.t5,e.t6);case 27:return e.next=29,e.t4;case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transform",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(r=this.worker)?void 0:r.transform(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this.worker)?void 0:t.terminate();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setFlickeringOptions",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.setFlickeringOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"profile",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.profile(t);case 2:return r=e.sent,e.abrupt("return",JSON.parse(null!=r?r:"[]"));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listenWorker",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=this.worker)||!t.workerContext.worker){e.next=20;break}return e.next=3,null==(n=this.worker)?void 0:n.onMediaProcessorEvent();case 3:i=e.sent,o=i.name,a=i.data,e.t0=o,e.next="error"===e.t0||"warn"===e.t0?9:"pipelineInfo"===e.t0?11:18;break;case 9:return this.emit(o,a),e.abrupt("break",18);case 11:e.t1=(this.emit(o,a),a),e.next="pipeline_ended"===e.t1||"pipeline_ended_with_error"===e.t1?14:17;break;case 14:return e.next=16,null==(r=this.worker)?void 0:r.terminate();case 16:return e.abrupt("return");case 17:return e.abrupt("break",18);case 18:e.next=0;break;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ct),zs=Ys;o(zs,"initCount",0);var Ks=function(){function e(t){_classCallCheck2(this,e),this.queries=t}return _createClass3(e,[{key:"downloadSpeedscope",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.convertToSpeedscope();case 3:e.t1=e.sent,e.t0.download.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"download",value:function(e){var t=document.createElement("a");t.href=URL.createObjectURL(new Blob([e],{type:"application/json"})),t.download="profile-".concat(+new Date,".speedscope.json"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"convertToSpeedscope",value:function(){var e,t=[],n={},r=[],i=0,o=_createForOfIteratorHelper(this.queries);try{for(o.s();!(e=o.n()).done;){var a,s=e.value,u=[],c=_createForOfIteratorHelper(s);try{for(c.s();!(a=c.n()).done;){var l=a.value;void 0===n[l.name]&&(n[l.name]=t.length,t.push({name:l.name})),u.push({type:l.action==Cs.PUSH?"O":"C",frame:n[l.name],at:l.timestamp}),i=Math.max(i,l.timestamp+l.duration)}}catch(f){c.e(f)}finally{c.f()}r.push({events:u,type:"evented",name:"GPU Profile",unit:"nanoseconds",startValue:0,endValue:i})}}catch(f){o.e(f)}finally{o.f()}var d={$schema:"https://www.speedscope.app/file-format-schema.json",shared:{frames:t},profiles:r};return JSON.stringify(d,null,2)}}]),e}(),Js=function(t){_inherits(r,t);var n=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),e=n.call(this),o(_assertThisInitialized3(e),"worker",new zs),o(_assertThisInitialized3(e),"connector",new ye(e.worker)),e}return _createClass3(r,[{key:"init",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.worker.init(t);case 2:this.worker.onAny((function(e,t){return n.emit(e,t)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setBackgroundOptions",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.worker.setBackgroundOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTrackExpectedRate",value:function(e){this.worker.setTrackExpectedRate(e)}},{key:"getConnector",value:function(){return this.connector}},{key:"profile",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.profile(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"profile",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.all(this.instances.map((function(e){return e.profile(n)})));case 2:return r=t.sent,t.abrupt("return",new Ks(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"create",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new this,e.next=3,n.init(t);case 3:return this.instances.push(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ct);function Qs(){return De}function qs(){return je}function $s(){return Fe}function eu(){return Ve}function tu(){return Ze}function nu(){return Ge}function ru(){return We}function iu(e){return ou.apply(this,arguments)}function ou(){return ou=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Js.create(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}o(Js,"instances",[])}.call(this,n(2),n(43))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(96)),o=(0,r(n(35)).default)().onlyLocal(),a={getConfig:function(e){void 0===e&&(e={});var t=e,n=t.staticConfig,r=function(e,t){var n=e.apiUrl.includes("anvil.opentok.com")?"https://static.opentok.com":"https://www.dev.tokbox.com";return t&&(n=t.includes("euproxy.opentok.com")?"https://static-eu.opentok.com":(0,i.default)(n,t)),"".concat(n,"/ml-transformers/v4.0.0")}(void 0===n?o:n,t.proxyUrl);return{mediapipeBaseAssetsUri:"".concat(r),wasmAssetUriPath:"".concat(r,"/"),tfliteAssetUriPath:"".concat(r,"/")}}};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.Errors||d.default,n=e.ExceptionCodes||s.default,r=e.logging||(0,a.default)("publisherInit"),m=e.otError||(0,l.default)(),g=e.OTHelpers||f.default,y=e.Publisher||(0,v.default)(),b=e.sessionObjects||c.default;return function(e,a,s){var c;r.debug("OT.initPublisher(".concat(e,")")),"string"!==typeof e||document.getElementById(e)||(e=a,a=s,s=arguments[3]),"function"===typeof e?(s=e,a=void 0,e=void 0):(0,o.default)(e)&&!g.isElementNode(e)&&(s=a,a=e,e=void 0),"function"===typeof a&&(s=a,a=void 0),a&&((0,o.default)(a)?!1===a.insertDefaultUI&&e?c="You cannot specify a target element if insertDefaultUI is false":(0,u.default)(a.audioSource)&&(0,u.default)(a.videoSource)&&(c="You cannot specify both audioSource and videoSource as null or false"):(c="properties argument to Publisher constructor, if provided, should be an object",a=void 0)),(0,p.default)(a),(0,h.default)(a);var l=new y(a||{});b.publishers.add(l);var d=function(){s&&(0,i.default)(s)&&(s.apply(void 0,arguments),s=void 0)};void 0!==c&&(r.error(c),d(m(t.INVALID_PARAMETER,new Error(c),n.INVALID_PARAMETER)));var f=function(e){l.off("publishComplete",v),d(e)},v=function(e){l.off("initSuccess",f),e&&d(e)};return l.once("initSuccess",f),l.once("publishComplete",v),l.publish(e),l}};var i=r(n(17)),o=r(n(11)),a=r(n(1)),s=r(n(10)),u=r(n(717)),c=r(n(23)),l=r(n(13)),d=r(n(8)),f=r(n(7)),p=r(n(718)),h=r(n(719)),v=r(n(170))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.adaptIceServers||P.adaptIceServers,r=t.AnalyticsHelper||w.default,Q=t.APIKEY||L.default,te=t.Capabilities||M.default,ne=t.convertRumorError||D.default,re=t.Errors||R.default,ie=t.Events||(0,j.default)(),oe=t.Stream||F.default,ae=t.ExceptionCodes||m.default,se=t.hasIceRestartsCapability||C.default,ue=t.hasE2eeCapability||S.default,ce=t.logging||(0,p.default)("Session"),le=t.otError||(0,T.default)(),de=t.OTErrorClass||g.default,fe=t.OTHelpers||V.default,pe=t.StaticConfig||ee,he=t.staticConfig||pe.onlyLocal(),ve=t.Publisher||(0,Z.default)(),me=t.RaptorSocket||(0,G.default)(),ge=t.SessionDispatcher||W.default,ye=t.sessionObjects||x.default,be=t.sessionTag||U.default,we=t.socketCloseCodes||$.default,Ee=t.Subscriber||(0,X.default)(),ke=t.systemRequirements||B.default,_e=t.uuid||d.default,Se=(0,_.default)({otError:le}),Ce=t.global||(void 0!==typeof window?window:__webpack_require__.g),xe=t.getSessionInfo||(0,H.default)(),Te=t.KeyStore||z.default,Ie=t.SFrameClientStore||K.default,Re=t.SinglePeerConnectionController||q.default,Oe=t.initPublisher||(0,J.default)({Publisher:ve});return function(t,d,p){var m,g,w,_,S,C,x,T,R=this,P=this,L=void 0===p?{}:p,M=L.iceConfig,D=L.connectionEventsSuppressed,j=L.ipWhitelist,F=void 0!==j&&j,V=L.encryptionSecret,Z=L._enableSinglePeerConnection,G=(0,A.getProxyUrl)(),W=new r;(0,f.default)(this),this._tag=be,ke.check()||ke.upgrade(),null==d&&(d=t,t=null),Se(M),this.id=d,this.sessionId=d,this.keyStore=new Te,this.sFrameClientStore=new Ie;var U,X,B,H,z,K=!1,J=t,q=this,$=d,ee=_e(),Ae=ce,Ne=!1,Pe=[],Le=null,Me=!1,De=!1,je=V,Fe=fe.statable(this,["disconnected","connecting","connected","disconnecting"],"disconnected");this.connection=null,this.connections=new fe.Collection,this.streams=new fe.Collection,this.archives=new fe.Collection;var Ve=function(e){Fe("disconnected"),e.code||(e.code=ae.CONNECT_FAILED),Ae.error("".concat(e.name||"Unknown Error",": ").concat(e.message)),de.handleJsException({error:e,target:this,analytics:W}),this.trigger("sessionConnectFailed",e)},Ze=function(e){var t=this;K=!1;var n=e.reason;this.logEvent("Connect","Disconnected",{reason:e.reason});var r=new ie.SessionDisconnectEvent("sessionDisconnected",n.replace("networkTimedout","networkDisconnected"));this.isConnected()&&this.disconnect(),X(),U.call(this,n),setTimeout((function(){t.dispatchEvent(r),B.call(t,r.reason),r.isDefaultPrevented()||H.call(t,r.reason)}))},Ge=function(e){D||e.id.match(/^symphony\./)||this.dispatchEvent(new ie.ConnectionEvent(b.default.CONNECTION_CREATED,e))},We=function(e,t){e.id.match(/^symphony\./)||m&&e.id===m.id()||this.dispatchEvent(new ie.ConnectionEvent(b.default.CONNECTION_DESTROYED,e,t))},Ue=function(e){!e||!e.connection||this.connection&&e.connection.id===this.connection.id||this.dispatchEvent(new ie.StreamEvent(b.default.STREAM_CREATED,e,null,!1))},Xe=function(e){var t=e.target,n=e.changedProperty,r=e.newValue;"videoDisableWarning"!==n&&"audioDisableWarning"!==n&&("videoDimensions"===n&&(r={width:r.width,height:r.height}),this.dispatchEvent(new ie.StreamPropertyChangedEvent(b.default.STREAM_PROPERTY_CHANGED,t,n,e.oldValue,r)))},Be=function(e,t){var n=this;void 0===t&&(t="clientDisconnected");var r=new ie.StreamEvent("streamDestroyed",e,t,!0);e.connection.id===this.connection.id?ye.publishers.where({streamId:e.id}).forEach((function(n){n._.unpublishStreamFromSession(e,this,t)}),this):this.dispatchEvent(r),ye.subscribers.where({streamId:e.id}).filter((function(e){return e.session.id===n.id&&e.stream})).forEach((function(e){e._disconnect({reason:t}),r.isDefaultPrevented()||e._destroy({reason:t,noStateTransition:!0})}))},He=function(e){this.dispatchEvent(new ie.ArchiveEvent("archiveStarted",e))},Ye=function(e){this.dispatchEvent(new ie.ArchiveEvent("archiveDestroyed",e))},ze=function(e){var t=e.target,n=e.changedProperty,r=e.newValue;"status"===n&&"stopped"===r?this.dispatchEvent(new ie.ArchiveEvent("archiveStopped",t)):this.dispatchEvent(new ie.ArchiveEvent("archiveUpdated",t))},Ke=function(){return ye.subscribers.forEach((function(e){return e._.pauseAndPlayVideoElement()}))},Je=function(){q.token=null,w=null,Fe("disconnected"),m=null,g&&(g.stop(),g=null),q.connection=null,q.capabilities=new te([],{hasE2eeCapability:ue}),q.connections.destroy(),q.streams.destroy(),q.archives.destroy()};X=function(){ee=_e(),Je()},U=function(e){ye.publishers.where({session:this}).forEach((function(t){t.disconnect(e)})),ye.subscribers.where({session:this}).forEach((function(e){e._disconnect()}))},B=function(e){ye.publishers.where({session:this}).forEach((function(t){t._.streamDestroyed(e)}))},H=function(e){ye.subscribers.where({session:this}).forEach((function(t){t._destroy({reason:e})}))};var Qe=function(){var e=this;Ae.debug("OT.Session: connecting to Raptor");var t=(0,y.default)(this.sessionInfo.messagingURL,G),n=["forceMute"];this.sessionInfo.isAdaptiveEnabled&&n.push("amr"),De&&n.push("spc"),(m=new me({connectionId:ee,sessionId:d,messagingSocketUrl:t,symphonyUrl:this.sessionInfo.symphonyAddress,dispatcher:ge(this,{connectionEventsSuppressed:D}),analytics:W,requestedCapabilities:n})).connect(w,this.sessionInfo,{connectionEventsSuppressed:D},(function(t,n){if(t){var r,i={};if("ConnectToSession"===t.reason||"GetSessionState"===t.reason){var o=ne(t);(0,s.default)(i,{originalMessage:t.message,originalCode:t.code}),t.code=o.code,t.message=o.message}(t.code||t.message||t.reason)&&(r={failureCode:t.code,failureMessage:t.message,failureReason:t.reason,socketId:m.socketId}),m=null,e.logConnectivityEvent("Failure",i,r);var a=function(e,t){var n;switch(e){case"WebSocketConnection":if(n=(0,u.default)(we.codes,(function(e){return e===t})))return re["SOCKET_".concat(n)];break;case"ConnectToSession":case"GetSessionState":switch(t){case ae.CONNECT_FAILED:return re.CONNECT_FAILED;case ae.UNEXPECTED_SERVER_RESPONSE:return re.UNEXPECTED_SERVER_RESPONSE;case ae.CONNECTION_LIMIT_EXCEEDED:return re.CONNECTION_LIMIT_EXCEEDED}}}(t.reason,t.code);return a&&(t=le(a,new Error(t.message),t.code)),void Ve.call(e,t)}Ae.debug("OT.Session: Received session state from Raptor",n),e.connection=e.connections.get(m.id()),e.connection&&(e.capabilities=e.connection.permissions),Fe("connected"),e.logConnectivityEvent("Success",{connectionId:e.connection.id}),e.connection.on("destroyed",Ze,e),e.dispatchEvent(new ie.SessionConnectEvent(b.default.SESSION_CONNECTED)),e.connections.on({add:Ge,remove:We},e),e.streams.on({add:Ue,remove:Be,update:Xe},e),e.archives.on({add:He,remove:Ye,update:ze},e),e.connections._triggerAddEvents(),e.streams._triggerAddEvents(),e.archives._triggerAddEvents(),fe.env.isiOS&&fe.env.iOSVersion>=13.3&&e.on("gsmCallEnded",Ke)}))},qe=function(e){return R.capabilities.permittedTo(e)},$e=function(e,t){ce.error("".concat(e.name,": ").concat(e.message)),"function"===typeof t&&t(e),de.handleJsException({error:e,target:R,analytics:W})},et=function(e){var t=le(e.code,new Error(e.message),e.exceptionCode);return $e(t),t},tt=function(){return R.isNot("connected")?et(O.default.NOT_CONNECTED):qe("forceMute")?null:et(O.default.PERMISSION_DENIED)},nt=function(e){return"404"===e.code?et(O.default.NOT_FOUND):"403"===e.code?et(O.default.PERMISSION_DENIED):et(O.default.UNEXPECTED_SERVER_RESPONSE)};this.reportIssue=function(e){var t=e.id;return(0,E.default)(W.logEvent.bind(W))({action:"ReportIssue",variation:"Event",connectionId:ee,payload:{reportIssueId:t}},null)},this.logEvent=function(e,t,n,r){var i={action:e,variation:t,payload:n,sessionId:$,messagingServer:S,p2p:_,partnerId:J,connectionId:ee};r&&(i=(0,s.default)(r,i)),W.logEvent(i)},this.logConfigurationFileEvent=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n={}),"Attempt"===e)x=(new Date).getTime();else if("Failure"===e||"Success"===e){var r=(new Date).getTime()-x;(0,s.default)(n,{attemptDuration:r})}G&&(n.proxyUrl=G),this.logEvent("ConfigurationFile",e,t,Object.assign({},n))},this.logConnectivityEvent=function(e,t,n){var r=this;if(void 0===t&&(t=null),void 0===n&&(n={}),G&&(n.proxyUrl=G),"Attempt"===e&&(g&&(g.stop(),ce.error("_connectivityAttemptPinger should have been cleaned up")),C=(new Date).getTime(),(g=new h.default((function(){r.logEvent("Connect","Attempting",t,Object.assign({},n))}),.2,6)).start()),"Failure"===e||"Success"===e||"Cancel"===e){var i=function(i){g&&(g.stop(),g=void 0),r.logEvent("Connect",e,t,Object.assign({},n,{attemptDuration:(new Date).getTime()-C,iceConfig:i,ipWhitelist:F}))};"Success"===e?this._.getIceConfig().then((function(e){var t={includeServers:M&&M.includeServers||"all",transportPolicy:e.transportPolicy};t.servers=e.servers?e.servers.map((function(e){return{url:e.urls}})):[],i(t)})):i()}else this.logEvent("Connect",e,t,n)},this.connect=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];i.length>1&&("string"===typeof i[0]||"number"===typeof i[0])&&"string"===typeof i[1]?(null==t&&(J=i[0].toString()),n=i[1]):n=i[0];var a=i[i.length-1];if(P.is("connecting","connected"))return Ae.warn("OT.Session: Cannot connect, the session is already ".concat(P.currentState)),P;W.sessionInfo=new Y.default,Je(),Fe("connecting");var s,u=ee;function f(){var e=ee!==u;return e&&ce.debug("Connection was interrupted"),e}if(P.token=!(0,c.default)(n)&&n,w=!(0,c.default)(n)&&n,a&&(0,c.default)(a)){var p,h=function(){p();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.apply(void 0,[void 0].concat(t))},m=function(){p(),a.apply(void 0,arguments)};p=function(){P.off("sessionConnected",h),P.off("sessionConnectFailed",m)},P.once("sessionConnected",h),P.once("sessionConnectFailed",m)}if(null==J||(0,c.default)(J))return setTimeout(Ve.bind(P,le(re.AUTHENTICATION_ERROR,new Error("API Key is undefined. You must pass an API Key to initSession."),ae.AUTHENTICATION_ERROR))),P;if(!$||(0,l.default)($)||Array.isArray($))return $?(s="SessionID is not a string. You must use string as the session ID passed into OT.initSession().",$=$.toString()):s="SessionID is undefined. You must pass a sessionID to initSession.",setTimeout(Ve.bind(P,le(re.INVALID_SESSION_ID,new Error(s),ae.INVALID_SESSION_ID))),P.logConnectivityEvent("Attempt"),P.logConnectivityEvent("Failure",null,{failureReason:"ConnectToSession",failureCode:ae.INVALID_SESSION_ID,failureMessage:s}),P;if(P.apiKey=J.toString(),J=J.toString(),je){if(!ue())return setTimeout(Ve.bind(P,le(re.UNSUPPORTED_BROWSER,new Error("E2E Encryption is not supported in your browser.")))),P;try{(0,N.default)(je),P.keyStore.set(d,je),Me=!0}catch(E){return setTimeout(Ve.bind(P,le(re.INVALID_ENCRYPTION_SECRET,new Error("Invalid encryptionSecret: ".concat(E.message))))),P}}0===Q.value.length&&(Q.value=J);var g=Boolean(pe.onlyLocal().configUrl),b=!0===F&&Boolean(pe.onlyLocal().ipWhitelistConfigUrl);return g||b?P.logConfigurationFileEvent("Attempt"):P.logConfigurationFileEvent("Event",{message:"No configUrl, using local config only"}),(g||b?pe.get({partnerId:J,token:n,useIpWhitelistConfigUrl:b,proxyUrl:G}):e.resolve(pe.onlyLocal())).then((function(e){return(g||b)&&P.logConfigurationFileEvent("Success"),e}),(function(e){return(g||b)&&P.logConfigurationFileEvent("Failure",{failureMessage:e.message,failureStack:e.stack}),pe.onlyLocal()})).then((function(e){if(P.staticConfig=e,W.staticConfig=e,!1===e.apiEnabled)throw le(re.API_KEY_DISABLED,new Error("The API KEY has been disabled. Access to the service is currently being restricted. Please contact support."));if(!f()){P.logConnectivityEvent("Attempt"),G?P.logEvent("SessionInfo","Attempt",null,{proxyUrl:G}):P.logEvent("SessionInfo","Attempt");var t=function(e){e.code=(0,v.default)(e.code),P.logConnectivityEvent("Failure",null,{failureReason:"GetSessionInfo",failureCode:e.code||"No code",failureMessage:e.message,failureName:e.name}),e.name&&(e=le(e.name,new Error("".concat(e.message).concat(e.code?" (".concat(e.code,")"):"")),e.code)),Ve.call(P,e)},n=(0,y.default)(e.apiUrl,G);return xe({anvilUrl:n,sessionId:d,token:w,connectionId:ee,clientVersion:e.clientVersion}).then((function(n){if(!f())if(n.partnerId&&n.partnerId!==J)t(le(re.AUTHENTICATION_ERROR,new Error("Authentication Error: The API key does not match the token or session."),ae.AUTHENTICATION_ERROR));else{(De=(0,I.default)(n,Z))&&(z=new Re(P)),W.sessionInfo=n;var r={features:{reconnection:n.reconnection,renegotiation:se()&&n.renegotiation,simulcast:void 0!==n.simulcast&&n.simulcast&&"Chrome"===fe.env.name}};if(G&&(r.proxyUrl=G),P.is("connecting")){P.sessionInfo=n,P._.setIceServers(P.sessionInfo.iceServers),_=n.p2pEnabled,S=n.messagingServer,P.logEvent("SessionInfo","Success",null,r,{messagingServer:n.messagingServer});var i=e.sessionInfoOverrides;null!=i&&"object"===typeof i&&Object.keys(i).forEach((function(e){Object.defineProperty(P.sessionInfo,e,{value:i[e]})})),Qe.call(P)}}}),t)}})).catch((function(e){Ve.call(P,e)})),P},this.disconnect=function(){z&&(z.destroy(),z=null),m&&m.isNot("disconnected")?m.isNot("disconnecting")&&(m.isNot("connecting")||this.logConnectivityEvent("Cancel"),Fe("disconnecting"),m.disconnect(),this.off("gsmCallEnded",Ke)):X()},this.destroy=function(){this.streams.destroy(),this.connections.destroy(),this.archives.destroy(),this.disconnect()},this.publish=function(e,t,n){if("function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),n=n||function(){},this.isNot("connected"))return W.logError(1010,"OT.exception","We need to be connected before you can publish",null,{action:"Publish",variation:"Failure",failureReason:"unconnected",failureCode:ae.NOT_CONNECTED,failureMessage:"We need to be connected before you can publish",sessionId:$,streamId:e&&e.stream?e.stream.id:null,p2p:this.sessionInfo?this.sessionInfo.p2pEnabled:void 0,messagingServer:this.sessionInfo?this.sessionInfo.messagingServer:null,partnerId:J}),$e(le(re.NOT_CONNECTED,new Error("We need to be connected before you can publish"),ae.NOT_CONNECTED),n),null;if(!qe("publish")){var r="This token does not allow publishing. The role must be at least `publisher` to enable this functionality",i={failureReason:"Permission",failureCode:ae.UNABLE_TO_PUBLISH,failureMessage:r};return this.logEvent("Publish","Failure",null,i),$e(le(re.PERMISSION_DENIED,new Error(r),ae.UNABLE_TO_PUBLISH),n),null}if(!e||"string"===typeof e||fe.isElementNode(e))e=Oe(e,t);else{if(!(e instanceof ve))return void $e(le(re.INVALID_PARAMETER,new Error("Session.publish :: First parameter passed in is neither a string nor an instance of the Publisher"),ae.UNABLE_TO_PUBLISH),n);"session"in e&&e.session&&"sessionId"in e.session&&(e.session.sessionId===this.sessionId?Ae.warn("Cannot publish ".concat(e.guid()," again to ").concat(this.sessionId,". Please call session.unpublish(publisher) first.")):Ae.warn("Cannot publish ".concat(e.guid()," publisher already attached to ").concat(e.session.sessionId,". Please call session.unpublish(publisher) first.")))}return Ne&&e._.forceMuteAudio(),e._.publishToSession(this,W).catch((function(e){throw e.message="Session.publish :: ".concat(e.message),Ae.error(e.code,e.message),e})).then((function(){return e})).then((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[null].concat(t))}),(function(e){return n(e)})),e},this.unpublish=function(e){e?e._.unpublishFromSession(this,"unpublished"):Ae.error("OT.Session.unpublish: publisher parameter missing.")},this.setIceConfig=function(){var t=(0,o.default)(i.default.mark((function t(n){var r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Se(n),W.logEvent({action:"setIceConfig",variation:"Attempt",payload:{newIceConfig:n}}),M=Object.assign({},n),"all"!==n.includeServers){t.next=8;break}return t.next=6,q._.getOtIceServerInfo();case 6:r=t.sent,n.customServers=n.customServers.concat(r.servers);case 8:return o={iceServers:(i=n).customServers,iceTransportPolicy:i.transportPolicy},t.prev=10,t.next=13,e.all(ye.publishers.map((function(e){return e._.setIceConfig(o)})).concat(ye.subscribers.map((function(e){return e._.setIceConfig(o)}))));case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(10),W.logEvent({action:"setIceConfig",variation:"Failure",payload:{newIceConfig:n}}),t.t0;case 19:W.logEvent({action:"setIceConfig",variation:"Success",payload:{newIceConfig:n}});case 20:case"end":return t.stop()}var i}),t,null,[[10,15]])})));return function(e){return t.apply(this,arguments)}}(),this.subscribe=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0,n=void 0),"function"===typeof n&&(r=n,n=void 0),r=r||function(){},this.connection&&this.connection.connectionId)if(e)if(Object.prototype.hasOwnProperty.call(e,"streamId")){if(!n||!1!==n.insertDefaultUI||!t){t&&!1===t.insertDefaultUI&&(n=t,t=void 0);var i=new Ee(t,(0,s.default)(n||{},{stream:e,session:this,analytics:W,_singlePeerConnectionController:z}),(function(e){e?$e(e,r):r(null,i)}));return ye.subscribers.add(i),i}$e(le(re.INVALID_PARAMETER,new Error("You cannot specify a target element if insertDefaultUI is false"),ae.INVALID_PARAMETER),r)}else $e(le(re.INVALID_PARAMETER,new Error("Session.subscribe :: invalid stream object"),ae.UNABLE_TO_SUBSCRIBE),r);else $e(le(re.INVALID_PARAMETER,new Error("Session.subscribe :: stream cannot be null"),ae.UNABLE_TO_SUBSCRIBE),r);else $e(le(re.NOT_CONNECTED,new Error("Session.subscribe :: Connection required to subscribe"),ae.UNABLE_TO_SUBSCRIBE),r)},this.unsubscribe=function(e){if(!e){var t="OT.Session.unsubscribe: subscriber cannot be null";throw Ae.error(t),new Error(t)}return e.stream?(Ae.debug("OT.Session.unsubscribe: subscriber ".concat(e.id)),e._destroy({reason:"Unsubscribe"}),!0):(Ae.warn("OT.Session.unsubscribe:: tried to unsubscribe a subscriber that had no stream"),!1)},this.getSubscribersForStream=function(e){return ye.subscribers.where({streamId:e.id})},this.getPublisherForStream=function(e){var t,n;if("string"===typeof e)t=e;else{if("object"!==typeof e||!e||!Object.hasOwnProperty.call(e,"id"))throw n="Session.getPublisherForStream :: Invalid stream type",Ae.error(n),new Error(n);t=e.id}return ye.publishers.where({streamId:t})[0]},this._={getProxyUrl:function(){return G},isE2ee:function(){return q.sessionInfo.e2ee&&Me&&!!q.capabilities.supportsE2ee},isSocketReconnecting:function(){return K},getSocket:function(){return m},reconnecting:function(){K=!0,this.dispatchEvent(new ie.SessionReconnectingEvent)}.bind(this),reconnected:function(){K=!1,this.dispatchEvent(new ie.SessionReconnectedEvent),this.sessionInfo.reconnection&&(ye.publishers.where({session:this}).forEach((function(e){e._.iceRestart()})),this.sessionInfo.p2pEnabled||ye.subscribers.where({session:this}).forEach((function(e){e._.iceRestart("socket reconnected")})))}.bind(this),dispatchSignal:function(e,t,n){var r=new ie.SignalEvent(t,n,e);r.target=this,this.trigger(b.default.SIGNAL,r),t&&this.dispatchEvent(r)}.bind(this),dispatchCaption:function(e,t){var n,r,i;try{var o=JSON.parse(t.data);n=o.caption.text,r=o.streamId,i=o.isFinal}catch(s){return void Ae.error("Caption parsing failed: ".concat(s.message))}var a=new ie.CaptionReceivedEvent(n,r,i);a.target=this,this.trigger(b.default.SUBSCRIBER_CAPTION_RECEIVED,a),this.dispatchEvent(a)}.bind(this),subscriberChannelUpdate:function(e,t,n,r){return m?m.subscriberChannelUpdate(e.id,t.widgetId,n.id,r):(Ae.warn("You are disconnected, cannot update subscriber properties ",r),null)},streamCreate:function(e,t){var n=void 0===e?{}:e,r=n.name,i=n.streamId,o=n.subscriberAudioFallbackEnabled,a=n.channels,s=n.minBitrate,u=n.sourceStreamId,c=n.e2ee,l=n.publisherAudioFallbackEnabled,d=n.customProperties;m?m.streamCreate({name:r,streamId:i,subscriberAudioFallbackEnabled:o,channels:a,minBitrate:s,maxBitrate:void 0,sourceStreamId:u,e2ee:c,publisherAudioFallbackEnabled:l,customProperties:d},t):Ae.warn("You are disconnected, cannot create stream ",i)},streamDestroy:function(e,t){m?m.streamDestroy(e,t):Ae.warn("You are disconnected, cannot destroy stream ",e)},streamChannelUpdate:function(e,t,n){m?m.streamChannelUpdate(e.id,t.id,n):Ae.warn("You are disconnected, cannot update stream properties ",n)},setSocket:function(e){m=e},setLogging:function(e){Ae=e},setState:Fe,setIceServers:function(e){e&&(T={iceServers:n(e),timestamp:Date.now()})},getOtIceServerInfo:function(){if(864e5-(T?Date.now()-T.timestamp:1/0)>3e5)return e.resolve({transportPolicy:q&&q.sessionInfo&&q.sessionInfo.clientCandidates,servers:T&&T.iceServers});if(!w)return e.resolve({transportPolicy:q&&q.sessionInfo&&q.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0});var t=he.clientVersion;return xe({anvilUrl:(this.staticConfig||he).apiUrl,sessionId:d,token:w,connectionId:ee,clientVersion:t}).then((function(e){return q._.setIceServers(e.iceServers),T?{transportPolicy:q&&q.sessionInfo&&q.sessionInfo.clientCandidates,servers:T&&T.iceServers}:{transportPolicy:q.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0}}))},getCodecFlags:function(){return{h264:q.sessionInfo.h264,vp9:q.sessionInfo.vp9,vp8:q.sessionInfo.vp8}},getVideoCodecsCompatible:function(e){return(0,k.default)({RTCPeerConnection:Ce.RTCPeerConnection,env:fe.env,stream:e,codecFlags:q._.getCodecFlags()})},getIceConfig:function(){if(!M)return q._.getOtIceServerInfo();var t=M&&"relay"===M.transportPolicy?"relay":q.sessionInfo.clientCandidates;return("custom"===M.includeServers?e.resolve({servers:[]}):q._.getOtIceServerInfo()).then((function(e){return(0,s.default)(e,{transportPolicy:t,servers:[].concat(_toConsumableArray(e.servers),_toConsumableArray(M.customServers))})}))},forceMute:function(e){this.dispatchEvent(new ie.MuteForcedEvent(e))}.bind(this),enableMuteOnEntry:function(){Ne=!0},addSubscriberToPeerConnectionsQueue:function(e,t){Pe.push({pc:e,message:t}),Le||(Le=setInterval((function(){var e=Pe.shift();e?e.pc.processMessage("offer",e.message):(clearInterval(Le),Le=null)}),100))},disableMuteOnEntry:function(){Ne=!1},privateEvents:new a.default},this.signal=function(e,t){var n=e,r=t||function(){};(0,c.default)(n)&&(r=n,n=null),this.isNot("connected")?$e(le(re.NOT_CONNECTED,new Error("Unable to send signal - you are not connected to the session."),500),r):(m.signal(n,(function(e){if(e){var t=function(e){switch(e){case 400:case 413:return re.INVALID_PARAMETER;case 429:return re.RATE_LIMIT_EXCEEDED;case 404:return re.NOT_FOUND;case 500:return re.NOT_CONNECTED;case 403:return re.PERMISSION_DENIED;case 2001:return re.UNEXPECTED_SERVER_RESPONSE;default:return}}(e.code);return t&&(e=le(t,new Error(e.message),e.code)),void r(e)}for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r.apply(void 0,[e].concat(i))}),this.logEvent),e&&e.data&&"string"!==typeof e.data&&Ae.warn("Signaling of anything other than Strings is deprecated. Please update the data property to be a string."))},this.forceDisconnect=function(e,t){if(this.isNot("connected"))$e(le(re.NOT_CONNECTED,new Error("Cannot call forceDisconnect(). You are not connected to the session."),ae.NOT_CONNECTED),t);else{var n="string"===typeof e?e:e.id,r="Invalid Parameter. Check that you have passed valid parameter values into the method call.";n?qe("forceDisconnect")?m.forceDisconnect(n,(function(e){if(e)$e(le(re.INVALID_PARAMETER,new Error(r),ae.INVALID_PARAMETER),t);else if(t&&(0,c.default)(t)){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];t.apply(void 0,[e].concat(i))}})):$e(le(re.PERMISSION_DENIED,new Error("This token does not allow forceDisconnect. The role must be at least `moderator` to enable this functionality"),ae.UNABLE_TO_FORCE_DISCONNECT),t):$e(le(re.INVALID_PARAMETER,new Error(r),ae.INVALID_PARAMETER),t)}},this.forceUnpublish=function(e,t){void 0===t&&(t=function(){});var n=function(e){return $e(le(e.name,new Error(e.msg),e.code),t)},r={msg:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",code:ae.INVALID_PARAMETER,name:re.INVALID_PARAMETER},i={msg:"Cannot call forceUnpublish(). You are not connected to the session.",code:ae.NOT_CONNECTED,name:re.NOT_CONNECTED},o={msg:"This token does not allow forceUnpublish. The role must be at least `moderator` to enable this functionality",code:ae.UNABLE_TO_FORCE_UNPUBLISH,name:re.PERMISSION_DENIED},a={msg:"The stream does not exist.",name:re.NOT_FOUND},s={msg:"An unexpected error occurred.",name:re.UNEXPECTED_SERVER_RESPONSE,code:ae.UNEXPECTED_SERVER_RESPONSE};if(e)if(P.isNot("connected"))n(i);else{var u=function(e){return"string"===typeof e?R.streams.get(e)||{id:e}:e}(e);qe("forceUnpublish")?m.forceUnpublish(u.id,(function(e){e?"404"===e.code?n(a):"403"===e.code?n(o):n(s):t(null)})):n(o)}else n(r)},this.forceMuteStream=function(t){return new e((function(e,n){var r=tt();r?n(r):t&&t.id?m.forceMuteStream(t.id,(function(t){t?n(nt(t)):e()})):n(et(O.default.INVALID_PARAMETER))}))},this.forceMuteAll=function(t){return new e((function(e,n){var r=tt();if(r)n(r);else if(Array.isArray(t)&&!t.every((function(e){return e instanceof oe}))||t&&!Array.isArray(t))n(et(O.default.INVALID_PARAMETER));else{var i=(t||[]).map((function(e){return e.id}));m.forceMuteAll(i,!0,(function(t){t?n(nt(t)):e()}))}}))},this.disableForceMute=function(){return new e((function(e,t){var n=tt();n?t(n):m.forceMuteAll([],!1,(function(n){n?t(nt(n)):e()}))}))},this.setEncryptionSecret=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je){e.next=3;break}return ce.error("Encryption secret must first be set in initSession."),e.abrupt("return");case 3:e.prev=3,(0,N.default)(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),le(re.INVALID_ENCRYPTION_SECRET,new Error("setEncryptionSecret: ".concat(e.t0.message)));case 10:return e.prev=10,e.next=13,P.keyStore.set(d,t);case 13:je=t,e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),Ae.error("Error in setEncryptionSecret}: ".concat(e.t1.message));case 19:case"end":return e.stop()}}),e,null,[[3,7],[10,16]])})));return function(t){return e.apply(this,arguments)}}(),this.isConnected=function(){return R.is("connected")},this.capabilities=new te([],{hasE2eeCapability:ue})}};var i=r(n(4)),o=r(n(5)),a=r(n(14)),s=r(n(9)),u=r(n(720)),c=r(n(17)),l=r(n(11)),d=r(n(16)),f=r(n(6)),p=r(n(1)),h=r(n(72)),v=r(n(722)),m=r(n(10)),g=r(n(21)),y=r(n(96)),b=r(n(26)),w=r(n(25)),E=r(n(319)),k=r(n(723)),_=r(n(724)),S=r(n(110)),C=r(n(326)),x=r(n(23)),T=r(n(13)),I=r(n(725)),R=r(n(8)),O=r(n(727)),A=n(97),N=r(n(728)),P=n(107),L=r(n(70)),M=r(n(171)),D=r(n(327)),j=r(n(22)),F=r(n(172)),V=r(n(7)),Z=r(n(170)),G=r(n(729)),W=r(n(335)),U=r(n(334)),X=r(n(311)),B=r(n(155)),H=r(n(753)),Y=r(n(135)),z=r(n(756)),K=r(n(758)),J=r(n(324)),Q=r(n(35)),q=r(n(760)),$=r(n(77)),ee=(0,Q.default)()}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(52)).default.once;t.default=function(){return o()&&(i.default.isChromiumEdge||["Chrome","Safari","Firefox","Opera"].includes(i.default.name))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t,n;if(e.reason===s.CONNECT&&e.code===i.default.CONNECT_FAILED)t=e.code,n=o.default.getTitleByCode(e.code);else if(e.code&&a.indexOf(Number(e.code))>-1)switch(t=i.default.CONNECT_FAILED,e.reason){case s.CONNECT:e.code===i.default.CONNECTION_LIMIT_EXCEEDED?(t=e.code,n="Cannot connect -- the limit for concurrent connections to the session has been reached"):n="Received error response to connection create message.";break;case s.SESSION_STATE:n="Received error response to session read";break;default:n=""}else t=i.default.UNEXPECTED_SERVER_RESPONSE,n="Unexpected server response. Try this operation again later.";return{code:t,message:n}};var i=r(n(10)),o=r(n(21)),a=[400,403,409,i.default.CONNECTION_LIMIT_EXCEEDED],s={CONNECT:"ConnectToSession",SESSION_STATE:"GetSessionState"}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return JSON.stringify(e)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=e.logger,n=e.obj;e.eventNames.forEach((function(e){n.on(e,(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spam("emitted",e,r)}))}))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(17)),o=r(n(6)),a=r(n(1)),s=r(n(21)),u=r(n(173)),c=r(n(745)),l=(0,a.default)("Dispatcher"),d=function(){(0,o.default)(this),this.callbacks={}};d.prototype.registerCallback=function(e,t){this.callbacks[e]=t},d.prototype.triggerCallback=function(e){if(e){var t=this.callbacks[e];if(t&&(0,i.default)(t)){var n=Array.prototype.slice.call(arguments);n.shift(),t.apply(void 0,_toConsumableArray(n))}delete this.callbacks[e]}},d.prototype.onClose=function(e){this.emit("close",e)},d.prototype.onReconnected=function(){this.emit("reconnected")},d.prototype.onReconnecting=function(){this.emit("reconnecting")},d.prototype.dispatch=function(e){var t,n;if(e.type===u.default.STATUS){var r,i;if(l.debug(e),e.isError){var o;if("string"===typeof e.data)try{var a=JSON.parse(e.data);a&&"object"===typeof a&&(o=a.reason)}catch(p){l.warn("Failed to parse rumorMessage.data",p)}i=new s.default(e.status,o)}var d=e.data?JSON.parse(e.data):"";return null!=d&&null!=(r=d.mute)&&r.active&&this.dispatchMuteOnEntry(),void this.triggerCallback(e.transactionId,i,e)}var f=(0,c.default)(e);switch(l.debug("".concat(f.signature,":"),f),f.resource){case"session":this.dispatchSession(f);break;case"connection":if(null!=f&&null!=(t=f.content)&&null!=(n=t.userAgent)&&n.includes("auriga"))return;this.dispatchConnection(f);break;case"stream":this.dispatchStream(f);break;case"stream_channel":this.dispatchStreamChannel(f);break;case"subscriber":this.dispatchSubscriber(f);break;case"subscriber_channel":this.dispatchSubscriberChannel(f);break;case"signal":this.dispatchSignal(f);break;case"data":this.dispatchCaption(f);break;case"archive":this.dispatchArchive(f);break;case"source":this.dispatchSource(f);break;default:l.debug("Type ".concat(f.resource," is not currently implemented"))}},d.prototype.dispatchSession=function(e){switch(e.method){case"read":this.emit("session#read",e.content,e.transactionId);break;case"update":this.emit("session#update",e.content);break;default:l.debug("".concat(e.signature," is not currently implemented"))}},d.prototype.dispatchMuteOnEntry=function(){this.emit("session#muted")},d.prototype.dispatchConnection=function(e){switch(e.method){case"created":this.emit("connection#created",e.content);break;case"deleted":this.emit("connection#deleted",e.params.connection,e.reason);break;default:l.debug("".concat(e.signature," is not currently implemented"))}},d.prototype.dispatchStream=function(e){switch(e.method){case"created":this.emit("stream#created",e.content,e.transactionId);break;case"deleted":this.emit("stream#deleted",e.params.stream,e.reason,e.content);break;case"updated":this.emit("stream#updated",e.params.stream,e.content);break;case"update":this.emit("stream#update",e.params.stream,e.content);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(e.method,e);break;default:l.debug("".concat(e.signature," is not currently implemented"))}},d.prototype.dispatchStreamChannel=function(e){"updated"===e.method?this.emit("streamChannel#updated",e.params.stream,e.params.channel,e.content):l.debug("".concat(e.signature," is not currently implemented"))},d.prototype.dispatchJsep=function(e,t){this.emit("jsep#".concat(e),t.params.stream,t.fromAddress,t)},d.prototype.dispatchSubscriberChannel=function(e){switch(e.method){case"updated":this.emit("subscriberChannel#updated",e.params.stream,e.params.channel,e.content);break;case"update":this.emit("subscriberChannel#update",e.params.subscriber,e.params.stream,e.content);break;default:l.debug("".concat(e.signature," is not currently implemented"))}},d.prototype.dispatchSubscriber=function(e){switch(e.method){case"created":this.emit("subscriber#created",e.params.stream,e.fromAddress,e.content.id);break;case"deleted":this.dispatchJsep("unsubscribe",e),this.emit("subscriber#deleted",e.params.stream,e.fromAddress);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(e.method,e);break;default:l.debug("".concat(e.signature," is not currently implemented"))}},d.prototype.dispatchSignal=function(e){"signal"===e.method?this.emit("signal",e.fromAddress,e.content):l.debug("".concat(e.signature," is not currently implemented"))},d.prototype.dispatchCaption=function(e){this.emit("caption",e.fromAddress,e.content)},d.prototype.dispatchArchive=function(e){switch(e.method){case"created":this.emit("archive#created",e.content);break;case"updated":this.emit("archive#updated",e.params.archive,e.content)}},d.prototype.dispatchSource=function(e){switch(e.method){case"create":this.emit("source#create",e.params.source,e.params.stream,e.reason);break;case"delete":this.emit("source#delete",e.params.source,e.params.stream,e.reason);break;default:l.debug("".concat(e.signature," is not currently implemented"))}};var f=d;t.default=f},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(16)),o=r(n(747)),a=r(n(748)),s=r(n(7)),u=r(n(749)),c=r(n(328)),l=(0,r(n(35)).default)().onlyLocal(),d={connections:{}};d.connections.create=function(e){var t=e.apiKey,n=e.sessionId,r=e.connectionId,i=e.connectionEventsSuppressed,o=e.capabilities;return(0,c.default)({method:"create",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/connection/").concat(r),content:{userAgent:s.default.env.userAgent,clientVersion:l.clientVersion,capabilities:o||[],connectionEventsSuppressed:i}})},d.connections.destroy=function(e){var t=e.apiKey,n=e.sessionId,r=e.connectionId;return(0,c.default)({method:"delete",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/connection/").concat(r),content:{}})},d.sessions={},d.sessions.get=function(e,t){return(0,c.default)({method:"read",uri:"/v2/partner/".concat(e,"/session/").concat(t),content:{}})},d.streams={},d.streams.get=function(e,t,n){return(0,c.default)({method:"read",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n),content:{}})},d.streams.channelFromOTChannel=function(e){var t={id:e.id,type:e.type,active:e.active};return"video"===e.type&&(t.width=e.width,t.height=e.height,t.orientation=e.orientation,t.frameRate=e.frameRate,"default"!==e.source&&(t.source=e.source),t.fitMode=e.fitMode),t},d.streams.create=function(e){void 0===e&&(e={});var t=e,n=t.apiKey,r=t.sessionId,i=t.streamId,o=t.name,a=t.audioFallbackEnabled,s=t.publisherAudioFallbackEnabled,u=t.subscriberAudioFallbackEnabled,l=t.channels,f=t.minBitrate,p=t.maxBitrate,h=t.sourceStreamId,v=t.e2ee,m=t.customProperties,g={id:i,name:o,audioFallbackEnabled:a,publisherAudioFallbackEnabled:s,subscriberAudioFallbackEnabled:u,channel:l.map((function(e){return d.streams.channelFromOTChannel(e)})),e2ee:v,customProperties:m};return f&&(g.minBitrate=Math.round(f)),p&&(g.maxBitrate=Math.round(p)),h&&(g.sourceStreamId=h),"boolean"===typeof v&&(g.e2ee=v),(0,c.default)({method:"create",uri:"/v2/partner/".concat(n,"/session/").concat(r,"/stream/").concat(i),content:g})},d.streams.destroy=function(e,t,n,r){var i={};return r&&(i.sourceStreamId=r),(0,c.default)({method:"delete",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n),content:i})},d.streamChannels={},d.streamChannels.update=function(e,t,n,r,i){return(0,c.default)({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/channel/").concat(r),content:i})},d.subscribers={},d.subscribers.create=function(e){void 0===e&&(e={});var t=e,n=t.apiKey,r=t.sessionId,i=t.streamId,s=t.subscriberId,l=t.connectionId,d=t.channelsToSubscribeTo,f=t.sourceStreamId,p=t.e2ee,h={id:s,connection:l,keyManagementMethod:o.default,bundleSupport:(0,u.default)(),rtcpMuxSupport:(0,a.default)(),e2ee:p};return d&&(h.channel=d),f&&(h.sourceStreamId=f),(0,c.default)({method:"create",uri:"/v2/partner/".concat(n,"/session/").concat(r,"/stream/").concat(i,"/subscriber/").concat(s),content:h})},d.subscribers.destroy=function(e,t,n,r){return(0,c.default)({method:"delete",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(r),content:{}})},d.subscribers.update=function(e,t,n,r,i){return(0,c.default)({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(r),content:i})},d.subscriberChannels={},d.subscriberChannels.update=function(e,t,n,r,i,o){return(0,c.default)({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(r,"/channel/").concat(i),content:o})},d.signals={},d.signals.create=function(e,t,n,r,o){var a={};return void 0!==r&&(a.type=r),void 0!==o&&(a.data=o),(0,c.default)({method:"signal",uri:"/v2/partner/".concat(e,"/session/").concat(t).concat(void 0!==n?"/connection/".concat(n):"","/signal/").concat((0,i.default)()),content:a})},d.forceMute={},d.forceMute.update=function(e){var t=e.apiKey,n=e.sessionId,r=e.streamId,i=e.active,o=e.excludedStreamIds,a={reason:"mute",channels:["audio"],active:i,locked:!1};return o&&(a.exclusion=o),(0,c.default)({method:"update",uri:"/v2/partner/".concat(t,"/session/").concat(n).concat(r?"/stream/".concat(r):""),content:a})};var f=d;t.default=f},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n){var r;this.toRaptorMessage=function(){var t=this.to;return t&&"string"!==typeof t&&(t=t.id),s.default.signals.create(o.default.value,e,t,this.type,this.data)},this.toHash=function(){return n},this.error=null,this.retryAfterReconnect=!0,n&&(n.hasOwnProperty("data")&&(this.data=(0,i.default)(n.data),this.error=function(e){var t=null;if(null===e||void 0===e)t={code:400,reason:"The signal data was null or undefined. Either set it to a String value or omit it"};else try{JSON.stringify(e).length>c&&(t={code:413,reason:"The data field was too long, the maximum size of it is ".concat(c," characters")})}catch(n){t={code:400,reason:"The data field was not valid JSON"}}return t}(this.data)),n.hasOwnProperty("to")&&(this.to=n.to,this.error||(this.error=(r=this.to)?r instanceof a.default||r._tag===u.default?null:{code:400,reason:"The To field was invalid"}:{code:400,reason:"The signal to field was invalid. Either set it to a OT.Connection, OT.Session, or omit it entirely"})),n.hasOwnProperty("type")&&(this.error||(this.error=function(e){var t=null;return null===e||void 0===e?t={code:400,reason:"The signal type was null or undefined. Either set it to a String value or omit it"}:e.length>l?t={code:413,reason:"The signal type was too long, the maximum length of it is ".concat(l," characters")}:function(e){return!/^[a-zA-Z0-9\-\._~]+$/.exec(e)}(e)&&(t={code:400,reason:"The signal type was invalid, it can only contain letters, numbers, '-', '_', and '~'."}),t}(n.type)),this.type=n.type),n.hasOwnProperty("retryAfterReconnect")&&(this.error||(this.error=function(e){var t=null;return!0!==e&&!1!==e&&(t={code:400,reason:"The signal retryAfterReconnect was not true or false. Either set it to a Boolean value or omit it"}),t}(n.retryAfterReconnect)),this.retryAfterReconnect=n.retryAfterReconnect)),this.valid=null===this.error};var i=r(n(38)),o=r(n(70)),a=r(n(174)),s=r(n(332)),u=r(n(334)),c=8192,l=128},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n=(void 0===t?{}:t).connectionEventsSuppressed,r=new f.default,a=!1,u=new b(r);r.on("reconnecting",(function(){e._.reconnecting()})),r.on("reconnected",(function(){e._.reconnected()})),r.on("close",(function(t){var n=e.connection;n&&(n.destroyedReason()?m.debug("".concat("Socket was closed but the connection had already been destroyed. Reason: ").concat(n.destroyedReason())):n.destroy(t))}));var d=function(t,n){return e.connections.has(t.id)?e.connections.get(t.id):(t=l.default.fromHash(t),(n||e.connection&&t.id!==e.connection.id)&&(e.connections.add(t),u.triggerConnectionCreated(t)),Object.keys(w).forEach((function(r){var i=w[r];if(i&&t.id===i.connection.id){g(i,e),delete w[i.id];var o={debug:n?"connection came in session#read":"connection came in connection#created",streamId:i.id,connectionId:t.id};e.logEvent("streamCreated","warning",o)}})),t)};r.on("session#read",(function(t,n){var i,o={streams:[],connections:[],archives:[]};t.connection.forEach((function(e){i=d(e,!0),o.connections.push(i)})),t.stream.forEach((function(t){o.streams.push(g(t,e))})),(t.archive||t.archives).forEach((function(t){o.archives.push(y(t,e))})),r.triggerCallback(n,null,o),a=!0,u.triggerSessionConnected(e.connections)})),r.on("session#update",(function(t){if("mute"===t.reason){var n=!0===t.active;e._.forceMute({active:n}),n?e._.enableMuteOnEntry():e._.disableMuteOnEntry()}else m.debug("session#update that handle this reason is not currently implemented")})),r.on("session#muted",(function(){e._.enableMuteOnEntry(),e._.forceMute({active:!0})})),r.on("connection#created",(function(e){d(e)})),r.on("connection#deleted",(function(t,n){(t=e.connections.get(t))?t.destroy(n):m.warn("A connection was deleted that we do not know about")})),r.on("stream#created",(function(t,i){var o,a=t.id,u=t.sourceStreamId,c=t.connection;if(n){if(null==c||null==c.id)return void e.logEvent("SessionDispatcher:stream#created","Event",{connection:c,info:"Stream did not contain a connection object. Event ignored"});d(c)}var l=t.connectionId||c.id;if(e.connections.has(l))o=g(t,e);else{w[a]=t;var f={debug:"eventOrderError -- streamCreated event before connectionCreated",streamId:a,sourceStreamId:(0,v.default)(u)};e.logEvent("streamCreated","warning",f)}o?(o.publisher&&o.publisher.setStream(o),r.triggerCallback(i,null,o)):e.sessionInfo.isAdaptiveEnabled&&"P2P"===u&&s.default.subscribers.where({streamId:a}).forEach((function(e){e._.startRoutedToRelayedTransition()}))})),r.on("stream#deleted",(function(t,n,r){var i=e.streams.get(t),o=r.sourceStreamId,a=s.default.subscribers,u=e.sessionInfo.isAdaptiveEnabled&&"P2P"===o;(i||u)&&(u?a.where({streamId:t}).forEach((function(e){e._.startRelayedToRoutedTransition()})):i.destroy(n))})),r.on("stream#updated",(function(t,n){var r=e.streams.get(t);r?r._.update(n):m.error("A stream does not exist with the id of ".concat(t,", for stream#updated message!"))})),r.on("stream#update",(function(t,n){var r=e.streams.get(t),i=n.reason,o=n.active;r?"mute"===i?o&&r._.forceMute(n):m.debug("stream#update that handle this reason is not currently implemented"):m.error("A stream does not exist with the id of ".concat(t,", for stream#updated message!"))})),r.on("streamChannel#updated",(function(t,n,r){var i;t&&(i=e.streams.get(t))?i._.updateChannel(n,r):m.error("Unable to determine streamId, or the stream does not exist, for streamChannel message!")}));var p=function(t,n,r,a){var u,d,f={streamId:n},p=s.default.subscribers,h=s.default.publishers;switch(u=a.params.subscriber?{widgetId:a.params.subscriber}:f,t){case"offer":d=[].concat(p.where(u),h.where(f)).slice(0,1);break;case"answer":case"pranswer":d=[].concat(h.where(f),p.where(u)).slice(0,1);break;case"generateoffer":case"unsubscribe":d=h.where(f);break;case"candidate":d=[].concat(p.where(u),h.where(f));break;default:return void m.debug("jsep#".concat(t," is not currently implemented"))}if(0!==d.length){var v=e.connections.get(r);!v&&r.match(/^symphony\./)&&(v=l.default.fromHash({id:r,creationTime:Math.floor((0,c.default)())}),e.connections.add(v)),d.forEach(function(){var e=(0,o.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.processMessage(t,r,a);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),m.error("Error occurred during processMessage",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())}};return r.on("jsep#offer",p.bind(null,"offer")),r.on("jsep#answer",p.bind(null,"answer")),r.on("jsep#pranswer",p.bind(null,"pranswer")),r.on("jsep#generateoffer",p.bind(null,"generateoffer")),r.on("jsep#unsubscribe",p.bind(null,"unsubscribe")),r.on("jsep#candidate",p.bind(null,"candidate")),r.on("subscriberChannel#updated",(function(t,n,r){t&&e.streams.has(t)?e.streams.get(t)._.updateChannel(n,r):m.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#updated message!")})),r.on("subscriberChannel#update",(function(t,n,r){n&&e.streams.has(n)?s.default.subscribers.has(t)?s.default.subscribers.get(t).disableVideo(r.active):m.error("Unable to determine subscriberId, or the subscriber does not exist, for subscriberChannel#update message!"):m.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#update message!")})),r.on("signal",(function(t,r){if(n){var i=r.connection||r.fromConnection;null!=i&&null!=i.id||(i=function(e){return{id:e,creationTime:(new Date).getTime(),data:{},capablities:{},permissions:[]}}(t),e.logEvent("SessionDispatcher:Signal","Event",{fromAddress:t,connection:r.connection,fromConnection:r.fromConnection,info:"Signal did not contain a connection object. One has been constructed",constructedConnection:i})),d(i)}var o=r.type,s=r.data,c=e.connections.get(t);e.connection&&t===e.connection.connectionId?a?e._.dispatchSignal(c,o,s):u.enqueue("sessionConnected","signal",t,o,s):e.connections.get(t)?e._.dispatchSignal(c,o,s):""===t?e._.dispatchSignal(null,o,s):u.enqueue("connectionCreated".concat(t),"signal",t,o,s)})),r.on("caption",(function(t,n){e._.dispatchCaption(t,n)})),r.on("archive#created",(function(t){y(t,e)})),r.on("archive#updated",(function(t,n){var r=e.archives.get(t);r?r._.update(n):m.error("An archive does not exist with the id of ".concat(t,", for archive#updated message!"))})),r.on("source#create",(function(t,n,r){var i=(0,v.default)(t);e.logEvent("SessionDispatcher:source#create","Event",{sourceStreamId:i,streamId:n,reason:r}),m.debug("Received a request from RUMOR to start a transition to "+"".concat(t," for the stream ID ").concat(n," with the reason: ").concat(r)),s.default.publishers.where({streamId:n}).forEach((function(e){e._.startRoutedToRelayedTransition()}))})),r.on("source#delete",(function(t,n,r){e.logEvent("SessionDispatcher:source#delete","Event",{sourceStreamId:(0,v.default)(t),streamId:n,reason:r}),m.debug("Received a request from RUMOR to start a transition from P2P "+"to MANTIS for the stream ID ".concat(n," with the reason: ").concat(r)),s.default.publishers.where({streamId:n}).forEach((function(e){e._.startRelayedToRoutedTransition()}))})),r};var i=r(n(4)),o=r(n(5)),a=r(n(1)),s=r(n(23)),u=r(n(336)),c=r(n(50)),l=r(n(174)),d=r(n(752)),f=r(n(331)),p=r(n(172)),h=r(n(153)),v=r(n(169)),m=(0,a.default)("SessionDispatcher");function g(e,t){if(!t.streams.has(e.id)){var n=function(e,t){var n=e.channel.map((function(e){return new h.default(e)})),r=e.connectionId?e.connectionId:e.connection.id;return new p.default(e.id,e.name,e.creationTime,t.connections.get(r),t,n,e.customProperties&&e.customProperties.initials)}(e,t);return t.streams.add(n),n}}function y(e,t){if(!t.archives.has(e.id)){var n=function(e){return new u.default(e.id,e.name,e.status)}(e);return t.archives.add(n),n}}var b=function(e){var t={};this.enqueue=function(){var n=arguments[0],r=Array.prototype.slice.call(arguments,1);t[n]||(t[n]=new d.default(e)),t[n].enqueue.apply(t[n],r)},this.triggerConnectionCreated=function(e){t["connectionCreated".concat(e.id)]&&t["connectionCreated".concat(e.id)].triggerAll()},this.triggerSessionConnected=function(e){t.sessionConnected&&t.sessionConnected.triggerAll(),e.forEach((function(e){this.triggerConnectionCreated(e)}),this)}},w={}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n){var r=this;this.id=e,this.name=t,this.status=n,this._={},(0,i.default)(this),this._.update=function(e){Object.keys(e).forEach((function(t){var n=r[t];r[t]=e[t];var i=new o.ArchiveUpdatedEvent(r,t,n,r[t]);r.dispatchEvent(i)}))},this.destroy=function(){}};var i=r(n(6)),o=(0,r(n(22)).default)()},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=(0,r(n(20)).default)().getAudioOutputMediaDevices;t.default=function(){return i()}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=(0,r(n(20)).default)().getActiveAudioOutputDevice;t.default=function(){return i()}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(94)),s=r(n(20)),u=r(n(208)),c=r(n(25)),l=r(n(23)),d=r(n(338)),f=a.default.setCurrentAudioOutputDeviceId,p=(0,s.default)(),h=p.getDefaultAudioOutputDeviceId,v=p.getAudioOutputMediaDevices,m=new c.default,g=function(e,t){m.logEvent({action:"updateSubscribersSinkId",variation:e,payload:t})},y=function(t){var n=l.default.subscribers.map((function(e){return e._.setSinkId(t)}));return e.all(n)},b=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)();case 2:return e.prev=2,g("Attempt",{deviceId:t}),e.next=6,y(t);case 6:g("Success",{deviceId:t}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),g("Failure",{deviceId:t,error:null==e.t0?void 0:e.t0.message}),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return t=e.sent,n=h(t),e.prev=4,e.next=7,b(n);case 7:f(n),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.default)();case 2:return t=e.sent,e.prev=3,e.next=6,b(t.deviceId);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,w();case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g("Attempt",{deviceId:t}),e.next=4,y(t);case 4:g("Success",{deviceId:t}),f(t),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),g("Failure",{deviceId:t,error:null==e.t0?void 0:e.t0.message}),e.next=13,E();case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();t.default=k}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0),i=r(n(38)),o=r(n(192)),a=r(n(6)),s=r(n(1)),u=r(n(124)),c=r(n(20)),l=r(n(128)),d=r(n(257)),f=r(n(129)),p=r(n(72)),h=r(n(10)),v=r(n(21)),m=r(n(209)),g=r(n(106)),y=r(n(146)),b=r(n(26)),w=r(n(131)),E=r(n(35)),k=r(n(25)),_=r(n(213)),S=r(n(556)),C=r(n(557)),x=r(n(558)),T=r(n(23)),I=r(n(13)),R=r(n(8)),O=r(n(147)),A=r(n(7)),N=r(n(70)),P=r(n(148)),L=r(n(259)),M=r(n(149)),D=r(n(150)),j=r(n(260)),F=r(n(222)),V=r(n(585)),Z=n(107),G=r(n(273)),W=r(n(153)),U=r(n(154)),X=r(n(155)),B=r(n(73)),H=r(n(287)),Y=r(n(288)),z=r(n(22)),K=r(n(161)),J=r(n(639)),Q=r(n(162)),q=r(n(644)),$=r(n(647)),ee=r(n(163)),te=r(n(298)),ne=r(n(256)),re=r(n(164)),ie=r(n(299)),oe=r(n(306)),ae=r(n(308)),se=r(n(666)),ue=r(n(166)),ce=r(n(311)),le=r(n(170)),de=r(n(324)),fe=r(n(325)),pe=r(n(762)),he=r(n(763)),ve=r(n(766)),me=r(n(767)),ge=r(n(336)),ye=r(n(171)),be=r(n(174)),we=r(n(768)),Ee=r(n(337)),ke=r(n(338)),_e=r(n(769)),Se=r(n(285)),Ce=r(n(335)),xe=r(n(333)),Te=r(n(172)),Ie=r(n(317)),Re=r(n(76)),Oe=r(n(281)),Ae=n(97),Ne=r(n(168)),Pe=r(n(770));n(772);var Le=(0,E.default)(),Me=(0,s.default)("OT"),De=Le.onlyLocal(),je={};je.noConflict=(0,x.default)(),(void 0!==typeof window?window:__webpack_require__.g).OT=je,e.exports=je,function(){var e=je;Object.defineProperty(void 0!==typeof window?window:__webpack_require__.g,"TB",{get:function(){return e===je&&console.warn("window.TB is deprecated, and will be removed in the future. Please access via window.OT"),e},set:function(t){e=t},configurable:!0})}();var Fe=(0,O.default)(void 0!==typeof window?window:__webpack_require__.g),Ve=(0,B.default)({global:Fe}),Ze=(0,I.default)({}),Ge=(0,l.default)(),We=(0,H.default)({otError:Ze}),Ue=(0,Y.default)(),Xe=(0,m.default)({global:Fe}),Be=(0,c.default)({getNativeEnumerateDevices:Xe}),He=(0,z.default)(),Ye=(0,K.default)(),ze=(0,J.default)({otError:Ze,global:Fe}),Ke=(0,Q.default)({chromeExtensionHelper:We,otError:Ze}),Je=(0,q.default)({deviceHelpers:Be,generateConstraintInfo:j.default,getUserMediaHelper:ze,global:Fe,OTHelpers:A.default,screenSharing:Ke}),Qe=(0,$.default)({otError:Ze,processPubOptions:Je}),qe=(0,ee.default)({otError:Ze}),$e=(0,te.default)(),et=(0,ne.default)({otError:Ze}),tt=(0,o.default)({global:Fe,videoElementErrorMap:et}),nt=(0,re.default)({global:Fe}),rt=(0,ie.default)({PeerConnection:Ve,setCertificates:nt}),it=(0,oe.default)({PeerConnection:Ve,setCertificates:nt}),ot=(0,ae.default)(),at=(0,se.default)({otError:Ze}),st=(0,g.default)({NativeVideoElementWrapper:tt}),ut=(0,y.default)(),ct=(0,ue.default)({VideoElementFacade:st}),lt=(0,ce.default)({interpretPeerConnectionError:qe,otError:Ze,SubscriberPeerConnection:it,WidgetView:ct}),dt=(0,le.default)({APIKEY:N.default,createChromeMixin:Ue,deviceHelpers:Be,EnvironmentLoader:D.default,Errors:R.default,Events:He,ExceptionCodes:h.default,calculateCapableSimulcastStreams:L.default,global:Fe,interpretPeerConnectionError:qe,IntervalRunner:p.default,Microphone:$e,otError:Ze,OTErrorClass:v.default,OTHelpers:A.default,parseIceServers:Z.parseIceServers,processPubOptions:Je,PUBLISH_MAX_DELAY:G.default,PublisherPeerConnection:rt,PublishingState:ot,StreamChannel:W.default,systemRequirements:X.default,VideoOrientation:ut,WidgetView:ct}),ft=(0,de.default)({otError:Ze,Publisher:dt}),pt=(0,fe.default)({global:Fe,initPublisher:ft,otError:Ze,Publisher:dt,Subscriber:lt}),ht=(0,pe.default)({Session:pt});(0,a.default)(je),(0,_.default)(je,"$",{name:"OT.$",getMessage:"Please use an external library like jQuery to select elements from the page.",value:A.default}),je.APIKEY=N.default.value,je.AnalyserAudioLevelSampler=f.default,je.Archive=ge.default,je.ArchiveEvent=He.ArchiveEvent,je.ArchiveUpdatedEvent=He.ArchiveUpdatedEvent,je.AudioLevelTransformer=P.default,je.AudioLevelUpdatedEvent=He.AudioLevelUpdatedEvent,je.Capabilities=ye.default,je.Chrome=M.default,je.Connection=be.default,je.ConnectionCapabilities=je.Connection.Capabilities,je.ConnectionEvent=He.ConnectionEvent,Object.keys(u.default).forEach((function(e){je[e.toUpperCase()]=u.default[e].priority})),je.NONE=0,je.debug=Me.debug,je.error=Me.error,je.info=Me.info,je.log=Me.log,je.warn=Me.warn,je.DestroyedEvent=He.DestroyedEvent,je.EnvLoadedEvent=He.EnvLoadedEvent,je.Error=v.default,je.Error.on(b.default.EXCEPTION,(function(e){if(e.target===je.Error){var t=(0,i.default)(e);t.target=je,je.dispatchEvent(t)}else je.dispatchEvent(e)})),je.Event=w.default,je.ExceptionCodes=h.default,je.ExceptionEvent=He.ExceptionEvent,je.getDevices=we.default,je.getAudioOutputDevices=Ee.default,je.getActiveAudioOutputDevice=ke.default,je.setAudioOutputDevice=(0,_e.default)(),je.GetAudioLevelSampler=d.default,je.HAS_REQUIREMENTS=1,je.IntervalRunner=p.default,je.IssueReportedEvent=He.IssueReportedEvent,je.MediaStoppedEvent=He.MediaStoppedEvent,je.Microphone=$e,je.NOT_HAS_REQUIREMENTS=0,je.PeerConnection=Ve,je.PeerConnection.QOS=Se.default,je.Publisher=dt,je.PublisherPeerConnection=rt,je.PublishingState=ot,je.MuteForcedEvent=He.MuteForcedEvent,je.Session=pt,je.SessionConnectEvent=He.SessionConnectEvent,je.SessionDisconnectEvent=He.SessionDisconnectEvent,je.SessionDispatcher=Ce.default,je.Signal=xe.default,je.SignalEvent=He.SignalEvent,je.Stream=Te.default,je.StreamChannel=W.default,je.StreamEvent=He.StreamEvent,je.StreamPropertyChangedEvent=He.StreamPropertyChangedEvent,je.StreamUpdatedEvent=He.StreamUpdatedEvent,je.StylableComponent=U.default,je.Subscriber=lt,je.SubscriberPeerConnection=it,je.SubscribingState=Ie.default,je.VideoDimensionsChangedEvent=He.VideoDimensionsChangedEvent,je.VideoDisableWarningEvent=He.VideoDisableWarningEvent,je.VideoElement=st,je.VideoEnabledChangedEvent=He.VideoEnabledChangedEvent,je.VideoOrientation=ut,je.WidgetView=ct,je.getSupportedCodecs=he.default,je.hasMediaProcessorSupport=ve.default,je.hasEndToEndEncryptionSupport=me.default,je._={AnalyticsHelper:k.default,getClientGuid:F.default.get,StaticConfig:Le},Object.defineProperty(je,"version",{value:De.version});var vt={};(0,_.default)(vt,"version",{value:De.version,name:"OT.properties.version",getWarning:"Please use OT.version instead",warnOnSet:!0,setWarning:"Mutating version has no effect"}),S.default.forEach((function(e){var t,n;if(Array.isArray(e)){var r=e[0],i=e[1];n=r,t=De[i]||i}else t=De[e],n=e;var o,a=(o=n,C.default.includes(o));(0,_.default)(vt,n,{value:t,name:"OT.properties.".concat(n),warnOnSet:!0,canSet:a,setWarning:"Mutating ".concat(n,a?" can cause side effects":" has no effect")})})),je.properties=vt,je.audioContext=Ge,je.checkScreenSharingCapability=Ke.checkCapability,je.checkSystemRequirements=X.default.check,je.components={},je.generateSimpleStateMachine=Ye,je.getErrorTitleByCode=v.default.getTitleByCode,je.getLogs=Me.getLogs,je.getStatsAdpater=Oe.default,je.getStatsHelpers=Re.default,je.getUserMedia=Qe,je.handleJsException=v.default.handleJsException,je.initPublisher=ft,je.setProxyUrl=Ae.setProxyUrl,je.initSession=function(e,t,n){return null==t&&(t=e,e=null),0===N.default.value.length&&e&&(N.default.value=e,je.APIKEY=e),ht(e,t,n)};var mt=function(e,t){return function(){return console.warn("".concat(e," is deprecated and will be removed in a future version of OpenTok")),t}};Object.defineProperties(je,{isUnloaded:{get:mt("OT.isUnloaded",D.default.isUnloaded)},onLoad:{get:mt("OT.onLoad",D.default.onLoad)},onUnload:{get:mt("OT.onUnload",D.default.onUnload)},overrideGuidStorage:{get:mt("OT.overrideGuidStorage",F.default.override)}}),je.pickScreenSharingHelper=Ke.pickHelper,je.publishers=T.default.publishers,je.registerScreenSharingExtension=Ke.registerExtension,je.registerScreenSharingExtensionHelper=Ke.registerExtensionHelper,je.reportIssue=at,je.sessions=T.default.sessions,je.setLogLevel=V.default,je.shouldLog=Me.shouldLog,je.subscribers=T.default.subscribers,je.unblockAudio=Ne.default,je.upgradeSystemRequirements=X.default.upgrade,D.default.onUnload((function(){T.default.publishers.destroy(),T.default.subscribers.destroy(),T.default.sessions.destroy("unloaded")})),(0,Pe.default)()},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(81),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(81);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(81);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(81);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(80);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(80),i=n(111),o=n(112);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(17),i=n(354),o=n(11),a=n(176),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(40),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(355),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(15)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(358),i=n(80),o=n(111);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(359),i=n(360),o=n(361),a=n(362),s=n(363);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(82);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(82),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(82),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(82);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(83);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(83);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(83);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(83);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(30),i=n(18);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(30),i=n(114),o=n(18),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(180)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(41),i=n(54);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(11),i=n(68),o=n(376),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(41),i=n(117);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(41),i=n(183);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(39)(n(15),"DataView");e.exports=r},function(e,t,n){var r=n(39)(n(15),"Promise");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(120),i=n(384),o=n(385),a=n(386),s=n(190);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(120);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(40),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(388),i=n(67),o=n(115),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(42),i=n(18);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(390),i=n(67),o=n(115),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(42),i=n(18);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(392),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t,n){(function(t){!function(n){"use strict";var r,i=Object.prototype,o=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l="object"===typeof e,d=n.regeneratorRuntime;if(d)l&&(e.exports=d);else{(d=n.regeneratorRuntime=l?e.exports:{}).wrap=E;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={},g={};g[s]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(N([])));b&&b!==i&&o.call(b,s)&&(g=b);var w=C.prototype=_.prototype=Object.create(g);S.prototype=w.constructor=C,C.constructor=S,C[c]=S.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},d.awrap=function(e){return{__await:e}},x(T.prototype),T.prototype[u]=function(){return this},d.AsyncIterator=T,d.async=function(e,t,n,r){var i=new T(E(e,t,n,r));return d.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(w),w[c]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function E(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=k(e,t,n);if("normal"===u.type){if(r=n.done?v:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=v,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function _(){}function S(){}function C(){}function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function n(r,i,a,s){var u=k(e[r],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===typeof l&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function I(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,I(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=k(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function N(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())}).call(this,n(2))},function(e,t,n){var r=n(394),i=n(177),o=n(89),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){(function(r){t.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.exports.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),t.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.setItem("debug",e)}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){var e=function(e){var n="debug_"+e.toLowerCase();try{return t.storage.getItem(n)}catch(i){return"undefined"!==typeof r&&"env"in r?r.env[n.toUpperCase()]:void 0}}("colors");return!/^(no|off|false|disabled)$/i.test(e)&&(!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&Boolean("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(396)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(43))},function(e,t,n){e.exports=function(e){function t(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function r(e){var n;function o(){if(o.enabled){var e=o,t=+new Date,i=t-(n||t);e.diff=i,e.prev=n,e.curr=t,n=t;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=r.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;u++;var i=r.formatters[n];if("function"===typeof i){var o=a[u];t=i.call(e,o),a.splice(u,1),u--}return t})),r.formatArgs.call(e,a),(e.log||r.log).apply(e,a)}}return o.namespace=e,o.enabled=r.enabled(e),o.useColors=r.useColors(),o.color=t(e),o.destroy=i,"function"===typeof r.init&&r.init(o),r.instances.push(o),o}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}return r.debug=r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(397),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,a=7*o,s=365.25*o;function u(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?u(e,t,o,"day"):t>=i?u(e,t,i,"hour"):t>=r?u(e,t,r,"minute"):t>=n?u(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(197)),o=new i.default,a=function(e,t){if(void 0===t)return e;o.has(t)||o.set(t,new i.default);var n=o.get(t);return n.has(e)||n.set(e,e.bind(t)),n.get(e)};t.default=a},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!==typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(n){return!1}return"[object WeakMap]"===String(e)&&"function"===typeof e.set&&e.set({},1)===e&&"function"===typeof e.delete&&"function"===typeof e.has&&"one"===e.get(t)}},function(e,t,n){"use strict";var r,i=n(44),o=n(125),a=n(403),s=n(32),u=n(404),c=n(33),l=n(204),d=n(446),f=n(45).toStringTag,p=n(447),h=Array.isArray,v=Object.defineProperty,m=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=p&&o&&WeakMap!==r?o(new WeakMap,g(this)):this,i(t)&&(h(t)||(t=l(t))),v(e,"__weakMapData__",c("c","$weakMap$"+u())),t?(d(t,(function(t){s(t),e.set(t[0],t[1])})),e):e},p&&(o&&o(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:c(r)})),Object.defineProperties(r.prototype,{delete:c((function(e){return!!m.call(a(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)})),get:c((function(e){if(m.call(a(e),this.__weakMapData__))return e[this.__weakMapData__]})),has:c((function(e){return m.call(a(e),this.__weakMapData__)})),set:c((function(e,t){return v(a(e),this.__weakMapData__,c("c",t)),this})),toString:c((function(){return"[object WeakMap]"}))}),v(r.prototype,f,c("c","WeakMap"))},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r,i=Object.create;n(198)()||(r=n(199)),e.exports=function(){var e,t,n;return r?1!==r.level?i:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){t[e]="__proto__"!==e?n:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return i(null===t?e:t,n)}):i}()},function(e,t,n){"use strict";var r=n(200);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var r=Object.create(null),i=Math.random;e.exports=function(){var e;do{e=i().toString(36).slice(2)}while(r[e]);return e}},function(e,t,n){"use strict";var r=n(406);e.exports=function(e){if("function"!==typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!==typeof e.length)return!1;if("function"!==typeof e.call)return!1;if("function"!==typeof e.apply)return!1}catch(t){return!1}return!r(e)}},function(e,t,n){"use strict";var r=n(126);e.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"===typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(409),i=n(32),o=Math.max;e.exports=function(e,t){var n,a,s,u=o(arguments.length,2);for(e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(i){n||(n=i)}},a=1;a<u;++a)r(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(410)()?Object.keys:n(411)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(44),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"===typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r,i=n(125),o=n(203),a=n(33),s=n(45),u=n(206),c=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?o.call(t,"key+value")?"key+value":o.call(t,"key")?"key":"value":"value",c(this,"__kind__",a("",t))},i&&i(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:a((function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e}))}),c(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,n){"use strict";var r=n(92),i={object:!0,symbol:!0};e.exports=function(){var e,t=r.Symbol;if("function"!==typeof t)return!1;e=t("test symbol");try{String(e)}catch(n){return!1}return!!i[typeof t.iterator]&&!!i[typeof t.toPrimitive]&&!!i[typeof t.toStringTag]}},function(e,t,n){"use strict";e.exports=function(){return"object"===typeof globalThis&&!!globalThis&&globalThis.Array===Array}},function(e,t){var n=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var r,i,o,a=n(33),s=n(205),u=n(92).Symbol,c=n(420),l=n(421),d=n(422),f=Object.create,p=Object.defineProperties,h=Object.defineProperty;if("function"===typeof u)try{String(u()),o=!0}catch(v){}else u=null;i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?u(t):(n=f(i.prototype),t=void 0===t?"":String(t),p(n,{__description__:a("",t),__name__:a("",c(t))}))},l(r),d(r),p(i.prototype,{constructor:a(r),toString:a("",(function(){return this.__name__}))}),p(r.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),h(r.prototype,r.toPrimitive,a("",(function(){var e=s(this);return"symbol"===typeof e?e:e.toString()}))),h(r.prototype,r.toStringTag,a("c","Symbol")),h(i.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),h(i.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"===typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var r=n(33),i=Object.create,o=Object.defineProperty,a=Object.prototype,s=i(null);e.exports=function(e){for(var t,n,i=0;s[e+(i||"")];)++i;return s[e+=i||""]=!0,o(a,t="@@"+e,r.gs(null,(function(e){n||(n=!0,o(this,t,r(e)),n=!1)}))),t}},function(e,t,n){"use strict";var r=n(33),i=n(92).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",i&&i.hasInstance||e("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",i&&i.iterator||e("iterator")),match:r("",i&&i.match||e("match")),replace:r("",i&&i.replace||e("replace")),search:r("",i&&i.search||e("search")),species:r("",i&&i.species||e("species")),split:r("",i&&i.split||e("split")),toPrimitive:r("",i&&i.toPrimitive||e("toPrimitive")),toStringTag:r("",i&&i.toStringTag||e("toStringTag")),unscopables:r("",i&&i.unscopables||e("unscopables"))})}},function(e,t,n){"use strict";var r=n(33),i=n(205),o=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:r((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:r((function(e){var t;for(t in i(e),o)if(o[t]===e)return t}))})}},function(e,t,n){"use strict";var r=n(32);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";var r,i=n(56),o=n(425),a=n(429),s=n(430),u=n(202),c=n(440),l=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,i=o(t)&&a(t.value);return delete(r=s(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,e)?i:(t.value=l.call(i,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var t=u(arguments[1]);return i(t.resolveContext)&&a(t.resolveContext),c(e,(function(e,n){return r(n,e,t)}))}},function(e,t,n){"use strict";var r=n(207),i=n(56);e.exports=function(e){return i(e)?e:r(e,"Cannot use %v",arguments[1])}},function(e,t,n){"use strict";var r=n(56),i=n(126),o=Object.prototype.toString;e.exports=function(e){if(!r(e))return null;if(i(e)){var t=e.toString;if("function"!==typeof t)return null;if(t===o)return null}try{return""+e}catch(n){return null}}},function(e,t,n){"use strict";var r=n(428),i=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=r(e);return null===t?"<Non-coercible to string value>":(t.length>100&&(t=t.slice(0,99)+"\u2026"),t=t.replace(i,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},function(e,t,n){"use strict";e.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(n){return null}}}},function(e,t,n){"use strict";var r=n(207),i=n(201);e.exports=function(e){return i(e)?e:r(e,"%v is not a plain function",arguments[1])}},function(e,t,n){"use strict";var r=n(431),i=n(127),o=n(32);e.exports=function(e){var t=Object(o(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,(function(t){(a.ensure||t in e)&&(s[t]=e[t])})):i(s,e),s}},function(e,t,n){"use strict";e.exports=n(432)()?Array.from:n(433)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"===typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(45).iterator,i=n(90),o=n(434),a=n(435),s=n(69),u=n(32),c=n(44),l=n(91),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,n,v,m,g,y,b,w,E,k,_=arguments[1],S=arguments[2];if(e=Object(u(e)),c(_)&&s(_),this&&this!==Array&&o(this))t=this;else{if(!_){if(i(e))return 1!==(g=e.length)?Array.apply(null,e):((m=new Array(1))[0]=e[0],m);if(d(e)){for(m=new Array(g=e.length),n=0;n<g;++n)m[n]=e[n];return m}}m=[]}if(!d(e))if(void 0!==(E=e[r])){for(b=s(E).call(e),t&&(m=new t),w=b.next(),n=0;!w.done;)k=_?f.call(_,S,w.value,n):w.value,t?(p.value=k,h(m,n,p)):m[n]=k,w=b.next(),++n;g=n}else if(l(e)){for(g=e.length,t&&(m=new t),n=0,v=0;n<g;++n)k=e[n],n+1<g&&(y=k.charCodeAt(0))>=55296&&y<=56319&&(k+=e[++n]),k=_?f.call(_,S,k,v):k,t?(p.value=k,h(m,v,p)):m[v]=k,++v;g=v}if(void 0===g)for(g=a(e.length),t&&(m=new t(g)),n=0;n<g;++n)k=_?f.call(_,S,e[n],n):e[n],t?(p.value=k,h(m,n,p)):m[n]=k;return t&&(p.value=null,m.length=g),m}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"===typeof e&&i(r.call(e))}},function(e,t,n){"use strict";var r=n(436),i=Math.max;e.exports=function(e){return i(0,r(e))}},function(e,t,n){"use strict";var r=n(437),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*o(i(e)):e}},function(e,t,n){"use strict";e.exports=n(438)()?Math.sign:n(439)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"===typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(69),i=n(441),o=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),i(e,(function(e,r,i,s){n[r]=o.call(t,a,e,r,i,s)})),n}},function(e,t,n){"use strict";e.exports=n(442)("forEach")},function(e,t,n){"use strict";var r=n(69),i=n(32),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,c){var l,d=arguments[2],f=arguments[3];return n=Object(i(n)),r(c),l=s(n),f&&l.sort("function"===typeof f?o.call(f,n):void 0),"function"!==typeof e&&(e=l[e]),a.call(e,l,(function(e,r){return u.call(n,e)?a.call(c,d,n[e],e,n,r):t}))}}},function(e,t,n){"use strict";var r,i=n(125),o=n(33),a=n(45),s=n(206),u=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",o("",e.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n}))}),u(r.prototype,a.toStringTag,o("c","String Iterator"))},function(e,t,n){"use strict";var r=n(445);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r=n(90),i=n(44),o=n(91),a=n(45).iterator,s=Array.isArray;e.exports=function(e){return!!i(e)&&(!!s(e)||!!o(e)||!!r(e)||"function"===typeof e[a])}},function(e,t,n){"use strict";var r=n(90),i=n(69),o=n(91),a=n(204),s=Array.isArray,u=Function.prototype.call,c=Array.prototype.some;e.exports=function(e,t){var n,l,d,f,p,h,v,m,g=arguments[2];if(s(e)||r(e)?n="array":o(e)?n="string":e=a(e),i(t),d=function(){f=!0},"array"!==n)if("string"!==n)for(l=e.next();!l.done;){if(u.call(t,g,l.value,d),f)return;l=e.next()}else for(h=e.length,p=0;p<h&&(v=e[p],p+1<h&&(m=v.charCodeAt(0))>=55296&&m<=56319&&(v+=e[++p]),u.call(t,g,v,d),!f);++p);else c.call(e,(function(e){return u.call(t,g,e,d),f}))}},function(e,t,n){"use strict";e.exports="function"===typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=function(t,n){return function(){throw new Error("Cannot ".concat(t," ").concat(n,", ").concat(e," is destroyed"))}};Object.keys(t).forEach((function(e){"function"===typeof t[e]?t[e]=n("call",e):Object.defineProperty(t,e,{get:n("get",e),set:n("set",e)})}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(!("srcObject"in e)){var t=window&&window.URL;"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(e,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;if(this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e)return this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),this._srcObject;this.src=""}})}};t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return!(!(t=e)||"function"!==typeof t.getBoundingClientRect)&&function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,i=t.top<=n&&t.top+t.height>=0,o=t.left<=r&&t.left+t.width>=0;return i&&o}(e)&&function(e){return null!==e.offsetParent&&!function e(t){return!(!t.style||"hidden"!==t.style.visibility)||!!t.parentNode&&e(t.parentNode)}(e)}(e);var t}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i,o=n(452),a=r(n(453)),s=r(n(454)),u=function(e){var t,n;return(null==(n=e=e||(null==(t=void 0!==typeof window?window:__webpack_require__.g)?void 0:t.navigator))?void 0:n.userAgent.toLowerCase().indexOf("electron"))>=0},c=function(){var e,t,n;return"string"===typeof(null==(e=void 0!==typeof window?window:__webpack_require__.g)||null==(t=e.process)||null==(n=t.versions)?void 0:n.node)&&!u()},l={parse:function(t){return i={version:-1,name:"unknown"},c()?(i.name="Node",i.isNode=!0,i.version=parseInt(e.versions.node,10),i.userAgent="".concat(i.name," ").concat(i.version)):function(e){if(e=e||(void 0!==typeof window?window:__webpack_require__.g).navigator,i.userAgent=e.userAgent.toLowerCase(),i.name="unknown",i.userAgent.indexOf("opera")>-1||i.userAgent.indexOf("opr/")>-1)i.name="Opera",i.isOpera=!0,null!==/opr\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&(i.version=parseFloat(RegExp.$1));else if(i.userAgent.indexOf("firefox")>-1)i.name="Firefox",i.isFirefox=!0,null!==/firefox\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&(i.version=parseFloat(RegExp.$1));else if(i.userAgent.match(/edge?\/(\d+)(?:\.\d+)+$/)){i.name="Edge",i.isEdge=!0;var t=RegExp.$1;i.version=parseInt(t,10)}else i.userAgent.indexOf("chrome")>-1?(i.name="Chrome",i.isElectron=u(e),i.isElectron?i.electronVersion=(0,s.default)(e.userAgent):i.isChrome=!0,null!==/chrome\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)&&(i.version=parseFloat(RegExp.$1))):e.vendor&&e.vendor.toLowerCase().indexOf("apple")>-1?(i.name="Safari",i.isSafari=!0,i.isiPhone=(0,o.isiPhone)(e.userAgent),i.isiPad=(0,o.isiPad)(e.userAgent),i.isiOS=(0,o.isiOS)(e.userAgent),i.isiOS&&(i.iOSVersion=(0,a.default)(e.userAgent)),(null!==/version\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)||null!==/fxios\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent)||null!==/crios\/([0-9]{1,}[.0-9]{0,})/.exec(i.userAgent))&&(i.version=parseFloat(RegExp.$1))):i.userAgent.indexOf("applewebkit")>-1&&-1===i.userAgent.indexOf("version")&&(i.isIosWebView=!0);i.isChromiumEdge="Edge"===i.name&&i.version>=79,i.isLegacyEdge="Edge"===i.name&&i.version<79,i.isLegacyElectron=i.isElectron&&i.electronVersion<16,i.isLegacyChrome=i.isChrome&&i.version<87,i.isLegacyFirefox=i.isFirefox&&i.version<=98,i.isChromium=!!(i.isChrome||i.isChromiumEdge||i.isElectron||i.isOpera),i.isAndroid=i.userAgent.indexOf("android")>-1,i.userAgent=e.userAgent,i.protocol=location.protocol,i.hostName=location.hostName,(-1===i.version||"unknown"===i.name||i.isiOS&&!i.iOSVersion)&&(i.error=!0)}(t),i},isNode:c};t.default=l}).call(this,n(43))},function(e,t,n){"use strict";t.__esModule=!0,t.isiPhone=t.isiPad=t.isiOS=void 0;var r=function(e){return/iPhone/.test(e)};t.isiPhone=r;var i=function(e){return/iPad/.test(e)||function(e){try{return e.includes("Mac")&&"ontouchend"in document}catch(t){return!1}}(e)};t.isiPad=i,t.isiOS=function(e){return r(e)||i(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.match(/OS (\d+_\d+).* like Mac/);if(null!==t&&t[1])return parseFloat(t[1].replace("_","."))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=/(Electron)\/([0-9]{1,}[.0-9]{0,})/,i=function(e){var t=e.match(r);return t&&parseFloat(t[2])};t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){void 0===e&&(e={});var t=e.global||(void 0!==typeof window?window:n.g);return function(){return t.navigator&&t.navigator.mediaDevices}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n){var r=n;(0,i.default)(e,{isRotated:{get:function(){return this.orientation()&&(270===this.orientation().videoOrientation||90===this.orientation().videoOrientation)}},orientation:{get:function(){return r},set:function(n){r=n;var i=a[n.videoOrientation]||a.ROTATED_NORMAL;switch(o.default.env.name){case"Chrome":case"Safari":t().style.webkitTransform=i;break;default:t().style.transform=i}e.trigger("orientationChanged",r)}},audioChannelType:{get:function(){return"mozAudioChannelType"in this.domElement?this.domElement.mozAudioChannelType:"unknown"},set:function(e){"mozAudioChannelType"in this.domElement&&(this.domElement.mozAudioChannelType=e)}}})};var i=r(n(95)),o=r(n(7)),a={0:"rotate(0deg)",270:"rotate(90deg)",90:"rotate(-90deg)",180:"rotate(180deg)"}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(11)),o={for:"htmlFor",class:"className"},a=function(e){e.prototype.attr=function(e,t){var n=this;if((0,i.default)(e)){var r;Object.keys(e).forEach((function(t){r=o[t]||t,n.first.setAttribute(r,e[t])}))}else{if(void 0===t)return this.first.getAttribute(o[e]||e);this.first.setAttribute(o[e]||e,t)}return this},e.prototype.removeAttr=function(e){var t=o[e]||e;return this.forEach((function(e){e.removeAttribute(t)})),this},e.prototype.html=function(e){return void 0!==e&&(this.first.innerHTML=e),this.first.innerHTML},e.prototype.center=function(t,n){var r;return this.forEach((function(i){r=new e(i),t=t||parseInt(r.width(),10),n=n||parseInt(r.height(),10);var o="".concat(-.5*t,"px"),a="".concat(-.5*n,"px");r.css("margin","".concat(a," 0 0 ").concat(o)).addClass("OT_centered")})),this},e._attachToOTHelpers.centerElement=function(t,n,r){return new e(t).center(n,r)};var t=function(t){return t.offsetWidth>0?"".concat(t.offsetWidth,"px"):new e(t).css("width")},n=function(t){return t.offsetHeight>0?"".concat(t.offsetHeight,"px"):new e(t).css("height")};e.prototype.width=function(e){return e?(this.css("width",e),this):this.isDisplayNone()?this.makeVisibleAndYield((function(e){return t(e)}))[0]:t(this.get(0))},e._attachToOTHelpers.width=function(t,n){var r=new e(t).width(n);return n?e._attachToOTHelpers:r},e.prototype.height=function(e){return e?(this.css("height",e),this):this.isDisplayNone()?this.makeVisibleAndYield((function(e){return n(e)}))[0]:n(this.get(0))},e._attachToOTHelpers.height=function(t,n){var r=new e(t).height(n);return n?e._attachToOTHelpers:r}};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=(void 0!==typeof window?window:__webpack_require__.g).getComputedStyle,a={Firefox:"moz",Opera:"O",Chrome:"Webkit",Safari:"Webkit"},s=function(e,t){var n={},r={},s=function(e,t){if(t in e.style)return t;var n=a[i.default.name]+t[0].toUpperCase()+t.slice(1);return n in e.style?n:t};e.prototype.show=function(){return this.forEach((function(t){var i=t.style.display;""!==i&&"none"!==i||(t.style.display=n[t]||"",delete n[t]),function(e){return"none"===o(e).getPropertyValue("display")}(t)&&(n[t]="none",t.style.display=function(t){if(r[t.ownerDocument]&&r[t.ownerDocument][t.nodeName])return r[t.ownerDocument][t.nodeName];r[t.ownerDocument]||(r[t.ownerDocument]={});var n,i=t.ownerDocument.createElement(t.nodeName);return t.ownerDocument.body.appendChild(i),n=new e(i).css("display"),r[t.ownerDocument][t.nodeName]=n,new e(i).remove(),i=null,n}(t))}))},e.prototype.hide=function(){return this.forEach((function(e){"none"!==e.style.display&&(n[e]=e.style.display,e.style.display="none")}))},e.prototype.css=function(e,t){if(0!==this.length)return"string"!==typeof e?this.forEach((function(t){!function(e,t){var n=e.style;for(var r in t)t.hasOwnProperty(r)&&(n[s(e,r)]=t[r])}(t,e)})):void 0!==t?this.forEach((function(n){!function(e,t,n){e.style[s(e,t)]=n}(n,e,t)})):function(e,t){var n=s(e,t),r=o(e).getPropertyValue(n);return""===r&&(r=e.style[n]),r}(this.first,e)},e.prototype.makeVisibleAndYield=function(n){var r={display:"block",visibility:"hidden"},i=[];return this.forEach((function(o){var a=t(o);a?i.push(function(t,n,r){var i,o,a=new e(t),s={};for(i in n)n.hasOwnProperty(i)&&(s[i]=t.style[i],a.css(i,n[i]));for(i in o=r(t),n)n.hasOwnProperty(i)&&a.css(i,s[i]||"");return o}(a,r,n)):i.push(void 0)})),i}};t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(460));function o(e,t){return!!t&&((0,i.default)()?e.classList.contains(t):e.className.indexOf(t)>-1)}var a=function(e){e.prototype.addClass=function(e){if(e){var t=e.trim().split(/\s+/);this.forEach((function(e){!function(e,t){if(t&&0!==t.length&&1===e.nodeType){var n=t.length,r=0;if((0,i.default)())for(;r<n;++r)e.classList.add(t[r]);else if(e.className||1!==t.length){for(var o=" ".concat(e.className," ");r<n;++r)~o.indexOf(" ".concat(t[r]," "))||(o+="".concat(t[r]," "));e.className=o.trim()}else e.className=t.join(" ")}}(e,t)}))}return this},e.prototype.removeClass=function(e){if(e){var t=e.trim().split(/\s+/);this.forEach((function(e){!function(e,t){if(t&&0!==t.length&&1===e.nodeType){var n=t.length,r=0;if((0,i.default)())for(;r<n;++r)e.classList.remove(t[r]);else{for(var o=" ".concat(e.className," ").replace(/[\s+]/," ");r<n;++r)o=o.replace(" ".concat(t[r]," ")," ");e.className=o.trim()}}}(e,t)}))}return this},e.prototype.toggleClass=function(e){if(e){var t=e.trim().split(/\s+/);this.forEach((function(e){!function(e,t){if(t&&0!==t.length&&1===e.nodeType){var n=t.length,r=0;if((0,i.default)())for(;r<n;++r)e.classList.toggle(t[r]);else{for(var a=" ".concat(e.className," ").replace(/[\s+]/," ");r<n;++r)o(e,t[r])?a=a.replace(" ".concat(t[r]," ")," "):a+="".concat(t[r]," ");e.className=a.trim()}}}(e,t)}))}return this},e.prototype.hasClass=function(e){return this.some((function(t){return o(t,e)}))}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(){return"undefined"!==typeof document&&"classList"in document.createElement("a")}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(462)),o=function(e){var t=0,n=0;e.prototype.observeStyleChanges=function(t,n){var r=[];return this.forEach((function(o){r.push(function(t,n,r){var o={},a=function(n){switch(n){case"width":return new e(t).width();case"height":return new e(t).height();default:return new e(t).css(n)}};n.forEach((function(e){o[e]=a(e)}));var s=new(void 0!==typeof window?window:__webpack_require__.g).MutationObserver((function(s){var u={};s.forEach((function(r){if("style"===r.attributeName){var i=new e(t).isDisplayNone();n.forEach((function(e){if(!i||"width"!==e&&"height"!==e){var t=a(e);t!==o[e]&&(u[e]=[o[e],t],o[e]=t)}}))}})),(0,i.default)(u)||setTimeout((function(){r.call(null,u)}))}));return s.observe(t,{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1,subtree:!1}),s}(o,t,n))})),r},e.prototype.observeNodeOrChildNodeRemoval=function(t){var r=[];return this.forEach((function(i){r.push(function(t,r){var i=new(void 0!==typeof window?window:__webpack_require__.g).MutationObserver((function(t){var n=[];t.forEach((function(e){e.removedNodes.length&&(n=n.concat(Array.prototype.slice.call(e.removedNodes)))})),n.length&&setTimeout((function(){r(new e(n))}))}));i.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),n++;var o=i.disconnect;return i.disconnect=function(){o.apply(i,arguments),n--},i}(i,t))})),r},e.prototype.observeSize=function(e){var n=[];return this.forEach((function(r){n.push(function(e,n){var r={width:0,height:0},i=setInterval((function(){var t=e.getBoundingClientRect();r.width===t.width&&r.height===t.height||(n(t,r),r={width:t.width,height:t.height})}),200);return t++,{disconnect:function(){clearInterval(i),t--}}}(r,e))})),n},e._attachToOTHelpers.observeStyleChanges=function(t,n,r){return new e(t).observeStyleChanges(n,r)[0]},e._attachToOTHelpers.observeNodeOrChildNodeRemoval=function(t,n){return new e(t).observeNodeOrChildNodeRemoval(n)[0]},e.__testOnly||(e.__testOnly={}),e.__testOnly.sizeObserverCount=function(){return t},e.__testOnly.nodeRemovalObserverCount=function(){return n}};t.default=o},function(e,t,n){var r=n(116),i=n(42),o=n(64),a=n(12),s=n(24),u=n(65),c=n(68),l=n(86),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n,r,o){var a,s=n;return e.currentState=n,e.is=function(){return-1!==Array.prototype.indexOf.call(arguments,s)},e.isNot=function(){return-1===Array.prototype.indexOf.call(arguments,s)},function(n){if(s!==n){if(-1===t.indexOf(n))return void(o&&(0,i.default)(o)&&o("invalidState",n));e.previousState=s,a=s,e.currentState=n,s=n,r&&(0,i.default)(r)&&r(n,a)}}};var i=r(n(17))},function(e,t,n){var r,i,o=n(217),a=n(218),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=o();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=f;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=d[b];return t||a(l)}},function(e,t,n){var r=n(217),i=n(218);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e){var t=(void 0===e?{}:e).waitTime,n=void 0===t?50:t;this.queue=[],this.running=!1,this.waitTime=n}var t=e.prototype;return t.add=function(e){this.queue.push(e),this.run()},t.run=function(){var e=this;this.running||(this.running=!0,function t(){0!==e.queue.length?e.queue.shift()((function(){setTimeout(t,e.waitTime)})):e.running=!1}())},e}();t.default=r},function(e,t,n){(function(e){var r;!function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof(void 0!==typeof window?window:__webpack_require__.g)&&(void 0!==typeof window?window:__webpack_require__.g);o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=1,l=26,d=38,f=700,p=72,h=128,v="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,E=Math.floor,k=String.fromCharCode;function _(e){throw new RangeError(b[e])}function S(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+S((e=e.replace(y,".")).split("."),t).join(".")}function x(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function T(e){return S(e,(function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)})).join("")}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?E(e/f):e>>1,e+=E(e/t);e>w*l>>1;r+=u)e=E(e/w);return E(r+(w+1)*e/(e+d))}function O(e){var t,n,r,i,o,a,d,f,m,g,y,b=[],w=e.length,k=0,S=h,C=p;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&_("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=k,a=1,d=u;i>=w&&_("invalid-input"),((f=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||f>E((s-k)/a))&&_("overflow"),k+=f*a,!(f<(m=d<=C?c:d>=C+l?l:d-C));d+=u)a>E(s/(g=u-m))&&_("overflow"),a*=g;C=R(k-o,t=b.length+1,0==o),E(k/t)>s-S&&_("overflow"),S+=E(k/t),k%=t,b.splice(k++,0,S)}return T(b)}function A(e){var t,n,r,i,o,a,d,f,m,g,y,b,w,S,C,T=[];for(b=(e=x(e)).length,t=h,n=0,o=p,a=0;a<b;++a)(y=e[a])<128&&T.push(k(y));for(r=i=T.length,i&&T.push(v);r<b;){for(d=s,a=0;a<b;++a)(y=e[a])>=t&&y<d&&(d=y);for(d-t>E((s-n)/(w=r+1))&&_("overflow"),n+=(d-t)*w,t=d,a=0;a<b;++a)if((y=e[a])<t&&++n>s&&_("overflow"),y==t){for(f=n,m=u;!(f<(g=m<=o?c:m>=o+l?l:m-o));m+=u)C=f-g,S=u-g,T.push(k(I(g+C%S,0))),f=E(C/S);T.push(k(I(f,0))),o=R(n,w,r==i),n=0,++r}++n,++t}return T.join("")}a={version:"1.4.1",ucs2:{decode:x,encode:T},decode:O,encode:A,toASCII:function(e){return C(e,(function(e){return g.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return C(e,(function(e){return m.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(85)(e))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(470),t.encode=t.stringify=n(471)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"===typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var d,f,p,h,v=e[l].replace(s,"%20"),m=v.indexOf(n);m>=0?(d=v.substr(0,m),f=v.substr(m+1)):(d=v,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r=n(98),i=n(99),o=n(133),a=n(34),s=n(67),u=n(100),c=Math.min;e.exports=function(e,t,n){for(var l=n?o:i,d=e[0].length,f=e.length,p=f,h=Array(f),v=1/0,m=[];p--;){var g=e[p];p&&t&&(g=a(g,s(t))),v=c(g.length,v),h[p]=!n&&(t||d>=120&&g.length>=120)?new r(p&&g):void 0}g=e[0];var y=-1,b=h[0];e:for(;++y<d&&m.length<v;){var w=g[y],E=t?t(w):w;if(w=n||0!==w?w:0,!(b?u(b,E):l(m,E,n))){for(p=f;--p;){var k=h[p];if(!(k?u(k,E):l(e[p],E,n)))continue e}b&&b.push(E),m.push(w)}}return m}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(220),i=n(476),o=n(477);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(134);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={1004:"Authentication error",1005:"Invalid Session ID",1006:"Connect Failed",1007:"Connect Rejected",1008:"Connect Time-out",1009:"Security Error",1010:"Not Connected",1011:"Invalid Parameter",1012:"Peer-to-peer Stream Play Failed",1013:"Connection Failed",1014:"API Response Failure",1015:"PeerConnection not connected, cannot call this method",1021:"Request Timeout",1026:"Terms of Service Violation: Export Compliance",1027:"Connection Limit Exceeded",1040:"Set Video Source Failure",1041:"Invalid Video Source",1500:"Unable to Publish",1501:"Unable to Subscribe",1502:"Unsupported Video Codec",1503:"No TURN server found",1520:"Unable to Force Disconnect",1530:"Unable to Force Unpublish",1540:"Unable to Force Mute",1553:"Publisher ICEWorkflow failed",1554:"Subscriber ICEWorkflow failed",1600:"createOffer, createAnswer, setLocalDescription, setRemoteDescription",1605:"Stream Limit Exceeded",2e3:"Internal Error",2001:"Unexpected Server Response",2021:"Proxy URL Timing Error",2022:"Proxy URL Already Set Error",2031:"getRtcStatsReport is not supported in this browser",4e3:"WebSocket Connection Failed",4001:"WebSocket Network Disconnected",5001:"Unable to access media engine"}},function(e,t,n){var r=n(196);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(40),i=n(34),o=n(12),a=n(71),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict";(function(t){var r=n(19),i=n(225),o=n(483),a=n(231);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(137));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(232),u.CancelToken=n(497),u.isCancel=n(230),u.all=function(e){return t.all(e)},u.spread=n(498),u.isAxiosError=n(499),e.exports=u,e.exports.default=u}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var r=n(19),i=n(226),o=n(484),a=n(485),s=n(231),u=n(495),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=t.resolve(e);d.length;)o=o.then(d.shift(),d.shift());return o}for(var f=e;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(v){h(v);break}}try{o=a(f)}catch(v){return t.reject(v)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l}).call(this,n(2))},function(e,t,n){"use strict";var r=n(19);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(19),i=n(486),o=n(230),a=n(137);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(n){return o(n)||(s(e),n&&n.response&&(n.response.data=i.call(e,n.response.data,n.response.headers,e.transformResponse))),t.reject(n)}))}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(19),i=n(137);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(229);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(19);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(491),i=n(492);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(19),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(19);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(496),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";(function(t){var r=n(232);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new t((function(e){n=e}));var i=this;e((function(e){i.reason||(i.reason=new r(e),n(i.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i}).call(this,n(2))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){var r=n(233)("mapKeys",n(542));r.placeholder=n(138),e.exports=r},function(e,t,n){var r=n(502),i=n(138),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function u(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}e.exports=function e(t,n,c,l){var d="function"==typeof n,f=n===Object(n);if(f&&(l=c,c=n,n=void 0),null==c)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},h=d?c:i,v="curry"in l&&l.curry,m="fixed"in l&&l.fixed,g="rearg"in l&&l.rearg,y=d?c.runInContext():void 0,b=d?c:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},w=b.ary,E=b.assign,k=b.clone,_=b.curry,S=b.forEach,C=b.isArray,x=b.isError,T=b.isFunction,I=b.isWeakMap,R=b.keys,O=b.rearg,A=b.toInteger,N=b.toPath,P=R(r.aryMethod),L={castArray:function(e){return function(){var t=arguments[0];return C(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!T(n))return e(n,Object(t));var r=[];return S(R(t),(function(e){T(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),S(r,(function(e){var t=e[1];T(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:A(t)+1;return _(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return _(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function M(e,t){if(p.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return Z(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(O(a(e,n),t),n)}))}(t,n);var i=!d&&r.iterateeAry[e];if(i)return function(e,t){return Z(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,i)}return t}function D(e,t,n){if(p.fixed&&(m||!r.skipFixed[e])){var i=r.methodSpread[e],a=i&&i.start;return void 0===a?w(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[t],s=i.slice(0,t);return a&&o.apply(s,a),t!=r&&o.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return p.rearg&&n>1&&(g||!r.skipRearg[e])?O(t,r.methodRearg[e]||r.aryRearg[n]):t}function F(e,t){for(var n=-1,r=(t=N(t)).length,i=r-1,o=k(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],u=a[s];null==u||T(u)||x(u)||I(u)||(a[s]=k(n==i?u:Object(u))),a=a[s]}return o}function V(t,n){var i=r.aliasToReal[t]||t,o=r.remap[i]||i,a=l;return function(t){var r=d?y:b,s=d?y[o]:n,u=E(E({},a),t);return e(r,i,s,u)}}function Z(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=p.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function G(e,t,n){var i,o=r.aliasToReal[e]||e,a=t,c=L[o];return c?a=c(t):p.immutable&&(r.mutate.array[o]?a=u(t,s):r.mutate.object[o]?a=u(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[o]&&(a=u(t,F))),S(P,(function(e){return S(r.aryMethod[e],(function(t){if(o==t){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?D(o,j(o,a,e),e):j(o,D(o,a,e),e),i=function(e,t,n){return v||p.curry&&n>1?_(t,n):t}(0,i=M(o,i),e),!1}})),!i})),i||(i=a),i==t&&(i=v?_(i,1):function(){return t.apply(this,arguments)}),i.convert=V(o,t),i.placeholder=t.placeholder=n,i}if(!f)return G(n,c,h);var W=c,U=[];return S(P,(function(e){S(r.aryMethod[e],(function(e){var t=W[r.remap[e]||e];t&&U.push([e,G(e,t,W)])}))})),S(R(W),(function(e){var t=W[e];if("function"==typeof t){for(var n=U.length;n--;)if(U[n][0]==e)return;t.convert=V(e,t),U.push([e,t])}})),S(U,(function(e){W[e[0]]=e[1]})),W.convert=function(e){return W.runInContext.convert(e)(void 0)},W.placeholder=W,S(R(W),(function(e){S(r.realToAlias[e]||[],(function(t){W[t]=W[e]}))})),W}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(504),assign:n(178),clone:n(38),curry:n(522),forEach:n(113),isArray:n(12),isError:n(523),isFunction:n(17),isWeakMap:n(524),iteratee:n(525),keys:n(116),rearg:n(538),toInteger:n(103),toPath:n(541)}},function(e,t,n){var r=n(139);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(102),i=n(15);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){return(this&&this!==i&&this instanceof t?a:e).apply(o?n:this,arguments)}}},function(e,t,n){var r=n(121),i=n(102),o=n(236),a=n(239),s=n(245),u=n(142),c=n(15);e.exports=function(e,t,n){var l=i(e);return function i(){for(var d=arguments.length,f=Array(d),p=d,h=s(i);p--;)f[p]=arguments[p];var v=d<3&&f[0]!==h&&f[d-1]!==h?[]:u(f,h);return(d-=v.length)<n?a(e,t,o,i.placeholder,void 0,f,v,void 0,void 0,n-d):r(this&&this!==c&&this instanceof i?l:e,this,f)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(140),i=n(240),o=n(509),a=n(511);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},function(e,t,n){var r=n(510),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(140),i=n(242),o=n(141),a=n(12),s=n(18),u=n(512),c=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return u(e)}return new i(e)}l.prototype=o.prototype,l.prototype.constructor=l,e.exports=l},function(e,t,n){var r=n(140),i=n(242),o=n(55);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(113),i=n(99),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(55),i=n(66),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var u=t[a];e[a]=i(u,n)?s[u]:void 0}return e}},function(e,t,n){var r=n(121),i=n(102),o=n(15);e.exports=function(e,t,n,a){var s=1&t,u=i(e);return function t(){for(var i=-1,c=arguments.length,l=-1,d=a.length,f=Array(d+c),p=this&&this!==o&&this instanceof t?u:e;++l<d;)f[l]=a[l];for(;c--;)f[l++]=arguments[++i];return r(p,s?n:this,f)}}},function(e,t,n){var r=n(237),i=n(238),o=n(142),a="__lodash_placeholder__",s=128,u=Math.min;e.exports=function(e,t){var n=e[1],c=t[1],l=n|c,d=l<131,f=c==s&&8==n||c==s&&256==n&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&c&&(e[2]=t[2],l|=1&n?0:4);var p=t[3];if(p){var h=e[3];e[3]=h?r(h,p,t[4]):p,e[4]=h?o(e[3],a):t[4]}return(p=t[5])&&(h=e[5],e[5]=h?i(h,p,t[6]):p,e[6]=h?o(e[5],a):t[6]),(p=t[7])&&(e[7]=p),c&s&&(e[8]=null==e[8]?t[8]:u(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},function(e,t,n){var r=n(246),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},function(e,t,n){var r=n(521),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(139);function i(e,t,n){var o=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=i.placeholder,o}i.placeholder={},e.exports=i},function(e,t,n){var r=n(30),i=n(18),o=n(143);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t,n){var r=n(42),i=n(18);e.exports=function(e){return i(e)&&"[object WeakMap]"==r(e)}},function(e,t,n){var r=n(78),i=n(36);e.exports=function(e){return i("function"==typeof e?e:r(e,1))}},function(e,t,n){var r=n(527),i=n(531),o=n(251);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(79),i=n(144);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],d=e[l],f=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var p=new r;if(o)var h=o(d,f,l,e,t,p);if(!(void 0===h?i(f,d,3,o,p):h))return!1}}return!0}},function(e,t,n){var r=n(79),i=n(247),o=n(529),a=n(530),s=n(42),u=n(12),c=n(65),l=n(86),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var y=u(e),b=u(t),w=y?f:s(e),E=b?f:s(t),k=(w=w==d?p:w)==p,_=(E=E==d?p:E)==p,S=w==E;if(S&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(S&&!k)return g||(g=new r),y||l(e)?i(e,t,n,v,m,g):o(e,t,w,n,v,m,g);if(!(1&n)){var C=k&&h.call(e,"__wrapped__"),x=_&&h.call(t,"__wrapped__");if(C||x){var T=C?e.value():e,I=x?t.value():t;return g||(g=new r),m(T,I,n,v,g)}}return!!S&&(g||(g=new r),a(e,t,n,v,m,g))}},function(e,t,n){var r=n(40),i=n(189),o=n(53),a=n(247),s=n(249),u=n(104),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var m=a(p(e),p(t),r,c,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t,n){var r=n(184),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var d=l;d--;){var f=c[d];if(!(u?f in t:i.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++d<l;){var g=e[f=c[d]],y=t[f];if(o)var b=u?o(y,g,f,t,e,s):o(g,y,f,e,t,s);if(!(void 0===b?g===y||a(g,y,n,o,s):b)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t,n){var r=n(250),i=n(31);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(144),i=n(59),o=n(252),a=n(136),s=n(250),u=n(251),c=n(48);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(60),i=n(64),o=n(12),a=n(66),s=n(114),u=n(48);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var f=u(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(o(e)||i(e))}},function(e,t,n){var r=n(536),i=n(537),o=n(136),a=n(48);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(101);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(139),i=n(145),o=i((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=o},function(e,t,n){var r=n(253);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(40),i=n(64),o=n(12),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(34),i=n(55),o=n(12),a=n(71),s=n(223),u=n(48),c=n(61);e.exports=function(e){return o(e)?r(e,u):a(e)?[e]:i(s(c(e)))}},function(e,t,n){var r=n(63),i=n(105),o=n(36);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,t(e,i,o),e)})),n}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},function(e,t,n){var r=n(233)("pick",n(49));r.placeholder=n(138),e.exports=r},function(e,t,n){var r=n(546),i=n(252);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(101),i=n(547),o=n(60);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}},function(e,t,n){var r=n(84),i=n(60),o=n(66),a=n(11),s=n(48);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,d=l-1,f=e;null!=f&&++c<l;){var p=s(t[c]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var v=f[p];void 0===(h=u?u(v,p,f):void 0)&&(h=a(v)?v:o(t[c+1])?[]:{})}r(f,p,h),f=f[p]}return e}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(549));t.default=function(e,t){if("string"===typeof e&&"string"===typeof t){var n=(0,i.default)(e),r=t.match(/(\w+:\/\/)(.*)/),o=r[1],a=r[2];return"".concat(o).concat(n,"/").concat(a)}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e.replace(/\/+$/,"").replace(/^.*:\/+/,"")};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.isSessionProxied||o.default,n=e.sessionId;t(n)&&i.default.forEach((function(t){t in e&&(e[t]="")}))};var i=r(n(551)),o=r(n(552))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=["audioLocalAddress","audioRemoteAddress","videoLocalAddress","videoRemoteAddress"]},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(23)).default.sessions;t.default=function(e){var t=i.get(e);return!!t&&!!t._.getProxyUrl()}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a={architecture:"event_ua_arch",bitness:"event_ua_bitness",model:"event_ua_model",platformVersion:"event_ua_platform_version"},s=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},null==t||!t.getHighEntropyValues){e.next=6;break}return e.next=4,t.getHighEntropyValues(Object.keys(a));case 4:(r=e.sent)&&Object.entries(a).forEach((function(e){var t=e[0],i=e[1];void 0!==r[t]&&(n[i]=r[t])}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=s;t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i={isElementNode:function(e){return e&&"object"===typeof e&&1===e.nodeType},createElement:function(e,t,n,r){var i=(r||document).createElement(e);t=t||{},Object.keys(t).forEach((function(e){if("object"===typeof t[e]){i[e]||(i[e]={});var n=t[e];Object.keys(n).forEach((function(t){i[e][t]=n[t]}))}else"className"===e?i.className=t[e]:i.setAttribute(e,t[e])}));var o=function(e){"string"===typeof e?i.innerHTML+=e:i.appendChild(e)};return Array.isArray(n)?n.forEach(o):n&&o(n),i}};(0,r(n(215)).default)(i);var o=i;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return function(e,t,n){var r=[];function i(i){setTimeout((function(){if(r.length)if(function(e){return e.getTracks().every((function(e){return"ended"===e.readyState}))}(e))a(),"function"===typeof t&&t();else{var s=i.target;o(s),"function"===typeof n&&n(s)}}),100)}function o(e){e.onended===i&&(e.onended=null);var t=r.indexOf(e);t>=0&&r.splice(t,1)}function a(){r.slice().forEach(o)}function s(){e.getTracks().forEach((function(e){r.push(e),e.onended=i}))}return s(),{stop:a,refresh:function(){a(),s()}}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=["buildHash","minimumVersion","debug",["websiteURL","websiteUrl"],["cdnURL","cdnUrl"],["loggingURL","loggingUrl"],["apiURL","apiUrl"],["supportSSL",!0],["cdnURLSSL","cdnUrl"],["loggingURLSSL","loggingUrl"],["apiURLSSL","apiUrl"],["assetURL","assetUrl"]];t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=["apiUrl","apiURL","apiURLSSL"];t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=(void 0!==typeof window?window:n.g).OT,t=(void 0!==typeof window?window:n.g).TB;return function(){var r=(void 0!==typeof window?window:n.g).OT;return(void 0!==typeof window?window:n.g).OT=e,(void 0!==typeof window?window:n.g).TB=t,r}}},function(e,t,n){"use strict";var r=n(27);e.exports=function(e,t){var i=e&&e.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in t)hasOwnProperty.call(t,a)&&(o[a]=t[a]);var s=r.log,u=r.detectBrowser(i),c=n(560)||null,l=n(562)||null,d=n(566)||null,f=n(568)||null,p=n(569)||null,h={browserDetails:u,commonShim:p,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(u.browser){case"chrome":if(!c||!c.shimPeerConnection||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),h;s("adapter.js shimming chrome."),h.browserShim=c,p.shimCreateObjectURL(i),c.shimGetUserMedia(i),c.shimMediaStream(i),c.shimSourceObject(i),c.shimPeerConnection(i),c.shimOnTrack(i),c.shimAddTrackRemoveTrack(i),c.shimGetSendersWithDtmf(i),c.shimSenderReceiverGetStats(i),c.fixNegotiationNeeded(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"firefox":if(!d||!d.shimPeerConnection||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),h;s("adapter.js shimming firefox."),h.browserShim=d,p.shimCreateObjectURL(i),d.shimGetUserMedia(i),d.shimSourceObject(i),d.shimPeerConnection(i),d.shimOnTrack(i),d.shimRemoveStream(i),d.shimSenderGetStats(i),d.shimReceiverGetStats(i),d.shimRTCDataChannel(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"edge":if(!l||!l.shimPeerConnection||!o.shimEdge)return s("MS edge shim is not included in this adapter release."),h;s("adapter.js shimming edge."),h.browserShim=l,p.shimCreateObjectURL(i),l.shimGetUserMedia(i),l.shimPeerConnection(i),l.shimReplaceTrack(i),l.shimGetDisplayMedia(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;case"safari":if(!f||!o.shimSafari)return s("Safari shim is not included in this adapter release."),h;s("adapter.js shimming safari."),h.browserShim=f,p.shimCreateObjectURL(i),f.shimRTCIceServerUrls(i),f.shimCreateOfferLegacy(i),f.shimCallbacksAPI(i),f.shimLocalStreamsAPI(i),f.shimRemoteStreamsAPI(i),f.shimTrackEventTransceiver(i),f.shimGetUserMedia(i),p.shimRTCIceCandidate(i),p.shimMaxMessageSize(i),p.shimSendThrowTypeError(i);break;default:s("Unsupported browser!")}return h}},function(e,t,n){"use strict";(function(t){var r=n(27),i=r.log;function o(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?o(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){o(e,e.get(t),n)}))})))}function a(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&o(e,n,i)}))})),i}e.exports={shimGetUserMedia:n(561),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)}}else r.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},shimGetSendersWithDtmf:function(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=this,o=n.apply(i,arguments);return o||(o=t(i,e),i._senders.push(o)),o};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;r.apply(t,arguments);var n=t._senders.indexOf(e);-1!==n&&t._senders.splice(n,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],i.apply(n,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach((function(t){t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=n.apply(e,[]);return t.forEach((function(t){t._pc=e})),t});var i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var o=e.RTCPeerConnection.prototype.getReceivers;o&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=o.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var s=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var n=this;if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var r,i,o,a=arguments[0];return n.getSenders().forEach((function(e){e.track===a&&(r?o=!0:r=e)})),n.getReceivers().forEach((function(e){return e.track===a&&(i?o=!0:i=e),e.track===a})),o||r&&i?t.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():i?i.getStats():t.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(n,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"===typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}))):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=t.getSenders();n.apply(this,arguments);var i=t.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var n=r.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&n.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=i.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!n._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());n._streams[t.id]=r,n._reverseStreams[r.id]=t,t=r}o.apply(n,[t])};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},a.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(n,r){var i=this;if("closed"===i.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find((function(e){return e===n})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(i.getSenders().find((function(e){return e.track===n})))throw new DOMException("Track already exists.","InvalidAccessError");i._streams=i._streams||{},i._reverseStreams=i._reverseStreams||{};var a=i._streams[r.id];if(a)a.addTrack(n),t.resolve().then((function(){i.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([n]);i._streams[r.id]=s,i._reverseStreams[s.id]=r,i.addStream(s)}return i.getSenders().find((function(e){return e.track===n}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(e,[function(n){var r=c(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then((function(t){return c(e,t)}))}}));var s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(e,arguments[0]),s.apply(e,arguments)):s.apply(e,arguments)};var u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=u.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");n._streams=n._streams||{},Object.keys(n._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?n.removeStream(n._reverseStreams[t.id]):t.removeTrack(e.track),n.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}},shimPeerConnection:function(e){var n=r.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,n){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){var i=this,a=arguments;if(arguments.length>0&&"function"===typeof e)return o.apply(this,arguments);if(0===o.length&&(0===arguments.length||"function"!==typeof arguments[0]))return o.apply(this,[]);var s=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},u=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?o.apply(this,[function(e){a[1](u(s(e)))},arguments[0]]):new t((function(e,t){o.apply(i,[function(t){e(u(s(t)))},t])})).then(n,r)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(n){var r=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=arguments,n=this,i=new t((function(t,i){r.apply(n,[e[0],t,i])}));return e.length<2?i:i.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),n.version<52&&["createOffer","createAnswer"].forEach((function(n){var r=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new t((function(t,i){r.apply(e,[t,i,n])}))}return r.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var a=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),t.resolve())}}},fixNegotiationNeeded:function(e){r.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},shimGetDisplayMedia:function(e,t){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&("function"===typeof t?(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var r=n(27),i=r.log;e.exports=function(e){var n=r.detectBrowser(e),o=e&&e.navigator,a=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"===typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,t){if(n.version>=61)return t(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){var r=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};r((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),r(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===typeof e.video){var s=e.video.facingMode;s=s&&("object"===typeof s?s:{ideal:s});var u,c=n.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!o.mediaDevices.getSupportedConstraints||!o.mediaDevices.getSupportedConstraints().facingMode||c)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?u=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(u=["front"]),u))return o.mediaDevices.enumerateDevices().then((function(n){var r=(n=n.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return-1!==e.label.toLowerCase().indexOf(t)}))}));return!r&&n.length&&-1!==u.indexOf("back")&&(r=n[n.length-1]),r&&(e.video.deviceId=s.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=a(e.video),i("chrome: "+JSON.stringify(e)),t(e)}));e.video=a(e.video)}return i("chrome: "+JSON.stringify(e)),t(e)},u=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};o.getUserMedia=function(e,t,n){s(e,(function(e){o.webkitGetUserMedia(e,t,(function(e){n&&n(u(e))}))}))};var c=function(e){return new t((function(t,n){o.getUserMedia(e,t,n)}))};if(o.mediaDevices||(o.mediaDevices={getUserMedia:c,enumerateDevices:function(){return new t((function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources((function(e){t(e.map((function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}})))}))}))},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),o.mediaDevices.getUserMedia){var l=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return l(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return t.reject(u(e))}))}))}}else o.mediaDevices.getUserMedia=function(e){return c(e)};"undefined"===typeof o.mediaDevices.addEventListener&&(o.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),"undefined"===typeof o.mediaDevices.removeEventListener&&(o.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(27),i=n(563),o=n(564);e.exports={shimGetUserMedia:n(565),shimPeerConnection:function(e){var t=r.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=i(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){if("getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)){var n=e.navigator.getDisplayMedia;e.navigator.mediaDevices.getDisplayMedia=function(t){return n.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.call(e.navigator,t)}}}}},function(e,t,n){"use strict";var r=n(27);e.exports=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"===typeof i;return o&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=o?i[0]:i,!!i.length}}))}},function(e,t,n){"use strict";(function(t){var r=n(258);function i(e,t,n,i,o){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var u="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+u,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+u,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+u,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function u(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,n){function c(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function l(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var d=function(t){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw u("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"===typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(t.iceServers||[],n),this._iceGatherers=[],t.iceCandidatePoolSize)for(var a=t.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(d.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(d.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),d.prototype.onicecandidate=null,d.prototype.onaddstream=null,d.prototype.ontrack=null,d.prototype.onremovestream=null,d.prototype.onsignalingstatechange=null,d.prototype.oniceconnectionstatechange=null,d.prototype.onconnectionstatechange=null,d.prototype.onicegatheringstatechange=null,d.prototype.onnegotiationneeded=null,d.prototype.ondatachannel=null,d.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},d.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},d.prototype.getConfiguration=function(){return this._config},d.prototype.getLocalStreams=function(){return this.localStreams},d.prototype.getRemoteStreams=function(){return this.remoteStreams},d.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},d.prototype.addTrack=function(t,n){if(this._isClosed)throw u("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw u("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},d.prototype.addStream=function(e){var t=this;if(n>=15025)e.getTracks().forEach((function(n){t.addTrack(n,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){t.addTrack(e,r)}))}},d.prototype.removeTrack=function(t){if(this._isClosed)throw u("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw u("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},d.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},d.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},d.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},d.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},d.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,u=!s||0===Object.keys(s).length;if(u)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var c=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var d=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),u||i._dispatchEvent("icecandidate",a),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},d.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},d.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},d.prototype._transceive=function(e,t,i){var a=o(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&n<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},d.prototype.setLocalDescription=function(e){var n,i,s=this;if(-1===["offer","answer"].indexOf(e.type))return t.reject(u("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,s.signalingState)||s._isClosed)return t.reject(u("InvalidStateError","Can not set local "+e.type+" in state "+s.signalingState));if("offer"===e.type)n=r.splitSections(e.sdp),i=n.shift(),n.forEach((function(e,t){var n=r.parseRtpParameters(e);s.transceivers[t].localCapabilities=n})),s.transceivers.forEach((function(e,t){s._gather(e.mid,t)}));else if("answer"===e.type){n=r.splitSections(s._remoteDescription.sdp),i=n.shift();var c=r.matchPrefix(i,"a=ice-lite").length>0;n.forEach((function(e,t){var n=s.transceivers[t],a=n.iceGatherer,u=n.iceTransport,l=n.dtlsTransport,d=n.localCapabilities,f=n.remoteCapabilities;if((!r.isRejected(e)||0!==r.matchPrefix(e,"a=bundle-only").length)&&!n.rejected){var p=r.getIceParameters(e,i),h=r.getDtlsParameters(e,i);c&&(h.role="server"),s.usingBundle&&0!==t||(s._gather(n.mid,t),"new"===u.state&&u.start(a,p,c?"controlling":"controlled"),"new"===l.state&&l.start(h));var v=o(d,f);s._transceive(n,v.codecs.length>0,!1)}}))}return s._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?s._updateSignalingState("have-local-offer"):s._updateSignalingState("stable"),t.resolve()},d.prototype.setRemoteDescription=function(i){var d=this;if(-1===["offer","answer"].indexOf(i.type))return t.reject(u("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,d.signalingState)||d._isClosed)return t.reject(u("InvalidStateError","Can not set remote "+i.type+" in state "+d.signalingState));var f={};d.remoteStreams.forEach((function(e){f[e.id]=e}));var p=[],h=r.splitSections(i.sdp),v=h.shift(),m=r.matchPrefix(v,"a=ice-lite").length>0,g=r.matchPrefix(v,"a=group:BUNDLE ").length>0;d.usingBundle=g;var y=r.matchPrefix(v,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!y&&y.substr(14).split(" ").indexOf("trickle")>=0,h.forEach((function(t,a){var u=r.splitLines(t),l=r.getKind(t),h=r.isRejected(t)&&0===r.matchPrefix(t,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],b=r.getDirection(t,v),w=r.parseMsid(t),E=r.getMid(t)||r.generateIdentifier();if(h||"application"===l&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))d.transceivers[a]={mid:E,kind:l,protocol:y,rejected:!0};else{var k,_,S,C,x,T,I,R,O;!h&&d.transceivers[a]&&d.transceivers[a].rejected&&(d.transceivers[a]=d._createTransceiver(l,!0));var A,N,P=r.parseRtpParameters(t);h||(A=r.getIceParameters(t,v),(N=r.getDtlsParameters(t,v)).role="client"),I=r.parseRtpEncodingParameters(t);var L=r.parseRtcpParameters(t),M=r.matchPrefix(t,"a=end-of-candidates",v).length>0,D=r.matchPrefix(t,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!h&&g&&a>0&&d.transceivers[a]&&(d._disposeIceAndDtlsTransports(a),d.transceivers[a].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[a].iceTransport=d.transceivers[0].iceTransport,d.transceivers[a].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[a].rtpSender&&d.transceivers[a].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[a].rtpReceiver&&d.transceivers[a].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==i.type||h)"answer"!==i.type||h||(_=(k=d.transceivers[a]).iceGatherer,S=k.iceTransport,C=k.dtlsTransport,x=k.rtpReceiver,T=k.sendEncodingParameters,R=k.localCapabilities,d.transceivers[a].recvEncodingParameters=I,d.transceivers[a].remoteCapabilities=P,d.transceivers[a].rtcpParameters=L,D.length&&"new"===S.state&&(!m&&!M||g&&0!==a?D.forEach((function(e){s(k.iceTransport,e)})):S.setRemoteCandidates(D)),g&&0!==a||("new"===S.state&&S.start(_,A,"controlling"),"new"===C.state&&C.start(N)),!o(k.localCapabilities,k.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&k.sendEncodingParameters[0].rtx&&delete k.sendEncodingParameters[0].rtx,d._transceive(k,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!x||"sendrecv"!==b&&"sendonly"!==b?delete k.rtpReceiver:(O=x.track,w?(f[w.stream]||(f[w.stream]=new e.MediaStream),c(O,f[w.stream]),p.push([O,x,f[w.stream]])):(f.default||(f.default=new e.MediaStream),c(O,f.default),p.push([O,x,f.default]))));else{(k=d.transceivers[a]||d._createTransceiver(l)).mid=E,k.iceGatherer||(k.iceGatherer=d._createIceGatherer(a,g)),D.length&&"new"===k.iceTransport.state&&(!M||g&&0!==a?D.forEach((function(e){s(k.iceTransport,e)})):k.iceTransport.setRemoteCandidates(D)),R=e.RTCRtpReceiver.getCapabilities(l),n<15019&&(R.codecs=R.codecs.filter((function(e){return"rtx"!==e.name}))),T=k.sendEncodingParameters||[{ssrc:1001*(2*a+2)}];var j,F=!1;"sendrecv"===b||"sendonly"===b?(F=!k.rtpReceiver,x=k.rtpReceiver||new e.RTCRtpReceiver(k.dtlsTransport,l),F&&(O=x.track,w&&"-"===w.stream||(w?(f[w.stream]||(f[w.stream]=new e.MediaStream,Object.defineProperty(f[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(O,"id",{get:function(){return w.track}}),j=f[w.stream]):(f.default||(f.default=new e.MediaStream),j=f.default)),j&&(c(O,j),k.associatedRemoteMediaStreams.push(j)),p.push([O,x,j]))):k.rtpReceiver&&k.rtpReceiver.track&&(k.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===k.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),k.associatedRemoteMediaStreams=[]),k.localCapabilities=R,k.remoteCapabilities=P,k.rtpReceiver=x,k.rtcpParameters=L,k.sendEncodingParameters=T,k.recvEncodingParameters=I,d._transceive(d.transceivers[a],!1,F)}}})),void 0===d._dtlsRole&&(d._dtlsRole="offer"===i.type?"active":"passive"),d._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?d._updateSignalingState("have-remote-offer"):d._updateSignalingState("stable"),Object.keys(f).forEach((function(t){var n=f[t];if(n.getTracks().length){if(-1===d.remoteStreams.indexOf(n)){d.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){d._dispatchEvent("addstream",r)}))}p.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&l(d,t,r,[n])}))}})),p.forEach((function(e){e[2]||l(d,e[0],e[1],[])})),e.setTimeout((function(){d&&d.transceivers&&d.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),t.resolve()},d.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},d.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},d.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},d.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},d.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},d.prototype.createOffer=function(){var o=this;if(o._isClosed)return t.reject(u("InvalidStateError","Can not call createOffer after close"));var a=o.transceivers.filter((function(e){return"audio"===e.kind})).length,s=o.transceivers.filter((function(e){return"video"===e.kind})).length,c=arguments[0];if(c){if(c.mandatory||c.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==c.offerToReceiveAudio&&(a=!0===c.offerToReceiveAudio?1:!1===c.offerToReceiveAudio?0:c.offerToReceiveAudio),void 0!==c.offerToReceiveVideo&&(s=!0===c.offerToReceiveVideo?1:!1===c.offerToReceiveVideo?0:c.offerToReceiveVideo)}for(o.transceivers.forEach((function(e){"audio"===e.kind?--a<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)}));a>0||s>0;)a>0&&(o._createTransceiver("audio"),a--),s>0&&(o._createTransceiver("video"),s--);var l=r.writeSessionBoilerplate(o._sdpSessionId,o._sdpSessionVersion++);o.transceivers.forEach((function(t,i){var a=t.track,s=t.kind,u=t.mid||r.generateIdentifier();t.mid=u,t.iceGatherer||(t.iceGatherer=o._createIceGatherer(i,o.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);n<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),t.remoteCapabilities&&t.remoteCapabilities.codecs&&t.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(t.remoteCapabilities&&t.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=t.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&n>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),t.wantReceive&&(t.rtpReceiver=new e.RTCRtpReceiver(t.dtlsTransport,s)),t.localCapabilities=c,t.sendEncodingParameters=l})),"max-compat"!==o._config.bundlePolicy&&(l+="a=group:BUNDLE "+o.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),l+="a=ice-options:trickle\r\n",o.transceivers.forEach((function(e,t){l+=i(e,e.localCapabilities,"offer",e.stream,o._dtlsRole),l+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===o.iceGatheringState||0!==t&&o.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,l+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(l+="a=end-of-candidates\r\n"))}));var d=new e.RTCSessionDescription({type:"offer",sdp:l});return t.resolve(d)},d.prototype.createAnswer=function(){var a=this;if(a._isClosed)return t.reject(u("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==a.signalingState&&"have-local-pranswer"!==a.signalingState)return t.reject(u("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var s=r.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(s+="a=group:BUNDLE "+a.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var c=r.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach((function(e,t){if(!(t+1>c)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var r;e.stream&&("audio"===e.kind?r=e.stream.getAudioTracks()[0]:"video"===e.kind&&(r=e.stream.getVideoTracks()[0]),r&&n>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=i(e,u,"answer",e.stream,a._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}}));var l=new e.RTCSessionDescription({type:"answer",sdp:s});return t.resolve(l)},d.prototype.addIceCandidate=function(e){var n,i=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?t.reject(new TypeError("sdpMLineIndex or sdpMid required")):new t((function(t,o){if(!i._remoteDescription)return o(u("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<i.transceivers.length;c++)if(i.transceivers[c].mid===e.sdpMid){a=c;break}var l=i.transceivers[a];if(!l)return o(u("OperationError","Can not add ICE candidate"));if(l.rejected)return t();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return t();if(d.component&&1!==d.component)return t();if((0===a||a>0&&l.iceTransport!==i.transceivers[0].iceTransport)&&!s(l.iceTransport,d))return o(u("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(n=r.getMediaSections(i._remoteDescription.sdp))[a]+="a="+(d.type?f:"end-of-candidates")+"\r\n",i._remoteDescription.sdp=r.getDescription(i._remoteDescription.sdp)+n.join("")}else for(var p=0;p<i.transceivers.length&&(i.transceivers[p].rejected||(i.transceivers[p].iceTransport.addRemoteCandidate({}),(n=r.getMediaSections(i._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",i._remoteDescription.sdp=r.getDescription(i._remoteDescription.sdp)+n.join(""),!i.usingBundle));p++);t()}))},d.prototype.getStats=function(n){if(n&&n instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===n?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===n&&(r=e.rtpReceiver)})),!r)throw u("InvalidAccessError","Invalid selector.");return r.getStats()}var i=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&i.push(e[t].getStats())}))})),t.all(i).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var f=["createOffer","createAnswer"];return f.forEach((function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),d}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){e.exports=function(e){var n=e&&e.navigator,r=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return t.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var r=n(27);e.exports={shimGetUserMedia:n(567),shimOnTrack:function(e){"object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)&&Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"===typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var n=r.detectBrowser(e);if("object"===typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(t,r){if(n.version<38&&t&&t.iceServers){for(var i=[],o=0;o<t.iceServers.length;o++){var a=t.iceServers[o];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var u={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(u.username=a.username,u.credential=a.credential),i.push(u)}else i.push(t.iceServers[o])}t.iceServers=i}return new e.mozRTCPeerConnection(t,r)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var i=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),t.resolve())};var o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,r){return a.apply(this,[e||null]).then((function(e){if(n.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)),n.version<53&&!t)try{e.forEach((function(e){e.type=o[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:o[t.type]||t.type}))}))}return e})).then(t,r)}}},shimSenderGetStats:function(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=n.apply(e,[]);return t.forEach((function(t){t._pc=e})),t});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):t.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)}))})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,n){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,t.reject(i)}return!0===r.video?r.video={mediaSource:n}:r.video.mediaSource=n,e.navigator.mediaDevices.getUserMedia(r)},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var r=n(27),i=r.log;e.exports=function(e){var n=r.detectBrowser(e),o=e&&e.navigator,a=e&&e.MediaStreamTrack,s=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},u=function(e,t,r){var a=function(e){if("object"!==typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"===typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"===typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),n.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),i("ff37: "+JSON.stringify(e))),o.mozGetUserMedia(e,t,(function(e){r(s(e))}))};if(o.mediaDevices||(o.mediaDevices={getUserMedia:function(e){return new t((function(t,n){u(e,t,n)}))},addEventListener:function(){},removeEventListener:function(){}}),o.mediaDevices.enumerateDevices=o.mediaDevices.enumerateDevices||function(){return new t((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},n.version<41){var c=o.mediaDevices.enumerateDevices.bind(o.mediaDevices);o.mediaDevices.enumerateDevices=function(){return c().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(n.version<49){var l=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(e){return l(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return t}),(function(e){return t.reject(s(e))}))}}if(!(n.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var d=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},f=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(e){return"object"===typeof e&&"object"===typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),d(e.audio,"autoGainControl","mozAutoGainControl"),d(e.audio,"noiseSuppression","mozNoiseSuppression")),f(e)},a&&a.prototype.getSettings){var p=a.prototype.getSettings;a.prototype.getSettings=function(){var e=p.apply(this,arguments);return d(e,"mozAutoGainControl","autoGainControl"),d(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var h=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===typeof e&&(e=JSON.parse(JSON.stringify(e)),d(e,"autoGainControl","mozAutoGainControl"),d(e,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[e])}}}o.getUserMedia=function(e,t,i){if(n.version<44)return u(e,t,i);r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(e).then(t,i)}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var r=n(27);e.exports={shimLocalStreamsAPI:function(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach((function(n){n.id===e&&(t=n)})),this._remoteStreams&&this._remoteStreams.forEach((function(n){n.id===e&&(t=n)})),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach((function(r){t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,r=e.getTracks();this.getSenders().forEach((function(e){-1!==r.indexOf(e.track)&&n.removeTrack(e)}))}})}},shimRemoteStreamsAPI:function(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"===typeof e&&e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,r=n.createOffer,i=n.createAnswer,o=n.setLocalDescription,a=n.setRemoteDescription,s=n.addIceCandidate;n.createOffer=function(e,n){var i=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[i]);return n?(o.then(e,n),t.resolve()):o},n.createAnswer=function(e,n){var r=arguments.length>=2?arguments[2]:arguments[0],o=i.apply(this,[r]);return n?(o.then(e,n),t.resolve()):o};var u=function(e,n,r){var i=o.apply(this,[e]);return r?(i.then(n,r),t.resolve()):i};n.setLocalDescription=u,u=function(e,n,r){var i=a.apply(this,[e]);return r?(i.then(n,r),t.resolve()):i},n.setRemoteDescription=u,u=function(e,n,r){var i=s.apply(this,[e]);return r?(i.then(n,r),t.resolve()):i},n.addIceCandidate=u}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"===typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n=this;if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=n.getTransceivers().find((function(e){return e.sender.track&&"audio"===e.sender.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||n.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=n.getTransceivers().find((function(e){return e.sender.track&&"video"===e.sender.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveVideo||i||n.addTransceiver("video")}return t.apply(n,arguments)}}}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(258),i=n(27);e.exports={shimRTCIceCandidate:function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=r.parseCandidate(e.candidate),o=Object.assign(n,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"===typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),r=t.revokeObjectURL.bind(t),o=new Map,a=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++a;return o.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){r(e),o.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,s.set.apply(this,[e])}});var u=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),u.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;if(e._sctp=null,function(e){var t=r.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=r.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var i,o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n}(arguments[0]),a=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(o),s=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var o=r.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i}(arguments[0],o);i=0===a&&0===s?Number.POSITIVE_INFINITY:0===a||0===s?Math.max(a,s):Math.min(a,s);var u={};Object.defineProperty(u,"maxMessageSize",{get:function(){return i}}),e._sctp=u}return n.apply(e,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=_construct2(e,r);return Object.setPrototypeOf(o,t.prototype),o}return t.prototype=Object.create(e.prototype),Object.defineProperties(t.prototype,r(e.prototype)),Object.keys(e).forEach((function(n){t[n]=e[n]})),t};var r=function(e){var t={};return Object.getOwnPropertyNames(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(6));function o(){return"undefined"===typeof document||"complete"===document.readyState||"interactive"===document.readyState&&document.body}var a=!1,s={isDomLoaded:o,isDomUnloaded:function(){return a},whenUnloaded:new e((function(e){"undefined"!==typeof window&&window.addEventListener("unload",(function(){a=!0,s.emit("unload"),e()}))})),whenLoaded:new e((function(e){if(o())e();else{var t=function t(){document.removeEventListener("DOMContentLoaded",t),document.removeEventListener("load",t),s.emit("load"),e()};document.addEventListener("DOMContentLoaded",t),document.addEventListener("load",t)}}))};(0,i.default)(s);var u=s;t.default=u}).call(this,n(2))},function(e,t,n){var r=n(79),i=n(262),o=n(254),a=n(573),s=n(11),u=n(54),c=n(263);e.exports=function e(t,n,l,d,f){t!==n&&o(n,(function(o,u){if(f||(f=new r),s(o))a(t,n,u,l,e,d,f);else{var p=d?d(c(t,u),o,u+"",t,n,f):void 0;void 0===p&&(p=o),i(t,u,p)}}),u)}},function(e,t,n){var r=n(262),i=n(181),o=n(190),a=n(55),s=n(191),u=n(64),c=n(12),l=n(134),d=n(65),f=n(17),p=n(11),h=n(143),v=n(86),m=n(263),g=n(574);e.exports=function(e,t,n,y,b,w,E){var k=m(e,n),_=m(t,n),S=E.get(_);if(S)r(e,n,S);else{var C=w?w(k,_,n+"",e,t,E):void 0,x=void 0===C;if(x){var T=c(_),I=!T&&d(_),R=!T&&!I&&v(_);C=_,T||I||R?c(k)?C=k:l(k)?C=a(k):I?(x=!1,C=i(_,!0)):R?(x=!1,C=o(_,!0)):C=[]:h(_)||u(_)?(C=k,u(k)?C=g(k):p(k)&&!f(k)||(C=s(_))):x=!1}x&&(E.set(_,C),b(C,_,y,w,E),E.delete(_)),r(e,n,C)}}},function(e,t,n){var r=n(41),i=n(54);e.exports=function(e){return r(e,i(e))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=f(e),n=e.env||{},r=e.isScreenSharing,o=e.isCustomAudioTrack,a=e.isCustomVideoTrack;return r&&!s.default&&(0,i.default)(e.usingOptionalMandatoryStyle,"Screensharing only uses optional-mandatory constraints right now"),["echoCancellation","autoGainControl","noiseSuppression"].forEach((function(t){!1!==e[t]&&Object.assign(e,_defineProperty({},t,!0))})),{isScreenSharing:r,isCustomAudioTrack:o,isCustomVideoTrack:a,audio:h("audio",e),video:h("video",e),usingOptionalMandatoryStyle:e.usingOptionalMandatoryStyle,enableRenegotiation:e.enableRenegotiation,enableStereo:e.enableStereo,noiseSuppression:e.noiseSuppression,autoGainControl:e.autoGainControl,echoCancellation:e.echoCancellation,disableAudioProcessing:e.disableAudioProcessing,videoDimensions:p("resolution",e.resolution,(function(e){return l[e]}),'"'.concat(Object.keys(l).join('", "'),'"'),t),frameRate:v(n,p("frameRate",e.frameRate,(function(e){return-1!==d.indexOf(e)?e:void 0}),d.join(","),t)),maxResolution:function(){if(void 0===e.maxResolution)return r?{width:1920,height:1920}:void 0;var n={width:e.maxResolution.width,height:e.maxResolution.height};return Object.keys(n).forEach((function(e){var r=n[e];("number"!==typeof r||r>1920)&&(t.warn("Invalid maxResolution passed to the Publisher. maxResolution.".concat(e," must be less than or equal to 1920")),n[e]=1920)})),n}(),facingMode:g(e.facingMode,e)}};var i=r(n(151)),o=r(n(264)),a=r(n(1)),s=r(n(269)),u=r(n(270)),c=(0,a.default)("normalizeConstraintInput"),l={"320x240":{width:320,height:240},"320x180":{width:320,height:180},"640x480":{width:640,height:480},"640x360":{width:640,height:360},"1280x720":{width:1280,height:720},"1280x960":{width:1280,height:960},"1920x1080":{width:1920,height:1080}},d=[1,7,15,30];function f(e){return e._inject&&e._inject.logging||c}function p(e,t,n,r,i){if(void 0!==t){var o=n(t);return o||i.warn("Invalid ".concat(e," passed to the Publisher. Got: ").concat(t,", expecting one of ").concat(r)),o}}function h(e,t){var n=f(t),r=function(){var n=t["publish".concat((0,o.default)(e))];return void 0===n||Boolean(n)}(),i=function(){var r=t["".concat(e,"Source")];return void 0===r||null!==r&&!1!==r&&("object"===typeof r?!t["isCustom".concat((0,o.default)(e),"Track")]&&("string"!==typeof r.deviceId?(n.warn("Invalid ".concat(e,"Source passed to Publisher. Expected either a device ID or ")+"device."),!0):r.deviceId):"string"!==typeof r?(n.warn("Ignoring invalid ".concat(e,"Source parameter")),!0):r)}();return"audio"===e&&t.isScreenSharing&&!u.default&&!1!==i&&(t.audioSource&&f(t).warn("Invalid audioSource passed to Publisher - when using screen sharing no audioSource may be used"),i=!1),{source:i,publish:r}}function v(e,t){return"Chrome"===e.name&&-1!==e.userAgent.indexOf("Mac OS X")&&1===t?2:t}var m=["user","environment","left","right"],g=function(e,t){if(void 0===e||m.indexOf(e)>=0)return e;f(t).warn("Invalid facingMode passed to Publisher. Expected one of: ".concat(m.join(", ")))}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){(function(e,r){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])m(s)||!E(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,s={};function u(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),d(r,e,r.depth)}function c(e,t){var n=u.styles[t];return n?"\x1b["+u.colors[n][0]+"m"+e+"\x1b["+u.colors[n][1]+"m":e}function l(e,t){return e}function d(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=d(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return f(n)}var c,l="",E=!1,C=["{","}"];return h(n)&&(E=!0,C=["[","]"]),S(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),w(n)&&(l=" "+RegExp.prototype.toString.call(n)),k(n)&&(l=" "+Date.prototype.toUTCString.call(n)),_(n)&&(l=" "+f(n)),0!==a.length||E&&0!=n.length?r<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return p(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,C)):C[0]+l+C[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?d(e,u.value,null):d(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function v(e){return"boolean"===typeof e}function m(e){return null===e}function g(e){return"number"===typeof e}function y(e){return"string"===typeof e}function b(e){return void 0===e}function w(e){return E(e)&&"[object RegExp]"===C(e)}function E(e){return"object"===typeof e&&null!==e}function k(e){return E(e)&&"[object Date]"===C(e)}function _(e){return E(e)&&("[object Error]"===C(e)||e instanceof Error)}function S(e){return"function"===typeof e}function C(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=v,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=b,t.isRegExp=w,t.isObject=E,t.isDate=k,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(578);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(579),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!==typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new r((function(e,r){t=e,n=r})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(s){n(s)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=R,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(O,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n(43),n(2))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(581),i=n(267),o=n(268),a=n(61);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},function(e,t,n){var r=n(266);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="\\ud800-\\udfff",r="["+n+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^"+n+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+i+"|"+o+")?",l="[\\ufe0e\\ufe0f]?",d=l+c+"(?:\\u200d(?:"+[a,s,u].join("|")+")"+l+c+")*",f="(?:"+[a+i+"?",i,s,u,r].join("|")+")",p=RegExp(o+"(?="+o+")|"+f+d,"g");e.exports=function(e){return e.match(p)||[]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=["screen","window","tab","browser","application"]},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(51)),o=r(n(587)),a=r(n(590)),s=r(n(1)),u=r(n(124)),c=(0,r(n(35)).default)(),l="/opentok/webrtc/docs/js/release-notes.html",d=c.onlyLocal(),f=(0,s.default)("setLogLevel"),p=(0,i.default)((function(){f.info("%c".concat("\n \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2557   \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\n\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2551\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255d\n\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2554\u2588\u2588\u2557 \u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u255d \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557\n\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551 \u255a\u2588\u2588\u2588\u2588\u2551   \u2588\u2588\u2551   \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2557\n \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d     \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u2550\u2550\u255d   \u255a\u2550\u255d    \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d"),'font-family: "Fire Code", Courier, "Courier New", Consolas, "DejaVu Sans Mono"'),f.info("OpenTok JS SDK ".concat(d.version)),f.info("Release notes: ".concat(d.websiteUrl).concat(l)),f.info("Known issues: ".concat(d.websiteUrl).concat(l,"l#knownIssues"))}));function h(e){if(void 0===e||!(0,o.default)(u.default,{priority:e})&&0!==e){var t=(0,a.default)(u.default,(function(e,t){return"OT.".concat(t.toUpperCase()," = ").concat(e.priority)})).join(", ");f.error("level must be one of: OT.NONE = 0, ".concat(t)),f.warn("Using OT.WARN instead"),e=u.default.warn.priority}return s.default.setLogLevel(e),e>=u.default.debug.priority&&p(),f.info("OpenTok JS SDK now uses the debug library. More info at ".concat("https://www.npmjs.com/package/debug#browser-support")),f.info("Changed log level to: ".concat(e)),e}h(d.debug?u.default.debug.priority:u.default.warn.priority);var v=h;t.default=v},function(e,t,n){var r=n(103);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},function(e,t,n){var r=n(248),i=n(36),o=n(588),a=n(12),s=n(123);e.exports=function(e,t,n){var u=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),u(e,i(t,3))}},function(e,t,n){var r=n(272);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},function(e,t,n){var r=n(24);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){var r=n(34),i=n(36),o=n(591),a=n(12);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(272),i=n(24);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return"http:"!==e.substr(0,5)&&"https:"!==e.substr(0,6)&&"data:image/png;base64,"!==e.substr(0,22)?"data:image/png;base64,".concat(e):e}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n=this,r={},a={buttonDisplayMode:["auto","mini","mini-auto","off","on"],nameDisplayMode:["auto","off","on"],audioLevelDisplayMode:["auto","off","on"],showSettingsButton:[!0,!1],showSpeakerButton:null,showMicButton:[!0,!1],backgroundImageURI:null,showControlBar:[!0,!1],showArchiveStatus:[!0,!1],archiveStatusDisplayMode:["auto","off","on"],videoDisabledDisplayMode:["auto","off","on"],audioBlockedDisplayMode:["auto","off","on"]};n.getAll=function(){return(0,i.default)(r)},n.get=function(e){return e?r[e]:n.getAll()},n.setAll=function(e,t){return Object.keys(e).forEach((function(r){n.set(r,e[r],t)})),n},n.set=function(e,i,s){var u;o.debug("setStyle: ".concat(e.toString()));var c=function(e){switch(e){case"true":return!0;case"false":return!1;default:return e}}(i);return function(e,t){var n=a[e];return void 0!==n&&(null===n||-1!==n.indexOf(t))}(e,c)?(c!==(u=r[e])&&(r[e]=c,s||t(e,i,u)),n):(o.warn("Style.set::Invalid style property passed ".concat(e," : ").concat(c)),n)},e&&n.setAll(e,!0)};var i=r(n(58)),o=(0,r(n(1)).default)("Style")},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(276));t.default=function(){return Boolean("Node"!==i.default.name&&!i.default.isIosWebView&&(!!(0,o.default)()||(void 0!==typeof window?window:__webpack_require__.g).navigator.mediaDevices&&(void 0!==typeof window?window:__webpack_require__.g).navigator.mediaDevices.getUserMedia||(void 0!==typeof window?window:__webpack_require__.g).navigator.webkitGetUserMedia||(void 0!==typeof window?window:__webpack_require__.g).navigator.mozGetUserMedia))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=function(){return"Node"!==i.default.name&&(!("function"!==typeof(void 0!==typeof window?window:__webpack_require__.g).webkitRTCPeerConnection||!(void 0!==typeof window?window:__webpack_require__.g).webkitRTCPeerConnection.prototype.addTrack)||"function"===typeof(void 0!==typeof window?window:__webpack_require__.g).RTCPeerConnection||"function"===typeof(void 0!==typeof window?window:__webpack_require__.g).mozRTCPeerConnection&&i.default.version>20)};t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=void 0!==(void 0!==typeof window?window:n.g).WebSocket;t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(47)),o=function(e){function t(t,n){var r,i=(void 0===n?{}:n).destroyOnClose,o=void 0===i||i;(r=e.call(this)||this).modalDiv=document.createElement("div"),r.modalDiv.classList.add("OT_ModalDialog"),r.modalDiv.innerHTML=t;var a=r.modalDiv.querySelectorAll("[role=OT_close]");return[].forEach.call(a,(function(e){return e.addEventListener("click",(function(e){e.preventDefault(),r.close()}))})),r.close(),document.body.appendChild(r.modalDiv),o&&r.on("closed",(function(){return r.destroy()})),r}(0,i.default)(t,e);var n=t.prototype;return n.open=function(){this.modalDiv.style.display="block",this.emit("opened")},n.close=function(){this.modalDiv.style.display="none",this.emit("closed")},n.destroy=function(){this.modalDiv.innerHTML="",this.modalDiv.parentNode.removeChild(this.modalDiv),this.emit("destroyed")},n.el=function(e){return this.modalDiv.querySelector(e)},t}(r(n(14)).default);t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(25));t.default=function(e){void 0===e&&(e={});var t=e.env||i.default,n=e.analytics||new o.default;n.logEvent({action:"UserAgentParsing",variation:"Attempt",payload:{userAgent:t.userAgent}}),n.logEvent({action:"UserAgentParsing",variation:t.error?"Failure":"Success",payload:{userAgent:t.userAgent}})}},function(e,t){e.exports='<div id="tb_alert"><div id="section-normal-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div></div><div id="section-upgrade-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-supported-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com.au/chrome/browser/mobile/">Google Chrome</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application is not supported on your mobile device\'s browser at this time.</div></div></div>'},function(e,t,n){var r=n(601),i=n(277),o=n(602),a=n(603);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(277);function i(t,n,o){return function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},i.apply(null,arguments)}e.exports=i},function(e,t,n){"use strict";(function(t){e.exports=function(e,n){return n=n||function(){},e.then((function(e){return new t((function(e){e(n())})).then((function(){return e}))}),(function(e){return new t((function(e){e(n())})).then((function(){throw e}))}))}}).call(this,n(2))},function(e,t,n){var r=n(11),i=n(606),o=n(246),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,d,f,p,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function w(){var e=i();if(b(e))return E(e);f=setTimeout(w,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function E(e){return f=void 0,g&&u?y(e):(u=c=void 0,d)}function k(){var e=i(),n=b(e);if(u=arguments,c=this,p=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(w,t),v?y(e):d}(p);if(m)return clearTimeout(f),f=setTimeout(w,t),y(p)}return void 0===f&&(f=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?a(o(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=p=c=f=void 0},k.flush=function(){return void 0===f?d:E(i())},k}},function(e,t,n){var r=n(15);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(60),i=n(608),o=n(609),a=n(48);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(101),i=n(266);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},function(e,t,n){var r=n(143);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(36),i=n(24),o=n(31);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var u=r(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[u?t[c]:c]:void 0}}},function(e,t,n){var r=n(98),i=n(99),o=n(133),a=n(100),s=n(613),u=n(104);e.exports=function(e,t,n){var c=-1,l=i,d=e.length,f=!0,p=[],h=p;if(n)f=!1,l=o;else if(d>=200){var v=t?null:s(e);if(v)return u(v);f=!1,l=a,h=new r}else h=t?[]:p;e:for(;++c<d;){var m=e[c],g=t?t(m):m;if(m=n||0!==m?m:0,f&&g===g){for(var y=h.length;y--;)if(h[y]===g)continue e;t&&h.push(g),p.push(m)}else l(h,g,n)||(h!==p&&h.push(g),p.push(m))}return p}},function(e,t,n){var r=n(187),i=n(241),o=n(104),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return function(e){return parseInt(e,10)}(function(e){return e.substring(0,9)}(function(e){return e&&e.replace(/\D+/g,"")||"0"}(e)))}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=(0,r(n(1)).default)("hasValidPeerConnection");function s(t){return new e((function(e){t.addEventListener("signalingstatechange",(function(){return e(!0)})),t.createOffer({offerToReceiveAudio:1}).then((function(e){return t.setLocalDescription(e)})).then((function(){return setTimeout((function(){e(!1)}),1e3)}))}))}function u(){return(u=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=new t({iceServers:[]}),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),a.error("Error occurred creating PeerConnection",e.t0),e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,s(n);case 11:e.next=18;break;case 13:e.prev=13,e.t1=e.catch(8),a.error("Error occurred checking the validity of the PeerConnection",e.t1);try{n.close()}catch(r){}return e.abrupt("return",!1);case 18:e.prev=18,n.close(),e.next=26;break;case 22:return e.prev=22,e.t2=e.catch(18),a.error("Error occurred closing PeerConnection",e.t2),e.abrupt("return",!1);case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,null,[[0,4],[8,13],[18,22]])})))).apply(this,arguments)}var c=function(e){return u.apply(this,arguments)};t.default=c}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){var n=t.window,r=t.config,o=t.constraints;c.debug("called");var l=(0,i.default)(r);l.iceServers=(0,s.default)(a.default,l.iceServers),(0,u.default)()&&(l.sdpSemantics="plan-b");var d=new n.RTCPeerConnection(l,o);return e.resolve(d)};var i=r(n(38)),o=r(n(1)),a=r(n(3)),s=r(n(617)),u=r(n(74)),c=(0,o.default)("createPeerConnection")}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n=e.name;e.isEdge&&(n=e.isLegacyEdge?"Edge":"ChromiumEdge");var r=a[n];return r?r(t):t};var i=r(n(9)),o=r(n(278)),a={Edge:function(e){var t=!1;return e.map((function(e){if(e){var n=e.urls||e.url&&[e.url];if(n){var r=n.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||t?0===e.indexOf("stun:"):(t=!0,!0)}));if(0!==r.length)return(0,i.default)((0,o.default)(e,["url","urls"]),{urls:r})}}})).filter((function(e){return void 0!==e}))},Safari:function(e){return e.map((function(e){if(void 0!==e.urls&&void 0===e.url)return e;var t=e.urls||e.url&&[e.url];return(0,i.default)((0,o.default)(e,["url","urls"]),{urls:t})}))}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(28)),o=r(n(3)),a={baseline:"42001f",constBaseline:"42e01f"},s=function(e){var t=e.sdp,n=e.from,r=e.to;return t.replace(new RegExp("^(a=fmtp:\\d+ .*profile-level-id=)".concat(n),"gmi"),"$1".concat(r))},u={local:{offer:function(e,t){var n=void 0===e?{}:e,r=n.numSimulcastStreams,u=n.audioBitrate,c=n.priorityVideoCodec,l=void 0===c?"":c,d=n.codecFlags,f=void 0===d?{}:d,p=n.enableStereo,h=void 0!==p&&p,v=n.enableDtx,m=void 0!==v&&v,g=n.replaceBaselineProfile,y=void 0!==g&&g,b=n.removeVideoOrientation,w=void 0!==b&&b,E=i.default.filterExcessSSRCs(t);r>1&&(E=i.default.enableSimulcast(E,r)),u>0&&(E=i.default.setAudioBitrate(E,u)),w&&(E=i.default.removeVideoOrientation(E)),E=i.default.modifyReceiveStereo(E,!1),E=i.default.modifySendStereo(E,Boolean(h)),E=i.default.modifyDtx(E,Boolean(m)),o.default.isLegacyEdge||Object.keys(f).filter((function(e){return!1===f[e]})).forEach((function(e){E=i.default.removeVideoCodec(E,e)})),l&&!o.default.isLegacyEdge?E=i.default.reprioritizeVideoCodec(E,l,"top"):"h264"!==l&&(E=i.default.reprioritizeVideoCodec(E,"h264","bottom"));var k=E;return y&&(k=s({sdp:k,from:a.baseline,to:a.constBaseline})),{local:E,remote:k}},answer:function(e,t){var n=void 0===e?{}:e,r=n.audioBitrate,o=n.codecFlags,u=n.enableStereo,c=void 0!==u&&u,l=n.enableDtx,d=void 0!==l&&l,f=n.replaceBaselineProfile,p=void 0!==f&&f,h=n.sourceStreamId,v=t;r>0&&(v=i.default.setAudioBitrate(v,r)),v=i.default.modifyReceiveStereo(v,Boolean(c)),v=i.default.modifySendStereo(v,!1),v=i.default.modifyDtx(v,Boolean(d)),"MANTIS"===h&&"passive"===i.default.getSetupRole(v)&&(v=i.default.setSetupRole(v,"active")),o&&Object.keys(o).filter((function(e){return!1===o[e]})).forEach((function(e){v=i.default.removeVideoCodec(v,e)}));var m=v;return p&&(m=s({sdp:m,from:a.baseline,to:a.constBaseline})),{local:v,remote:m}}},remote:{offer:function(e,t){var n=e.replaceBaselineProfile,r=void 0!==n&&n,i=t;return-1===i.indexOf("a=rtcp-fb")&&(i=i.replace(/^m=video(.*)$/gim,"m=video$1\r\n".concat("a=rtcp-fb:* ccm fir\r\na=rtcp-fb:* nack "))),r&&(i=s({sdp:i,from:a.constBaseline,to:a.baseline})),{local:i}},answer:function(e,t){var n=void 0===e?{}:e,r=n.audioBitrate,o=n.replaceBaselineProfile,u=void 0!==o&&o,c=t;return r>0&&(c=i.default.setAudioBitrate(c,r)),u&&(c=s({sdp:c,from:a.constBaseline,to:a.baseline})),{local:c}}}};t.default=u},function(e,t,n){var r=n(40),i=n(55),o=n(42),a=n(24),s=n(282),u=n(620),c=n(249),l=n(104),d=n(268),f=n(283),p=r?r.iterator:void 0;e.exports=function(e){if(!e)return[];if(a(e))return s(e)?d(e):i(e);if(p&&e[p])return u(e[p]());var t=o(e);return("[object Map]"==t?c:"[object Set]"==t?l:f)(e)}},function(e,t){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},function(e,t,n){var r=n(34);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){var n=[],r=null;if("function"===typeof e.getReceivers){var i=e.getReceivers().find((function(e){return"audio"===e.track.kind}));i&&(n=i.getSynchronizationSources())}else r=new Error("peerConnection does not support getReceivers function");t&&t(r,n)}},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(624)),o=function(e){this.pending=[],this._processBinding=this.maybeProcessPending.bind(this),e&&this.setPeerConnection(e)};o.prototype.setPeerConnection=function(e){if(this.pc)throw new Error("Peer connection already set");this.pc=e,this._forwardIceCandidate=(0,i.default)(this.pc,"addIceCandidate"),this.pc.addEventListener("signalingstatechange",this._processBinding),this.maybeProcessPending()},o.prototype.canAddCandidates=function(){return!!(this.pc&&"closed"!==this.pc.iceConnectionState&&this.pc.remoteDescription&&this.pc.remoteDescription.type&&this.pc.localDescription&&this.pc.localDescription.type)},o.prototype.addIceCandidate=function(t){if(this.canAddCandidates())return this._forwardIceCandidate(t);var n=this.pending;return new e((function(e,r){n.push({iceCandidate:t,resolve:e,reject:r})}))},o.prototype.maybeProcessPending=function(){this.canAddCandidates()&&this.process()},o.prototype.process=function(){for(;this.pending.length;){var e=this.pending.shift();this._forwardIceCandidate(e.iceCandidate).then(e.resolve).catch(e.reject)}},o.prototype.destroy=function(){this.pc&&this.pc.removeEventListener("signalingstatechange",this._processBinding),this._processBinding=null,this.pc=null};var a=o;t.default=a}).call(this,n(2))},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(t,n){var r=t[n];return function(n){return new e((function(e,i){var o=r.apply(t,[n,e,i]);o&&"function"===typeof o.then&&e(o)}))}}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n,r,i,l,d,f,p,h,v,m,g){var y=function(e,t){return function(n){c.error(e),c.error(n),h&&h(e,n,t)}},b=function(t){var n=s.default.hasSendStereo(l.sdp),o=s.default.hasSendDtx(l.sdp),u=s.default.getAudioBitrate(l.sdp),c=(0,a.default)(i,"local","answer",{enableStereo:n,enableDtx:o,audioBitrate:u,replaceBaselineProfile:m,codecFlags:d,sourceStreamId:g},t.sdp),f=new r({type:t.type,sdp:c.local}),h={type:t.type,sdp:c.remote};return e.setLocalDescription(f).then((function(){return p(h)})).catch(y("Error while setting LocalDescription","SetLocalDescription"))},w=new r({type:l.type,sdp:(0,a.default)(i,"remote","offer",{replaceBaselineProfile:m},l.sdp).local}),E=y("Error while setting RemoteDescription","SetRemoteDescription");return(0,u.default)(w,f,o.default,t,n).then((function(){return v(!0),w})).catch((function(e){if(v(!1),!s.default.hasMediaType(w.sdp,"audio"))throw new Error("Unsupported video without audio for fallback");c.debug("Couldn't set remote description",w,e,", trying without video");var t=new r({type:l.type,sdp:s.default.disableMediaType(w.sdp,"video")});return c.debug("offer without video",t.sdp),t})).then((function(t){return e.setRemoteDescription(t)})).then((function(){return e.createAnswer().then(b).catch(y("Error while setting createAnswer","CreateAnswer"))})).catch(E)};var i=r(n(1)),o=r(n(3)),a=r(n(158)),s=r(n(28)),u=r(n(626)),c=(0,i.default)("offerProcessor")},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(74)),o=function(t,n,r,o,a){if(!o)return e.resolve(!0);var s={iceServers:[]};(0,i.default)()&&(s.sdpSemantics="plan-b");var u=new o(s),c=function(){try{u.close()}catch(e){}};return u.setRemoteDescription(new a(t)).then((function(){c()})).catch((function(e){throw c(),e}))};t.default=o}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=[],n={},r={sentMessages:0,recvMessages:0},a=function(e){var n=new o.default(e);return t.push(n),n.on("close",(function(){!function(e){t.filter((function(t){return e!==t}))}(n)})),n};return n.add=function(t,n){return a(e.createDataChannel(t,n))},n.addMany=function(e){for(var t in e)e.hasOwnProperty(t)&&n.add(t,e[t])},n.get=function(e,n){return(0,i.default)(t,(function(t){return t.equals(e,n)}))},n.getOrAdd=function(e,t){var r=n.get(e,t);return r||(r=n.add(e,t)),r},n.getQosData=function(){var e={sentMessages:0,recvMessages:0};return t.forEach((function(t){e.sentMessages+=t.getQosData().sentMessages,e.recvMessages+=t.getQosData().recvMessages})),e},n.sampleQos=function(){var e=n.getQosData(),t={sentMessages:e.sentMessages-r.sentMessages,recvMessages:e.recvMessages-r.recvMessages};return r=e,t},n.destroy=function(){t.forEach((function(e){e.close()})),t=[]},e.addEventListener("datachannel",(function(e){a(e.channel)})),n};var i=r(n(62)),o=r(n(628))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t={},n=[],r={sentMessages:0,recvMessages:0},s=function(e){return n.push(e),t},u=function(n){return e.send(n),r.sentMessages++,t},c=function(){for(var e;e=n.shift();)t.send(e)};return(0,i.default)(t,!0),t.label=e.label,t.id=e.id,t.reliable=e.reliable,t.negotiated=e.negotiated,t.ordered=e.ordered,t.protocol=e.protocol,t._channel=e,t.close=function(){e.close()},t.equals=function(e,n){if(t.label!==e)return!1;for(var r in n)if(n.hasOwnProperty(r)&&t[r]!==n[r])return!1;return!0},t.getQosData=function(){return r},t.send=s,e.addEventListener("open",(function(){t.send=u,c()}),!1),e.addEventListener("close",(function(e){t.send=s,t.trigger("close",e)}),!1),e.addEventListener("error",(function(e){o.error(e)}),!1),e.addEventListener("message",(function(e){var n=new a(e);r.recvMessages++,t.trigger("message",n)}),!1),t};var i=r(n(6)),o=(0,r(n(1)).default)("DataChannel"),a=function(e){this.data=e.data,this.source=e.source,this.lastEventId=e.lastEventId,this.origin=e.origin,this.timeStamp=e.timeStamp,this.type=e.type,this.ports=e.ports,this.path=e.path}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=e.peerConnection,n=e.NativeRTCSessionDescription,r=e.sdpTransforms,o=e.numSimulcastStreams,c=e.offerOverrides,l=e.offerConstraints,d=e.replaceBaselineProfile,f=e.removeVideoOrientation,p=e.removeUnusedCodecs,h=function(e,t){return function(n){u.error(e,n);var r=new Error(e);throw r.reason=n,r.prefix=t,r}};return u.debug("subscribeProcessor: creating offer"),t.createOffer(l).then((function(e){u.debug("subscribeProcessor: offer created",e);var l,v=e.sdp;p&&(v=s.default.removeUnusedCodecs(v,null==(l=t.currentLocalDescription)?void 0:l.sdp));var m=(0,a.default)(r,"local","offer",(0,i.default)({numSimulcastStreams:o,replaceBaselineProfile:d,removeVideoOrientation:f},c),v),g=new n({type:e.type,sdp:m.local}),y=new n({type:e.type,sdp:m.remote});return u.debug("subscribeProcessor: setting local description"),t.setLocalDescription(g).then((function(){return y}),h("Error while setting LocalDescription","SetLocalDescription"))}),h("Error while creating Offer","CreateOffer")).then((function(e){return{sdp:e.sdp,type:e.type}}))};var i=r(n(9)),o=r(n(1)),a=r(n(158)),s=r(n(28)),u=(0,o.default)("subscribeProcessor")},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(631)),o=function(){function e(e){this.state=i.default.RESOLVED,this.offerAnswerQueue=[],this.logAnalyticsEvent=e}var t=e.prototype;return t.setPending=function(){this.state=i.default.PENDING},t.setResolved=function(){this.state=i.default.RESOLVED;var e=this.offerAnswerQueue.shift();e&&(this.logAnalyticsEvent("dequeueOfferAnswer","Event"),this.setPending(),e())},t.isPending=function(){return this.state===i.default.PENDING},t.enqueueOfferAnswer=function(e){this.isPending()?(this.offerAnswerQueue.push(e),this.logAnalyticsEvent("enqueueOfferAnswer","Event")):(this.setPending(),e())},e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={PENDING:"pending",RESOLVED:"resolved"}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(28)),s=a.default.mediaDirections,u=s.RECVONLY,c=s.INACTIVE,l=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.createOffer();case 4:return r=e.sent,e.next=7,t.setLocalDescription(r);case 7:o=t.remoteDescription.sdp,s=a.default.changeMediaDirection(o,n),t.setRemoteDescription({type:t.remoteDescription.type,sdp:s});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d={changeMediaDirectionToInactive:function(e){return l(e,c)},changeMediaDirectionToRecvOnly:function(e){return l(e,u)}};t.default=d},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t,n,r,i){return h?E(e,t,n,r,i):w(e,0,n,0,i)},t.parseStatsNewAPI=E,t.parseStatsOldAPI=w;var i=r(n(1)),o=r(n(3)),a=r(n(7)),s=r(n(28)),u=r(n(286)),c=r(n(634)),l=r(n(108)),d=r(n(159));function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,l.default)(),v=(0,i.default)("QoS"),m=["audioCodec","audioSentBytes","audioSentPackets","audioSentPacketsLost","audioRtt","videoCodec","videoHeight","videoHeightInput","videoSentBytes","videoFrameRateSent","videoSentPackets","videoRtt","videoSentPacketsLost","videoWidthInput","videoWidth","srtpCipher"],g=["audioCodec","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoCodec","videoHeight","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost","videoFrameRateReceived","videoWidth","srtpCipher"],y=function(e,t){return v.debug("Raw stats for peer conn ".concat(e.id,":"),t)},b=function(e){var t=e.portNumber||e.port,n=e.ipAddress||e.address||e.ip;return"".concat(n,":").concat(t)};function w(e,t,n,r,i){var o=function(e){return Number(e.stat("googFrameRateSent"))>0?(n.videoSentBytes=Number(e.stat("bytesSent")),n.videoSentPackets=Number(e.stat("packetsSent")),n.videoSentPacketsLost=Number(e.stat("packetsLost")),n.videoRtt=Number(e.stat("googRtt"))/1e3,n.videoFrameRate=Number(e.stat("googFrameRateInput")),n.videoWidth=Number(e.stat("googFrameWidthSent")),n.videoHeight=Number(e.stat("googFrameHeightSent")),n.videoFrameRateSent=Number(e.stat("googFrameRateSent")),n.videoWidthInput=Number(e.stat("googFrameWidthInput")),n.videoHeightInput=Number(e.stat("googFrameHeightInput")),n.videoCodec=e.stat("googCodecName"),n.videoBandwidthLimitedResolution="true"===e.stat("googBandwidthLimitedResolution"),n.cpuLimitedResolution="true"===e.stat("googCpuLimitedResolution")):Number(e.stat("googFrameRateReceived"))>0&&(n.videoRecvBytes=Number(e.stat("bytesReceived")),n.videoRecvPackets=Number(e.stat("packetsReceived")),n.videoRecvPacketsLost=Number(e.stat("packetsLost")),n.videoFrameRate=Number(e.stat("googFrameRateOutput")),n.videoFrameRateReceived=Number(e.stat("googFrameRateReceived")),n.videoFrameRateDecoded=Number(e.stat("googFrameRateDecoded")),n.videoWidth=Number(e.stat("googFrameWidthReceived")),n.videoHeight=Number(e.stat("googFrameHeightReceived")),n.videoCodec=e.stat("googCodecName")),null},a=function(e){Number(e.stat("audioInputLevel"))>0?(n.audioSentPackets=Number(e.stat("packetsSent")),n.audioSentPacketsLost=Number(e.stat("packetsLost")),n.audioSentBytes=Number(e.stat("bytesSent")),n.audioCodec=e.stat("googCodecName"),n.audioRtt=Number(e.stat("googRtt"))/1e3):Number(e.stat("audioOutputLevel"))>0&&(n.audioRecvPackets=Number(e.stat("packetsReceived")),n.audioRecvPacketsLost=Number(e.stat("packetsLost")),n.audioRecvBytes=Number(e.stat("bytesReceived")),n.audioCodec=e.stat("googCodecName"))};e.getStats((function(t){if(t.result){var r=t.result();y(e,r);for(var s=function(e,t){return r.filter((function(n){return n.id===t.stat(e)}))[0]},c=function(e){return s("localCandidateId",e)},l=function(e){return s("remoteCandidateId",e)},d=0;d<r.length;d++){var f=r[d];f.stat&&("true"===f.stat("googActiveConnection")&&(f.stat("googChannelId").indexOf("audio")>-1?(n.audioLocalAddress=f.stat("googLocalAddress"),n.audioRemoteAddress=f.stat("googRemoteAddress"),n.audioLocalCandidateType=f.stat("googLocalCandidateType"),n.audioRemoteCandidateType=f.stat("googRemoteCandidateType"),n.audioTransportType=f.stat("googTransportType"),n.audioLocalRelayProtocol=(0,u.default)(c(f).stat("priority")),n.audioRemoteRelayProtocol=(0,u.default)(l(f).stat("priority"))):f.stat("googChannelId").indexOf("video")>-1&&(n.videoLocalAddress=f.stat("googLocalAddress"),n.videoRemoteAddress=f.stat("googRemoteAddress"),n.videoLocalCandidateType=f.stat("googLocalCandidateType"),n.videoRemoteCandidateType=f.stat("googRemoteCandidateType"),n.videoTransportType=f.stat("googTransportType"),n.videoLocalRelayProtocol=(0,u.default)(c(f).stat("priority")),n.videoRemoteRelayProtocol=(0,u.default)(l(f).stat("priority")))),Number(f.stat("googAvailableSendBandwidth"))>0&&(n.videoSentEstimatedBandwidth=Number(f.stat("googAvailableSendBandwidth"))),Number(f.stat("googAvailableReceiveBandwidth"))>0&&(n.videoRecvEstimatedBandwidth=Number(f.stat("googAvailableReceiveBandwidth"))),a(f),o(f))}"videoCodec"in n&&!n.videoLocalAddress&&["LocalAddress","RemoteAddress","LocalCandidateType","RemoteCandidateType","TransportType","LocalRelayProtocol","RemoteRelayProtocol"].forEach((function(e){n["video".concat(e)]=n["audio".concat(e)]}))}i(null,n)}))}function E(e,t,n,r,i){var u=function(e){var t={packetsSent:"videoSentPackets",packetsLost:"videoSentPacketsLost",bytesSent:"videoSentBytes",framesPerSecond:"videoFrameRate",framesSent:"videoFrameRateSent",framesReceived:"videoFramesReceived",frameWidth:"videoWidth",frameHeight:"videoHeight"},r=["videoSentPackets","videoSentBytes"];for(var i in t)if(i in e){var o=t[i];r.includes(o)&&Number.isSafeInteger(n[o])?n[o]+=e[i]:n[o]=e[i]}};e.getStats(null).then((function(l){var p,h,v,w,E,k,_,S,C=[],x=function(i){var f=function(e){return e.toLowerCase().replace(/[^a-z]/g,"")}(i.type),m=i.id.toLowerCase();if(/(in|out)boundrtp$/.test(f)){var g=/rtp/.test(m),y=g&&/audio/.test(m),x=g&&/video/.test(m),T=y||"audio"===i.kind,I=x||"video"===i.kind;if(T?function(t,r){if("outboundrtp"===r?(n.audioSentPackets=t.packetsSent,n.audioSentPacketsLost=t.packetsLost,n.audioSentBytes=t.bytesSent):"inboundrtp"===r&&(n.audioRecvPackets=t.packetsReceived,n.audioRecvPacketsLost=t.packetsLost,n.audioRecvBytes=t.bytesReceived),void 0===n.audioCodec&&-1!==["Safari"].indexOf(a.default.env.name)&&void 0!==t.codecId){var i=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,o=t.codecId.lastIndexOf("_"),u=s.default.getCodecsAndCodecMap(i,"audio");-1!==o&&void 0!==u&&(n.audioCodec=u.codecMap[t.codecId.substring(o+1)])}}(i,f):I&&function(i,c){if("outboundrtp"===c?(i.hasOwnProperty("qualityLimitationReason")&&(n.videoBandwidthLimitedResolution="bandwidth"===i.qualityLimitationReason,n.cpuLimitedResolution="cpu"===i.qualityLimitationReason),u(i)):"inboundrtp"===c&&(n.videoRecvPackets=i.packetsReceived,n.videoRecvPacketsLost=i.packetsLost,n.videoRecvBytes=i.bytesReceived),(o.default.isFirefox&&["outboundrtp","inboundrtp"].includes(c)||!r&&"inboundrtp"===c)&&(n.videoFrameRate=function(){if(!("videoSentBytes"in n?n.videoSentBytes>0:n.videoRecvBytes>0))return 0;var e=0;if(o.default.isFirefox&&o.default.version<96)e=Number(i.framerateMean);else{var r="outboundrtp"===c?"framesEncoded":"framesDecoded";n[r]=i[r],e=(0,d.default)({currentStatFrames:i[r],currentTimestamp:i.timestamp,prevStatFrames:t[r],prevTimestamp:t.timeStamp||Date.now()})}return e}()),void 0===n.videoCodec&&-1!==["Safari"].indexOf(a.default.env.name)&&void 0!==i.codecId){var l=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,f=i.codecId.lastIndexOf("_"),p=s.default.getCodecsAndCodecMap(l,"video");-1!==f&&void 0!==p&&(n.videoCodec=p.codecMap[i.codecId.substring(f+1)])}}(i,f),i.hasOwnProperty("roundTripTime")){var R=i.mediaType||i.kind;"video"===R?C.push(i.roundTripTime):"audio"===R&&(n.audioRtt=i.roundTripTime)}if("remoteinboundrtp"===f&&i.hasOwnProperty("packetsLost")){var O=i.kind,A="".concat(O,"SentPacketsLost");n[A]||(n[A]=0),n[A]+=i.packetsLost}}else if("transport"===f){var N=i.selectedCandidatePairId,P=i.srtpCipher;n.srtpCipher=P,N&&(w=(0,c.default)(N,l))}else if("localcandidate"===f)p=i.candidateType,v=b(i),k=i.protocol||i.transport;else if("remotecandidate"===f)h=i.candidateType,E=b(i);else if("track"===f&&0!==m.indexOf("video"))_=i.frameWidth,S=i.frameHeight,u(i);else if("mediasource"===f)i.hasOwnProperty("framesPerSecond")&&(n.videoFrameRate=i.framesPerSecond),i.hasOwnProperty("width")&&(n.videoWidthInput=i.width),i.hasOwnProperty("height")&&(n.videoHeightInput=i.height);else if("candidatepair"===f&&i.hasOwnProperty("availableOutgoingBitrate")){var L="video".concat(r?"Sent":"Recv","EstimatedBandwidth");n[L]=parseInt(i.availableOutgoingBitrate,10)}};if("function"===typeof l[Symbol.iterator]){y(e,Array.from(l));for(var T,I=f(l);!(T=I()).done;){var R=T.value;x(Array.isArray(R)?R[1]:R)}}else for(var O in y(e,l),l)l.hasOwnProperty(O)&&x(l[O]);if(e.currentRemoteDescription&&(n.useDtx=s.default.hasSendDtx(e.currentRemoteDescription.sdp)),r&&(n.videoRtt=function(){if(0===C.length)return null;var e=C.filter((function(e){return e>0})),t=e.reduce((function(e,t){return e+t}),0);return e.length?t/e.length:0}()),(n.audioRecvBytes||n.audioSentBytes)&&(n.audioLocalCandidateType=p,n.audioLocalAddress=v,n.audioRemoteCandidateType=h,n.audioRemoteAddress=E,n.audioTransportType=k,n.audioLocalRelayProtocol=w,void 0===n.audioCodec)){var A=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,N=s.default.getCodecs(A,"audio");n.audioCodec=N[0]}if((n.videoRecvBytes||n.videoSentBytes)&&(n.videoLocalCandidateType=p,n.videoLocalAddress=v,n.videoRemoteCandidateType=h,n.videoRemoteAddress=E,n.videoTransportType=k,n.videoLocalRelayProtocol=w,void 0===n.videoCodec)){var P=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,L=s.default.getCodecs(P,"video");n.videoCodec=L[0]}!function(e,t){var n=t?m:g;n.forEach((function(t){e.hasOwnProperty(t)||(e[t]=null)}))}(n,r),n.videoWidth=n.videoWidth||_,n.videoHeight=n.videoHeight||S,i(null,n)})).catch((function(e){i(e)}))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(286));t.default=function(e,t){var n="";if(!e||!t)return n;var r=t.get(e);if(r){var o=r.localCandidateId;if(o){var a=t.get(o);if(a){var s=a.relayProtocol,u=a.priority;if(s){var c=s.toUpperCase();n="TURN/".concat(c)}else n=(0,i.default)(u)}}}return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(){this.value=null,this.changeCount=0}return e.prototype.onValue=function(e){e&&e!==this.value&&(this.value&&(this.changeCount+=1),this.value=e)},e}();t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(51)),o=r(n(3)),a=function(e){void 0===e&&(e={});var t=e.env||o.default;return"Chrome"===t.name&&t.userAgent.toLowerCase().indexOf("android")>-1&&t.version<65},s={once:(0,i.default)((function(){return a()})),check:a};t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(e){void 0===e&&(e={});var t=e.env,n=void 0===t?i.default:t;return!!(n.isiOS&&n.iOSVersion>10)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t,n,r,a,s,u=this,c=e.archiving,l=e.archivingStarted||"Archiving on",d=e.archivingEnded||"Archiving off",f=!0,p=function(e){a.nodeValue=e,t.setAttribute("title",e)},h=function(){s&&(clearTimeout(s),s=null),c?o.default.addClass(n,"OT_active"):o.default.removeClass(n,"OT_active"),o.default.removeClass(u.domElement,"OT_archiving-".concat(c?"off":"on")),o.default.addClass(u.domElement,"OT_archiving-".concat(c?"on":"off")),e.show&&c?(p(l),o.default.addClass(r,"OT_mode-on"),o.default.removeClass(r,"OT_mode-auto"),u.setDisplayMode("on"),s=setTimeout((function(){o.default.addClass(r,"OT_mode-auto"),o.default.removeClass(r,"OT_mode-on")}),5e3)):e.show&&!f?(o.default.addClass(r,"OT_mode-on"),o.default.removeClass(r,"OT_mode-auto"),u.setDisplayMode("on"),p(d),s=setTimeout((function(){u.setDisplayMode("off")}),5e3)):u.setDisplayMode("off")};(0,i.default)(this,{mode:c&&e.show?"on":"off",nodeName:"h1",htmlAttributes:{className:"OT_archiving OT_edge-bar-item OT_edge-bottom"},onCreate:function(){t=o.default.createElement("div",{className:"OT_archiving-light-box"},""),n=o.default.createElement("div",{className:"OT_archiving-light"},""),t.appendChild(n),r=o.default.createElement("div",{className:"OT_archiving-status OT_mode-on OT_edge-bar-item OT_edge-bottom"},""),a=document.createTextNode(""),r.appendChild(a),u.domElement.appendChild(t),u.domElement.appendChild(r),h()}}),this.setShowArchiveStatus=function(t){e.show=t,u.domElement&&h.call(u)},this.setArchiving=function(e){c=e,f=!1,u.domElement&&h.call(u)}};var i=r(n(37)),o=r(n(7))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.env||f.default,r=t.Errors||p.default,g=t.otError||(0,h.default)(),y=t.logging||(0,s.default)("getUserMedia"),b=t.screenSharing||(0,v.default)(),w=t.getDisplayMediaExtensionHelper||m.default,E=t.customGetUserMedia,k=t.global||(void 0!==typeof window?window:__webpack_require__.g),_=t.analytics||new d.default,S=k.navigator,C=k.location,x=function(){var t=function(){return E||(S.mediaDevices?(e=S.mediaDevices).getUserMedia.bind(e):void 0);var e}();return t?t.apply(void 0,arguments):e.reject(new Error("Cannot find getUserMedia"))},T=function(){var t=function(){return E||(S.mediaDevices&&S.getDisplayMedia?S.getDisplayMedia.bind(S):S.mediaDevices&&S.mediaDevices.getDisplayMedia?(e=S.mediaDevices).getDisplayMedia.bind(e):void 0);var e}();return t?t.apply(void 0,arguments):e.reject(new Error("Cannot find getDisplayMedia"))},I=function(){var e={name:r.USER_MEDIA_ACCESS_DENIED,message:"End-user denied permission to hardware devices"},t={name:r.NOT_SUPPORTED,message:"A constraint specified is not supported by the browser."},n={name:r.CONSTRAINTS_NOT_SATISFIED,message:"It's not possible to satisfy one or more constraints passed into the getUserMedia function"},o={name:r.NO_DEVICES_FOUND,message:"No voice or video input devices are available on this machine."},a={name:r.HARDWARE_UNAVAILABLE,message:"The selected voice or video devices are unavailable. Verify that the chosen devices are not in use by another application."},s={name:r.UNABLE_TO_CAPTURE_SCREEN,message:"Unable to capture screen. Unknown error occurred"},u={AbortError:{name:r.UNABLE_TO_CAPTURE_MEDIA,message:"Unable to capture media. Unknown error occurred"},NotAllowedError:e,NotFoundError:o,NotReadableError:a,OverconstrainedError:n,SecurityError:(0,i.default)({},e,{message:"End-user denied permission to hardware devices or user media support may be disabled on this page"}),TypeError:n,PermissionDeniedError:e,PermissionDismissedError:e,NotSupportedError:t,ConstraintNotSatisfiedError:n,MandatoryUnsatisfiedError:n,OverConstrainedError:n,DevicesNotFoundError:o,NoDevicesFoundError:o,HardwareUnavailableError:a,SourceUnavailableError:a,TrackStartError:a,ScreenCaptureError:s,TabCaptureError:s};return(0,l.default)({objectToTrack:u,keys:["PermissionDeniedError","PermissionDismissedError","NotSupportedError","ConstraintNotSatisfiedError","MandatoryUnsatisfiedError","OverConstrainedError","DevicesNotFoundError","NoDevicesFoundError","HardwareUnavailableError","SourceUnavailableError","TrackStartError","ScreenCaptureError","TabCaptureError"],onUsage:function(e){_.logEvent({action:"DeprecatedPropertyUsage:getUserMedia:errorMap",variation:"Event",payload:{key:e}})}}),u}(),R=function(e,t){var n=e;"AbortError"===n&&"string"===typeof t&&t.match(/(screen|tab).?capture/i)&&(n="ScreenCaptureError");var r,i=I[n];return(r=i?g(i.name,new Error("".concat(i.message," (getUserMedia error: ").concat(e,")"))):new Error("Unknown error while getting user media: ".concat(e))).originalMessage=t,r.originalName=e,r};return function(t,i){if(void 0===i&&(i=!1),y.debug("getUserMedia wrapper called with",t),function(e){if(!e||!(0,o.default)(e))return!0;for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}(t))return y.error("Couldn't get UserMedia: All constraints were false"),(0,a.default)(e.reject(g(r.NO_VALID_CONSTRAINTS,new Error("Video and Audio was disabled, you need to enable at least one"))));var s=i&&w.isSupportedInThisBrowser?T:x,l=(0,a.default)(s(t).catch((function(t){var i=function(e){if((0,o.default)(e)&&e.name){var t=e.name,r=e.message;if("Cannot find getUserMedia"!==r&&"Cannot find getDisplayMedia"!==r||(t="Chrome"===n.name&&n.version>73&&"https:"!==k.location.protocol?"NotAllowedError":"NotSupportedError"),"Safari"===n.name&&"Error"===t){var i=Object.prototype.toString.call(e).match(/^\[object (\w+Error)\]$/);i&&(t=i[1])}var a=R(t,r);return a.constraintName=e.constraint||e.constraintName,a instanceof u.default||_.logEvent({action:"UnexpectedError:getUserMedia:parseErrorEvent",variation:"Event",payload:{name:a.name,message:a.message,originalMessage:a.originalMessage}}),a}if("string"===typeof e){var s=R(e);return _.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error is string",error:e}}),s}return _.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error was not string or object with name property",error:e}}),new Error("Unknown error type while getting media")}(t);if(i.name===r.UNABLE_TO_CAPTURE_SCREEN)return new e((function(e,t){b.checkCapability((function(e){if("chrome"===e.extensionRequired){if(e.extensionRegistered&&!e.extensionInstalled){var n=g(r.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,i);n.message="Screen sharing extension not installed see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",t(n)}else if(!e.extensionRegistered){var o=g(r.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,i);o.message="Screen sharing extension not registered see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",t(o)}}else t(i)}))}));throw i})).then((function(e){return y.debug("got stream:",{stream:e,tracks:e.getTracks(),trackLabels:e.getTracks().map((function(e){return e.label}))}),e}))),d=-1!==C.protocol.indexOf("https")?500:100,f=!0,p=function(){f=!1};return l.then(p,p),(0,c.default)(d).then((function(){if(f){var e=function(){l.emit("accessDialogClosed")};l.emit("accessDialogOpened"),l.then(e,e)}})),l}};var i=r(n(9)),o=r(n(11)),a=r(n(6)),s=r(n(1)),u=r(n(21)),c=r(n(93)),l=r(n(640)),d=r(n(25)),f=r(n(3)),p=r(n(8)),h=r(n(13)),v=r(n(162)),m=r(n(294))}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=void 0===e?{}:e,n=t.objectToTrack,r=t.keys,i=t.onUsage;if(!Array.isArray(r)&&void 0!==r)throw new Error("keys must be an array, or undefined");if("function"!==typeof i)throw new Error("onUsage must be a function");if(null==n)throw new Error("Expected objectToTrack to be a trackable object");Object.keys(n).forEach((function(e){if(void 0===r||-1!==r.indexOf(e)){var t=n[e];Object.defineProperty(n,e,{get:function(){return i(e),t},set:function(n){i(e,t=n)},enumerable:!0})}}))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});try{c=e.desktopCapturer||(i.default.isElectron?function(){var e=function(){for(var e=void 0!==typeof window?window:__webpack_require__.g;"function"!==typeof e.require&&e.parent&&e.parent!==e;)e=e.parent;return e}();return(e.require?e.require("electron"):e.electron).desktopCapturer}():null),u=e.isElectronScreenSharingSource||u}catch(t){}return{isSupportedInThisBrowser:null!==c,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!0,window:!0,browser:!0},register:function(){return{isInstalled:function(e){return e(!0)},getConstraints:function(e,t,n){u(e)?n(void 0,{audio:!0,video:!1}):f(e,n)}}}}};var i=r(n(3)),o=r(n(642)),a=r(n(271)),s=o.default.isCallbackBasedAPI,u=a.default,c=null,l=function(e,t){c.getSources(e,t)},d=function(e,t){c.getSources(e).then((function(e){t(void 0,e)}),t)},f=function(e,t){(s?l:d)({types:[e]},(function(n,r){if(n)t(n);else{var i=r[0];if(i){var o={audio:!1,video:{mandatory:{chromeMediaSource:e,chromeMediaSourceId:i.id}}};t(void 0,o)}else t(new Error("Could not find Electron source for screensharing"))}}))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)).default.version<78,o={isCallbackBasedAPI:i,isPromiseBasedAPI:!i};t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(160)),a={isSupportedInThisBrowser:!!i.default.isFirefox&&!o.default,autoRegisters:!0,extensionRequired:!1,extensionInstalled:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:!0,browser:!1},register:function(){return{isInstalled:function(e){e("object"===typeof OTScreenSharing)},getConstraints:function(e,t,n){t.video={mediaSource:e},t.browserWindow&&(t.video.browserWindow=t.browserWindow,delete t.browserWindow),"undefined"!==typeof t.scrollWithPage&&(t.video.scrollWithPage=t.scrollWithPage,delete t.scrollWithPage),n(void 0,t)}}}};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={}),["deviceHelpers","getUserMediaHelper"].forEach((function(t){(0,a.default)(e[t],"".concat(t," dependency must be injected into processPubOptions"))}));var t=e.generateConstraintInfo||E.default,n=e.global||(void 0!==typeof window?window:__webpack_require__.g),r=e.logging||(0,f.default)("processPubOptions"),g=e.navigator||n.navigator,x=e.screenSharing||(0,k.default)(),T=e.env||p.default,I=(0,_.default)({navigator:g||{}}),R=e,O=R.deviceHelpers,A=R.getUserMediaHelper;return function(e,a,f){var p,g,E,k=(0,v.default)(e,a,r),_=(0,b.default)(k.videoSource),R=(0,m.default)(k.audioSource),N=(0,m.default)(k.videoSource),P=!R&&null!==k.audioSource,L=!N&&null!==k.videoSource,M=P||L,D=function(e){return"boolean"===typeof e},j=!_||R||w.default,F=(0,c.default)(k,{mirror:!_&&!N,publishAudio:!0,publishVideo:!0,showControls:!0,fitMode:_?"contain":"cover",insertDefaultUI:!0,enableRenegotiation:!1,enableStereo:!1,enableDtx:!1,disableAudioProcessing:!1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),V=k.audioFallback,Z=void 0===V?{}:V,G=k.audioFallbackEnabled;if(F.publisherAudioFallbackEnabled=null!=(p=Z.publisher)&&p,F.subscriberAudioFallbackEnabled=null!=(g=null!=(E=Z.subscriber)?E:G)?g:!_,void 0===F.videoContentHint||(0,h.isValidVideoContentHint)(F.videoContentHint)||(r.warn("".concat(a,': Invalid content hint. Valid content hints are "text", "detail", "motion", or ""')),F.videoContentHint=""),F.name&&(F.name=String(F.name)),D(F.enableDtx)||(F.enableDtx=!1),D(F.enableStereo)||(F.enableStereo=!1),F.initials&&("string"!==typeof F.initials&&(F.initials=""),F.initials.length>2&&(F.initials="",r.warn("Publisher initials cleared. Only one or two characters allowed for publisher initials.")),F.initials=F.initials.toUpperCase()),F.constraints)r.warn("".concat(a,": You have passed your own constraints not using ours"));else{var W=t(Object.assign({isScreenSharing:_,isCustomAudioTrack:R,isCustomVideoTrack:N},(0,l.default)(F,["audioSource","publishAudio","videoSource","publishVideo","resolution","maxResolution","frameRate","facingMode","enableRenegotiation","enableStereo","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl"]),{env:T,usingOptionalMandatoryStyle:I(_)}));(0,u.default)(F,W)}var U={isScreenSharing:_,isCustomAudioTrack:R,isCustomVideoTrack:N,shouldAllowAudio:j,properties:F};return(0,d.default)(U),U.getUserMedia=(0,o.default)(i.default.mark((function e(){var t,u,c,l,d,p,h,v,m;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U.emit.apply(U,["accessDialogOpened"].concat(t))},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U.emit.apply(U,["accessDialogClosed"].concat(t))},M){e.next=7;break}return c=new n.MediaStream,R&&c.addTrack(k.audioSource),N&&c.addTrack(k.videoSource),e.abrupt("return",c);case 7:if(!_){e.next=15;break}return e.next=10,x.getConstraints({onAccessDialogOpened:t,onAccessDialogClosed:u,videoSource:k.videoSource,constraints:F.constraints});case 10:if(F.constraints=e.sent,!f()){e.next=13;break}throw S(y.default.CANCEL,new Error(C));case 13:e.next=25;break;case 15:return e.next=17,O.shouldAskForDevices();case 17:if(l=e.sent,!f()){e.next=20;break}throw S(y.default.CANCEL,new Error(C));case 20:r.debug("".concat(a,": shouldAskForDevices:"),l),l.video||(r.warn("".concat(a,": Setting video constraint to false, there are no video sources")),F.constraints.video=!1),l.audio||(r.warn("".concat(a,": Setting audio constraint to false, there are no audio sources")),F.constraints.audio=!1),U.videoDevices=l.videoDevices,U.audioDevices=l.audioDevices;case 25:if(d=F.constraints,r.debug("".concat(a,": onConstraintsFound"),d),!f()){e.next=29;break}throw S(y.default.CANCEL,new Error(C));case 29:return p="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=188088",h="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=204106",v=function(e){return"NotReadableError"===e.originalName&&"Failed starting capture of a video track"===e.originalMessage},m=function(){var e=(0,o.default)(i.default.mark((function e(){var n,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=A(d,_)).on("accessDialogOpened",t),n.on("accessDialogClosed",u),e.prev=3,e.next=6,n;case 6:if(o=e.sent,!(T.isiOS&&F.publishVideo&&o.getVideoTracks().length&&"ended"===o.getVideoTracks()[0].readyState)){e.next=11;break}throw o.getTracks().forEach((function(e){return e.stop()})),new Error(p);case 11:return e.abrupt("return",o);case 14:if(e.prev=14,e.t0=e.catch(3),!T.isiOS){e.next=34;break}if(!(v(e.t0)&&T.iOSVersion>=13&&T.iOSVersion<13.4)){e.next=32;break}return e.prev=18,s=A({audio:!0,video:!1},!1),e.next=22,s;case 22:e.sent.getTracks().forEach((function(e){return e.stop()})),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(18),r.debug("".concat(a,": error disposing audio track"),e.t1);case 29:throw new Error(h);case 32:if(e.t0.name!==y.default.HARDWARE_UNAVAILABLE){e.next=34;break}throw new Error(p);case 34:throw e.t0;case 35:return e.prev=35,setTimeout((function(){n.off("accessDialogOpened",t),n.off("accessDialogClosed",u)})),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[3,14,35,38],[18,26]])})));return function(){return e.apply(this,arguments)}}(),e.next=35,(0,s.default)(m,(function(e,t){return!(![p,h].includes(e.message)||1!==t||f())&&1e3}))();case 35:if(c=e.sent,!f()){e.next=39;break}throw c.getTracks().forEach((function(e){e.stop()})),S(y.default.CANCEL,new Error(C));case 39:return R&&c.addTrack(k.audioSource),N&&c.addTrack(k.videoSource),e.abrupt("return",c);case 42:case"end":return e.stop()}}),e)}))),U}};var i=r(n(4)),o=r(n(5)),a=r(n(151)),s=r(n(295)),u=r(n(9)),c=r(n(130)),l=r(n(49)),d=r(n(6)),f=r(n(1)),p=r(n(3)),h=n(296),v=r(n(645)),m=r(n(297)),g=r(n(13)),y=r(n(8)),b=r(n(152)),w=r(n(270)),E=r(n(260)),k=r(n(162)),_=r(n(646)),S=(0,g.default)(),C="getUserMedia request was aborted"},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(38)),o=r(n(3)),a=r(n(297)),s=function(e,t,n){var r=e&&"object"===typeof e?(0,i.default)(e):{};if(!1===r.audioSource&&(r.audioSource=null),!1===r.videoSource&&(r.videoSource=null),void 0===r.minVideoBitrate||"number"===typeof r.minVideoBitrate&&r.minVideoBitrate>0||(n.warn("".concat(t,": Invalid minVideoBitrate in publisher properties. minVideoBitrate must ")+"be a positive number"),delete r.minVideoBitrate),void 0===r.audioBitrate||r.audioBitrate>=6e3&&r.audioBitrate<=51e4||(n.warn("".concat(t,": Invalid audioBitrate in publisher properties. audioBitrate must ")+"be a number between ".concat(6e3," and ").concat(51e4," bits per second")),delete r.audioBitrate),"Firefox"===o.default.name&&o.default.version<49){var s="Firefox 48 and below";(0,a.default)(r.audioSource)&&(r.audioSource=null,n.warn("".concat(t,": Cannot use custom tracks with ").concat(s,". Setting audioSource to null"))),(0,a.default)(r.videoSource)&&(r.videoSource=null,n.warn("".concat(t,": Cannot use custom tracks with ").concat(s,". Setting videoSource to null")))}return r};t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=(void 0===e?{}:e).navigator,n=void 0===t?window.navigator:t;return function(e){return e&&!o.default||!(n.mediaDevices&&n.mediaDevices.getUserMedia)||"Chrome"===a&&s<61}};var i=r(n(3)),o=r(n(269)),a=i.default.name,s=i.default.version},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={}),["processPubOptions"].forEach((function(t){if(!e[t])throw new Error("".concat(t," dependency must be injected into OT.getUserMedia"))}));var t=e.logging||(0,i.default)("getUserMedia"),n=e.processPubOptions;return function(e){return void 0===e&&(e={}),n(e,"OT.getUserMedia",(function(){return!1})).getUserMedia().catch((function(e){throw t.error("OT.getUserMedia failed to getUserMedia: ".concat(e)),e}))}};var i=r(n(1))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(14)),o=r(n(1)),a=r(n(75)),s=n(29),u=(0,o.default)("AudioFallbackState"),c=function(){var e,t=new i.default,n=s.CongestionLevels.LOW,r=a.default.ACTIVE_VIDEO,o=function(e){r=e,t.emit("stateChange",{state:e})},c=(_defineProperty(e={},s.CongestionLevels.LOW,(function(){n=s.CongestionLevels.LOW,o(a.default.ACTIVE_VIDEO)})),_defineProperty(e,s.CongestionLevels.MEDIUM,(function(){n===s.CongestionLevels.LOW&&o(a.default.ACTIVE_VIDEO_WITH_WARNING),n=s.CongestionLevels.MEDIUM})),_defineProperty(e,s.CongestionLevels.CRITICAL,(function(){n=s.CongestionLevels.CRITICAL,o(a.default.SUSPENDED_VIDEO)})),e);return Object.assign(t,{setCongestionLevel:function(e){if(n!==e){var t=c[e];t?t():u.warn("Invalid congestion level: ".concat(e))}},getState:function(){return{videoState:r,congestionLevel:n}},setInternalState:function(e){r=e.videoState,n=e.congestionLevel},reset:function(){n=s.CongestionLevels.LOW,r=a.default.ACTIVE_VIDEO}})};t.default=c},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(650)),o=r(n(14)),a=r(n(651)),s=r(n(652)),u=r(n(300)),c=r(n(301)),l=r(n(654)),d=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n,r=new o.default,d=e.getStats,f=t,p=f.createMovingAverageTracker,h=void 0===p?c.default:p,v=f.createTimeBasedCongestionLevel,m=void 0===v?a.default:v,g=f.createBasicCongestionLevel,y=void 0===g?s.default:g,b=f.createCongestionLevelStats,w=void 0===b?u.default:b,E=f.getFairQualityBandwidthForResolution,k=void 0===E?l.default:E,_=m(),S=y(),C=h(),x=h(),T=h(),I=function(){var e=_.getLevel({bandwidth:T.getMovingAverageValue(),audioPacketLoss:C.getMovingAverageValue()}),t=S.getLevel({bandwidth:T.getMovingAverageValue(),audioPacketLoss:C.getMovingAverageValue(),bandwidthFairThreshold:k(n)}),i=Math.max(e,t);r.emit("congestionLevel",i)},R=w(d);return R.on("statsAvailable",(function(e){!function(e){var t=e.audioPacketLoss,r=e.videoPacketLoss,o=e.bandwidth,a=e.videoResolution;n&&!(0,i.default)(n,a)&&(C.reset(),x.reset(),T.reset()),n=a,C.addValue(t),x.addValue(r),T.addValue(o),I()}(e)})),Object.assign(r,{start:function(){R.start()},stop:function(){R.stop()}})};t.default=d},function(e,t,n){var r=n(144);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(165)),o=n(29),a=(0,r(n(1)).default)("pafdebug:TimeBasedCongestionLevel"),s=function(e){void 0===e&&(e={});var t,n=Object.assign({},i.default,e),r=!1;return{getLevel:function(e){var i=e.audioPacketLoss,s=function(e){return a.info("".concat(e),{audioPacketLoss:i,params:n})};if(i<n.packetLossCriticalThreshold)return r=!1,o.LOW;var u=Date.now();return r||(t=u,r=!0),u>t+n.criticalCongestionPeriod?(s("CRITICAL"),o.CRITICAL):u>t+n.criticalCongestionPeriod/2?(s("MEDIUM"),o.MEDIUM):o.LOW}}};t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(165)),o=n(29),a=(0,r(n(1)).default)("pafdebug:BasicConnectionLevel"),s=["LOW","MEDIUM","CRITICAL"],u=function(e){void 0===e&&(e={});var t=Object.assign({},i.default,e);return{getLevel:function(e){var n,r=e.bandwidth,i=e.audioPacketLoss,u=e.bandwidthFairThreshold,c=function(e){return a.info("".concat(s[n]," Branch: ").concat(e),{bandwidth:r,audioPacketLoss:i,bandwidthFairThreshold:u,params:t})};if(r<=0)return i>t.packetLossCriticalThresholdMediumBw?(n=o.CRITICAL,c("audioPacketLoss > params.packetLossCriticalThresholdMediumBw")):n=o.LOW,n;if(r>=u?n=o.LOW:r>=t.bandwidthCriticalThreshold?r>=(t.bandwidthCriticalThreshold+u)/2?i>2*t.packetLossCriticalThresholdMediumBw?(n=o.CRITICAL,c("audioPacketLoss > params.packetLossCriticalThresholdMediumBw * 2.0")):(n=o.MEDIUM,c("!audioPacketLoss > params.packetLossCriticalThresholdMediumBw * 2.0")):i>t.packetLossCriticalThresholdMediumBw?(n=o.CRITICAL,c("audioPacketLoss > params.packetLossCriticalThresholdMediumBw")):(n=o.MEDIUM,c("audioPacketLoss > params.packetLossCriticalThresholdMediumBw")):i>t.packetLossCriticalThreshold?(n=o.CRITICAL,c("audioPacketLoss > params.packetLossCriticalThreshold")):(n=o.MEDIUM,c("audioPacketLoss > params.packetLossCriticalThreshold")),void 0===n)throw new Error("undefined congestion level");return n}}};t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.parseStats=t.getVideoResolution=t.getVideoPacketStats=t.getVideoPacketLoss=t.getSelectedCandidatePairId=t.getBandwidth=t.getAudioPacketStats=t.getAudioPacketLoss=void 0;var r=function(e,t){var n=e.filter((function(e){var n=e.type,r=e.kind;return"outbound-rtp"===n&&r===t})),r=e.filter((function(e){var n=e.type,r=e.kind;return"remote-inbound-rtp"===n&&r===t}));return{packetsSent:n.reduce((function(e,t){return e+t.packetsSent}),0),packetsLost:r.reduce((function(e,t){return e+t.packetsLost}),0)}},i=function(e){return e.filter((function(e){var t=e.type,n=e.kind;return"outbound-rtp"===t&&"video"===n})).filter((function(e){return void 0!==e.frameHeight&&void 0!==e.frameWidth})).reduce((function(e,t){return{width:Math.max(e.width,t.frameWidth),height:Math.max(e.height,t.frameHeight)}}),{width:0,height:0})};t.getVideoResolution=i;var o=function(e){var t=r(e,"audio"),n=t.packetsSent;return{audioPacketsLost:t.packetsLost,audioPacketsSent:n}};t.getAudioPacketStats=o;var a=function(e){var t=r(e,"video"),n=t.packetsSent;return{videoPacketsLost:t.packetsLost,videoPacketsSent:n}};t.getVideoPacketStats=a;var s=function(e){var t=e.find((function(e){return"transport"===e.type}));return null==t?void 0:t.selectedCandidatePairId};t.getSelectedCandidatePairId=s;var u=function(e){var t=function(e,t){if(t){var n=e.find((function(e){var n=e.id,r=e.type;return n===t&&"candidate-pair"===r}));return null==n?void 0:n.availableOutgoingBitrate}}(e,s(e));if(void 0!==t)return t;var n=e.find((function(e){var t=e.type,n=e.availableOutgoingBitrate;return"candidate-pair"===t&&void 0!==n}));return null==n?void 0:n.availableOutgoingBitrate};t.getBandwidth=u,t.parseStats=function(e){var t=o(e),n=t.audioPacketsSent,r=t.audioPacketsLost,s=a(e),c=s.videoPacketsSent,l=s.videoPacketsLost;return{bandwidth:u(e),audioPacketsSent:n,audioPacketsLost:r,videoPacketsSent:c,videoPacketsLost:l,videoResolution:i(e)}};var c=function(e,t,n){var r,i,o=t["".concat(e,"PacketsSent")]-n["".concat(e,"PacketsSent")],a=t["".concat(e,"PacketsLost")]-n["".concat(e,"PacketsLost")];return r=a,0===(i=o)?0:r/i};t.getAudioPacketLoss=function(e,t){return c("audio",e,t)},t.getVideoPacketLoss=function(e,t){return c("video",e,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=[{width:"320",height:"180",fairQualityBitrate:12e4},{width:"320",height:"240",fairQualityBitrate:12e4},{width:"352",height:"288",fairQualityBitrate:125e3},{width:"480",height:"270",fairQualityBitrate:125e3},{width:"640",height:"360",fairQualityBitrate:15e4},{width:"640",height:"480",fairQualityBitrate:15e4},{width:"960",height:"540",fairQualityBitrate:15e4},{width:"1280",height:"720",fairQualityBitrate:4e5},{width:"1920",height:"1080",fairQualityBitrate:5e5}].sort((function(e,t){return e.fairQualityBitrate-t.fairQualityBitrate})),i=25e4,o=r.reduce((function(e,t){var n=t.fairQualityBitrate;return Math.max(e,n)}),i),a=function(e){var t,n=e.width,a=e.height;return n&&a?(null==(t=r.find((function(e){var t=e.height,r=e.width;return a*n<=t*r})))?void 0:t.fairQualityBitrate)||o:i};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(14)),o=r(n(656)),a=n(29),s=r(n(302)),u=function(e){void 0===e&&(e={});var t,n,r=new i.default,u=e,c=u.getStats,l=u.setVideoActive,d=u.createNetworkProbe,f=void 0===d?o.default:d,p=function(){var e,r;null==(e=t)||e.removeAllListeners(),clearTimeout(n),null==(r=t)||r.stop(),t=void 0};return Object.assign(r,{start:function(e){var i=(void 0===e?{}:e).getDelayForProbeNumber,o=void 0===i?s.default:i;t&&p(),t=f({getStats:c});var u=0,d=function(){var e=o(u);u++,n=setTimeout((function(){l(!0),t.start()}),e)};t.on("probeResult",(function(e){e===a.LOW?r.emit("networkRecovered"):(l(!1),d())})),d()},stop:p})};t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(14)),o=r(n(657)),a=n(29),s=(0,r(n(1)).default)("networkProbe"),u=function(e){void 0===e&&(e={});var t=new i.default,n=e,r=n.getStats,u=n.createRecoveryCongestionLevelCalculator,c=void 0===u?o.default:u,l=0,d=c({getStats:r}),f=function(e){d.stop(),s.info("Network probe result ".concat(e)),t.emit("probeResult",e)};return d.on("congestionLevel",(function(e){l+=1,e===a.CRITICAL?f(a.CRITICAL):l>=20&&(e===a.LOW?f(a.LOW):f(a.CRITICAL))})),Object.assign(t,{start:function(){s.info("Start network probe"),d.start()},stop:function(){s.info("Stop network probe"),d.stop(),l=0}})};t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(14)),o=r(n(658)),a=r(n(300)),s=r(n(301)),u=function(e){void 0===e&&(e={});var t=new i.default,n=e,r=n.getStats,u=n.createMovingAverageTracker,c=void 0===u?s.default:u,l=n.createBandwidthCongestionLevel,d=void 0===l?o.default:l,f=n.createCongestionLevelStats,p=void 0===f?a.default:f,h=d(),v=c(),m=c(),g=p(r),y=function(){g.stop(),v.reset(),m.reset()};return g.on("statsAvailable",(function(e){var n=e.audioPacketLoss,r=e.videoPacketLoss;v.addValue(n),m.addValue(r);var i=h.getLevel({audioPacketLoss:v.getMovingAverageValue(),videoPacketLoss:m.getMovingAverageValue()});t.emit("congestionLevel",i)})),Object.assign(t,{start:function(){g.start()},stop:function(){y()}})};t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(165)),o=n(29),a=function(e){void 0===e&&(e={});var t=Object.assign({},i.default,e).packetLossCriticalThreshold,n=.5*t,r=.8*t,a=.5*r;return{getLevel:function(e){var i=e.audioPacketLoss,s=e.videoPacketLoss;return i>r||s>t?o.CRITICAL:i>a||s>n?o.MEDIUM:o.LOW}}};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=function(e){return e>=15&&e<15.4};t.default=function(e){return!!(e=e||i.default).isiPad||(e.isiPhone?o(e.iOSVersion):!!e.isSafari&&o(e.version))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=[{width:320,height:180,maxBitrate:3e5},{width:320,height:240,maxBitrate:4e5},{width:352,height:288,maxBitrate:5e5},{width:480,height:270,maxBitrate:55e4},{width:640,height:360,maxBitrate:8e5},{width:640,height:480,maxBitrate:8e5},{width:960,height:540,maxBitrate:11e5},{width:1280,height:720,maxBitrate:25e5},{width:1920,height:1080,maxBitrate:45e5}].sort((function(e,t){return e.maxBitrate-t.maxBitrate})),i=45e5,o=function(e,t){var n;return e&&t&&(null==(n=r.find((function(n){var r=n.height,i=n.width;return t*e<=r*i})))?void 0:n.maxBitrate)||i};t.default=o},function(e,t,n){var r=n(63),i=n(105),o=n(36);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=setTimeout((function(){e((function(e,n){if(!e)for(var r=0;r<n.length;r+=1){var i=n[r];-1===i.id.indexOf("_send")||"ssrc"!==i.type||"audio"!==i.kind&&"audio"!==i.mediaType||0!==parseInt(i.bytesSent,10)||t()}}))}),3e3);return function(){clearTimeout(n)}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=n(303),o=r(n(302)),a=function(e){return 0===e?5*i.ONE_SECOND_IN_MS:(0,o.default)(e-1)};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(){return function(e,t){var n=this,r={},s=[],u=!1,c=!1;this._id=(0,i.default)();var l=function(){n.trigger("iceConnected"),u=!0};(0,o.default)(this);var d=t.getPeerConnection(e,this);d.on({iceConnected:l,close:function(){return n.trigger("close")},signalingStateChange:function(e){return n.trigger("signalingStateChange",e)},signalingStateStable:function(e){return n.trigger("signalingStateStable",e)},error:function(e){var t=e.reason,r=e.prefix;return n.trigger("error",t,r)},qos:function(e){e.parsedStats.isSinglePeerConnection=!0,n.trigger("qos",e)},iceConnectionStateChange:function(e){return n.trigger("iceConnectionStateChange",e)},remoteVideoSupported:function(e){return n.trigger("remoteVideoSupported",e)},negotiationNeeded:function(){c&&(c=!1,t.removeFromSinglePeerConnection(n._id))}},this),this._onTrackAdded=function(e){var t=e.track,i=e.transceiver;r[t.id]=i.mid,s.push(t),d.iceConnectionStateIsConnected()&&!u&&l(),n.trigger("trackAdded",e)},this.disconnect=function(){c=!0,t.removeSubscriber(n._id,Object.values(r))},this.removeTrack=function(e){r[e.id]&&t.removeSubscriber(n._id,[r[e.id]]),(0,a.default)(s,e),t.removeTrack(e,n._id)},this.remoteTracks=function(){return s},this.generateOfferAndSend=function(){return d.generateOfferAndSend()},this.getDataChannel=function(e,t,n){d.getDataChannel(e,t,n)},this.getSourceStreamId=function(){return d.getSourceStreamId()},this.processMessage=function(e,n){"offer"!==e&&"answer"!==e||t.cacheOfferAnswer(n.content),d.processMessage(e,n)},this.remoteDescription=function(){return d.remoteDescription()},this.getStats=function(e){d.getStats(e)},this.getSynchronizationSources=function(e){d.getSynchronizationSources(e)},this.getRtcStatsReport=function(e){d.getRtcStatsReport(e)},this.remoteStreams=function(){return d.remoteStreams()},this.hasRelayCandidates=function(){return d.hasRelayCandidates()},this.iceRestart=function(){return d.iceRestart()},this.iceConnectionStateIsConnected=function(){return d.iceConnectionStateIsConnected()}}};var i=r(n(16)),o=r(n(6)),a=r(n(307))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n=!1);var i=null,o=0,a=null,s=n,u=function(e){return"inbound-rtp"===e.type&&"audio"===(e.kind||e.mediaType)},c=function(e){return e.id===a&&"track"===e.type&&"audio"===(e.kind||e.mediaType)},l=setInterval((function(){e((function(e,n){if(!e){var r=n.find(u)||{};a=r.trackId;var d=n.find(c);if(d){var f=d.audioLevel,p=d.totalSamplesReceived;if(void 0===f)return;!function(e,t){return e===i&&t===o}(f,p)?function(e,t){return!s&&0===e&&0===i&&t>o}(f,p)&&(clearInterval(l),t("audioLevelStuckAt0")):(clearInterval(l),t("audioLevelStuck")),i=f,o=p}}}))}),500);return n||setTimeout((function(){s=!0}),r),{stop:function(){clearInterval(l)}}};var r=3e3},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.analytics||l,r=t.errors||c.default,a=t.ExceptionCodes||o.default,d=t.otError||(0,u.default)(),f=t.sessionObjects||s.default,p=t.uuid||i.default;return function(t){void 0===t&&(t=function(){});var i=p();function o(e){e?t(d(r.REPORT_ISSUE_FAILED,new Error("Error calling OT.reportIssue(). Check the client's network connection."),a.REPORT_ISSUE_ERROR)):t(null,i)}0===f.sessions.length()?n.logEvent({action:"ReportIssue",variation:"Event",payload:{reportIssueId:i}},null,o):e.all(f.sessions.map((function(e){return e.reportIssue({id:i})}))).then((function(){return o()}),(function(e){return o(e)}))}};var i=r(n(16)),o=r(n(10)),a=r(n(25)),s=r(n(23)),u=r(n(13)),c=r(n(8)),l=new a.default}).call(this,n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(309),a=(r=o)&&r.__esModule?r:{default:r},s=function(){},u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalIsCanceled=!1,this.listeners=[]}return i(e,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach((function(e){return e()})),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new a.default("Operation has been canceled.")}},{key:"onCancel",value:function(e){var t=this;return this.internalIsCanceled?s:(this.listeners.push(e),function(){if(t.listeners){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}})}},{key:"fork",value:function(){if(this.internalIsCanceled)return e.CANCELED;var t=new e;return this.onCancel((function(){return t.cancel()})),t}}]),e}();t.default=u,u.CANCELED=new u,u.CANCELED.internalIsCanceled=!0},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return void 0===t&&(t="px"),String(parseFloat(e,10))===String(e).trim()?"".concat(String(e).trim()).concat(t):e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=e.window,n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});t.addEventListener("testPassive",null,r),t.removeEventListener("testPassive",null,r)}catch(i){}return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 300 300"),t.setAttribute("style","width: 50%; dominant-baseline: middle; text-anchor: middle;");var n=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("cx","50%"),e.setAttribute("cy","50%"),e.setAttribute("r","50%"),e.setAttribute("fill","%23000000"),e}(),r=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x","50%"),t.setAttribute("y","50%"),t.setAttribute("dy","5%"),t.setAttribute("line-height","133%"),t.setAttribute("font-size","108"),t.setAttribute("font-weight","500"),t.setAttribute("font-style","normal"),t.setAttribute("fill","%23FFFFFF"),t.setAttribute("font-family","spezia,sans-serif"),t.setAttribute("dominant-baseline","middle"),t.setAttribute("text-anchor","middle");var n=document.createTextNode(e);return t.appendChild(n),t}(e);return t.appendChild(n),t.appendChild(r),t}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e,t){var n,r;if(e&&e.nodeName?((n=e).getAttribute("id")&&0!==n.getAttribute("id").length||n.setAttribute("id","OT_".concat((0,i.default)())),r=n.getAttribute("id")):e&&(n=document.getElementById(e))&&(r=e),r||(r="OT_".concat((0,i.default)().replace(/-/g,"_"))),!n)return(n=document.createElement("div")).id=r,n.setAttribute("id",r),n.style.backgroundColor="#000000",document.body.appendChild(n),n;var o=document.createElement("div");switch(o.id="OT_".concat((0,i.default)()),t){case"append":return n.appendChild(o),o;case"before":return n.parentNode.insertBefore(o,n),o;case"after":return n.parentNode.insertBefore(o,n.nextSibling),o;default:for(;n.firstChild;)n.removeChild(n.firstChild);return n}};var i=r(n(16))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=e.clientWidth,n=e.clientHeight;e.classList.remove("OT_micro"),e.classList.remove("OT_mini"),(t<s||n<u)&&(e.classList.add("OT_micro"),i.debug("OT_micro class added",{clientWidth:t,clientHeight:n,microWidth:s,microHeight:u})),(t<o||n<a)&&(e.classList.add("OT_mini"),i.debug("OT_mini class added",{clientWidth:t,clientHeight:n,miniWidth:o,miniHeight:a}))};var i=(0,r(n(1)).default)("WidgetView:fixMini"),o=128,a=128,s=64,u=64},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(310)),o=r(n(156)),a=r(n(57));(0,r(n(106)).default)();var s=function(t,n){void 0===n&&(n=5e3);var r=(0,a.default)(t),s=new e((function(e){r.on("timeupdate",e),r.on("loadedmetadata",e)}));return(0,i.default)((0,o.default)(s,n,(function(){return!1})),(function(){return r.removeAll()}))};t.default=s}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(310)),o=r(n(156)),a=r(n(57));(0,r(n(106)).default)();var s=function(t,n){var r=(0,a.default)(t),s=new e((function(e){var n=function(){(t.videoWidth()>2||t.videoHeight()>2)&&e(!0)};r.on("videoDimensionsChanged",n),n()}));return(0,i.default)((0,o.default)(s,n,(function(){return!1})),(function(){return r.removeAll()}))};t.default=s}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(72)),o=function(e){var t=e.connectivityState,n=e.logAttempt,r=new i.default(n,.2,6);t.observe({onEnterConnecting:function(){r.start()},onEnterDisconnected:function(){r.stop()},onEnterConnected:function(){r.stop()}})};t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(313)),o=function(e){var t=e.onInvalidTransition;return new i.default({init:"disconnected",transitions:[{name:"beginConnect",from:"disconnected",to:"connecting"},{name:"connect",from:"connecting",to:"connected"},{name:"fail",from:["connecting","connected"],to:"disconnected"},{name:"cancel",from:["connecting","connected"],to:"disconnected"},{name:"disconnect",from:["connecting","connected"],to:"disconnected"}],methods:{onInvalidTransition:t}})};t.default=o},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(72));t.default=function(t){var n=(void 0===t?{}:t).asynchronous;return void 0!==n&&n?function(t,n){var r=void 0===n?{}:n,s=r.frequency,u=void 0===s?10:s,c=r.timeout,l=void 0===c?2e3:c;return new e((function(e,n){var r,s=new a.default((0,o.default)(i.default.mark((function n(){var a,u;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){return(u=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)},a=function(){return u.apply(this,arguments)},n.next=4,a();case 4:n.sent&&(clearTimeout(r),s.stop(),e());case 6:case"end":return n.stop()}}),n)}))),u);r=setTimeout((function(){s.stop(),n(new Error("TIMEOUT"))}),l),s.start()}))}:function(t,n){var r=void 0===n?{}:n,i=r.frequency,o=void 0===i?60:i,s=r.timeout,u=void 0===s?2e3:s;return new e((function(e,n){var r,i=new a.default((function(){(function(){try{return t()}catch(e){return!1}})()&&(clearTimeout(r),i.stop(),e())}),o);r=setTimeout((function(){i.stop(),n(new Error("TIMEOUT"))}),u),i.start()}))}}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=e.connectivityState,n=e.onWarning,r=e.onTimeout,i=e.warningMs,o=e.timeoutMs,a=[],s=function(){a.forEach((function(e){return clearTimeout(e)}))};t.observe({onEnterConnecting:function(){a.push(setTimeout(n,i),setTimeout(r,o))},onEnterConnected:s,onEnterDisconnected:s})}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(10)),o=r(n(13)),a=r(n(8)),s=(0,o.default)();t.default=function(e){return"404"===String(e.code)?s(a.default.STREAM_NOT_FOUND,new Error("stream not found"),i.default.UNABLE_TO_SUBSCRIBE):"409"===String(e.code)&&"streamLimitExceeded"===e.message?s(a.default.STREAM_LIMIT_EXCEEDED,new Error("The limit for concurrent streams in the session has been reached"),i.default.STREAM_LIMIT_EXCEEDED):"405"===String(e.code)&&"IncompatibleEncryptionSettings"===e.message?s(a.default.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to an encrypted stream without enabling encryption"),i.default.UNABLE_TO_SUBSCRIBE):"500"===String(e.code)&&"Not connected."===e.message?s(a.default.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to a stream while disconnected."),i.default.UNABLE_TO_SUBSCRIBE):s(a.default.UNABLE_TO_SUBSCRIBE,new Error("subscriberCreate failed with unexpected code ".concat(e.code,": ").concat(e.message)),i.default.UNEXPECTED_SERVER_RESPONSE)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(26)),o=r(n(50)),a=r(n(109)),s=(0,r(n(22)).default)();t.default=function(e){var t=e.subscriber,n=e.audioLevelSampler,r=0,u=0,c=new a.default((function(){var e=t.listenerCount(i.default.AUDIO_LEVEL_UPDATED);(0,o.default)()-u>1e4&&0===e?c.stop():(r=n.sample(),e>0&&t.dispatchEvent(new s.AudioLevelUpdatedEvent(r)))}));return Object.defineProperty(t,"loudness",{get:function(){return c.start(),u=(0,o.default)(),r},set:function(){throw new TypeError("Cannot set readonly property loudness")},configurable:!0}),t.listenerCount(i.default.AUDIO_LEVEL_UPDATED)&&c.start(),t.on("audioLevelUpdated:added",(function(){c.start()})),t.once(i.default.SUBSCRIBER_DESTROYED,(function(){c.stop()})),{destroy:function(){n.destroy(),c.stop()}}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(1)),o=r(n(257)),a=r(n(129)),s=r(n(682)),u=r(n(315)),c=r(n(316)),l=r(n(128)),d=r(n(683)),f=(0,l.default)(),p=(0,i.default)("Subscriber"),h=function(e,t){void 0===t&&(t={});var n=t.hasGetSynchronizationSupport;if(e){if((0,s.default)({hasGetSynchronizationSupport:n}))return new o.default(e.getSynchronizationSources);if((0,u.default)())return new o.default(e.getStats);if((0,c.default)()){var r;try{r=t.audioContext||f()}catch(i){p.warn("Failed to get AudioContext()",i)}if((0,d.default)(r))return new a.default(r)}}};t.default=h},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=function(){return window.RTCRtpReceiver&&"getSynchronizationSources"in window.RTCRtpReceiver.prototype},a=function(e){void 0===e&&(e={});var t=e.hasGetSynchronizationSupport||o;return"boolean"===typeof e.isEnabled&&e.isEnabled&&t()&&!i.default.isFirefox};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return(void 0!==typeof window?window:n.g).AudioContext&&e instanceof(void 0!==typeof window?window:n.g).AudioContext||(void 0!==typeof window?window:n.g).webkitAudioContext&&e instanceof(void 0!==typeof window?window:n.g).webkitAudioContext}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=this,n=!1,r=function(e){var r=["auto","on"].indexOf(t.getDisplayMode())>-1;o.default.removeClass(e,["OT_audio-blocked","OT_active"].join(" ")),r&&(n&&o.default.addClass(e,"OT_audio-blocked"),o.default.addClass(e,"OT_active"))};this.setAudioBlocked=function(e){n=e,r(t.domElement)},(0,i.default)(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-blocked-indicator"}});var a=this.setDisplayMode.bind(this);this.setDisplayMode=function(e){a(e),r(t.domElement)}};var i=r(n(37)),o=r(n(7))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=this,n=!1,r=function(e){var r=["auto","on"].indexOf(t.getDisplayMode())>-1;o.default.removeClass(e,["OT_active"].join(" ")),r&&n&&o.default.addClass(e,"OT_active")};this.setVideoUnsupported=function(e){n=e,r(t.domElement)},(0,i.default)(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-unsupported"},htmlContent:'<div class="OT_video-unsupported-bar"></div><div class="OT_video-unsupported-img"></div><span class="OT_video-unsupported-text">Video format not supported</span>'});var a=this.setDisplayMode.bind(this);this.setDisplayMode=function(e){a(e),r(t.domElement)}};var i=r(n(37)),o=r(n(7))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(9)),o=r(n(62)),a=r(n(49)),s=r(n(76)),u=r(n(159)),c=function(e,t){var n;void 0===t&&(t=5e3);var r=!1,c={};return function u(){r||e((function(e,l){if(!r){if(!e){var d=function(e){return void 0===e&&(e=[]),(0,o.default)(e,(function(e){return s.default.isVideoInboundRtpStat(e)}))}(l);d?(0,i.default)(c,(0,a.default)(d,["timestamp","framesDecoded"])):c.timestamp||(0,i.default)(c,{timestamp:Date.now(),framesDecoded:0})}n=setTimeout(u,t)}}))}(),{getFrameRateFromStat:function(e){return(0,u.default)({currentStatFrames:e.framesDecoded,currentTimestamp:e.timestamp,prevStatFrames:c.framesDecoded,prevTimestamp:c.timestamp})},destroy:function(){r=!0,n&&(clearTimeout(n),n=null)}}};t.default=c},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(690),i=n(265),o=r((function(e,t,n){return e+(n?" ":"")+i(t)}));e.exports=o},function(e,t,n){var r=n(691),i=n(692),o=n(695),a=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(i(t).replace(a,"")),e,"")}}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t,n){var r=n(693),i=n(61),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(a,"")}},function(e,t,n){var r=n(694)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(696),i=n(697),o=n(61),a=n(698);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?i(e)?a(e):r(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n="\\ud800-\\udfff",r="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+a+"]",u="\\d+",c="["+r+"]",l="["+i+"]",d="[^"+n+a+u+r+i+o+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+o+"]",v="(?:"+l+"|"+d+")",m="(?:"+h+"|"+d+")",g="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",w="[\\ufe0e\\ufe0f]?",E=w+b+"(?:\\u200d(?:"+["[^"+n+"]",f,p].join("|")+")"+w+b+")*",k="(?:"+[c,f,p].join("|")+")"+E,_=RegExp([h+"?"+l+"+"+g+"(?="+[s,h,"$"].join("|")+")",m+"+"+y+"(?="+[s,h+v,"$"].join("|")+")",h+"?"+v+"+"+g,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u,k].join("|"),"g");e.exports=function(e){return e.match(_)||[]}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(14)),s=r(n(700)),u=r(n(75)),c=n(29),l=u.default.ACTIVE_VIDEO,d=u.default.ACTIVE_VIDEO_WITH_WARNING,f=u.default.SUSPENDED_VIDEO,p=function(e){var t=e.getAllPeerConnections,n=e.AnalyticsHelper,r=new a.default,u=new n,p=(0,s.default)();p.on("stateChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["stateChange"].concat(t))}));var h=function(){var e=(0,o.default)(i.default.mark((function e(){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n=e.sent,r=n.reduce((function(e,t){var n;return Math.max(e,null==(n=t.getAudioFallbackState())?void 0:n.videoState)}),l),p.setState(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object.assign(r,{onPeerConnectionStateChange:function(e){var t=e.state,n=e.peerConnection,r=e.publishVideo,i=e.stream,o=e.peerId,a=e.connectionId,s=e.sessionId;if(r){var p="MANTIS"===n.getSourceStreamId()?void 0:o;switch(t){case l:i.setChannelActiveState("video",!0,"auto",c.LOW,p);break;case d:i.setChannelActiveState("video",!0,"auto",c.MEDIUM,p);break;case f:i.setChannelActiveState("video",!1,"auto",c.CRITICAL,p)}u.logEvent({action:"congestionLevelChanged",payload:{congestionLevel:t},streamId:i.id,sessionId:s,connectionId:a})}h()},onPeerConnectionDisconnected:function(){h()},reset:function(){return p.reset()},getState:function(){return p.getState()}})};t.default=p},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(14)),o=r(n(75)),a=function(){var e=new i.default,t=o.default.ACTIVE_VIDEO;return Object.assign(e,{getState:function(){return t},setState:function(n){if(!Object.values(o.default).includes(n))throw new Error("Invalid video state: ",n);if(n!==t){var r=t;t=n,e.emit("stateChange",{state:t,previousState:r})}},reset:function(){t=o.default.ACTIVE_VIDEO}})};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=!1;return function(){var n=(0,o.default)(i.default.mark((function n(){var r,o,a,s=arguments;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}throw new Error("The previous call to this function has not yet completed.");case 2:for(t=!0,n.prev=3,r=s.length,o=new Array(r),a=0;a<r;a++)o[a]=s[a];return n.next=7,e.call.apply(e,[this].concat(_toConsumableArray(o)));case 7:return n.abrupt("return",n.sent);case 8:return n.prev=8,t=!1,n.finish(8);case 11:case"end":return n.stop()}}),n,this,[[3,,8,11]])})));return function(){return n.apply(this,arguments)}}()};var i=r(n(4)),o=r(n(5))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(49)),o=r(n(320)),a=r(n(275));t.default=function(e){var t=(0,i.default)(e,["audioDeviceId","audioFallback","audioFallbackEnabled","audioSource","channels","classNames","constraints","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl","enableRenegotiation","enableStereo","facingMode","fitMode","frameRate","height","insertDefaultUI","insertMode","audioBitrate","maxResolution","minVideoBitrate","mirror","name","publishAudio","publishVideo","publishCaptions","resolution","scalableScreenshare","scalableVideo","showControls","style","videoContentHint","videoDeviceId","videoDimensions","videoFilter","videoSource","width"]);return t.style&&(t.style=(0,a.default)(t.style)),t.videoFilter&&(t.videoFilter=(0,o.default)(t.videoFilter)),t}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(26)),o=r(n(50)),a=r(n(109)),s=(0,r(n(22)).default)();t.default=function(e){var t=e.publisher,n=e.widgetView,r=0,u=0,c=new a.default((function(){var e=t.listenerCount(i.default.AUDIO_LEVEL_UPDATED);if((0,o.default)()-u>1e4&&0===e)c.stop();else{var a=n&&n.video();if(a){var l=a.getAudioInputLevel();r=l,e>0&&t.dispatchEvent(new s.AudioLevelUpdatedEvent(l))}}}));Object.defineProperty(t,"loudness",{get:function(){return c.start(),u=(0,o.default)(),r},set:function(){throw new TypeError("Cannot set readonly property loudness")}}),t.listenerCount(i.default.AUDIO_LEVEL_UPDATED)&&c.start(),t.on("audioLevelUpdated:added",(function(){c.start()})),t.once(i.default.PUBLISHER_DESTROYED,(function(){c.stop()}))}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=document.createElement("canvas");if(!t.captureStream)throw a(o.default.NOT_SUPPORTED,new Error("Your browser does not support HTMLCanvasElement.captureStream()"));t.width=e.width,t.height=e.height,t.getContext("2d").fillRect(0,0,1,1);var n=t.captureStream().getVideoTracks()[0];return n.isCreatedCanvas=!0,n.enabled=!1,n};var i=r(n(13)),o=r(n(8)),a=(0,i.default)()},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){if(!e)return null;var n=e.getVideoTracks()[0];return n?function(e,t){return function(e){return e.getSettings&&e.getSettings().deviceId}(e)||function(e){var t;return e.getConstraints&&e.getConstraints().deviceId&&(t=e.getConstraints().deviceId.exact),t}(e)||function(e,t){var n;if(t&&t.length){var r=t.find((function(t){return t.label===e.label}));r&&(n=r.deviceId)}return n}(e,t)}(n,t):null}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(10)),o=r(n(8)),a=(0,r(n(13)).default)();t.default=function(e){var t=String(e.code);return"405"===t&&"IncompatibleEncryptionSettings"===e.message?a(o.default.STREAM_CREATE_FAILED,new Error("IncompatibleEncryptionSettings: Tried to publish a stream to an encrypted session without enabling encryption"),i.default.UNABLE_TO_PUBLISH):["403","404","409"].includes(t)?a(o.default.STREAM_CREATE_FAILED,new Error("Failed to create stream in server model: ".concat(e.message)),i.default.UNABLE_TO_PUBLISH):a(o.default.UNEXPECTED_SERVER_RESPONSE,new Error("Unexpected server response: ".concat(e.message)),i.default.UNEXPECTED_SERVER_RESPONSE)}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(1)),s=r(n(3)),u=r(n(321)),c=r(n(709)),l=n(97),d=(0,a.default)("MediaProcessor");function f(e){var t=this;void 0===e&&(e={});var n,r,a,s,f=e,p=f.ML,h=void 0===p?u.default:p,v=f.MediaTransform,m=void 0===v?c.default:v,g=f.getProxyUrl,y=void 0===g?l.getProxyUrl:g;this.isValidVideoFilter=function(e){var t=e.type;return m.isSupported(t)&&m.isValidConfig(e)},this.canUpdateVideoFilter=function(e){return["backgroundBlur","backgroundReplacement"].includes(e)},this.updateVideoFilter=function(){var e=(0,o.default)(i.default.mark((function e(n){var o,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.type,t.canUpdateVideoFilter(o)){e.next=4;break}return d.warn('Ignoring: filter "'.concat(o,"\" doesn't support real-time updates")),e.abrupt("return");case 4:return s=m.getConfigurator(o),u=s.getConfig(Object.assign({proxyUrl:y()},n)),e.next=8,r.setBackgroundOptions(u);case 8:a=n;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setVideoFilter=function(){var e=(0,o.default)(i.default.mark((function e(o){var s,u,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.type,u=m.getConfigurator(s)){e.next=5;break}return d.warn('Ignoring: filter "'.concat(s,"\" isn't supported")),e.abrupt("return");case 5:if(c=u.getConfig(Object.assign({proxyUrl:y()},o))){e.next=9;break}return d.warn("Ignoring: couldn't configure filter ".concat(s)),e.abrupt("return");case 9:if(!t.getVideoFilter()){e.next=20;break}return e.prev=11,e.next=14,t.destroy();case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(11),d.warn("Ignoring, couldn't remove previous filter: ".concat(e.t0)),e.abrupt("return");case 20:return e.next=22,h.createProcessor(c);case 22:return r=e.sent,e.next=25,r.getConnector();case 25:n=e.sent,a=o;case 27:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}(),this.getVideoFilter=function(){return a},this.getOriginalVideoTrack=function(){return s},this.setMediaStream=function(){var e=(0,o.default)(i.default.mark((function e(t){var r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getVideoTracks(),o=r[0]){e.next=4;break}return d.warn("Ignoring. No video track found"),e.abrupt("return",null);case 4:return a=null,e.prev=5,e.next=8,n.setTrack(o);case 8:a=e.sent,s=o,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),d.error("Error setting media stream: ".concat(e.t0));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),this.setVideoTrack=function(){var e=(0,o.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,n.setTrack(t);case 4:r=e.sent,s=t,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d.error("Error setting video track: ".concat(e.t0));case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this._setConnector=function(e){n=e},this.destroy=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.destroy();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),d.warn("Error destroying connector: ".concat(e.t0));case 8:n=null,a=null,s=null;case 11:case"end":return e.stop()}}),e,null,[[0,5]])}))),this.enableLogging=function(e){if(e){var t={appId:e,sourceType:"video"},n=y();n&&(t.proxyUrl=n),h.setMetadata(t)}else d.warn("Error enabling logging: invalid API key")},this.disableLogging=function(){h.setMetadata()}}f.isSupported=function(e){void 0===e&&(e={});var t=e,n=t.env,r=void 0===n?s.default:n,i=t.ML,o=void 0===i?u.default:i;return!!r.isChromium&&o.isSupported()};var p=f;t.default=p},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"ErrorFunction",(function(){return pe})),n.d(t,"MediaProcessor",(function(){return ge})),n.d(t,"MediaProcessorConnector",(function(){return be})),n.d(t,"PipelineInfoData",(function(){return he})),n.d(t,"VonageSourceType",(function(){return A})),n.d(t,"WarningType",(function(){return fe})),n.d(t,"getVonageMetadata",(function(){return ue})),n.d(t,"isSupported",(function(){return a})),n.d(t,"setVonageMetadata",(function(){return se}));var i=Object.defineProperty,o=function(e,t,n){return function(e,t,n){t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n};function a(){return new e((function(e,t){typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?t("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):e()}))}var s=_createClass3((function e(){_classCallCheck2(this,e)}));o(s,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),o(s,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});var u=new WeakMap,c=new WeakMap,l=new WeakMap,d=Symbol("anyProducer"),f=e.resolve(),p=Symbol("listenerAdded"),h=Symbol("listenerRemoved"),v=!1;function m(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("eventName must be a string or a symbol")}function g(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function y(e,t){var n=c.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}function b(e,t){var n="string"==typeof t||"symbol"==typeof t?t:d,r=l.get(e);return r.has(n)||r.set(n,new Set),r.get(n)}function w(t,n,r){var i=l.get(t);if(i.has(n)){var o,a=_createForOfIteratorHelper(i.get(n));try{for(a.s();!(o=a.n()).done;)o.value.enqueue(r)}catch(f){a.e(f)}finally{a.f()}}if(i.has(d)){var s,u=e.all([n,r]),c=_createForOfIteratorHelper(i.get(d));try{for(c.s();!(s=c.n()).done;)s.value.enqueue(u)}catch(f){c.e(f)}finally{c.f()}}}function E(t,n){n=Array.isArray(n)?n:[n];var r,i=!1,o=function(){},a=[],s={enqueue:function(e){a.push(e),o()},finish:function(){i=!0,o()}},u=_createForOfIteratorHelper(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;b(t,c).add(s)}}catch(l){u.e(l)}finally{u.f()}return _defineProperty({next:function(){var t=this;return _asyncToGenerator3(_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=20;break}if(0!==a.length){n.next=12;break}if(!i){n.next=6;break}n.t2=(a=void 0,t.next()),n.next=9;break;case 6:return n.next=8,new e((function(e){o=e}));case 8:n.t2=t.next();case 9:n.t1=n.t2,n.next=17;break;case 12:return n.t3=!1,n.next=15,a.shift();case 15:n.t4=n.sent,n.t1={done:n.t3,value:n.t4};case 17:n.t0=n.t1,n.next=21;break;case 20:n.t0={done:!0};case 21:return n.abrupt("return",n.t0);case 22:case"end":return n.stop()}}),n)})))()},return:function(e){var r=arguments;return _asyncToGenerator3(_regeneratorRuntime().mark((function i(){var u,c,d;return _regeneratorRuntime().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=void 0,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;)d=c.value,b(t,d).delete(s)}catch(l){u.e(l)}finally{u.f()}if(o(),!(r.length>0)){i.next=12;break}return i.t1=!0,i.next=8,e;case 8:i.t2=i.sent,i.t0={done:i.t1,value:i.t2},i.next=13;break;case 12:i.t0={done:!0};case 13:return i.abrupt("return",i.t0);case 14:case"end":return i.stop()}}),i)})))()}},Symbol.asyncIterator,(function(){return this}))}function k(e){if(void 0===e)return C;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!C.includes(r))throw"string"!=typeof r?new TypeError("`methodNames` element must be a string"):new Error("".concat(r," is not Emittery method"))}}catch(i){n.e(i)}finally{n.f()}return e}var _=function(e){return e===p||e===h},S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,t),u.set(this,new Set),c.set(this,new Map),l.set(this,new Map),this.debug=e.debug||{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=function(e,t,n,r){try{r=JSON.stringify(r)}catch(a){r="Object with the following keys failed to stringify: ".concat(Object.keys(r).join(","))}"symbol"==typeof n&&(n=n.toString());var i=new Date,o="".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds(),".").concat(i.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(r))})}return _createClass3(t,[{key:"logIfDebugEnabled",value:function(e,n,r){(t.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,n,r)}},{key:"on",value:function(e,t){g(t),e=Array.isArray(e)?e:[e];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;m(i),y(this,i).add(t),this.logIfDebugEnabled("subscribe",i,void 0),_(i)||this.emit(p,{eventName:i,listener:t})}}catch(o){r.e(o)}finally{r.f()}return this.off.bind(this,e,t)}},{key:"off",value:function(e,t){g(t),e=Array.isArray(e)?e:[e];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;m(i),y(this,i).delete(t),this.logIfDebugEnabled("unsubscribe",i,void 0),_(i)||this.emit(h,{eventName:i,listener:t})}}catch(o){r.e(o)}finally{r.f()}}},{key:"once",value:function(t){var n=this;return new e((function(e){var r=n.on(t,(function(t){r(),e(t)}))}))}},{key:"events",value:function(e){e=Array.isArray(e)?e:[e];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;)m(t.value)}catch(r){n.e(r)}finally{n.f()}return E(this,e)}},{key:"emit",value:function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n,r){var i,o,a,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(n),this.logIfDebugEnabled("emit",n,r),w(this,n,r),i=y(this,n),o=u.get(this),a=_toConsumableArray(i),s=_(n)?[]:_toConsumableArray(o),t.next=4,f;case 4:return t.next=6,e.all([].concat(_toConsumableArray(a.map(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(t)){e.next=2;break}return e.abrupt("return",t(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),_toConsumableArray(s.map(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(n,r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"emitSerial",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s,c,l,d,p,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),this.logIfDebugEnabled("emitSerial",t,n),r=y(this,t),i=u.get(this),o=_toConsumableArray(r),a=_toConsumableArray(i),e.next=4,f;case 4:s=_createForOfIteratorHelper(o),e.prev=5,s.s();case 7:if((c=s.n()).done){e.next=15;break}if(l=c.value,e.t0=r.has(l),!e.t0){e.next=13;break}return e.next=13,l(n);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(5),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:d=_createForOfIteratorHelper(a),e.prev=24,d.s();case 26:if((p=d.n()).done){e.next=34;break}if(h=p.value,e.t2=i.has(h),!e.t2){e.next=32;break}return e.next=32,h(t,n);case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t3=e.catch(24),d.e(e.t3);case 39:return e.prev=39,d.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[5,17,20,23],[24,36,39,42]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAny",value:function(e){return g(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),u.get(this).add(e),this.emit(p,{listener:e}),this.offAny.bind(this,e)}},{key:"anyEvent",value:function(){return E(this)}},{key:"offAny",value:function(e){g(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(h,{listener:e}),u.get(this).delete(e)}},{key:"clearListeners",value:function(e){e=Array.isArray(e)?e:[e];var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.logIfDebugEnabled("clear",r,void 0),"string"==typeof r||"symbol"==typeof r){y(this,r).clear();var i,o=b(this,r),a=_createForOfIteratorHelper(o);try{for(a.s();!(i=a.n()).done;)i.value.finish()}catch(g){a.e(g)}finally{a.f()}o.clear()}else{u.get(this).clear();var s,d=_createForOfIteratorHelper(c.get(this).values());try{for(d.s();!(s=d.n()).done;)s.value.clear()}catch(g){d.e(g)}finally{d.f()}var f,p=_createForOfIteratorHelper(l.get(this).values());try{for(p.s();!(f=p.n()).done;){var h,v=f.value,m=_createForOfIteratorHelper(v);try{for(m.s();!(h=m.n()).done;)h.value.finish()}catch(g){m.e(g)}finally{m.f()}v.clear()}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){n.e(g)}finally{n.f()}}},{key:"listenerCount",value:function(e){e=Array.isArray(e)?e:[e];var t,n=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"!=typeof i){typeof i<"u"&&m(i),n+=u.get(this).size;var o,a=_createForOfIteratorHelper(c.get(this).values());try{for(a.s();!(o=a.n()).done;)n+=o.value.size}catch(f){a.e(f)}finally{a.f()}var s,d=_createForOfIteratorHelper(l.get(this).values());try{for(d.s();!(s=d.n()).done;)n+=s.value.size}catch(f){d.e(f)}finally{d.f()}}else n+=u.get(this).size+y(this,i).size+b(this,i).size+b(this).size}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"bindMethods",value:function(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=k(t);var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(void 0!==e[i])throw new Error("The property `".concat(i,"` already exists on `target`"));Object.defineProperty(e,i,{enumerable:!1,value:this[i].bind(this)})}}catch(o){r.e(o)}finally{r.f()}}}],[{key:"mixin",value:function(e,n){return n=k(n),function(r){if("function"!=typeof r)throw new TypeError("`target` must be function");var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==r.prototype[a])throw new Error("The property `".concat(a,"` already exists on `target`"))}}catch(d){o.e(d)}finally{o.f()}Object.defineProperty(r.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new t}),this[e]}});var s,u=function(t){return function(){var n;return(n=this[e])[t].apply(n,arguments)}},c=_createForOfIteratorHelper(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;Object.defineProperty(r.prototype,l,{enumerable:!1,value:u(l)})}}catch(d){c.e(d)}finally{c.f()}return r}}},{key:"isDebugEnabled",get:function(){if("object"!=typeof r)return v;var e=(r||{env:{}}).env;return"emittery"===e.DEBUG||"*"===e.DEBUG||v},set:function(e){v=e}}]),t}(),C=Object.getOwnPropertyNames(S.prototype).filter((function(e){return"constructor"!==e}));Object.defineProperty(S,"listenerAdded",{value:p,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(S,"listenerRemoved",{value:h,writable:!1,enumerable:!0,configurable:!1});var x=S;function T(e){return function(e){if(function(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}(e))return e;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}}(e).message}var I,R=Object.defineProperty,O=function(e,t,n){return function(e,t,n){t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},A=function(e){return e.automation="automation",e.test="test",e.vbc="vbc",e.video="video",e.voice="voice",e}(A||{}),N=new Uint8Array(16);function P(){if(!I&&!(I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(N)}for(var L=[],M=0;M<256;++M)L.push((M+256).toString(16).slice(1));var D={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function j(e,t,n){if(D.randomUUID&&!t&&!e)return D.randomUUID();var r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(L[e[t+0]]+L[e[t+1]]+L[e[t+2]]+L[e[t+3]]+"-"+L[e[t+4]]+L[e[t+5]]+"-"+L[e[t+6]]+L[e[t+7]]+"-"+L[e[t+8]]+L[e[t+9]]+"-"+L[e[t+10]]+L[e[t+11]]+L[e[t+12]]+L[e[t+13]]+L[e[t+14]]+L[e[t+15]]).toLowerCase()}(r)}function F(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});var n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}var V=F("globals",{}),Z=function(e){return e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e}(Z||{});function G(e){return[ImageBitmap,ReadableStream,WritableStream].some((function(t){return e instanceof t}))}var W=0;function U(t,n,r,i,o){var a=W++;return t.postMessage({id:a,type:n,functionName:r,args:i},i.filter((function(e){return G(e)}))),new e((function(e){null==o||o.set(a,e)}))}function X(e,t){var n=e.id,r=e.type,i=Array.isArray(t)?t:[t];postMessage({id:n,type:r,result:t},i.filter((function(e){return G(e)})))}var B=F("workerized",{});function H(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Y(){return z.apply(this,arguments)}function z(){return(z=_asyncToGenerator3(_regeneratorRuntime().mark((function t(){var n,r,i,o,a;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!H()){t.next=4;break}X({type:Z.GLOBALS_SYNC},V),t.next=8;break;case 4:for(r in n=[],B)i=B[r].workerContext,o=i.worker,a=i.resolvers,o&&n.push(U(o,Z.GLOBALS_SYNC,"",[V],a));return t.next=8,e.all(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(var n in t)delete t[n];for(var r in e)Array.isArray(e[r])?(t[r]=[],K(e[r],t[r])):"object"==typeof e[r]?(t[r]={},K(e[r],t[r])):t[r]=e[r]}function J(e,t){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.functionName,o=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(i){e.next=5;break}throw"missing function name to call";case 5:if(n.instance[i]){e.next=7;break}throw"undefined function [".concat(i,"] in class ").concat(n.instance.constructor.workerId);case 7:return e.t0=X,e.t1=t,e.next=11,(r=n.instance)[i].apply(r,_toConsumableArray(null!=o?o:[]));case 11:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}var q=F("registeredWorkers",{});function $(e,t){if(!e.args)throw"Missing className while initializing worker";var n=_slicedToArray(e.args,2),r=n[0],i=n[1],o=q[r];if(!o)throw"unknown worker class ".concat(r);t.instance=new o(e.args.slice(1)),K(i,V),X(e,void 0!==typeof t.instance)}function ee(e,t){return te.apply(this,arguments)}function te(){return te=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(e.t0=n.instance.terminate,!e.t0){e.next=8;break}return e.next=7,(r=n.instance).terminate.apply(r,_toConsumableArray(null!=i?i:[]));case 7:o=e.sent;case 8:X(t,o);case 9:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e){if(!e.args)throw"Missing globals while syncing";K(e.args[0],V),X(e,{})}H()&&function(){var e={};onmessage=function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.data,t.t0=r.type,t.next=t.t0===Z.INIT?4:t.t0===Z.FORWARD?6:t.t0===Z.TERMINATE?8:t.t0===Z.GLOBALS_SYNC?10:12;break;case 4:return $(r,e),t.abrupt("break",12);case 6:return J(r,e),t.abrupt("break",12);case 8:return ee(r,e),t.abrupt("break",12);case 10:return ne(r),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}();var re=function(e,t){return function(e,t){return V[e]||(V[e]=t),[function(){return V[e]},function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V[e]=n,t.next=3,Y();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]}(e,t)}("metadata"),ie=_slicedToArray(re,2),oe=ie[0],ae=ie[1];function se(e){ae(e)}function ue(){return oe()}var ce=function(){function e(t){_classCallCheck2(this,e),O(this,"uuid",j()),this.config=t}return _createClass3(e,[{key:"send",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n,r,i,o,a,s,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!=(n=ue())?n:{},a=o.appId,s=o.sourceType,a&&s){e.next=3;break}return e.abrupt("return","metadata missing");case 3:return u=new AbortController,c=setTimeout((function(){return u.abort()}),1e4),e.next=6,(null!=(i=null==(r=this.config)?void 0:r.fetch)?i:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(t)),signal:u.signal});case 6:return clearTimeout(c),e.abrupt("return","success");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUrl",value:function(){var e,t=null!=(e=ue().proxyUrl)?e:"https://";return t+=("/"===t.at(-1)?"":"/")+"hlg.tokbox.com/prod/logging/vcp_webrtc"}},{key:"getHeaders",value:function(){return{"Content-Type":"application/json"}}},{key:"buildReport",value:function(e){var t=ue();return _objectSpread(_objectSpread({guid:this.uuid},e),{},{applicationId:t.appId,timestamp:Date.now(),proxyUrl:t.proxyUrl,source:t.sourceType})}}]),e}(),le="2.0.3",de=function(){function e(t){_classCallCheck2(this,e),o(this,"frameTransformedCount",0),o(this,"frameFromSourceCount",0),o(this,"startAt",0),o(this,"reporter"),this.config=t,this.reporter=new ce(t)}return _createClass3(e,[{key:"onFrameFromSource",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.frameFromSourceCount++;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fps",get:function(){var e=this.startAt;return this.frameFromSourceCount/((Date.now()-e)/1e3)}},{key:"onFrameTransformed",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s,u,c,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=l.length>1&&void 0!==l[1]&&l[1],0===this.startAt&&(this.startAt=Date.now()),this.frameTransformedCount++,r=this.startAt,i=this.frameTransformedCount,o=this.frameFromSourceCount,a=Date.now(),u=i/(s=(a-r)/1e3),c=o/s,e.abrupt("return",n||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=a,this.reporter.config=this.config,this.reporter.send(_objectSpread(_objectSpread({},this.config.report),{},{variation:"QoS",fps:c,transformedFps:u,framesTransformed:i},t))):"success");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fe=function(e){return e.FPS_DROP="fps_drop",e}(fe||{}),pe=function(e){return e.start="start",e.transform="transform",e.flush="flush",e}(pe||{}),he=function(e){return e.pipeline_ended="pipeline_ended",e.pipeline_ended_with_error="pipeline_ended_with_error",e.pipeline_started="pipeline_started",e.pipeline_started_with_error="pipeline_started_with_error",e.pipeline_restarted="pipeline_restarted",e.pipeline_restarted_with_error="pipeline_restarted_with_error",e}(he||{}),ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),i=t.call(this),o(_assertThisInitialized3(i),"reporter_",new ce),o(_assertThisInitialized3(i),"reporterQos_",new de({loggingIntervalFrameCount:500,report:{version:le}})),o(_assertThisInitialized3(i),"transformerType_"),o(_assertThisInitialized3(i),"transformer_"),o(_assertThisInitialized3(i),"shouldStop_"),o(_assertThisInitialized3(i),"isFlashed_"),o(_assertThisInitialized3(i),"mediaTransformerQosReportStartTimestamp_"),o(_assertThisInitialized3(i),"videoHeight_"),o(_assertThisInitialized3(i),"videoWidth_"),o(_assertThisInitialized3(i),"trackExpectedRate_"),o(_assertThisInitialized3(i),"index_"),o(_assertThisInitialized3(i),"controller_"),i.index_=r,i.transformer_=e,i.shouldStop_=!1,i.isFlashed_=!1,i.mediaTransformerQosReportStartTimestamp_=0,i.videoHeight_=0,i.videoWidth_=0,i.trackExpectedRate_=-1,i.transformerType_="Custom","getTransformerType"in e&&(i.transformerType_=e.getTransformerType()),i.report({variation:"Create"}),i}return _createClass3(n,[{key:"setTrackExpectedRate",value:function(e){this.trackExpectedRate_=e}},{key:"start",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.controller_=t,!this.transformer_||"function"!=typeof this.transformer_.start){e.next=11;break}return e.prev=1,e.next=4,this.transformer_.start(t);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),this.report({message:s.errors.transformer_start,variation:"Error",error:T(e.t0)}),n={eventMetaData:{transformerIndex:this.index_},error:e.t0,function:"start"},this.emit("error",n);case 11:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"transform",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,u,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.mediaTransformerQosReportStartTimestamp_&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),t instanceof VideoFrame&&(this.videoHeight_=null!=(r=null==t?void 0:t.displayHeight)?r:0,this.videoWidth_=null!=(i=null==t?void 0:t.displayWidth)?i:0),this.reporterQos_.onFrameFromSource(),!this.transformer_){e.next=17;break}if(!this.shouldStop_){e.next=5;break}console.warn("[Pipeline] flush from transform"),t.close(),this.flush(n),n.terminate(),e.next=17;break;case 5:return e.prev=5,e.next=8,null==(a=(o=this.transformer_).transform)?void 0:a.call(o,t,n);case 8:this.reportQos(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(5),this.report({message:s.errors.transformer_transform,variation:"Error",error:T(e.t0)}),u={eventMetaData:{transformerIndex:this.index_},error:e.t0,function:"transform"},this.emit("error",u);case 16:-1!=this.trackExpectedRate_&&.8*this.trackExpectedRate_>this.reporterQos_.fps&&(c={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}},this.emit("warn",c));case 17:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"flush",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.transformer_||"function"!=typeof this.transformer_.flush||this.isFlashed_){e.next=12;break}return this.isFlashed_=!0,e.prev=2,e.next=5,this.transformer_.flush(t);case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),this.report({message:s.errors.transformer_flush,variation:"Error",error:T(e.t0)}),n={eventMetaData:{transformerIndex:this.index_},error:e.t0,function:"flush"},this.emit("error",n);case 12:this.reportQos(!0),this.report({variation:"Delete"});case 13:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}},{key:"report",value:function(e){this.reporter_.send(_objectSpread({version:le,action:"MediaTransformer",transformerType:this.transformerType_},e))}},{key:"reportQos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.reporterQos_.config=_objectSpread({},this.reporterQos_.config),this.reporterQos_.onFrameTransformed({version:le,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},e)}}]),n}(x),me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck2(this,n),r=t.call(this),o(_assertThisInitialized3(r),"transformers_"),o(_assertThisInitialized3(r),"trackExpectedRate_"),r.transformers_=[],r.trackExpectedRate_=-1;for(var i=0;i<e.length;i++){var a=new ve(e[i],i);a.on("error",(function(e){r.emit("error",e)})),a.on("warn",(function(e){r.emit("warn",e)})),r.transformers_.push(a)}return r}return _createClass3(n,[{key:"setTrackExpectedRate",value:function(e){this.trackExpectedRate_=e;var t,n=_createForOfIteratorHelper(this.transformers_);try{for(n.s();!(t=n.n()).done;)t.value.setTrackExpectedRate(this.trackExpectedRate_)}catch(r){n.e(r)}finally{n.f()}}},{key:"start",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transformers_&&0!==this.transformers_.length){e.next=3;break}return console.log("[Pipeline] No transformers."),e.abrupt("return");case 3:e.prev=3,r=t,i=_createForOfIteratorHelper(this.transformers_);try{for(i.s();!(o=i.n()).done;)a=o.value,t=t.pipeThrough(new TransformStream(a))}catch(u){i.e(u)}finally{i.f()}t.pipeTo(n).then(_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[Pipeline] Setup."),e.next=3,n.abort();case 3:return e.next=5,r.cancel();case 5:s.emit("pipelineInfo","pipeline_ended");case 6:case"end":return e.stop()}}),e)})))).catch(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(i){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.cancel().then((function(){console.log("[Pipeline] Shutting down streams after abort.")})).catch((function(e){console.error("[Pipeline] Error from stream transform:",e)})),e.next=3,n.abort(i);case 3:return e.next=5,r.cancel(i);case 5:s.emit("pipelineInfo","pipeline_ended_with_error");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),this.emit("pipelineInfo","pipeline_started_with_error"),this.destroy(),e.abrupt("return");case 14:this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.");case 15:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[Pipeline] Destroying Pipeline."),t=_createForOfIteratorHelper(this.transformers_);try{for(t.s();!(n=t.n()).done;)n.value.stop()}catch(r){t.e(r)}finally{t.f()}case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(x),ge=function(t){_inherits(r,t);var n=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),e=n.call(this),o(_assertThisInitialized3(e),"reporter_"),o(_assertThisInitialized3(e),"pipeline_"),o(_assertThisInitialized3(e),"transformers_"),o(_assertThisInitialized3(e),"readable_"),o(_assertThisInitialized3(e),"writable_"),o(_assertThisInitialized3(e),"trackExpectedRate_"),e.reporter_=new ce,e.trackExpectedRate_=-1,e.report({variation:"Create"}),e}return _createClass3(r,[{key:"setTrackExpectedRate",value:function(e){this.trackExpectedRate_=e,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}},{key:"transform",value:function(e,t){return this.readable_=e,this.writable_=t,this.transformInternal()}},{key:"transformInternal",value:function(){var t=this;return new e(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(n,r){var i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.transformers_&&0!==t.transformers_.length){e.next=3;break}return t.report({message:s.errors.transformer_none,variation:"Error"}),r("[MediaProcessor] Need to set transformers."),e.abrupt("return");case 3:if(t.readable_){e.next=6;break}return t.report({variation:"Error",message:s.errors.readable_null}),r("[MediaProcessor] Readable is null."),e.abrupt("return");case 6:if(t.writable_){e.next=9;break}return t.report({variation:"Error",message:s.errors.writable_null}),r("[MediaProcessor] Writable is null."),e.abrupt("return");case 9:i=!1,t.pipeline_&&(i=!0,t.pipeline_.clearListeners(),t.pipeline_.destroy()),t.pipeline_=new me(t.transformers_),t.pipeline_.on("warn",(function(e){t.emit("warn",e)})),t.pipeline_.on("error",(function(e){t.emit("error",e)})),t.pipeline_.on("pipelineInfo",(function(e){i&&("pipeline_started"===e?e=he.pipeline_restarted:"pipeline_started_with_error"===e&&(e=he.pipeline_restarted_with_error)),t.emit("pipelineInfo",e)})),-1!=t.trackExpectedRate_&&t.pipeline_.setTrackExpectedRate(t.trackExpectedRate_),t.pipeline_.start(t.readable_,t.writable_).then((function(){n()})).catch((function(e){r(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},{key:"setTransformers",value:function(t){return this.report({variation:"Update",message:s.updates.transformer_new}),this.transformers_=t,this.readable_&&this.writable_?this.transformInternal():e.resolve()}},{key:"destroy",value:function(){var t=this;return new e(function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pipeline_&&t.pipeline_.destroy(),t.report({variation:"Delete"}),n();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"report",value:function(e){this.reporter_.send(_objectSpread({version:le,action:"MediaProcessor"},e))}}]),r}(x),ye=function(){function t(){_classCallCheck2(this,t),o(this,"processor_"),o(this,"generator_"),this.processor_=null,this.generator_=null}return _createClass3(t,[{key:"init",value:function(t){var n=this;return new e((function(e,r){try{n.processor_=new MediaStreamTrackProcessor(t)}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackProcessor failed: ".concat(i)),r(i)}try{"audio"===t.kind?n.generator_=new MediaStreamTrackGenerator({kind:"audio"}):"video"===t.kind?n.generator_=new MediaStreamTrackGenerator({kind:"video"}):r("kind not supported")}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackGenerator failed: ".concat(i)),r(i)}e()}))}},{key:"getReadable",value:function(){return this.processor_.readable}},{key:"getWriteable",value:function(){return this.generator_.writable}},{key:"getProccesorTrack",value:function(){return this.generator_}}]),t}(),be=function(){function t(e){_classCallCheck2(this,t),o(this,"insertableStreamHelper_"),o(this,"mediaProcessor_"),this.insertableStreamHelper_=new ye,this.mediaProcessor_=e}return _createClass3(t,[{key:"setTrack",value:function(t){var n=this;return new e((function(e,r){n.insertableStreamHelper_.init(t).then((function(){n.mediaProcessor_.transform(n.insertableStreamHelper_.getReadable(),n.insertableStreamHelper_.getWriteable()).then((function(){e(n.insertableStreamHelper_.getProccesorTrack())})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))}},{key:"destroy",value:function(){var t=this;return new e((function(e,n){t.mediaProcessor_?t.mediaProcessor_.destroy().then((function(){e()})).catch((function(e){n(e)})):n("no processor")}))}}]),t}()}.call(this,n(2),n(43))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(710)),o={backgroundBlur:r(n(711)).default,backgroundReplacement:i.default},a=function(e){return!!o[e]},s=function(e){return a(e)?o[e]:null},u={isSupported:a,getConfigurator:s,isValidConfig:function(e){var t=e.type;return!!a(t)&&s(t).isValidConfig(e)}};t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(323)),o=function(e){return/^data:image\/(?:png|jpeg|bmp|gif);base64/.test(e)||/\.(?:png|jpe?g|bmp|gif)$/i.test(e)},a={isValidConfig:function(e){if("backgroundReplacement"!==(null==e?void 0:e.type))return!1;var t=e.backgroundImgUrl;return o(t)},getConfig:function(e){void 0===e&&(e={});var t=function(e){return Object.assign({},i.default.getConfig(e),{transformerType:"VirtualBackground"})}(e),n=e.backgroundImgUrl;return o(n)&&(t.backgroundAssetUri=n),t}};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=n(322),o=r(n(323)),a=i.BlurRadius.High,s=function(e){return"low"===e||"high"===e},u={isValidConfig:function(e){if("backgroundBlur"!==(null==e?void 0:e.type))return!1;var t=e.blurStrength;return!t||s(t)},getConfig:function(e){void 0===e&&(e={});var t=function(e){return Object.assign({},o.default.getConfig(e),{transformerType:"BackgroundBlur",radius:a})}(e),n=e.blurStrength;return s(n)&&(t.radius=function(e){return"low"===e?i.BlurRadius.Low:i.BlurRadius.High}(n)),t}};t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=(0,r(n(1)).default)("MediaProcessorConnector"),s=function(e){var t=this,n=this;this.setTrack=function(){var e=(0,o.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,n.connector.setTrack(t);case 4:r=e.sent,n.originalTrack=t,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.error("Error setting track: ".concat(e.t0));case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.destroy=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.connector.destroy();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),a.warn("Error destroying connector: ".concat(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),this.stopOriginalTrack=function(){t.originalTrack&&(t.originalTrack.stop(),t.originalTrack=null)},this.connector=e};s.isValidConnector=function(e){return"function"===typeof(null==e?void 0:e.setTrack)&&"function"===typeof(null==e?void 0:e.destroy)};var u=s;t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return!!e&&!!e.apiKey}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=c(),n=!1;t.addEventListener("devicechange",(0,o.default)(i.default.mark((function t(){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return n=!0,t.next=5,u();case 5:r=t.sent,n=!1,e.setAudioSource(r);case 8:case"end":return t.stop()}}),t)}))))};var i=r(n(4)),o=r(n(5)),a=r(n(715)),s=r(n(20)),u=(0,a.default)(),c=(0,s.default)().getNativeMediaDevices},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(20)),s=r(n(210));t.default=function(e){void 0===e&&(e={});var t=e.deviceHelpers||(0,a.default)(),n=t.getAudioInputMediaDevices,r=t.getDefaultAudioInputDevice,u=t.hasDevice,c=e.currentAudioOutputDevice||s.default,l=c.getCurrentAudioInputDevice,d=c.setCurrentAudioInputDevice,f=function(){var e=(0,o.default)(i.default.mark((function e(){var t,o,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(0!==(t=e.sent).length){e.next=6;break}return d(""),e.abrupt("return");case 6:if(o=l(),a=u(t,o.deviceId),s=r(t),!a||o.label!==s.label){e.next=11;break}return e.abrupt("return");case 11:return d(s),e.abrupt("return",s.deviceId);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5));t.default=function(){var e=this;this.replaceTrackInMutedAudioTracks=function(){var t=(0,o.default)(i.default.mark((function t(n,r,o){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.mutedMantisAudioTracksInAMR[o.id]||null==n||!n.hasTrack(e.mutedMantisAudioTracksInAMR[o.id])){t.next=2;break}return t.abrupt("return");case 2:return(a=o.clone()).enabled=!1,t.prev=4,t.next=7,n.findAndReplaceTrack(r,a);case 7:t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(4),t.abrupt("return");case 12:e.mutedMantisAudioTracksInAMR[o.id]=a,delete e.mutedMantisAudioTracksInAMR[r.id];case 14:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e,n,r){return t.apply(this,arguments)}}(),this.unmuteAudioInPeerConnection=function(){var t=(0,o.default)(i.default.mark((function t(n,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.getAudioTracks().forEach(function(){var t=(0,o.default)(i.default.mark((function t(n){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.findAndReplaceTrack(e.mutedMantisAudioTracksInAMR[n.id],n);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return");case 8:delete e.mutedMantisAudioTracksInAMR[n.id];case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),e.amrAudioMuted=!1;case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.muteAudioInPeerConnection=function(){var t=(0,o.default)(i.default.mark((function t(n,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.amrAudioMuted){t.next=2;break}return t.abrupt("return");case 2:e.amrAudioMuted=!0,n.getAudioTracks().forEach(function(){var t=(0,o.default)(i.default.mark((function t(n){var o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=n.clone()).enabled=!1,t.prev=2,t.next=5,r.findAndReplaceTrack(n,o);case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return");case 10:e.mutedMantisAudioTracksInAMR[n.id]=o;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.mutedMantisAudioTracksInAMR={},this.amrAudioMuted=!1}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return null===e||!1===e};t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t;e&&null!=(t=e.videoSource)&&t.canvas&&(!e||!("videoContentHint"in e))&&(e.videoContentHint="detail")}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(152));t.default=function(e){var t;e||(e={});var n=!!(0,i.default)(null==(t=e)?void 0:t.videoSource);e.capableSimulcastScreenshare=n&&function(e){return!(null==e||!e.scalableScreenshare)}(e)}},function(e,t,n){var r=n(721),i=n(105),o=n(36);e.exports=function(e,t){return r(e,o(t,3),i)}},function(e,t){e.exports=function(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){switch(e){case i.default.AUTHENTICATION_ERROR:case i.default.INVALID_SESSION_ID:case i.default.TERMS_OF_SERVICE_FAILURE:case i.default.UNEXPECTED_SERVER_RESPONSE:return e;case i.default.ANVIL_EMPTY_RESPONSE_BODY:case i.default.ANVIL_CONNECT_FAILED:return i.default.CONNECT_FAILED;case i.default.ANVIL_BADLY_FORMED_RESPONSE:case i.default.ANVIL_INVALID_HTTP_STATUS:case i.default.ANVIL_XDOMAIN_OR_PARSING_ERROR:case i.default.ANVIL_UNKNOWN_HTTP_ERROR:case i.default.ANVIL_UNEXPECTED_ERROR_CODE:default:return i.default.UNEXPECTED_SERVER_RESPONSE}};var i=r(n(10))},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(28)),o=r(n(74));t.default=function(t){var n,r,a=t.RTCPeerConnection,s=t.env,u=t.stream,c=t.codecFlags;if(s.isLegacyEdge)return!0;var l=function(){try{n.close()}catch(e){}try{r.close()}catch(e){}n=null,r=null};try{var d={iceServers:[]};(0,o.default)()&&(d.sdpSemantics="plan-b"),n=new a(d),r=new a(d),u.getTracks().forEach((function(e){return n.addTrack(e,u)}))}catch(f){return l(),e.resolve(!1)}return n.createOffer().then((function(e){var t={type:e.type,sdp:e.sdp};return Object.keys(c).forEach((function(e){c[e]||(t.sdp=i.default.removeVideoCodec(t.sdp,e))})),r.setRemoteDescription(t)})).then((function(){return!0})).catch((function(){return!1})).then((function(e){return l(),e}))}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(8)).default.INVALID_PARAMETER,o=function(e){var t=e.otError;return function(e){if(e){var n=function(e,n){if(!e)throw t(i,new Error("iceConfig invalid: ".concat(n)))};"includeServers"in e&&n(-1!==["all","custom"].indexOf(e.includeServers),".includeServers must be all or custom"),"transportPolicy"in e&&n(-1!==["all","relay"].indexOf(e.transportPolicy),".transportPolicy must be all or relay"),n(Array.isArray(e.customServers),".customServers must be an array"),e.customServers.forEach((function(e){n(e.urls||!("url"in e),"ice servers need .urls, not .url"),n("string"===typeof e.urls||Array.isArray(e.urls),"ice server .urls must be a string or an array"),n(!e.username||"string"===typeof e.username,"ice server .username must be a string if present"),n(!e.credential||"string"===typeof e.credential,"ice server .credential must be a string if present")}))}}};t.default=o},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(726));t.default=function(e,t){var n=e||{},r=n.p2pEnabled,o=n.singlePeerConnection;if(r)return!1;var a=!!o;return"boolean"===typeof t&&(a=t),a&&(0,i.default)()}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3));t.default=function(){return i.default.isChromium||i.default.isFirefox||i.default.isSafari}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(10)),o=r(n(8)),a={NOT_CONNECTED:{code:o.default.NOT_CONNECTED,message:"Cannot use forceMute functionality. You are not connected to the session.",exceptionCode:i.default.NOT_CONNECTED},PERMISSION_DENIED:{code:o.default.PERMISSION_DENIED,message:"This token does not allow forceMute usage. The role must be at least `moderator` to enable this functionality",exceptionCode:i.default.UNABLE_TO_FORCE_MUTE},INVALID_PARAMETER:{code:o.default.INVALID_PARAMETER,message:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",exceptionCode:i.default.INVALID_PARAMETER},NOT_FOUND:{code:o.default.NOT_FOUND,message:"The stream does not exist."},UNEXPECTED_SERVER_RESPONSE:{code:o.default.UNEXPECTED_SERVER_RESPONSE,message:"An unexpected error occurred.",exceptionCode:i.default.UNEXPECTED_SERVER_RESPONSE}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if("string"!==typeof e)throw new Error("secret must be a string");if(e.length<8)throw new Error("secret must have at least 8 characters");if(e.length>256)throw new Error("secret must not exceed 256 characters")};t.default=r},function(e,t,n){"use strict";(function(e){var r=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});var n=t.convertRumorError||v.default,r=t.Dispatcher||m.default,E=t.ExceptionCodes||d.default,k=t.hasIceRestartsCapability||p.default,_=t.hasRenegotiationCapability||h.default,S=t.hasE2eeCapability||f.default,C=t.logging||(0,l.default)("RaptorSocket"),x=t.Message||g.default,T=t.OTHelpers||y.default,I=t.RumorSocket||(0,c.default)(),R=t.Signal||b.default,O=t.SignalError||w.default,A=function t(c){var l,d,f,p,h,v,m,g,y=this,b=this,w=c.connectionId,k=c.sessionId,_=c.messagingSocketUrl,S=c.symphonyUrl,A=c.dispatcher,N=c.analytics,P=c.requestedCapabilities,L=void 0===P?[]:P,M=A||new r,D=T.statable(this,["disconnected","connecting","connected","error","disconnecting"],"disconnected"),j=function(e){e.action&&e.variation||C.debug("Expected action and variation"),N.logEvent((0,o.default)({sessionId:d,partnerId:l,p2p:v,messagingServer:m,connectionId:w},e))},F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];D(r?"error":"connected"),h.apply(void 0,t)},V=function(e){var t="clientDisconnected";!y.is("disconnecting")&&g&&(t="networkDisconnected"),e&&4001===e.code&&(t="networkTimedout"),D("disconnected"),M.onClose(t)},Z=function(e){g=!0,C.error(e)},G=function(){M.onReconnecting()},W=function(){j({action:"Reconnect",variation:"Success",retries:y._rumor.reconnectRetriesCount(),messageQueueSize:y._rumor.messageQueueSize(),socketId:y.socketId}),M.onReconnected()},U=function(){j({action:"Reconnect",variation:"Attempt",retries:y._rumor.reconnectRetriesCount(),messageQueueSize:y._rumor.messageQueueSize(),socketId:y.socketId})},X=function(e){"connectionLimitExceeded"===e.message&&(e.code=E.CONNECTION_LIMIT_EXCEEDED),e.reason="ConnectToSession";var t=n(e);j({action:"Reconnect",variation:"Failure",failureReason:e.reason,failureCode:t.code,failureMessage:t.message,messageQueueSize:y._rumor.messageQueueSize(),socketId:y.socketId})};Object.defineProperty(this,"socketId",{get:function(){return this._rumor.socketID}}),this.connect=function(n,r,i,o){var a=this;if(this.is("disconnected","error")){D("connecting"),l=r.partnerId,d=r.sessionId,v=r.p2pEnabled,m=r.messagingServer,f=n,h=o,p={apiKey:l,sessionId:d};var u="/v2/partner/".concat(l,"/session/").concat(d);this._rumor=new t.RumorSocket({messagingURL:_,notifyDisconnectAddress:S,connectionId:w,sessionId:k,enableReconnection:r.reconnection}),this._rumor.on("close",V),this._rumor.on("error",Z),this._rumor.on("reconnecting",G),this._rumor.on("reconnectAttempt",U),this._rumor.on("reconnectFailure",X),this._rumor.on("reconnected",W),this._rumor.on("message",M.dispatch.bind(M));var c=function(e){F({reason:"WebSocketConnection",code:e.code,message:e.message})};this._rumor.once("error",c),this._rumor.once("open",(function(){a._rumor.removeListener("error",c),C.debug("connected. Subscribing to ".concat(u," on ").concat(_)),a._rumor.subscribe([u]);var n=L;(t.hasIceRestartsCapability()||t.hasRenegotiationCapability())&&r.renegotiation&&n.push("renegotiation"),t.hasE2eeCapability()&&r.e2ee&&n.push("e2ee");var o=x.connections.create({apiKey:l,sessionId:d,connectionId:a._rumor.id,connectionEventsSuppressed:i.connectionEventsSuppressed,capabilities:n}),p=new e((function(e){A.on("connection#created",(function t(n){n.id===a._rumor.id&&(e(n),A.off("connection#created",t))}))}));a.publish(o,{"X-TB-TOKEN-AUTH":f},!0,(function(e,t){if(e)return"connectionLimitExceeded"===e.message&&(e.code=E.CONNECTION_LIMIT_EXCEEDED),void F({reason:"ConnectToSession",code:e.code,message:e.message,socketId:a.socketId});var n=t&&t.data?JSON.parse(t.data):null;n&&(n.connection&&0!==n.connection.length||(n.connection=[],Array.isArray(n.stream)&&n.stream.forEach((function(e){var t=e.connection;return n.connection.push(t)}))));var r=function(e,t){e?F({reason:"GetSessionState",code:e.code,message:e.message,socketId:a.socketId}):F(void 0,t)};p.then((function(e){n.connection.some((function(t){return t.id===e.id}))||n.connection.unshift(e);var t=(0,s.default)();M.registerCallback(t,r),M.emit("session#read",n,t)}))}))}))}else C.warn("Cannot connect the Raptor Socket as it is currently connected. You should disconnect first.")},this.disconnect=function(){this.is("disconnected")||(D("disconnecting"),this._rumor.disconnect())},this.publish=function(e,t,n,r){r=r||function(){};var i=(0,a.default)(r),u=(0,s.default)();if(C.debug("Publish (ID:".concat(u,") ").concat(e)),this._rumor.readyState!==I.OPEN||this._rumor.reconnecting&&!n){var c=new Error("Not connected.");return c.code=500,i(c),void C.error("cannot publish until the socket is connected.")}return M.registerCallback(u,i),this._rumor.publish([S],e,(0,o.default)({},t,{"Content-Type":"application/x-raptor+v2","TRANSACTION-ID":u,"X-TB-FROM-ADDRESS":this._rumor.id}),n,(function(e){e&&i.apply(void 0,arguments)})),u},this.send=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=function(){}),b.publish((0,u.default)(e),t,n,r)},this.streamCreate=function(e,t){void 0===e&&(e={}),void 0===t&&(t=function(){});var n=e,r=n.name,i=n.streamId,o=n.subscriberAudioFallbackEnabled,a=n.channels,s=n.minBitrate,u=n.maxBitrate,c=n.sourceStreamId,f=n.e2ee,p=n.publisherAudioFallbackEnabled,h=n.customProperties,v={apiKey:l,sessionId:d,streamId:i,name:r,audioFallbackEnabled:o,subscriberAudioFallbackEnabled:o,channels:a,minBitrate:s,maxBitrate:u,sourceStreamId:c,e2ee:f,publisherAudioFallbackEnabled:p,customProperties:h},m=x.streams.create(v);this.publish(m,{},!0,(function(e,n){t(e,i,n)}))},this.streamDestroy=function(e,t){this.publish(x.streams.destroy(l,d,e,t),{},!0)},this.streamChannelUpdate=function(e,t,n){this.publish(x.streamChannels.update(l,d,e,t,n),{},!0)},this.subscriberCreate=function(e,t,n,r,i,o){var a={apiKey:l,sessionId:d,streamId:e,subscriberId:t,connectionId:this._rumor.id,channelsToSubscribeTo:n,sourceStreamId:r,e2ee:i};this.publish(x.subscribers.create(a),{},!0,o)},this.subscriberDestroy=function(e,t){this.publish(x.subscribers.destroy(l,d,e,t),{},!0)},this.subscriberUpdate=function(e,t,n){this.publish(x.subscribers.update(l,d,e,t,n),{},!0)},this.subscriberChannelUpdate=function(e,t,n,r){this.publish(x.subscriberChannels.update(l,d,e,t,n,r),{},!0)},this.forceDisconnect=function(e,t){this.publish(x.connections.destroy({apiKey:l,sessionId:d,connectionId:e}),{},!0,t)},this.forceUnpublish=function(e,t){this.publish(x.streams.destroy(l,d,e),{},!0,t)},this.forceMuteStream=function(e,t){var n={streamId:e,active:!0};this.publish(x.forceMute.update(Object.assign({},p,n)),{},!0,t)},this.forceMuteAll=function(e,t,n){var r={excludedStreamIds:e,active:t};this.publish(x.forceMute.update(Object.assign({},p,r)),{},!0,n)},this.signal=function(e,t,n){var r=new R(d,this._rumor.id,e||{});r.valid?this.publish(r.toRaptorMessage(),{},r.retryAfterReconnect,(function(e){var o,a,s;if(e){var u=parseInt(e.code,10);[400,403,404,413,500].includes(u)?(a=u,s=e.message):(a=E.UNEXPECTED_SERVER_RESPONSE,s="Unexpected server response. Try this operation again later."),o=new O(a,s)}else{var c=r.data?typeof r.data:null;n("signal","send",{type:c})}t&&(0,i.default)(t)&&t(o,r.toHash())})):t&&(0,i.default)(t)&&t(new O(r.error.code,r.error.reason),r.toHash())},this.id=function(){return this._rumor&&this._rumor.id}};return A.hasIceRestartsCapability=k,A.hasRenegotiationCapability=_,A.hasE2eeCapability=S,A.RumorSocket=I,A};var i=r(n(17)),o=r(n(9)),a=r(n(51)),s=r(n(16)),u=r(n(328)),c=r(n(730)),l=r(n(1)),d=r(n(10)),f=r(n(110)),p=r(n(326)),h=r(n(744)),v=r(n(327)),m=r(n(331)),g=r(n(332)),y=r(n(7)),b=r(n(333)),w=r(n(751))}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=(void 0===e?{}:e).WebSocket,n=void 0===t?c.default:t,r=(0,o.default)(),d=(0,s.default)({AnalyticsHelper:l.default,EventEmitter:i.default,WebSocket:n,logging:a.default,allocateId:r});return(0,u.default)({EventEmitter:i.default,ReconnectableSocket:d,logging:a.default,allocateId:r})};var i=r(n(14)),o=r(n(731)),a=r(n(1)),s=r(n(732)),u=r(n(737)),c=r(n(742)),l=r(n(25))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=0;return function(){return e+=1}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(46)),s=r(n(329)),u=r(n(47)),c=r(n(330)),l=n(77),d=r(n(733)),f=r(n(57)),p=r(n(734)),h=r(n(736)),v=function(e){return function(){e.apply(void 0,arguments)}},m=function(e){return 1e3===e||e>=3e3&&e<=4999},g=l.codes.CLOSE_TIMEOUT;t.default=function(e){var t,n=e.AnalyticsHelper,r=e.EventEmitter,l=e.WebSocket,y=e.logging,b=e.allocateId,w=e.BUFFER_DRAIN_INTERVAL,E=void 0===w?100:w,k=e.BUFFER_DRAIN_MAX_RETRIES,_=void 0===k?10:k;return t=function(e){function t(r){var a;(a=e.call(this)||this)._url=void 0,a._id=b(),a._logger=y("ReconnectableSocket:".concat(a._id)),a._webSocket=void 0,a._connectTimer=void 0,a._pingTimer=void 0,a._pingWarningTimer=void 0,a._disconnectTimer=void 0,a._queuedMessages=[],a._draining=!1,a._analytics=new n,a._logAnalyticsEvent=function(e){var t=e.action,n=e.variation,r=e.payload;a._analytics.logEvent({action:t,variation:n,payload:r,sessionId:a.sessionId,connectionId:a.connectionId})};var u=r.url,l=r.connectionId,f=r.sessionId,h=r.connectTimeout,m=void 0===h?15e3:h,g=r.pingThreshold,w=void 0===g?3e3:g,E=r.pingWarningDelay,k=void 0===E?100:E,_=r.disconnectThreshold,S=void 0===_?5900:_,C=r.reconnectMaxDuration,x=void 0===C?6e4:C;if(!u)throw new Error("Must provide url");a.connectionId=l,a.sessionId=f,a.readyStateMachine=(0,p.default)({reconnectMaxDuration:x,CLOSED:t.CLOSED,CLOSING:t.CLOSING}),a._url=u,(0,c.default)({logger:a._logger,obj:(0,s.default)(a),eventNames:["error","open","message","needsPing","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),a.readyStateMachine.observe("onEnterOpen",(function(e){var t=e.from;a._resetPingTimers(),a._resetDisconnectTimer(),a._connectTimer.clear(),"reconnecting"===t?(a._queuedMessages.forEach((function(e){return a.send(e,!0)})),a._queuedMessages=[],a.emit("reconnected"),a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Success"})):(a.emit("open"),a._logAnalyticsEvent({action:"WebSocket:open"}))})),a.readyStateMachine.observe("onEnterClosed",(function(e,t){var n=e.from,r=e.code,i=e.reason;a.emit("close",t),"reconnecting"===n&&a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure",payload:{code:r,reason:i}})})),a.readyStateMachine.observe("onEnterClosing",v(function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.from,o=n.code,s=n.reason,a._clearTimers(),e.next=5,a._clearSocket({drain:"open"===r,code:o,reason:s});case 5:"reconnecting"===r&&(a.emit("reconnectFailure",{code:o,reason:s}),a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure"})),setTimeout((function(){a.readyStateMachine.closed({code:o,reason:s})}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),a.readyStateMachine.observe("onEnterReconnecting",(function(){a.emit("reconnecting"),a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Attempt"})})),a.readyStateMachine.observe("onDisconnect",v(function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from,o=t.to,s=n.code,u=n.reason,"reconnecting"!==o){e.next=12;break}if(!a._draining){e.next=5;break}return e.abrupt("return");case 5:return a._clearTimers(),a.emit("reconnectAttempt"),e.next=9,a._clearSocket({drain:"open"===r,code:s,reason:u});case 9:a._createSocket(),e.next=13;break;case 12:a._logAnalyticsEvent({action:"WebSocket:disconnect",payload:{code:s,reason:u}});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var T=function(e,t){return new d.default({name:e,duration:t,logger:a._logger})};return a._connectTimer=T("connect",m),a._pingTimer=T("ping",w),a._pingWarningTimer=T("pingWarning",k),a._disconnectTimer=T("disconnect",S),a._createSocket(),a}(0,u.default)(t,e);var r=t.prototype;return r._createSocket=function(){var e=this,n=new l(this.url);n.binaryType="arraybuffer";var r=(0,f.default)(n);r.on("open",(function(){e.readyStateMachine.open()})),r.on("close",(function(t){var n=t.code,r=t.reason;e.readyStateMachine.disconnect({code:n,reason:r})})),r.on("error",(function(t){e.emit("error",t)})),r.on("message",(function(n){e.readyState!==t.CLOSING&&e._resetDisconnectTimer(),e.emit("message",n)})),this._webSocket=n,this._webSocketEvents=r,this._connectTimer.reset((function(){var t={code:g,reason:"Timeout while opening connection"},n=new Error(t.reason);n.code=g,e.emit("error",n),e.readyStateMachine.disconnect(t)}))},r._clearSocket=function(){var e=(0,o.default)(i.default.mark((function e(n){var r,o,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(r=void 0===n?{}:n).drain,a=void 0!==o&&o,s=r.code,u=r.reason,this._draining=!0,this._webSocketEvents&&this._webSocketEvents.removeAll(),this._webSocket.readyState===t.CLOSED){e.next=9;break}if(!a){e.next=7;break}return e.next=7,(0,h.default)(this._webSocket,{BUFFER_DRAIN_INTERVAL:E,BUFFER_DRAIN_MAX_RETRIES:_});case 7:this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:s,reason:u},variation:"Attempt"});try{!m(s)||void 0===s&&void 0===u?this._webSocket.close():this._webSocket.close(s,u),this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:s,reason:u},variation:"Success"})}catch(i){y.error("Could not close websocket",i),this._logAnalyticsEvent({action:"WebSocket:close",payload:{err:i},variation:"Failure"})}case 9:this._draining=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.send=function(e,n){var r=this;void 0===n&&(n=!0),this.readyState===t.OPEN&&this._resetPingTimers();var i=function(){try{return r._webSocket.send(e),"sent"}catch(t){if(r._webSocket.readyState===l.OPEN)return r._logger.debug("webSocket.send threw exception even though it was open:",t),"dropped";throw t}};if("reconnecting"===this.readyStateMachine.state){if(this._webSocket.readyState===l.OPEN)try{i()}catch(o){}return n?(this._queuedMessages.push(e),"queued"):(this._logger.debug("Dropping message during reconnection since retryAfterReconnect is false:",e),"dropped")}return i()},r.close=function(e,n){if(this.readyState===t.CLOSING)throw new Error("Can not call close on a closing ReconnectableSocket");if(this.readyState===t.CLOSED)throw new Error("Can not call close on an already closed ReconnectableSocket");this.readyStateMachine.close({code:e,reason:n})},r._resetPingTimers=function(){var e=this;this._pingWarningTimer.clear(),this._pingTimer.reset((function(){e._pingWarningTimer.reset((function(){e._logger.warn("Did not send message after needsPing event. Other side may disconnect.")})),e.emit("needsPing")}))},r._resetDisconnectTimer=function(){var e=this;this._disconnectTimer.reset((function(){return e.readyStateMachine.disconnect({code:g,reason:"No activity"})}))},r._clearTimers=function(){[this._disconnectTimer,this._connectTimer,this._pingTimer,this._pingWarningTimer].forEach((function(e){return e.clear()}))},(0,a.default)(t,[{key:"url",get:function(){return"function"===typeof this._url?this._url():this._url}},{key:"reconnecting",get:function(){return"reconnecting"===this.readyStateMachine.state}},{key:"binaryType",get:function(){return this._webSocket.binaryType}},{key:"bufferedAmount",get:function(){return this._webSocket.bufferedAmount}},{key:"protocol",get:function(){return this._webSocket.protocol}},{key:"extensions",get:function(){return this._webSocket.extensions}},{key:"readyState",get:function(){return{reconnecting:t.OPEN,open:t.OPEN,closing:t.CLOSING,closed:t.CLOSED,connecting:t.CONNECTING}[this.readyStateMachine.state]}}]),t}(r),t.CONNECTING=l.CONNECTING,t.OPEN=l.OPEN,t.CLOSING=l.CLOSING,t.CLOSED=l.CLOSED,t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e){var t=e.name,n=e.logger,r=e.duration;this.name=void 0,this.logger=void 0,this.duration=void 0,this.currId=void 0,this.name=t,this.logger=n,this.duration=r}var t=e.prototype;return t.reset=function(e){var t=this;this.clear();var n=setTimeout((function(){void 0!==t.currId&&(t.logger.spam("".concat(t.name," timer with id ").concat(t.currId," expired, entering callback")),t.currId=void 0,e())}),this.duration);this.currId=n,this.logger.spam("Started ".concat(this.name," timer with id ").concat(this.currId,", expires in ")+"".concat(this.duration,"ms"))},t.clear=function(){void 0!==this.currId&&(clearTimeout(this.currId),this.logger.spam("Cleared ".concat(this.name," timer with id ").concat(this.currId)),this.currId=void 0)},t.isRunning=function(){return void 0!==this.currId},e}();t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(313)),o=r(n(735)),a=n(77),s=(0,r(n(1)).default)("ReconnectableSocketStateMachine"),u=a.codes.CLOSE_UNSUPPORTED,c=a.codes.CLOSE_UNEXPECTED_CONDITION;t.default=function(e){var t,n=e.reconnectMaxDuration,r=e.CLOSED,a=e.CLOSING;return new i.default({init:"connecting",methods:{onInvalidTransition:function(e,t,n){s.error("Invalid state transition",{transition:e,from:t,to:n})}},transitions:[{name:"open",from:["connecting","reconnecting"],to:"open"},{name:"close",from:["connecting","reconnecting","open"],to:"closing"},{name:"closed",from:"closing",to:"closed"},{name:"disconnect",from:["reconnecting","open","connecting"],to:function(e){var i=e.code;return"open"!==this.state&&t||(t=(0,o.default)(n)),n>0&&!t()&&-1===[u,c].indexOf(i)&&-1===[r,a].indexOf(this.readyState)?"reconnecting":"closing"}}]})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){var t=!1;return setTimeout((function(){t=!0}),e),function(){return t}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(93)),s=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,s,u,c,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(r=void 0===n?{}:n).BUFFER_DRAIN_INTERVAL,s=void 0===o?100:o,u=r.BUFFER_DRAIN_MAX_RETRIES,c=void 0===u?10:u,l=0;case 2:if(!(l<c)){e.next=10;break}if(0!==t.bufferedAmount){e.next=5;break}return e.abrupt("break",10);case 5:return e.next=7,(0,a.default)(s);case 7:l+=1,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(46)),o=r(n(329)),a=r(n(47)),s=r(n(16)),u=r(n(330)),c=r(n(738)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(173)),d=r(n(741)),f=n(77);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}t.default=function(e){var t,n=e.EventEmitter,r=e.ReconnectableSocket,p=e.logging,h=e.allocateId;return(t=function(e){function t(t){var n,i=t.messagingURL,a=t.notifyDisconnectAddress,l=t.connectionId,v=t.sessionId,m=t.enableReconnection,g=t.pingThreshold,y=void 0===g?2e3:g,b=t.disconnectThreshold,w=void 0===b?(m?3:25)*y-100:b,E=t.reconnectMaxDuration,k=void 0===E?m?6e4:0:E;(n=e.call(this)||this).url=void 0,n.id=void 0,n._opened=!1,n._socket=void 0,n._reconnectAttempts=0,n._socketID=(0,s.default)(),n._receivedTransactionIDs=[],n._notifyDisconnectAddress=void 0,n._enableReconnection=void 0,n._pendingMessages=[],n._logger=p("RumorSocket:".concat(h())),(0,u.default)({logger:n._logger,obj:(0,o.default)(n),eventNames:["open","message","error","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),n.url=i,n.id=l,n._notifyDisconnectAddress=a,n._enableReconnection=m,n.on("error",(function(e){n._logger.error(e.message)}));try{n._socket=new r({url:function(){return n._enableReconnection?[n.url,n.url.indexOf("?")>=0?"&":"?","socketId=".concat(n._socketID),n._socket&&n._socket.reconnecting?"&reconnect=true":"","&attempt=".concat((0,s.default)())].join(""):n.url},pingThreshold:y,disconnectThreshold:w,reconnectMaxDuration:k,connectionId:l,sessionId:v})}catch(S){n._logger.error(S),n.emit("error",new d.default(f.codes.CLOSE_CONNECT_EXCEPTION))}var _=function(){n._opened=!0,n._socket.send(c.default.Connect(n.id,a).serialize()),n.emit("open",n.id)};return n._socket.once("open",_),n._socket.on("message",(function(e){return n._receiveMessage(e)})),n._socket.once("close",(function(e){n._logger.debug("ReconnectableSocket closed (code: ".concat(e.code,")")),n._clearPendingMessages(),-1===[f.codes.CLOSE_NORMAL,f.codes.CLOSE_GOING_AWAY,f.codes.CLOSE_TIMEOUT].indexOf(e.code)&&n.emit("error",new d.default(e.code)),n.emit("close",e)})),n._socket.on("error",(function(e){var t=e.code;return n.emit("error",new d.default(t))})),n._socket.on("needsPing",(function(){n._socket.send(c.default.Ping().serialize())})),n._socket.on("reconnecting",(function(){n._opened&&(n._clearPendingMessagesWhichShouldntRetry(),n.emit("reconnecting"),n._reconnectAttempts=0)})),n._socket.on("reconnectAttempt",(function(){n._opened&&(n._reconnectAttempts+=1,n._socket.send(c.default.Disconnect("1").serialize(),!1),n.emit("reconnectAttempt"))})),n._socket.on("reconnected",(function(){n._opened?(n._pendingMessages.forEach((function(e){n._socket.send(e.rumorMessage.serialize())})),n.emit("reconnected")):_()})),n._socket.on("reconnectFailure",(function(){n._opened&&(n._logger.debug("Reconnecting failed as connectivity was not restored within "+"".concat(k,"ms")),n.emit("reconnectFailure",new d.default))})),n}(0,a.default)(t,e);var n=t.prototype;return n._clearPendingMessagesWhichShouldntRetry=function(){var e=this._pendingMessages.filter((function(e){return!e.retryAfterReconnect}));this._pendingMessages=this._pendingMessages.filter((function(e){return e.retryAfterReconnect})),e.forEach((function(e){var t=new Error("Not connected.");t.code=500,e.completion(t)}))},n._clearPendingMessages=function(){this._pendingMessages.forEach((function(e){var t=new Error("Not connected.");t.code=500,e.completion(t)})),this._pendingMessages=[]},n._sendAck=function(e){this._socket.send(c.default.Status([e.fromAddress],{"TRANSACTION-ID":e.headers["TRANSACTION-ID"],"X-TB-FROM-ADDRESS":this.id}).serialize())},n._receiveMessage=function(e){var t=this,n=c.default.deserialize(e.data);if(n.type!==l.PONG){if(this._logger.debug("Received:",n),n.transactionId&&(this._pendingMessages=this._pendingMessages.filter((function(e){return e.rumorMessage.transactionId===n.transactionId&&(t._logger.debug("Marking",n.transactionId," as received"),e.completion(void 0,n)),e.rumorMessage.transactionId!==n.transactionId}))),n.transactionId&&n.type!==l.STATUS){if(this._sendAck(n),this._receivedTransactionIDs.indexOf(n.transactionId)>=0)return;this._receivedTransactionIDs.push(n.transactionId)}this.emit("message",n)}},n.publish=function(e,t,n,r,i){void 0===i&&(i=function(){});var o=c.default.Publish(e,t,n);if("dropped"===this._socket.send(o.serialize(),!1)&&!r){var a=new Error("Not connected.");return a.code=500,void i(a)}this._pendingMessages.push({rumorMessage:o,retryAfterReconnect:r,completion:i})},n.subscribe=function(e){this._socket.send(c.default.Subscribe(e).serialize())},n.unsubscribe=function(e){this._socket.send(c.default.Unsubscribe(e).serialize())},n.disconnect=function(){if(this.readyState===t.OPEN&&this._socket.send(c.default.Disconnect().serialize()),this._socket.readyState!==r.CLOSED&&this._socket.readyState!==r.CLOSING){var e=f.codes.CLOSE_NORMAL;this._socket.close(e,f.messages[e])}},n.status=function(e,t){this._socket.send(c.default.Status(e,{"TRANSACTION-ID":t,"X-TB-FROM-ADDRESS":this.id}).serialize())},n.reconnectRetriesCount=function(){return this._reconnectAttempts},n.messageQueueSize=function(){return this._pendingMessages.length},(0,i.default)(t,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:r.CONNECTING}},{key:"reconnecting",get:function(){return this._opened&&this._socket&&this._socket.reconnecting}},{key:"socketID",get:function(){return this._socketID}}]),t}(n)).CONNECTING=r.CONNECTING,t.OPEN=r.OPEN,t.CLOSING=r.CLOSING,t.CLOSED=r.CLOSED,t}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(16)),o=n(739),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(173));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=function(){function e(e,t,n,r){this.type=void 0,this.toAddress=void 0,this.headers=void 0,this.data=void 0,this.type=e,this.toAddress=t,this.headers=n,this.data=r,this.fromAddress=this.headers["X-TB-FROM-ADDRESS"],this.transactionId=this.headers["TRANSACTION-ID"],this.status=this.headers.STATUS,this.isError=this.status&&"2"!==this.status[0]}return e.prototype.serialize=function(){var e,t,n,r,i=8,a=7,s=[],u=[],c=[];for(a++,n=0;n<this.toAddress.length;n++)s.push(new o.TextEncoder("utf-8").encode(this.toAddress[n])),a+=2,a+=s[n].length;for(var l in a++,n=0,this.headers)this.headers.hasOwnProperty(l)&&(u.push(new o.TextEncoder("utf-8").encode(l)),c.push(new o.TextEncoder("utf-8").encode(this.headers[l])),a+=4,a+=u[n].length,a+=c[n].length,n++);a+=(t=new o.TextEncoder("utf-8").encode(this.data)).length;var d=new ArrayBuffer(a),f=new Uint8Array(d,0,a);for(a-=4,f[0]=(4278190080&a)>>>24,f[1]=(16711680&a)>>>16,f[2]=(65280&a)>>>8,f[3]=(255&a)>>>0,f[4]=0,f[5]=0,f[6]=this.type,f[7]=this.toAddress.length,n=0;n<s.length;n++)for(e=s[n],f[i++]=e.length>>8&255,f[i++]=e.length>>0&255,r=0;r<e.length;r++)f[i++]=e[r];for(f[i++]=u.length,n=0;n<u.length;n++){for(e=u[n],f[i++]=e.length>>8&255,f[i++]=e.length>>0&255,r=0;r<e.length;r++)f[i++]=e[r];for(e=c[n],f[i++]=e.length>>8&255,f[i++]=e.length>>0&255,r=0;r<e.length;r++)f[i++]=e[r]}for(n=0;n<t.length;n++)f[i++]=t[n];return d},e.deserialize=function(t){var n,r,i,a,s,u,c,l;(void 0!==typeof window?window:__webpack_require__.g).Buffer&&(void 0!==typeof window?window:__webpack_require__.g).Buffer.isBuffer(t)&&(t=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}(t));var d=8,f=new Uint8Array(t);n=f[6];var p=[];for(l=0;l<f[7];l++)c=f[d++]<<8,c+=f[d++],r=new Uint8Array(t,d,c),p[l]=new o.TextDecoder("utf-8").decode(r),d+=c;for(i=f[d++],a={},l=0;l<i;l++)c=f[d++]<<8,c+=f[d++],r=new Uint8Array(t,d,c),s=new o.TextDecoder("utf-8").decode(r),d+=c,c=f[d++]<<8,c+=f[d++],r=new Uint8Array(t,d,c),u=new o.TextDecoder("utf-8").decode(r),a[s]=u,d+=c;var h=new Uint8Array(t,d);return new e(n,p,a,new o.TextDecoder("utf-8").decode(h))},e.Connect=function(t,n){var r={uniqueId:t,"TRANSACTION-ID":(0,i.default)(),notifyDisconnectAddress:n};return new e(a.CONNECT,[],r,"")},e.Disconnect=function(t){return new e(a.DISCONNECT,[],{reconnect:t},"")},e.Subscribe=function(t){return new e(a.SUBSCRIBE,t,{},"")},e.Unsubscribe=function(t){return new e(a.UNSUBSCRIBE,t,{},"")},e.Publish=function(t,n,r){return new e(a.MESSAGE,t,r||{},n||"")},e.Status=function(t,n){return new e(a.STATUS,t,n||{},"")},e.Ping=function(){return new e(a.PING,[],{},"")},e}();t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.TextEncoder=t.TextDecoder=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(740));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var o=(void 0!==typeof window?window:__webpack_require__.g).TextEncoder||r.TextEncoder;t.TextEncoder=o;var a=(void 0!==typeof window?window:__webpack_require__.g).TextDecoder||r.TextDecoder;t.TextDecoder=a},function(e,t,n){"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){this.tokens=[].slice.call(e)}n.r(t),n.d(t,"TextEncoder",(function(){return l})),n.d(t,"TextDecoder",(function(){return c})),o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var u="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,o=0,u=128,c=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,s(t);if(-1===l)return a;if(0===o){if(r(l,0,127))return l;if(r(l,194,223))o=1,n=l-192;else if(r(l,224,239))224===l&&(u=160),237===l&&(c=159),o=2,n=l-224;else{if(!r(l,240,244))return s(t);240===l&&(u=144),244===l&&(c=143),o=3,n=l-240}return n<<=6*o,null}if(!r(l,u,c))return n=o=i=0,u=128,c=191,e.prepend(l),s(t);if(u=128,c=191,n+=l-128<<6*(o-(i+=1)),i!==o)return null;var d=n;return n=o=i=0,d}}function f(e){e.fatal,this.handler=function(e,t){if(-1===t)return a;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var s=t>>6*(n-1);o.push(128|63&s),n-=1}return o}}c.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,s=new o(n),u=[];!s.endOfStream()&&(r=this._decoder.handler(s,s.read()))!==a;)null!==r&&(Array.isArray(r)?u.push.apply(u,r):u.push(r));if(!this._streaming){do{if((r=this._decoder.handler(s,s.read()))===a)break;null!==r&&(Array.isArray(r)?u.push.apply(u,r):u.push(r))}while(!s.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(u)}},l.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],s=new o(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var a=e.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(e));!s.endOfStream()&&(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(77)),o=r(n(8));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.default=function(e){if(this.code=void 0,this.message=void 0,this.name=void 0,this.code=i.codes.CLOSE_FALLBACK_CODE,Object.values(i.codes).includes(e))switch(this.code=e,this.code){case i.codes.CLOSE_GOING_AWAY:case i.codes.CLOSE_PROTOCOL_ERROR:case i.codes.CLOSE_UNSUPPORTED:case i.codes.CLOSE_NO_STATUS:case i.codes.CLOSE_ABNORMAL:case i.codes.CLOSE_INCONSISTENT_DATA:case i.codes.CLOSE_POLICY_VIOLATION:case i.codes.CLOSE_TOO_LARGE:case i.codes.CLOSE_UNEXPECTED_CONDITION:case i.codes.CLOSE_CONNECTIVITY_LOSS:case i.codes.CLOSE_CONNECT_EXCEPTION:case i.codes.CLOSE_TIMEOUT:return this.name=o.default.DISCONNECTED,void(this.message="Action failed due to session disconnection.")}this.message=i.messages[this.code]||"No message available from code."}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(743)),o=(void 0!==typeof window?window:__webpack_require__.g).WebSocket?(void 0!==typeof window?window:__webpack_require__.g).WebSocket:i.default;t.default=o},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(52)),o=r(n(3)).default.name,a=i.default.once;t.default=function(){return a()&&["Chrome","Firefox","Safari"].indexOf(o)>-1}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e.data);return t.transactionId=e.transactionId,t.fromAddress=e.headers["X-TB-FROM-ADDRESS"],t};var i=r(n(746))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(0===e.length)return{};var t=JSON.parse(e),n=t.uri.substr(1).split("/");n.shift(),""===n[n.length-1]&&n.pop(),t.params={};for(var r=0,i=n.length;r<i-1;r+=2)t.params[n[r]]=n[r+1];return n.length%2===0?"channel"===n[n.length-2]&&n.length>6?t.resource="".concat(n[n.length-4],"_").concat(n[n.length-2]):t.resource=n[n.length-2]:"channel"===n[n.length-1]&&n.length>5?t.resource="".concat(n[n.length-3],"_").concat(n[n.length-1]):t.resource=n[n.length-1],t.signature="".concat(t.resource,"#").concat(t.method),t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default="DTLS_SRTP"},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(52)).default.once;t.default=function(){return i()}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(3)),o=r(n(52)).default.once;t.default=function(){return o()&&("Chrome"===i.default.name||"Firefox"===i.default.name||"Node"===i.default.name||"Safari"===i.default.name||"Edge"===i.default.name)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.supportsWebRTC;return{supportsWebRTC:"true"===t||!0===t}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){this.code=e,this.message=t,this.reason=t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){var t=[];this.enqueue=function(){t.push(Array.prototype.slice.call(arguments))},this.triggerAll=function(){for(var n;n=t.shift();)e.trigger.apply(e,_toConsumableArray(n))}};t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(219)),o=r(n(224)),a=r(n(295)),s=r(n(59)),u=r(n(9)),c=r(n(10)),l=r(n(135)),d=r(n(754)),f=r(n(755)),p={EMPTY_RESPONSE:"Response body was empty, probably due to connectivity loss",BADLY_FORMED:"Unknown error: JSON response was badly formed",NO_ERROR:"No error message",UNEXPECTED_SERVER_RESPONSE:function(e){return"Unexpected server response (".concat(e,"). Try this operation again later.")}},h=[0,600,1200],v=function(e){var t=void 0===e?{}:e,n=t.axios,r=void 0===n?o.default:n,v=t.retryDelays,m=void 0===v?h:v;return(0,a.default)((function(e){var t=e.anvilUrl,n=e.sessionId,o=e.token,a=e.clientVersion,h=e.connectionId,v=i.default.parse(t,!0),m=i.default.format({protocol:v.protocol,auth:v.auth,host:v.host,pathname:i.default.resolve((v.pathname||"").replace(/\/?$/,"/"),"session/".concat(n)),query:Object.assign({},v.query,{extended:!0})});return r.get(m,{validateStatus:function(e){return e>=200&&e<300},headers:{"X-OPENTOK-AUTH":o,"X-TB-VERSION":1,"X-TB-CLIENT-VERSION":a,"X-TB-CONNECTIONID":h,Accept:"application/json"}}).catch((function(e){if(e.response){var t=new Error(p.UNEXPECTED_SERVER_RESPONSE("".concat(e.response.statusCode).concat(e.response.status?" ".concat(e.response.status):"")));throw t.code=c.default.ANVIL_INVALID_HTTP_STATUS,t.name=(0,d.default)(t.code),t}if(e.request){var n=new Error(p.CONNECT_FAILED);throw n.code=c.default.ANVIL_CONNECT_FAILED,n.name=(0,d.default)(n.code),n}var r=c.default.ANVIL_UNKNOWN_HTTP_ERROR,i=(0,d.default)(e.code);throw(0,u.default)(e,{code:r,name:i}),e})).then((function(e){var t=e.data;if("string"===typeof t){if(t.length>0)try{JSON.parse(t)}catch(h){throw h.message=p.UNEXPECTED_SERVER_RESPONSE(h.toString()),h.code=c.default.ANVIL_XDOMAIN_OR_PARSING_ERROR,h.name=(0,d.default)(h.code),h}var n=new Error(0===t.length?p.EMPTY_RESPONSE:p.BADLY_FORMED);throw n.code=0===t.length?c.default.ANVIL_EMPTY_RESPONSE_BODY:c.default.ANVIL_BADLY_FORMED_RESPONSE,n.name=(0,d.default)(n.code),n}if(null===t||0===t.length){var r=new Error(p.EMPTY_RESPONSE);throw r.code=c.default.ANVIL_EMPTY_RESPONSE_BODY,r.name=(0,d.default)(r.code),r}var i=t.filter((function(e){return null!=e.error}))[0];if(i){var a=(0,f.default)((0,s.default)(i,"error.code","500"));"Invalid token format"===(0,s.default)(i,"error.errorMessage.message")&&(i.error.errorMessage.message+=" Token: ".concat(o));var u=new Error((0,s.default)(i,"error.errorMessage.message",void 0===a?"Unknown error: ".concat(i.error.code):p.NO_ERROR));throw u.code=a||c.default.ANVIL_UNEXPECTED_ERROR_CODE,u.name=(0,d.default)(u.code),u}return new l.default(t[0])}))}),(function(e,t){return e.code&&e.code>=3e3&&e.code<=3007&&m[t]}))};t.default=v},function(e,t,n){"use strict";var r,i=n(0);t.__esModule=!0,t.default=void 0;var o=i(n(10)),a=i(n(8)),s=(_defineProperty(r={},o.default.ANVIL_BADLY_FORMED_RESPONSE,a.default.BADLY_FORMED_RESPONSE),_defineProperty(r,o.default.ANVIL_INVALID_HTTP_STATUS,a.default.INVALID_HTTP_STATUS),_defineProperty(r,o.default.ANVIL_XDOMAIN_OR_PARSING_ERROR,a.default.XDOMAIN_OR_PARSING_ERROR),_defineProperty(r,o.default.ANVIL_UNKNOWN_HTTP_ERROR,a.default.UNKNOWN_HTTP_ERROR),_defineProperty(r,o.default.ANVIL_UNEXPECTED_ERROR_CODE,a.default.UNEXPECTED_ERROR_CODE),_defineProperty(r,o.default.ANVIL_EMPTY_RESPONSE_BODY,a.default.EMPTY_RESPONSE_BODY),_defineProperty(r,o.default.ANVIL_CONNECT_FAILED,a.default.CONNECT_FAILED),_defineProperty(r,o.default.AUTHENTICATION_ERROR,a.default.AUTHENTICATION_ERROR),_defineProperty(r,o.default.INVALID_SESSION_ID,a.default.INVALID_SESSION_ID),_defineProperty(r,o.default.TERMS_OF_SERVICE_FAILURE,a.default.TERMS_OF_SERVICE_FAILURE),_defineProperty(r,o.default.UNEXPECTED_SERVER_RESPONSE,a.default.UNEXPECTED_SERVER_RESPONSE),r),u=function(e){return s[e]};t.default=u},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(10)),o={400:i.default.INVALID_SESSION_ID,403:i.default.AUTHENTICATION_ERROR,404:i.default.INVALID_SESSION_ID,409:i.default.TERMS_OF_SERVICE_FAILURE,500:i.default.UNEXPECTED_SERVER_RESPONSE},a=function(e){return o[e]};t.default=a},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(47)),s=r(n(14)),u=r(n(757)),c=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this)||this)._generateKey=t.generateKey||u.default,n}(0,a.default)(t,e);var n=t.prototype;return n.set=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.keyPromise=this._generateKey(t,n),e.next=3,this.keyPromise;case 3:r=e.sent,this.emit("keyChanged",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.get=function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keyPromise;case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.clear=function(){this.keyPromise=void 0},t}(s.default),l=c;t.default=l},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=function(){var e=(0,o.default)(i.default.mark((function e(t,n){var r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,o=new TextEncoder,e.next=5,window.crypto.subtle.importKey("raw",o.encode(n),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);case 5:return a=e.sent,e.abrupt("return",window.crypto.subtle.deriveKey({name:"PBKDF2",salt:o.encode(t),iterations:1e5,hash:"SHA-256"},a,{name:"AES-CTR",length:256},r,["encrypt","decrypt"]));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=a;t.default=s},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(759));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u={SFrame:{}};r(n(3)).default.isNode||(u=a);var c=u.SFrame,l=function(e){return c.createClient(e,{skipVp8PayloadHeader:!0})},d=function(){function e(){this._clientStore={}}var t=e.prototype;return t.createSender=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=0),!this.getSender(t)){e.next=3;break}return e.abrupt("return",this.getSender(t));case 3:return this._clientStore[t]||(this._clientStore[t]={}),e.next=6,l(t);case 6:return this._clientStore[t].sender=e.sent,e.abrupt("return",this.getSender(t));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.createReceiver=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.getReceiver(t)){e.next=2;break}return e.abrupt("return",this.getReceiver(t));case 2:return this._clientStore[t]||(this._clientStore[t]={}),e.next=5,l(t);case 5:return this._clientStore[t].receiver=e.sent,e.abrupt("return",this.getReceiver(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getSender=function(e){var t;return null==(t=this._clientStore[e])?void 0:t.sender},t.getReceiver=function(e){var t;return null==(t=this._clientStore[e])?void 0:t.receiver},t.deleteReceiver=function(e){this.getReceiver(e)&&(this._clientStore[e].receiver.deleteReceiver(e),delete this._clientStore[e].receiver)},t.deleteSender=function(e){var t;null==(t=this._clientStore[e])||delete t.sender},e}(),f=d;t.default=f},function(e,t,n){(function(t){var n;n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./index.js")}({"./Client.js":function(e,n,r){"use strict";r.r(n),r.d(n,"SFrame",(function(){return o}));var i=r("./Worker.js"),o={createClient:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new u,e.next=3,r.init(t,n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function a(e){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof CryptoKey&&"private"==t.type)){e.next=4;break}return e.next=3,crypto.subtle.exportKey("pkcs8",t);case 3:case 7:return e.abrupt("return",e.sent);case 4:if(!(t instanceof CryptoKey)){e.next=8;break}return e.next=7,crypto.subtle.exportKey("raw",t);case 8:if(!(t instanceof Uint8Array)){e.next=10;break}return e.abrupt("return",t.buffer.slice(0));case 10:return e.abrupt("return",t.slice(0));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),(e=n.call(this)).worker=new i.default,e.transId=1,e.transactions=new Map,e.worker.addEventListener("message",function(){var t=_asyncToGenerator3(_regeneratorRuntime().mark((function t(n){var r,i,o;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=n.data).transId?(i=e.transactions.get(r.transId),e.transactions.delete(r.transId),r.error?i.reject(new Error(r.error)):i.resolve(r.result)):r.event&&((o=new Event(r.event.name)).id=r.event.data.id,o.senderId=r.event.data.senderId,e.dispatchEvent(o));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.postMessage=function(n,r,i){return new t((function(t,o){var a=e.transId++;e.worker.postMessage({transId:a,cmd:n,args:r},i),e.transactions.set(a,{resolve:t,reject:o})}))},e}return _createClass3(r,[{key:"init",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.postMessage("init",{senderId:t,config:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setSenderEncryptionKey",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return n=e.sent,e.abrupt("return",this.postMessage("setSenderEncryptionKey",[n],[n]));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ratchetSenderEncryptionKey",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.postMessage("ratchetSenderEncryptionKey"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setSenderSigningKey",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return n=e.sent,e.abrupt("return",this.postMessage("setSenderSigningKey",[n]));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addReceiver",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.postMessage("addReceiver",[t]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setReceiverEncryptionKey",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:return r=e.sent,e.abrupt("return",this.postMessage("setReceiverEncryptionKey",[t,r],[r]));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setReceiverVerifyKey",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:return r=e.sent,e.abrupt("return",this.postMessage("setReceiverVerifyKey",[t,r],[r]));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteReceiver",value:function(e){return this.postMessage("deleteReceiver",[e])}},{key:"encrypt",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.track.kind,i=n.createEncodedStreams?n.createEncodedStreams():n.createEncodedVideoStreams?n.createEncodedVideoStreams():n.createEncodedAudioStreams(),o=i.readable,a=i.writable,e.abrupt("return",this.postMessage("encrypt",{id:t,kind:r,readableStream:o,writableStream:a},[o,a]));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"decrypt",value:function(){var e=_asyncToGenerator3(_regeneratorRuntime().mark((function e(t,n){var r,i,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.track.kind,i=n.createEncodedStreams?n.createEncodedStreams():n.createEncodedVideoStreams?n.createEncodedVideoStreams():n.createEncodedAudioStreams(),o=i.readable,a=i.writable,e.abrupt("return",this.postMessage("decrypt",{id:t,kind:r,readableStream:o,writableStream:a},[o,a]));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.worker.terminate();var e,t=_createForOfIteratorHelper(this.transactions.values());try{for(t.s();!(e=t.n()).done;)e.value.reject(new Error("Client closed"))}catch(n){t.e(n)}finally{t.f()}this.transactions.clear()}}]),r}(_wrapNativeSuper3(EventTarget))},"./Worker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./node_modules/worker-loader/dist/runtime/inline.js"),i=n.n(r);function o(){return i()('/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./Worker.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./Worker.js":\n/*!*******************!*\\\n  !*** ./Worker.js ***!\n  \\*******************/\n/*! no exports provided */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/Context.js */ "./lib/Context.js");\n/* harmony import */ var _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/VP8PayloadHeader.js */ "./lib/VP8PayloadHeader.js");\n/* harmony import */ var _lib_Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/Utils.js */ "./lib/Utils.js");\n/* harmony import */ var _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/TaskQueue.js */ "./lib/TaskQueue.js");\n\n\n\n\n\n\nconst postDecryptStatusMessage = lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()((message) => {\n\tpostMessage(message)\n},  1000, { leading: false, trailing: true });\n\nlet context; \n\nonmessage = async (event) => {\n\t//Get data\n\tconst {transId,cmd,args} = event.data;\n\t\n\ttry {\n\t\tlet result = true;\n\t\t\n\t\t//Depending on the cmd\n\t\tswitch(event.data.cmd)\n\t\t{\n\t\t\tcase "init":\n\t\t\t{\n\t\t\t\t//Get info\n\t\t\t\tconst {senderId, config} = args;\n\t\t\t\t//Crate context\n\t\t\t\tcontext = new _lib_Context_js__WEBPACK_IMPORTED_MODULE_1__["Context"](senderId, config);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase "encrypt":\n\t\t\t{\n\t\t\t\t//The recrypt queue\n\t\t\t\tconst tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();\n\t\t\t\t//Get event data\n\t\t\t\tconst{id, kind, readableStream, writableStream} = args;\n\t\t\t\t//Create transform stream foo encrypting\n\t\t\t\tconst transformStream = new TransformStream({\n\t\t\t\t\ttransform: async (chunk, controller)=>{\n\t\t\t\t\t\t//Nothing in clear\n\t\t\t\t\t\tlet skip = 0;\n\t\t\t\t\t\t//Check if it is video and we are skipping vp8 payload header\n\t\t\t\t\t\tif (kind=="video" && context.isSkippingVp8PayloadHeader())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//Get VP8 header\n\t\t\t\t\t\t\tconst vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);\n\t\t\t\t\t\t\t//Skip it\n\t\t\t\t\t\t\tskip = vp8.byteLength;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//Enqueue task\n\t\t\t\t\t\ttasks.enqueue (\n\t\t\t\t\t\t\tcontext.encrypt(kind, id, chunk.data, skip),\n\t\t\t\t\t\t\t(encrypted) => {\n\t\t\t\t\t\t\t\t//Set back encrypted payload\n\t\t\t\t\t\t\t\tchunk.data = encrypted.buffer;\n\t\t\t\t\t\t\t\t//write back\n\t\t\t\t\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(error)=>{\n\t\t\t\t\t\t\t\t//TODO: handle errors\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//Encrypt\n\t\t\t\treadableStream\n\t\t\t\t\t.pipeThrough(transformStream)\n\t\t\t\t\t.pipeTo(writableStream);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase "decrypt":\n\t\t\t{\n\t\t\t\t//The recrypt queue\n\t\t\t\tconst tasks = new _lib_TaskQueue_js__WEBPACK_IMPORTED_MODULE_4__["TaskQueue"]();\n\t\t\t\t//Last reveiced senderId\n\t\t\t\tlet senderId = -1;\n\t\t\t\t//Get event data\n\t\t\t\tconst{id, kind, readableStream, writableStream} = args;\n\t\t\t\t//Create transform stream for encrypting\n\t\t\t\tconst transformStream = new TransformStream({\n\t\t\t\t\ttransform: async (chunk, controller)=>{\n\t\t\t\t\t\t//Nothing in clear\n\t\t\t\t\t\tlet skip = 0;\n\t\t\t\t\t\t//Check if it is video and we are skipping vp8 payload header\n\t\t\t\t\t\tif (kind=="video" && context.isSkippingVp8PayloadHeader())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//Get VP8 header\n\t\t\t\t\t\t\tconst vp8 = _lib_VP8PayloadHeader_js__WEBPACK_IMPORTED_MODULE_2__["VP8PayloadHeader"].parse(chunk.data);\n\t\t\t\t\t\t\t//Skip it\n\t\t\t\t\t\t\tskip = vp8.byteLength;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Enqueue task\n\t\t\t\t\t\ttasks.enqueue(\n\t\t\t\t\t\t\tcontext.decrypt(kind, id, chunk.data, skip),\n\t\t\t\t\t\t\t(decrypted) => {\n\t\t\t\t\t\t\t\t//Set back decrypted payload\n\t\t\t\t\t\t\t\tchunk.data = decrypted.buffer;\n\t\t\t\t\t\t\t\t//write back\n\t\t\t\t\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t\t\t\t\t\t//If it is a sender\n\t\t\t\t\t\t\t\tif (decrypted.senderId!=senderId)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t//Store it\n\t\t\t\t\t\t\t\t\tsenderId = decrypted.senderId;\n\t\t\t\t\t\t\t\t\t//Launch event\n\t\t\t\t\t\t\t\t\tpostMessage ({event: {\n\t\t\t\t\t\t\t\t\t\tname\t: "authenticated",\n\t\t\t\t\t\t\t\t\t\tdata\t: {\n\t\t\t\t\t\t\t\t\t\t\tid\t : id,\n\t\t\t\t\t\t\t\t\t\t\tsenderId : senderId\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (decrypted.decryptionRestored) {\n\t\t\t\t\t\t\t\t\tpostDecryptStatusMessage({\n\t\t\t\t\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\t\t\t\t\tname: "decryptionRestored",\n\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\tsenderId,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\tif (error.message === \'decryptFailed\') {\n\t\t\t\t\t\t\t\t\tpostDecryptStatusMessage({\n\t\t\t\t\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\t\t\t\t\tname: "decryptFailed",\n\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\tsenderId,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//Decrypt\n\t\t\t\treadableStream\n\t\t\t\t\t.pipeThrough(transformStream)\n\t\t\t\t\t.pipeTo(writableStream);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\t//Excute "cmd" method on context\n\t\t\t\tresult = await context[cmd](...args || []);\n\t\t}\n\t\t//Send result back\n\t\tpostMessage ({transId,result});\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\t//Send error back\n\t\tpostMessage({transId,error});\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/AesCm128HmacSha256EncryptionKey.js":\n/*!************************************************!*\\\n  !*** ./lib/AesCm128HmacSha256EncryptionKey.js ***!\n  \\************************************************/\n/*! exports provided: AesCm128HmacSha256EncryptionKey */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AesCm128HmacSha256EncryptionKey", function() { return AesCm128HmacSha256EncryptionKey; });\n/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");\n/* harmony import */ var _Salts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Salts.js */ "./lib/Salts.js");\n/* harmony import */ var _IV_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IV.js */ "./lib/IV.js");\n\n\n\n\nconst ratchetKey = (key) => \n\tcrypto.subtle.deriveBits(\n\t\t{\n\t\t\tname : "HKDF",\n\t\t\thash : "SHA-256",\n\t\t\tsalt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].RatchetKey,\n\t\t\tinfo : new ArrayBuffer()\n\t\t},\n\t\tkey,\n\t\t256\n\t);\n\nclass AesCm128HmacSha256EncryptionKey \n{\n\tconstructor(){\n\t\tthis.ratchets = [];\n\t}\n\n\tasync setKey(key)\n\t{\n\t\tif (key instanceof CryptoKey)\n\t\t{\n\t\t\t//Check private key algorithm\n\t\t\tif (key.algorithm.name!="HKDF")\n\t\t\t\t//Error\n\t\t\t\tthrow new Error("Invalid key");\n\t\t} else {\n\t\t\t//Import key\n\t\t\tkey = await crypto.subtle.importKey(\n\t\t\t\t"raw",\n\t\t\t\tkey,\n\t\t\t\t"HKDF",\n\t\t\t\tfalse,\n\t\t\t\t["deriveBits", "deriveKey"]\n\t\t\t);\n\t\t}\n\t\tthis.key = key;\n\t\t\n\t\t//Get salt key\n\t\tthis.saltKey = new Uint8Array(await crypto.subtle.deriveBits(\n\t\t\t{\n\t\t\t\tname : "HKDF",\n\t\t\t\thash : "SHA-256",\n\t\t\t\tsalt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].SaltKey,\n\t\t\t\tinfo : new ArrayBuffer()\n\t\t\t},\n\t\t\tkey,\n\t\t\t128\n\t\t));\n\t\n\t\t//Get encryption key\n\t\tthis.encryptionKey = await crypto.subtle.deriveKey(\n\t\t\t{\n\t\t\t\tname : "HKDF",\n\t\t\t\thash : "SHA-256",\n\t\t\t\tsalt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].EncryptionKey,\n\t\t\t\tinfo : new ArrayBuffer()\n\t\t\t},\n\t\t\tkey,\n\t\t\t{\n\t\t\t\tname : "AES-CTR",\n\t\t\t\tlength : 128\n\t\t\t},\n\t\t\tfalse,\n\t\t\t["encrypt","decrypt"]\n\t\t);\n\t\n\t\t//Get authentication key\n\t\tthis.authKey = await crypto.subtle.deriveKey(\n\t\t\t{\n\t\t\t\tname : "HKDF",\n\t\t\t\thash : "SHA-256",\n\t\t\t\tsalt : _Salts_js__WEBPACK_IMPORTED_MODULE_1__["Salts"].AuthenticationKey,\n\t\t\t\tinfo : new ArrayBuffer()\n\t\t\t},\n\t\t\tkey,\n\t\t\t{\n\t\t\t\tname : "HMAC",\n\t\t\t\thash : "SHA-256",\n\t\t\t\tlength : 256\n\t\t\t},\n\t\t\tfalse,\n\t\t\t["sign","verify"]\n\t\t);\n\t}\n\n\t\n\tasync encrypt(type,header,payload,extraBytes,skip)\n\t{\n\t\t//Encure int\n\t\tskip = skip ? skip : 0;\n\t\t\n\t\t//Create IV\n\t\tconst iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);\n\t\t\n\t\t//Encrypt\n\t\tconst encrypted = await crypto.subtle.encrypt(\n\t\t\t{\n\t\t\t\tname\t: "AES-CTR",\n\t\t\t\tcounter : iv,\n\t\t\t\tlength  : 128\n\t\t\t},\n\t\t\tthis.encryptionKey,\n\t\t\tpayload\n\t\t);\n\t\n\t\t//Get auth tag length from media type\n\t\tconst authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);\n\t\t\n\t\t//Create encrypted frame\n\t\tconst encryptedFrame = new Uint8Array(header.byteLength + payload.byteLength + authTagLength + extraBytes + skip);\n\t\t\n\t\t//Set header and encrypted payolad\n\t\tencryptedFrame.set(header, skip);\n\t\tencryptedFrame.set(new Uint8Array(encrypted), skip + header.length);\n\t\t\n\t\t//Authenticate\n\t\tconst signature = new Uint8Array(await crypto.subtle.sign(\n\t\t\t"HMAC",\n\t\t\tthis.authKey, \n\t\t\tencryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)\n\t\t));\n\t\n\t\t//Truncate\n\t\tconst authTag = signature.subarray(0, authTagLength);\n\t\n\t\t//Append authentication tag\n\t\tencryptedFrame.set(authTag, skip + encrypted.byteLength + header.byteLength );\n\t\t\n\t\t//Done\n\t\treturn [encryptedFrame,authTag];\n\t\t\n\t}\n\t\n\tasync decrypt(type, header, encryptedFrame, extrabytes, skip)\n\t{\n\t\t//Encure int\n\t\tskip = skip ? skip : 0;\n\t\t\n\t\t//Create IV\n\t\tconst iv = _IV_js__WEBPACK_IMPORTED_MODULE_2__["IV"].generate(header.keyId, header.counter, this.saltKey);\n\t\t\n\t\t//Get auth tag length from media type\n\t\tconst authTagLength = AesCm128HmacSha256EncryptionKey.getAuthTagLen(type);\n\t\t\n\t\t//Get encrypted frame length (without extra bytes from signature)\n\t\tconst frameLength = encryptedFrame.byteLength - extrabytes - skip;\n\t\t\n\t\t//Get authentication tag\n\t\tconst authTag = encryptedFrame.subarray(skip + frameLength - authTagLength, skip + frameLength);\n\t\t\n\t\t//Get encrypted payload\n\t\tconst encrypted = encryptedFrame.subarray(skip + header.byteLength, skip + frameLength - authTagLength);\n\t\t\n\t\t//Calculate signature\n\t\tconst signature = new Uint8Array(await crypto.subtle.sign(\n\t\t\t"HMAC",\n\t\t\tthis.authKey, \n\t\t\tencryptedFrame.subarray(skip, skip + header.byteLength + encrypted.byteLength)\n\t\t));\n\t\n\t\t//Authenticate authTag\n\t\tlet authenticated = true;\n\t\t//Avoid timimg attacks by iterating over all bytes\n\t\tfor (let i=0;i<authTagLength;++i)\n\t\t\t//check signature\n\t\t\tauthenticated &= authTag[i]===signature[i];\n\t\t\n\t\t//If not all where equal\n\t\tif (!authenticated)\n\t\t\t//Authentication error\n\t\t\tthrow new Error("Authentication error");\n\t\t\n\t\t//Decrypt\n\t\tconst payload = new Uint8Array (await crypto.subtle.decrypt(\n\t\t\t{\n\t\t\t\tname\t: "AES-CTR",\n\t\t\t\tcounter : iv,\n\t\t\t\tlength  : 128\n\t\t\t},\n\t\t\tthis.encryptionKey,\n\t\t\tencrypted\n\t\t));\n\t\t\n\t\t//Done\n\t\treturn [payload, authTag];\n\t}\n\t\n\tasync ratchet(index)\n\t{\n\t\t// return stored key if exists\n\t\tif (this.ratchets[index]) {\n\t\t\treturn this.ratchets[index];\n\t\t}\n\t\t\n\t\t//Create new key\n\t\tconst key = new AesCm128HmacSha256EncryptionKey();\n\n\t\t// Get previous ratchet\n\t\tconst previousRatchetKey = index === 0 ? this.key : this.ratchets[index - 1].key;\n\t\t\n\t\t//Set ratchet key\n\t\tawait key.setKey(await ratchetKey(previousRatchetKey));\n\t\t\n\t\tthis.ratchets[index] = key;\n\t\t//Done\n\t\treturn key;\n\t}\n\t\n\tstatic getAuthTagLen(type)\n\t{\n\t\treturn type.toLowerCase()==="video" ? 10 : 4;\n\t};\n\t\n\tstatic async create(raw) \n\t{\n\t\t//Create new key\n\t\tconst key = new AesCm128HmacSha256EncryptionKey();\n\t\t//Set raw key\n\t\tawait key.setKey(raw);\n\t\t//Done\n\t\treturn key;\n\t}\n};\n\n\n\n/***/ }),\n\n/***/ "./lib/Context.js":\n/*!************************!*\\\n  !*** ./lib/Context.js ***!\n  \\************************/\n/*! exports provided: Context */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });\n/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");\n/* harmony import */ var _Sender_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Sender.js */ "./lib/Sender.js");\n/* harmony import */ var _Receiver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Receiver.js */ "./lib/Receiver.js");\n\n\n\n\nclass Context\n{\n\t\n\tconstructor(senderId, config)\n\t{\n\t\t//Store config\n\t\tthis.config = Object.assign({}, config);\n\t\t//Only one sender per context\n\t\tthis.sender = new _Sender_js__WEBPACK_IMPORTED_MODULE_1__["Sender"](senderId);\n\t\t\n\t\t//The map of known remote senders\n\t\tthis.receivers = new Map();\n\t}\n\t\n\tisSkippingVp8PayloadHeader()\n\t{\n\t\treturn !!this.config.skipVp8PayloadHeader;\n\t}\n\t\t\n\tasync setSenderEncryptionKey(key)\n\t{\n\t\t//Set it\n\t\treturn this.sender.setEncryptionKey(key);\n\t}\n\t\n\tasync ratchetSenderEncryptionKey()\n\t{\n\t\t//Set it\n\t\treturn this.sender.ratchetEncryptionKey();\n\t}\n\t\n\tasync setSenderSigningKey(key)\n\t{\n\t\t//Set it\n\t\treturn this.sender.setSigningKey(key);\n\t}\n\t\n\taddReceiver(receiverkKeyId)\n\t{\n\t\t//Check we don\'t have a receiver already for that id\n\t\tif(this.receivers.has(receiverkKeyId))\n\t\t\t//Error\n\t\t\tthrow new Error("There was already a receiver for keyId "+receiverkKeyId);\n\t\t//Add new\n\t\tthis.receivers.set(receiverkKeyId, new _Receiver_js__WEBPACK_IMPORTED_MODULE_2__["Receiver"](receiverkKeyId));\n\t}\n\t\n\tasync setReceiverEncryptionKey(receiverkKeyId, key)\n\t{\n\t\t//Get receiver for the sender\n\t\tconst receiver = this.receivers.get(receiverkKeyId);\n\t\t\n\t\t//IF not found\n\t\tif (!receiver)\n\t\t\t//Error\n\t\t\tthrow new Error("No receiver found for keyId "+receiverkKeyId);\n\t\t\n\t\t//Rachet\n\t\treturn receiver.setEncryptionKey(key);\n\t}\n\t\n\tasync setReceiverVerifyKey(receiverkKeyId,key)\n\t{\n\t\t//Get receiver for the sender\n\t\tconst receiver = this.receivers.get(receiverkKeyId);\n\t\t\n\t\t//IF not found\n\t\tif (!receiver)\n\t\t\t//Error\n\t\t\tthrow new Error("No receiver found for keyId "+receiverkKeyId);\n\t\t\n\t\t//Rachet\n\t\treturn receiver.setVerifyKey(key);\n\t}\n\t\n\tdeleteReceiver(receiverkKeyId)\n\t{\n\t\t//Delete receiver\n\t\treturn this.receivers.delete(receiverkKeyId);\n\t}\n\t\n\tasync encrypt(type, ssrcId, frame, skip)\n\t{\n\t\t//Encrypt it\n\t\treturn this.sender.encrypt(type, ssrcId, frame, skip);\n\t}\n\t\n\tasync decrypt(type, ssrcId, encryptedFrame, skip)\n\t{\n\t\t//convert if needed\n\t\tif (!(encryptedFrame instanceof Uint8Array))\n\t\t\tencryptedFrame = new Uint8Array (encryptedFrame);\n\t\t\n\t\t//Parse encrypted payload\n\t\tconst header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].parse(encryptedFrame.subarray(skip));\n\t\t\n\t\t//Get receiver for the sender\n\t\tconst receiver = this.receivers.get(header.keyId);\n\t\t\n\t\t//IF not found\n\t\tif (!receiver)\n\t\t\t//Error\n\t\t\tthrow new Error("No receiver found for keyId " + header.keyId);\n\t\t\n\t\t//Decrypt it\n\t\treturn receiver.decrypt(type, ssrcId, header, encryptedFrame, skip);\n\t}\n\t\n};\n\n\n/***/ }),\n\n/***/ "./lib/EcdsaSignKey.js":\n/*!*****************************!*\\\n  !*** ./lib/EcdsaSignKey.js ***!\n  \\*****************************/\n/*! exports provided: EcdsaSignKey */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaSignKey", function() { return EcdsaSignKey; });\n//TODO: Update to Ed25519 when available\n// https://chromestatus.com/features/4913922408710144\n// https://chromium.googlesource.com/chromium/src/+log/master/components/webcrypto/algorithms/ed25519.cc\n\nclass EcdsaSignKey\n{\n\t\n\tasync setKey(privKey)\n\t{\n\t\t//If it is a crypto key already\n\t\tif (privKey instanceof CryptoKey)\n\t\t{\n\t\t\t//Check private key algorithm\n\t\t\tif (privKey.algorithm.name!="ECDSA" || !privKey.usages.includes("sign"))\n\t\t\t\t//Error\n\t\t\t\tthrow new Error("Invalid key");\n\t\t\t//Set it\n\t\t\tthis.privKey = privKey;\n\t\t} else {\n\t\t\t//Import it\n\t\t\tthis.privKey = await crypto.subtle.importKey(\n\t\t\t\t"pkcs8",\n\t\t\t\tprivKey,\n\t\t\t\t{\n\t\t\t\t\tname\t\t: "ECDSA",\n\t\t\t\t\tnamedCurve\t: "P-521"\n\t\t\t\t},\n\t\t\t\tfalse,\n\t\t\t\t["sign"]\n\t\t\t);\n\t\t}\n\t}\n\t\n\tasync sign(authTags)\n\t{\n\t\t//Verify\n\t\treturn new Uint8Array(await crypto.subtle.sign(\n\t\t\t{\n\t\t\t  name: "ECDSA",\n\t\t\t  hash: "SHA-512"\n\t\t\t},\n\t\t\tthis.privKey,\n\t\t\tauthTags\n\t\t));\n\t}\n\t\n\tstatic getSignatureLen()\n\t{\n\t\treturn 64;\n\t}\n\t\n\tstatic async create(privKey)\n\t{\n\t\t//Craete key\n\t\tconst key = new EcdsaSignKey();\n\t\t//Set key\n\t\tawait key.setKey(privKey);\n\t\t//Done\n\t\treturn key;\n\t\t\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/EcdsaVerifyKey.js":\n/*!*******************************!*\\\n  !*** ./lib/EcdsaVerifyKey.js ***!\n  \\*******************************/\n/*! exports provided: EcdsaVerifyKey */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EcdsaVerifyKey", function() { return EcdsaVerifyKey; });\n\nclass EcdsaVerifyKey\n{\n\tasync setKey(pubKey)\n\t{\n\t\t//If it is a crypto key already\n\t\tif (pubKey instanceof CryptoKey)\n\t\t{\n\t\t\t//Check \n\t\t\tif (pubKey.algorithm.name!="ECDSA" || !pubKey.usages.includes("verify"))\n\t\t\t\t//Error\n\t\t\t\tthrow new Error("Invalid key");\n\t\t\t//Set it\n\t\t\tthis.pubKey = pubKey;\n\t\t} else {\n\t\t\t//Import it\n\t\t\tthis.pubKey = await crypto.subtle.importKey(\n\t\t\t\t"raw",\n\t\t\t\tpubKey,\n\t\t\t\t{\n\t\t\t\t\tname\t\t: "ECDSA",\n\t\t\t\t\tnamedCurve\t: "P-521"\n\t\t\t\t},\n\t\t\t\tfalse,\n\t\t\t\t["verify"]\n\t\t\t);\n\t\t}\n\t}\n\t\n\tasync verify(signed,signature)\n\t{\n\t\t//Verify\n\t\treturn await window.crypto.subtle.verify(\n\t\t\t{\n\t\t\t\tname: "ECDSA",\n\t\t\t\thash: "SHA-512"\n\t\t\t},\n\t\t\tthis.pubKey,\n\t\t\tsignature,\n\t\t\tsigned\n\t\t);\n\t}\n\t\n\tstatic getSignatureLen()\n\t{\n\t\treturn 64;\n\t}\n\t\n\tstatic async create(pubKey)\n\t{\n\t\t//Craete key\n\t\tconst key = new EcdsaVerifyKey();\n\t\t//Set key\n\t\tawait key.setKey(pubKey);\n\t\t//Done\n\t\treturn key;\n\t\t\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/Header.js":\n/*!***********************!*\\\n  !*** ./lib/Header.js ***!\n  \\***********************/\n/*! exports provided: Header */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Header", function() { return Header; });\n/*\n\t0 1 2 3 4 5 6 7\n\t+-+-+-+-+-+-+-+-+\n\t|S|LEN  |X|  K  |\n\t+-+-+-+-+-+-+-+-+\n\tSFrame header metadata\n\n\tSignature flag (S): 1 bit This field indicates the payload contains a signature of set. Counter Length (LEN): 3 bits This field indicates the length of the CTR fields in bytes. Extended Key Id Flag (X): 1 bit\n\tIndicates if the key field contains the key id or the key length. Key or Key Length: 3 bits This field contains the key id (KID) if the X flag is set to 0, or the key length (KLEN) if set to 1.\n\n\tIf X flag is 0 then the KID is in the range of 0-7 and the frame counter (CTR) is found in the next LEN bytes:\n\n\t 0 1 2 3 4 5 6 7\n\t+-+-+-+-+-+-+-+-+---------------------------------+\n\t|S|LEN  |0| KID |    CTR... (length=LEN)          |\n\t+-+-+-+-+-+-+-+-+---------------------------------+\n\tKey id (KID): 3 bits The key id (0-7). Frame counter (CTR): (Variable length) Frame counter value up to 8 bytes long.\n\n\tif X flag is 1 then KLEN is the length of the key (KID), that is found after the SFrame header metadata byte. After the key id (KID), the frame counter (CTR) will be found in the next LEN bytes:\n\n\t 0 1 2 3 4 5 6 7\n\t+-+-+-+-+-+-+-+-+---------------------------+---------------------------+\n\t|S|LEN  |1|KLEN |   KID... (length=KLEN)    |    CTR... (length=LEN)    |\n\t+-+-+-+-+-+-+-+-+---------------------------+---------------------------+\n*/\nconst Header = {\n\t\n\tparse : function(buffer) \n\t{\n\t\t//Create uint view\n\t\tconst view = new Uint8Array(buffer);\n\t\t\n\t\t//Get metadata\n\t\tconst metadata = view[0];\n\t\t\n\t\t//Get values\n\t\tconst s\t\t= !!(metadata & 0x80);\n\t\tconst len\t= (metadata >> 4) & 0x07;\n\t\tconst x\t\t= !!(metadata & 0x08);\n\t\tconst k\t\t= metadata & 0x07;\n\t\t\n\t\t//Get key id\n\t\tlet keyId = 0;\n\t\t//Check if it is the extented key format\n\t\tif (x)\n\t\t{\n\t\t\t//Read length\n\t\t\tfor (let i=0;i<k;i++)\n\t\t\t\tkeyId = (keyId * 256) + view[i+1];\n\t\t} else {\n\t\t\t//Short version\n\t\t\tkeyId = k;\n\t\t}\n\t\t\n\t\t//Get ctr\n\t\tconst ini = x ? k + 1 : 1;\n\t\tlet counter = 0;\n\t\t//Read length\n\t\tfor (let i=0;i<len;i++)\n\t\t\tcounter = (counter * 256) + view[ini+i];\n\t\t\n\t\t//Get header buffer view\n\t\tconst header = view.subarray(0, x ? k + len + 1 : len + 1);\n\t\t\n\t\t//Add parsed atributes\n\t\theader.signature   = s;\n\t\theader.keyId\t   = keyId;\n\t\theader.counter\t   = counter;\n\t\t\n\t\t//Done\n\t\treturn header; \n\t},\n\tgenerate: function(signature,keyId,counter)\n\t{\n\t\t//Check keyId\n\t\tHeader.checkKeyId(keyId);\n\t\t\n\t\t//Calcultate variavle length\n\t\tconst varlen = (x) => x ? parseInt(Math.log(x) / Math.log(256))+1 : 1;\n\t\t\n\t\t//Get key extension and length\n\t\tconst x = keyId > 7;\n\t\tconst k = x ? varlen(keyId) : keyId;\n\t\t\n\t\t//Get counter length\n\t\tconst len = varlen(counter);\n\t\t\n\t\t//Ensure counter is not huge\n\t\tif (len>7)\n\t\t\t//Error\n\t\t\tthrow new Error("Counter is too big");\n\t\t\n\t\t//Generate header\n\t\tconst header = new Uint8Array( x ? 1 + k + len : 1 + len);\n\t\t\n\t\t//Set metadata header\n\t\theader[0] = !!signature;\n\t\theader[0] = header[0] << 3  | ( len & 0x07);\n\t\theader[0] = header[0] << 1  | x;\n\t\theader[0] = header[0] << 3  | ( k & 0x07);\n\t\t\n\t\t//Add parsed atributes\n\t\theader.signature   = !!signature;\n\t\theader.keyId\t   = keyId;\n\t\theader.counter\t   = counter;\n\t\t\n\t\t//If extended key\n\t\tif (x)\n\t\t\t//Add key id\n\t\t\tfor (let i=0; i<k; ++i)\n\t\t\t\theader[i+1] = (keyId >> (k-1-i)*8) & 0xff;\n\t\t//The coutner init\n\t\tconst ini = x ? k + 1 : 1;\n\t\t//Add counter\n\t\tfor (let i=0; i<len; ++i)\n\t\t\theader[ini+i] = (counter >> (len-1-i)*8) & 0xff;\n\t\t\t\n\t\t\n\t\t//Done\n\t\treturn header;\n\t}\n};\n\nHeader.MaxKeyId = 0xFFFFFFFFFF;\n\nHeader.checkKeyId = function(keyId)\n{\n\t//Check it is possitive\n\tif (keyId<0)\n\t\t//Error\n\t\tthrow new Error("keyId must be possitive");\n\t//Check it is possitive\n\tif (keyId>Header.MaxKeyId)\n\t\t//Error\n\t\tthrow new Error("keyId must be 5 bytes long at most");\n};\n\n\n/***/ }),\n\n/***/ "./lib/IV.js":\n/*!*******************!*\\\n  !*** ./lib/IV.js ***!\n  \\*******************/\n/*! exports provided: IV */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IV", function() { return IV; });\nconst IV = \n{\n\tgenerate : function(keyId,counter,salt)\n\t{\n\t\t//128 bits\n\t\tconst iv = new Uint8Array (16);\n\t\t//Get view\n\t\tconst view = new DataView(iv.buffer);\n\t\t//Set keyId\n\t\tview.setBigUint64(0, BigInt(counter));\n\t\t//Set coutner\n\t\tview.setBigUint64(8, BigInt(keyId));\n\t\t//Xor with salt key\n\t\tfor (let i=0; i<iv.byteLength; ++i)\n\t\t\t//xor\n\t\t\tview.setUint8(i,iv[i]^salt[i]); \n\t\t//return buffer\n\t\treturn iv;\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/Receiver.js":\n/*!*************************!*\\\n  !*** ./lib/Receiver.js ***!\n  \\*************************/\n/*! exports provided: Receiver */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Receiver", function() { return Receiver; });\n/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./lib/Utils.js");\n/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");\n/* harmony import */ var _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EcdsaVerifyKey.js */ "./lib/EcdsaVerifyKey.js");\n/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");\n\n\n\n\n\nconst MaxRatchetAttempts = 5;\nconst ReplayWindow = 128;\nconst KeyTimeout = 1000;\n\nclass Receiver\n{\n\tconstructor(senderId)\n\t{\n\t\t//Check keyId\n\t\t_Header_js__WEBPACK_IMPORTED_MODULE_1__["Header"].checkKeyId(senderId);\n\t\t\n\t\t//Store sender id\n\t\tthis.senderId = senderId;\n\t\t//Last received counter\n\t\tthis.maxReceivedCounter = -1;\n\t\t//Number or ratchets of current key\n\t\tthis.numKeyRatchets = 0;\n\t\t//Create keyring\n\t\tthis.keyring = [];\n\t\t//Pending verified tags\n\t\tthis.pending = new Map();\n\t\t// has failed decryption\n\t\tthis.keyFailing = false;\n\n\t\t//Scheduled keys\n\t\tthis.scheduledKeys = new WeakSet ();\n\n\t\t//Function to clear up keys up to given one\n\t\tthis.schedulePreviousKeysTimeout = (key) =>{\n\t\t\t//If this is the only key\n\t\t\tif (this.keyring.length==1 && this.keyring[0]===key)\n\t\t\t\t//Do nothing\n\t\t\t\treturn;\n\t\t\t//If has been already scheduled\n\t\t\tif (this.scheduledKeys.has(key))\n\t\t\t\t//Not do it twice\n\t\t\t\treturn;\n\t\t\t//Add it\n\t\t\tthis.scheduledKeys.add(key);\n\t\t\t//Schedule key timeout of previous keys\n\t\t\tsetTimeout(()=>{\n\t\t\t\t//Find key index\n\t\t\t\tconst i = this.keyring.findIndex(k=>k===key);\n\t\t\t\t//Remove previous keys\n\t\t\t\tthis.keyring = this.keyring.splice(i);\n\t\t\t}, KeyTimeout);\n\t\t};\n\t}\n\t\n\tasync decrypt(type, ssrcId, header, encryptedFrame, skip)\n\t{\n\t\tlet authTag, payload, extrabytes = 0, signature, signed;\n\t\tconst prevAuthTags = [];\n\t\t\n\t\t//convert if needed\n\t\tif (!(encryptedFrame instanceof Uint8Array))\n\t\t\tencryptedFrame = new Uint8Array (encryptedFrame);\n\n\t\t// Replay attack protection\n\t\tif (header.counter < this.maxReceivedCounter && (this.maxReceivedCounter - header.counter) > ReplayWindow) {\n\t\t\t//Error\n\t\t\tthrow new Error("Replay check failed, frame counter too old");\n\t\t}\n\t\t\n\t\t//Check if frame contains signature\n\t\tif (header.signature)\n\t\t{\n\t\t\t//Start from the end\n\t\t\tlet end = encryptedFrame.byteLength;\n\t\t\t\n\t\t\t//Get lengths\n\t\t\tconst singatureLength = ECDSAVerifyKey.getSignatureLen();\n\t\t\tconst authTagLength   = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);\n\t\t\t\n\t\t\t//Get signature\n\t\t\tsignature = encryptedFrame.subarray(end - singatureLength, end);\n\t\t\t//Move backward\n\t\t\tend -= singatureLength;\n\t\t\t\n\t\t\t//Get number of tags\n\t\t\tconst num = encryptedFrame[end--];\n\t\t\t\n\t\t\t//Read all tags\n\t\t\tfor (let i=0; i<num; ++i)\n\t\t\t{\n\t\t\t\t//Get previous tag\n\t\t\t\tconst prevTag = encryptedFrame.subarray(end - authTagLength, end);\n\t\t\t\t//Move backward\n\t\t\t\tend -= authTagLength;\n\t\t\t\t//Add tag to previous tags in hex\n\t\t\t\tprevAuthTags.push(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(prevTag))\n\t\t\t}\n\t\t\t//Get the extra bytes\n\t\t\textrabytes = encryptedFrame.byteLength - end;\n\t\t\t\n\t\t\t//Move backward to start oth current frame auth tag\n\t\t\tend -= authTagLength;\n\t\t\t\n\t\t\t//Get singed part\n\t\t\tsigned = encryptedFrame.subarray(end, encryptedFrame.byteLength - singatureLength)\n\t\t}\n\n\t\t//For each key in key ring\n\t\tfor (let i=0;i<this.keyring.length;++i)\n\t\t{\n\t\t\t//Get key from ring\n\t\t\tconst key = this.keyring[i];\n\t\t\ttry {\n\t\t\t\t//Try to decrypt payload\n\t\t\t\t[payload, authTag] = await key.decrypt(type, header, encryptedFrame, extrabytes, skip);\n\t\t\t\t//Done\n\t\t\t\tbreak;\n\t\t\t} catch(e) {\n\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\t//If not found yet\n\t\tif (!payload)\n\t\t{\n\t\t\t//Get last key\n\t\t\tconst key = this.keyring[this.keyring.length-1];\n\t\t\t//Try ratchet last key\n\t\t\tfor (let i = 0; i < MaxRatchetAttempts; ++i)\n\t\t\t{\n\t\t\t\t//Ratchet key\n\t\t\t\tconst ratchetKey = await key.ratchet(i);\n\t\t\t\ttry {\n\t\t\t\t\t//Try to decrypt payload\n\t\t\t\t\t[payload, authTag] = await ratchetKey.decrypt(type, header, encryptedFrame, extrabytes, skip);\n\t\t\t\t\t// Set working ratchet as new key\n\t\t\t\t\tthis.keyring.push(ratchetKey);\n\t\t\t\t\tthis.schedulePreviousKeysTimeout(ratchetKey);\n\t\t\t\t\t//Done\n\t\t\t\t\tbreak;\n\t\t\t\t} catch(e) {\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//Last check\n\t\tif (!payload) {\n\t\t\t//Decryption failed\n\t\t\tif (this.keyFailing)  {\n\t\t\t\tthrow new Error(\'decryptStillFailing\')\n\t\t\t} else {\n\t\t\t\tthis.keyFailing = true;\n\t\t\t\tthrow new Error("decryptFailed");\n\t\t\t}\n\t\t}\n\n\t\t//If we are sending part of the frame in clear\n\t\tif (skip)\n\t\t\t//Copy skiped payload\n\t\t\tpayload.set(encryptedFrame.subarray(0,skip),0);\n\n\t\t//Check if have received anything from this ssrc before\n\t\tif (!this.pending.has(ssrcId))\n\t\t\t//Add it\n\t\t\tthis.pending.set(ssrcId,new Set());\n\n\t\t//Get pending list\n\t\tconst pending = this.pending.get(ssrcId);\n\n\t\t//Check if it constains signatures\n\t\tif (header.signed)\n\t\t{\n\t\t\t//try to verify list\n\t\t\tif (!await this.verifyKey.verify(signed,signature))\n\t\t\t\t//Error\n\t\t\t\tthrow new Error("Could not verify signature");\n\t\t\t//For each signed tag\n\t\t\tfor (const tag in prevAuthTags)\n\t\t\t\t//Delete from pending to be verified tags\n\t\t\t\tpending.delete(tag);\n\t\t} else {\n\t\t\t//Push this tag to\n\t\t\tpending.add(_Utils_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].toHex(authTag));\n\t\t}\n\n\t\t//Set authenticated sender id and frame Id\n\t\tpayload.senderId = header.keyId;\n\t\tpayload.frameId  = header.counter;\n\n\t\t// inform that decryption is working after previously failing\n\t\tif (this.keyFailing) {\n\t\t\tpayload.decryptionRestored = true;\n\t\t\tthis.keyFailing = false;\n\t\t}\n\n\t\t//Store last received counter\n\t\tthis.maxReceivedCounter = Math.max(header.counter, this.maxReceivedCounter);\n\n\t\t//Return decrypted payload\n\t\treturn payload;\n\t}\n\n\tasync setVerifyKey(key)\n\t{\n\t\t//Create new singing key\n\t\tthis.verifyKey = _EcdsaVerifyKey_js__WEBPACK_IMPORTED_MODULE_2__["EcdsaVerifyKey"].create(key);\n\t}\n\n\tasync setEncryptionKey(raw)\n\t{\n\t\t//Create new encryption key\n\t\tconst key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_3__["AesCm128HmacSha256EncryptionKey"].create(raw);\n\t\t//Append to the keyring\n\t\tthis.keyring.push(key);\n\t\t//Restart ratchet count number\n\t\tthis.numKeyRatchets = 0;\n\t\t//Activate\n\t\tthis.schedulePreviousKeysTimeout(key);\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/Salts.js":\n/*!**********************!*\\\n  !*** ./lib/Salts.js ***!\n  \\**********************/\n/*! exports provided: Salts */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Salts", function() { return Salts; });\nconst textEncoder = new TextEncoder()\n\nconst Salts =  {\n\t"SaltKey"\t\t: textEncoder.encode("SFrameSaltKey"),\n\t"EncryptionKey"\t\t: textEncoder.encode("SFrameEncryptionKey"),\n\t"AuthenticationKey"\t: textEncoder.encode("SFrameAuthenticationKey"),\n\t"RatchetKey"\t\t: textEncoder.encode("SFrameRatchetKey")\n};\n\n\n/***/ }),\n\n/***/ "./lib/Sender.js":\n/*!***********************!*\\\n  !*** ./lib/Sender.js ***!\n  \\***********************/\n/*! exports provided: Sender */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sender", function() { return Sender; });\n/* harmony import */ var _Header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Header.js */ "./lib/Header.js");\n/* harmony import */ var _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EcdsaSignKey.js */ "./lib/EcdsaSignKey.js");\n/* harmony import */ var _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AesCm128HmacSha256EncryptionKey.js */ "./lib/AesCm128HmacSha256EncryptionKey.js");\n\n\n\n\n\nconst SigningFrameInterval = 10;\n\nclass Sender\n{\n\tconstructor(senderId)\n\t{\n\t\t//Check keyId\n\t\t_Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].checkKeyId(senderId);\n\t\t\n\t\t//The global frame counter\n\t\tthis.counter = 0;\n\t\t\n\t\t//Store senderId/keyId\n\t\tthis.senderId = senderId;\n\t\t\n\t\t//Pending frames for signing\n\t\tthis.pending = new Map();\n\t}\n\t\n\tasync encrypt(type, ssrcId, payload, skip)\n\t{\n\t\t//Check we have a valid key\n\t\tif (!this.key)\n\t\t\tthrow Error("Encryption key not set");\n\t\t\n\t\t//convert if needed\n\t\tif (!(payload instanceof Uint8Array))\n\t\t\tpayload = new Uint8Array (payload);\n\t\t\n\t\t//Encure int\n\t\tskip = skip ? skip : 0;\n\t\t\n\t\t//Get counter for frame\n\t\tconst counter = this.counter++;\n\t\t\n\t\t//If we don\'t have the ssrc\n\t\t// TODO FIX https://github.com/medooze/sframe/issues/15 and uncomment line below\n\t\t// if (!this.pending.has(ssrcId))\n\t\t//Create new pending frames array\n\t\t\tthis.pending.set(ssrcId,[]);\n\t\t\n\t\t//Get pending frames for signature\n\t\tconst pending = this.pending.get(ssrcId);\t\t\n\t\t\n\t\t//Do we need to sign the frames?\n\t\tconst signing = this.signingKey && pending.length > SigningFrameInterval;\n\t\t\n\t\t//Get auth tag len for type\n\t\tconst authTagLen = _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type);\n\t\t\n\t\t//Calculae extra bytes\n\t\tconst extraBytes = signing ? pending.length * _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].getAuthTagLen(type) + 1 + _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].getSignatureLen() : 0;\n\t\t\n\t\t//Generate header\n\t\tconst header = _Header_js__WEBPACK_IMPORTED_MODULE_0__["Header"].generate(signing,this.senderId,counter);\n\t\t\n\t\t//Encrypt frame\n\t\tconst [encryptedFrame,authTag] = await this.key.encrypt(type, header, payload, extraBytes, skip);\n\t\t\n\t\t//If we are sending part of the frame in clear\n\t\tif (skip)\n\t\t\t//Copy skiped payload\n\t\t\tencryptedFrame.set(payload.subarray(0,skip),0);\n\t\t\n\t\t//If we need to sign the frame\n\t\tif (signing)\n\t\t{\n\t\t\t//Append after auth tag\n\t\t\tlet ini = skip + encryptedFrame.byteLength - extraBytes;\n\t\t\t\n\t\t\t//Get tag list view\n\t\t\tconst authTags = encryptedFrame.subarray(ini - authTagLen, (pending.length + 1) * authTagLen);\n\t\t\t\n\t\t\t//Add all previous tags \n\t\t\tfor (const previousTag of pending)\n\t\t\t{\n\t\t\t\t//Append to frame\n\t\t\t\tencryptedFrame.set(previousTag, ini);\n\t\t\t\t//Move\n\t\t\t\tini += authTagLen;\n\t\t\t}\n\t\t\t\n\t\t\t//Add number of bytes\n\t\t\tencryptedFrame[ini++] = pending.length;\n\t\t\t\n\t\t\t//Create signature with all auth tags (including this frame\'s one)\n\t\t\tconst signature = await this.signingKey.sign(authTags);\n\t\t\t\n\t\t\t//Add signature\n\t\t\tencryptedFrame.set(signature, ini);\n\t\t\t\n\t\t\t//Empty pending list \n\t\t\tthis.pending.set(ssrcId,[]);\n\t\t\t\n\t\t//If we can sign\n\t\t} else if (this.signingKey) {\n\t\t\t//Append a copy of current tag at the begining\n\t\t\tpending.unshift(authTag.slice());\n\t\t}\n\t\t\n\t\t//Set authenticated sender id and frame Id\n\t\tencryptedFrame.senderId = header.keyId;\n\t\tencryptedFrame.frameId  = header.counter;\n\t\t\n\t\t//Done\n\t\treturn encryptedFrame;\n\t}\n\t\n\tasync setSigningKey(key)\n\t{\n\t\t//Create new singing key\n\t\tthis.signingKey = await _EcdsaSignKey_js__WEBPACK_IMPORTED_MODULE_1__["EcdsaSignKey"].create(key);\n\t}\n\t\n\tasync setEncryptionKey(key)\n\t{\n\t\t//Create new encryption key\n\t\tthis.key = await _AesCm128HmacSha256EncryptionKey_js__WEBPACK_IMPORTED_MODULE_2__["AesCm128HmacSha256EncryptionKey"].create(key);\n\t}\n\t\n\tasync ratchetEncryptionKey()\n\t{\n\t\t//Check we have a valid key\n\t\tif (!this.key)\n\t\t\tthrow Error("Encryption key not set");\n\t\t\n\t\t//Rachet the key and store it\n\t\tthis.key = await this.key.ratchet();\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/TaskQueue.js":\n/*!**************************!*\\\n  !*** ./lib/TaskQueue.js ***!\n  \\**************************/\n/*! exports provided: TaskQueue */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskQueue", function() { return TaskQueue; });\nclass TaskQueue\n{\n\tconstructor()\n\t{\n\t\tthis.tasks = [];\n\t\tthis.running = false;\n\t}\n\t\n\tenqueue(promise,callback,error)\n\t{\n\t\t//enqueue task\n\t\tthis.tasks.push({promise,callback,error});\n\t\t//Try run \n\t\tthis.run();\n\t}\n\t\n\tasync run()\n\t{\n\t\t//If already running \n\t\tif (this.running)\n\t\t\t//Nothing\n\t\t\treturn;\n\t\t//Running\n\t\tthis.running = true;\n\t\t//Run all pending tasks\n\t\twhile(this.tasks.length)\n\t\t{\n\t\t\ttry {\n\t\t\t\t//Wait for first promise to finish\n\t\t\t\tconst result = await this.tasks[0].promise;\n\t\t\t\t//Run callback\n\t\t\t\tthis.tasks[0].callback(result); \n\t\t\t} catch(e) {\n\t\t\t\t//Run error callback\n\t\t\t\tthis.tasks[0].error(e); \n\t\t\t}\n\t\t\t//Remove task from queue\n\t\t\tthis.tasks.shift();\n\t\t}\n\t\t//Ended\n\t\tthis.running = false;\n\t}\n}\n\n\n/***/ }),\n\n/***/ "./lib/Utils.js":\n/*!**********************!*\\\n  !*** ./lib/Utils.js ***!\n  \\**********************/\n/*! exports provided: Utils */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });\nconst Utils = \n{\n\ttoHex : function(buffer)\n\t{\n\t\treturn Array.prototype.map.call(buffer instanceof Uint8Array ? buffer : new Uint8Array (buffer), x =>x.toString(16).padStart(2,"0")).join("");\n\t},\n\tfromHex: function(str)\n\t{\n\t\tconst bytes = [];\n\t\tfor (let i=0;i<str.length/2;++i)\n\t\t\tbytes.push(parseInt(str.substring(i*2, (i+1)*2), 16));\n\n\t\treturn new Uint8Array(bytes);\n\t},\n\tequals : function(a,b)\n\t{\n\t\tif (a.byteLength != b.byteLength) return false;\n\t\tfor (let i = 0 ; i != a.byteLength ; i++)\n\t\t\tif (a[i] != b[i]) return false;\n\t\treturn true;\n\t}\n};\n\n\n/***/ }),\n\n/***/ "./lib/VP8PayloadHeader.js":\n/*!*********************************!*\\\n  !*** ./lib/VP8PayloadHeader.js ***!\n  \\*********************************/\n/*! exports provided: VP8PayloadHeader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VP8PayloadHeader", function() { return VP8PayloadHeader; });\n\nconst VP8PayloadHeader = {\n\t\n\tparse : function(buffer) \n\t{\n\t\t//Check size\n\t\tif (buffer.byteLength<3)\n\t\t\t//Invalid\n\t\t\treturn null;\n\t\t\n\t\t//Create uint view\n\t\tconst view = new Uint8Array(buffer);\n\t\t\n\t\t//Read comon 3 bytes\n\t\t//   0 1 2 3 4 5 6 7\n                //  +-+-+-+-+-+-+-+-+\n                //  |Size0|H| VER |P|\n                //  +-+-+-+-+-+-+-+-+\n                //  |     Size1     |\n                //  +-+-+-+-+-+-+-+-+\n                //  |     Size2     |\n                //  +-+-+-+-+-+-+-+-+\n\t\tconst firstPartitionSize\t= view[0] >> 5;\n\t\tconst showFrame\t\t\t= view[0] >> 4 & 0x01;\n\t\tconst version\t\t\t= view[0] >> 1 & 0x07;\n\t\tconst isKeyFrame\t\t= (view[0] & 0x01) == 0;\n\n\t\t//check if more\n\t\tif (isKeyFrame)\n\t\t{\n\t\t\t//Check size\n\t\t\tif (buffer.byteLength<10)\n\t\t\t\t//Invalid\n\t\t\t\treturn null;\n\t\t\t//Get size in le\n\t\t\tconst hor = view[7]<<8 | view[6];\n\t\t\tconst ver = view[9]<<8 | view[8];\n\t\t\t//Get dimensions and scale\n\t\t\tconst width\t\t= hor & 0x3fff;\n\t\t\tconst horizontalScale   = hor >> 14;\n\t\t\tconst height\t\t= ver & 0x3fff;\n\t\t\tconst verticalScale\t= ver >> 14;\n\t\t\t//Key frame\n\t\t\treturn view.subarray (0,10);\n\t\t}\n\t\t\n\t\t//No key frame\n\t\treturn view.subarray (0,3);\n\t}\n};\n\n\t\t\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_Symbol.js":\n/*!****************************************!*\\\n  !*** ./node_modules/lodash/_Symbol.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_baseGetTag.js":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash/_baseGetTag.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js"),\n    getRawTag = __webpack_require__(/*! ./_getRawTag */ "./node_modules/lodash/_getRawTag.js"),\n    objectToString = __webpack_require__(/*! ./_objectToString */ "./node_modules/lodash/_objectToString.js");\n\n/** `Object#toString` result references. */\nvar nullTag = \'[object Null]\',\n    undefinedTag = \'[object Undefined]\';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_baseTrim.js":\n/*!******************************************!*\\\n  !*** ./node_modules/lodash/_baseTrim.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar trimmedEndIndex = __webpack_require__(/*! ./_trimmedEndIndex */ "./node_modules/lodash/_trimmedEndIndex.js");\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \'\')\n    : string;\n}\n\nmodule.exports = baseTrim;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_freeGlobal.js":\n/*!********************************************!*\\\n  !*** ./node_modules/lodash/_freeGlobal.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == \'object\' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_getRawTag.js":\n/*!*******************************************!*\\\n  !*** ./node_modules/lodash/_getRawTag.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_objectToString.js":\n/*!************************************************!*\\\n  !*** ./node_modules/lodash/_objectToString.js ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_root.js":\n/*!**************************************!*\\\n  !*** ./node_modules/lodash/_root.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar freeGlobal = __webpack_require__(/*! ./_freeGlobal */ "./node_modules/lodash/_freeGlobal.js");\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == \'object\' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function(\'return this\')();\n\nmodule.exports = root;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/_trimmedEndIndex.js":\n/*!*************************************************!*\\\n  !*** ./node_modules/lodash/_trimmedEndIndex.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/debounce.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/lodash/debounce.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),\n    now = __webpack_require__(/*! ./now */ "./node_modules/lodash/now.js"),\n    toNumber = __webpack_require__(/*! ./toNumber */ "./node_modules/lodash/toNumber.js");\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = \'Expected a function\';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho\'s article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it\'s invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on(\'resize\', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on(\'click\', _.debounce(sendMail, 300, {\n *   \'leading\': true,\n *   \'trailing\': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { \'maxWait\': 1000 });\n * var source = new EventSource(\'/stream\');\n * jQuery(source).on(\'message\', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on(\'popstate\', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != \'function\') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \'maxWait\' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = \'trailing\' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we\'re at the\n    // trailing edge, the system time has gone backwards and we\'re treating\n    // it as the trailing edge, or we\'ve hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/isObject.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/lodash/isObject.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String(\'\')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == \'object\' || type == \'function\');\n}\n\nmodule.exports = isObject;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/isObjectLike.js":\n/*!*********************************************!*\\\n  !*** ./node_modules/lodash/isObjectLike.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Checks if `value` is object-like. A value is object-like if it\'s not `null`\n * and has a `typeof` result of "object".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == \'object\';\n}\n\nmodule.exports = isObjectLike;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/isSymbol.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/lodash/isSymbol.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");\n\n/** `Object#toString` result references. */\nvar symbolTag = \'[object Symbol]\';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol(\'abc\');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == \'symbol\' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/now.js":\n/*!************************************!*\\\n  !*** ./node_modules/lodash/now.js ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n\n\n/***/ }),\n\n/***/ "./node_modules/lodash/toNumber.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/lodash/toNumber.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar baseTrim = __webpack_require__(/*! ./_baseTrim */ "./node_modules/lodash/_baseTrim.js"),\n    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),\n    isSymbol = __webpack_require__(/*! ./isSymbol */ "./node_modules/lodash/isSymbol.js");\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber(\'3.2\');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == \'number\') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == \'function\' ? value.valueOf() : value;\n    value = isObject(other) ? (other + \'\') : other;\n  }\n  if (typeof value != \'string\') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n/***/ }),\n\n/***/ "./node_modules/webpack/buildin/global.js":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ })\n\n/******/ });\n',"Worker",void 0,void 0)}},"./index.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Utils.js");n.d(t,"Utils",(function(){return r.Utils}));var i=n("./Client.js");n.d(t,"SFrame",(function(){return i.SFrame}))},"./lib/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Utils",(function(){return r}));var r={toHex:function(e){return Array.prototype.map.call(e instanceof Uint8Array?e:new Uint8Array(e),(function(e){return e.toString(16).padStart(2,"0")})).join("")},fromHex:function(e){for(var t=[],n=0;n<e.length/2;++n)t.push(parseInt(e.substring(2*n,2*(n+1)),16));return new Uint8Array(t)},equals:function(e,t){if(e.byteLength!=t.byteLength)return!1;for(var n=0;n!=e.byteLength;n++)if(e[n]!=t[n])return!1;return!0}}},"./node_modules/worker-loader/dist/runtime/inline.js":function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var o;try{o=new i.Blob([e])}catch(c){(o=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),o=o.getBlob()}var a=i.URL||i.webkitURL,s=a.createObjectURL(o),u=new i[t](s,n);return a.revokeObjectURL(s),u}catch(c){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(c){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}}})},e.exports=n()}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(6)),o=r(n(307)),a=r(n(73)),s=r(n(761)),u=r(n(28)),c=(0,a.default)(),l=function(){function e(e,t){void 0===t&&(t={}),this._session=e,this.PeerConnection=t.PeerConnection||c,this._subscriberCreateQueue=new s.default,this._originalSendMessages={},this._tracks=[],this._subscriberPcs={},this._firstSubscriberPc=null,this._sendMessage=function(){},(0,i.default)(this)}var t=e.prototype;return t.parseOptions=function(e){var t=this;return Object.assign({},e,{removeUnusedCodecs:!0,sendMessage:function(e,n){return t.trigger("sendMessage",e,n)}})},t.addTrackAddedListener=function(){var e=this;this._peerConnection&&this._peerConnection.on("trackAdded",(function(t){var n=t.track;e._tracks.includes(n.id)||(e._subscriberPcs[e._subscriberPcToAdd._id].push(n.id),e._tracks.push(n.id),e._subscriberPcToAdd._onTrackAdded(t))}))},t.getPeerConnection=function(e,t){var n=this;if(this._subscriberPcToAdd=t,this._sendMessage=e.sendMessage,this._originalSendMessages[t._id]=this._sendMessage,this._firstSubscriberPc||(this._firstSubscriberPc=t._id),this._peerConnection)this._peerConnection.addOptions(e);else{this.on("sendMessage",(function(e,t){n._sendMessage(e,t)}));var r=this.parseOptions(e);this._peerConnection=new this.PeerConnection(r),this.addTrackAddedListener()}return this._subscriberPcs[t._id]=[],this._peerConnection},t.removeMessageSender=function(e){delete this._originalSendMessages[e];var t=Object.values(this._originalSendMessages);this._sendMessage=t[t.length-1]||function(){}},t.removeSubscriber=function(e,t){this.removeMessageSender(e),this._peerConnection.stopTransceivers(t)},t.removeFromSinglePeerConnection=function(e){var t=this;delete this._subscriberPcs[e],Object.keys(this._subscriberPcs).length?this._firstSubscriberPc===e?(this._peerConnection.iceRestart(),this._peerConnection.generateOfferAndSend(),this._firstSubscriberPc=null):this._peerConnection.generateOfferAndAnswer((function(e){t.cachedSdp=u.default.updateSDPWithNewOffer(t.cachedSdp,e.sdp);var n=u.default.createSDP(t.cachedSdp.headers,t.cachedSdp.trackSections);t._peerConnection.processMessage("answer",{content:{sdp:n,mocked:!0}})})):this.reset()},t.removeTrack=function(e,t){var n=null==e?void 0:e.id;n&&((0,o.default)(this._tracks,n),(0,o.default)(this._subscriberPcs[t]||[],n))},t.reset=function(){this._originalSendMessages={},this._tracks=[],this._subscriberPcs={},this._peerConnection&&(this._peerConnection.disconnect(),this._peerConnection=null)},t.destroy=function(){this.reset(),this._session=null},t.addSubscriber=function(e){this._subscriberCreateQueue.add(e)},t.subscriberComplete=function(){this._subscriberCreateQueue.next()},t.cacheOfferAnswer=function(e){e.mocked||(this.cachedSdp=u.default.parseMantisSDP(e.sdp))},e}();t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(){this.queue=[],this.isAddingSubscriber=!1}var t=e.prototype;return t.add=function(e){this.isAddingSubscriber?this.queue.push(e):(this.isAddingSubscriber=!0,e())},t.next=function(){var e=this.queue.shift();e?e():this.isAddingSubscriber=!1},e}();t.default=r},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});var t=e.Session||(0,o.default)(),n=e.sessionObjects||i.default;return function(e,r,i){null==r&&(r=e,e=null),Array.isArray(r)&&1===r.length&&(r=r[0]);var o=n.sessions.get(r);return o||(o=new t(e,r,i),n.sessions.add(o)),o}};var i=r(n(23)),o=r(n(325))},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(764)),s=r(n(280)),u=r(n(10)),c=r(n(13)),l=r(n(8)),d=r(n(3)),f=r(n(74)),p=r(n(28)),h=(0,r(n(147)).default)(void 0!==typeof window?window:__webpack_require__.g),v=(0,c.default)();function m(e){return(0,s.default)((0,a.default)(e,["AV1X","AV1","VP9","rtx","red","ulpfec","H265","X-H264UC","x-ulpfecuc"]))}var g=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return",{videoEncoders:[],videoDecoders:[]});case 2:if(t=h.RTCPeerConnection,!window.RTCRtpSender||!("getCapabilities"in window.RTCRtpSender)){e.next=7;break}return n=m(n=window.RTCRtpSender.getCapabilities("video").codecs.map((function(e){return e.mimeType||e.name})).map((function(e){return e.replace("video/","")}))),e.abrupt("return",{videoEncoders:n,videoDecoders:n});case 7:if("Chrome"!==d.default.name||"captureStream"in window.HTMLCanvasElement.prototype){e.next=9;break}return e.abrupt("return",{videoEncoders:["VP8"],videoDecoders:["VP8"]});case 9:if(!d.default.isLegacyEdge){e.next=11;break}return e.abrupt("return",{videoEncoders:["H264","VP8"],videoDecoders:["H264","VP8"]});case 11:return(r=window.document.createElement("canvas")).getContext("2d"),o=r.captureStream(),e.prev=14,s={iceServers:[]},(0,f.default)()&&(s.sdpSemantics="plan-b"),(a=new t(s)).addTrack?a.addTrack(o.getVideoTracks()[0],o):a.addStream&&a.addStream(o),e.next=21,a.createOffer();case 21:return c=e.sent,n=m(n=p.default.getCodecs(c.sdp,"video")||[]),e.abrupt("return",{videoEncoders:n,videoDecoders:n});case 27:throw e.prev=27,e.t0=e.catch(14),v(l.default.UNABLE_TO_ACCESS_MEDIA_ENGINE,new Error("OT.getSupportedCodecs was not able to get the list of supported codecs"),u.default.UNABLE_TO_ACCESS_MEDIA_ENGINE);case 30:return e.prev=30,a.close(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[14,27,30,33]])})));return function(){return e.apply(this,arguments)}}(),y=g;t.default=y},function(e,t,n){var r=n(765),i=n(253),o=n(88),a=n(134),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s},function(e,t,n){var r=n(98),i=n(99),o=n(133),a=n(34),s=n(67),u=n(100);e.exports=function(e,t,n,c){var l=-1,d=i,f=!0,p=e.length,h=[],v=t.length;if(!p)return h;n&&(t=a(t,s(n))),c?(d=o,f=!1):t.length>=200&&(d=u,f=!1,t=new r(t));e:for(;++l<p;){var m=e[l],g=null==n?m:n(m);if(m=c||0!==m?m:0,f&&g===g){for(var y=v;y--;)if(t[y]===g)continue e;h.push(m)}else d(t,g,c)||h.push(m)}return h}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(321)).default.isSupported;t.default=i},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(110)).default;t.default=i},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=function(e){i().then((function(t){return e(void 0,t)}),e)};var i=(0,r(n(20)).default)().getInputMediaDevices},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(20)),s=r(n(13)),u=r(n(8)),c=r(n(337)),l=r(n(339));t.default=function(e){void 0===e&&(e={});var t=e.deviceHelpers||(0,a.default)(),n=t.hasAudioOutputApiSupport,r=t.hasDevice,d=e.getAudioOutputDevices||c.default,f=e.updateSubscribersSinkId||l.default,p=(0,s.default)(),h=function(){var e=(0,o.default)(i.default.mark((function e(t){var o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n()){e.next=2;break}throw p(u.default.UNSUPPORTED_BROWSER,new Error("setAudioOutputDevice is not supported in your browser."));case 2:return e.next=4,d();case 4:if(o=e.sent,r(o,t)){e.next=8;break}throw p(u.default.INVALID_AUDIO_OUTPUT_SOURCE,new Error("The requested device is not valid."));case 8:return e.prev=8,e.next=11,f(t);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(8),p(u.default.REQUESTED_DEVICE_PERMISSION_DENIED,new Error("No permission to use the requested device."));case 16:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}();return h}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(20)),s=(0,r(n(771)).default)(),u=(0,a.default)(),c=u.hasAudioOutputApiSupport,l=u.getNativeMediaDevices;t.default=function(){if(c()){var e=l(),t=!1;e.addEventListener("devicechange",(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return t=!0,e.next=5,s();case 5:t=!1;case 6:case"end":return e.stop()}}),e)}))))}}},function(e,t,n){"use strict";var r=n(0);t.__esModule=!0,t.default=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(1)),s=r(n(94)),u=r(n(20)),c=r(n(339)),l=function(e){void 0===e&&(e={});var t=e.deviceHelpers||(0,u.default)(),n=t.getAudioOutputMediaDevices,r=t.getDefaultAudioOutputDeviceId,l=t.hasDevice,d=e.currentAudioOutputDevice||s.default,f=d.getCurrentAudioOutputDeviceId,p=d.setCurrentAudioOutputDeviceId,h=e.updateSubscribersSinkId||c.default,v=e.logging||(0,a.default)("currentAudioOutputDevice"),m=function(){var e=(0,o.default)(i.default.mark((function e(){var t,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(0!==(t=e.sent).length){e.next=6;break}return p(""),e.abrupt("return");case 6:if(!l(t,f())){e.next=9;break}return e.abrupt("return");case 9:return o=r(t),p(o),e.prev=11,e.next=14,h(o);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),v.debug("Failed to set the default audio output device.",e.t0);case 19:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}();return m};t.default=l},function(e,t,n){var r=n(773);"string"===typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(787)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(774)(!1);var r=n(775),i=r(n(776)),o=r(n(777)),a=r(n(778)),s=r(n(779)),u=r(n(780)),c=r(n(781)),l=r(n(782)),d=r(n(783)),f=r(n(784)),p=r(n(785)),h=r(n(786));t.push([e.i,"/*!\n * Copyright (c) 2017 TokBox, Inc.\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n */\n\n/**\n * OT Base styles\n */\n\n/* Root OT object, this is where our CSS reset happens */\n.OT_root,\n.OT_root * {\n  color: #ffffff;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  vertical-align: baseline;\n}\n\n/**\n * Specific Element Reset\n */\n\n.OT_root h1,\n.OT_root h2,\n.OT_root h3,\n.OT_root h4,\n.OT_root h5,\n.OT_root h6 {\n  color: #ffffff;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 100%;\n  font-weight: bold;\n}\n\n.OT_root header {\n\n}\n\n.OT_root footer {\n\n}\n\n.OT_root div {\n\n}\n\n.OT_root section {\n\n}\n\n.OT_root video {\n\n}\n\n.OT_root button {\n\n}\n\n.OT_root strong {\n  font-weight: bold;\n}\n\n.OT_root em {\n  font-style: italic;\n}\n\n.OT_root a,\n.OT_root a:link,\n.OT_root a:visited,\n.OT_root a:hover,\n.OT_root a:active {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.OT_root ul, .OT_root ol {\n  margin: 1em 1em 1em 2em;\n}\n\n.OT_root ol {\n  list-style: decimal outside;\n}\n\n.OT_root ul {\n  list-style: disc outside;\n}\n\n.OT_root dl {\n  margin: 4px;\n}\n\n.OT_root dl dt,\n.OT_root dl dd {\n  float: left;\n  margin: 0;\n  padding: 0;\n}\n\n.OT_root dl dt {\n  clear: left;\n  text-align: right;\n  width: 50px;\n}\n\n.OT_root dl dd {\n  margin-left: 10px;\n}\n\n.OT_root img {\n  border: 0 none;\n}\n\n/* Modal dialog styles */\n\n/* Modal dialog styles */\n\n.OT_dialog-centering {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n\n.OT_dialog-centering-child {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.OT_dialog {\n  position: relative;\n\n  box-sizing: border-box;\n  max-width: 576px;\n  margin-right: auto;\n  margin-left: auto;\n  padding: 36px;\n  text-align: center; /* centers all the inline content */\n\n  background-color: #363636;\n  color: #fff;\n  box-shadow: 2px 4px 6px #999;\n  font-family: 'Didact Gothic', sans-serif;\n  font-size: 13px;\n  line-height: 1.4;\n}\n\n.OT_dialog * {\n  font-family: inherit;\n  box-sizing: inherit;\n}\n\n.OT_closeButton {\n  color: #999999;\n  cursor: pointer;\n  font-size: 32px;\n  line-height: 36px;\n  position: absolute;\n  right: 18px;\n  top: 0;\n}\n\n.OT_dialog-messages {\n  text-align: center;\n}\n\n.OT_dialog-messages-main {\n  margin-bottom: 36px;\n  line-height: 36px;\n\n  font-weight: 300;\n  font-size: 24px;\n}\n\n.OT_dialog-messages-minor {\n  margin-bottom: 18px;\n\n  font-size: 13px;\n  line-height: 18px;\n  color: #A4A4A4;\n}\n\n.OT_dialog-messages-minor strong {\n  color: #ffffff;\n}\n\n.OT_dialog-actions-card {\n  display: inline-block;\n}\n\n.OT_dialog-button-title {\n  margin-bottom: 18px;\n  line-height: 18px;\n\n  font-weight: 300;\n  text-align: center;\n  font-size: 14px;\n  color: #999999;\n}\n.OT_dialog-button-title label {\n  color: #999999;\n}\n\n.OT_dialog-button-title a,\n.OT_dialog-button-title a:link,\n.OT_dialog-button-title a:active {\n  color: #02A1DE;\n}\n\n.OT_dialog-button-title strong {\n  color: #ffffff;\n  font-weight: 100;\n  display: block;\n}\n\n.OT_dialog-button {\n  display: inline-block;\n\n  margin-bottom: 18px;\n  padding: 0 1em;\n\n  background-color: #1CA3DC;\n  text-align: center;\n  cursor: pointer;\n}\n\n.OT_dialog-button:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.OT_dialog-button-large {\n  line-height: 36px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n\n  font-weight: 100;\n  font-size: 24px;\n}\n\n.OT_dialog-button-small {\n  line-height: 18px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n\n  background-color: #444444;\n  color: #999999;\n  font-size: 16px;\n}\n\n.OT_dialog-progress-bar {\n  display: inline-block; /* prevents margin collapse */\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 41px;\n\n  border: 1px solid #4E4E4E;\n  height: 8px;\n}\n\n.OT_dialog-progress-bar-fill {\n  height: 100%;\n\n  background-color: #29A4DA;\n}\n\n/* Helpers */\n\n.OT_centered {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  margin: 0;\n}\n\n.OT_dialog-hidden {\n  display: none;\n}\n\n.OT_dialog-button-block {\n  display: block;\n}\n\n.OT_dialog-no-natural-margin {\n  margin-bottom: 0;\n}\n\n/* Publisher and Subscriber styles */\n\n.OT_publisher, .OT_subscriber {\n  position: relative;\n  min-width: 48px;\n  min-height: 48px;\n}\n\n.OT_publisher .OT_video-element,\n.OT_subscriber .OT_video-element {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  transform-origin: 0 0;\n}\n\n/* Styles that are applied when the video element should be mirrored */\n.OT_publisher.OT_mirrored .OT_video-element {\n  transform: scale(-1, 1);\n  transform-origin: 50% 50%;\n}\n\n.OT_subscriber_error {\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n}\n\n.OT_subscriber_error > p {\n  padding: 20px;\n}\n\n/* The publisher/subscriber name/mute background */\n.OT_publisher .OT_bar,\n.OT_subscriber .OT_bar,\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name,\n.OT_publisher .OT_archiving,\n.OT_subscriber .OT_archiving,\n.OT_publisher .OT_archiving-status,\n.OT_subscriber .OT_archiving-status,\n.OT_publisher .OT_archiving-light-box,\n.OT_subscriber .OT_archiving-light-box {\n  -ms-box-sizing: border-box;\n  box-sizing: border-box;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: block;\n  height: 34px;\n  position: absolute;\n}\n\n.OT_publisher .OT_bar,\n.OT_subscriber .OT_bar {\n  background: rgba(0, 0, 0, 0.4);\n}\n\n.OT_publisher .OT_edge-bar-item,\n.OT_subscriber .OT_edge-bar-item {\n  z-index: 1; /* required to get audio level meter underneath */\n}\n\n/* The publisher/subscriber name panel/archiving status bar */\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name {\n  background-color: transparent;\n  color: #ffffff;\n  font-size: 15px;\n  line-height: 34px;\n  font-weight: normal;\n  padding: 0 4px 0 36px;\n  letter-spacing: normal;\n}\n\n.OT_publisher .OT_archiving-status,\n.OT_subscriber .OT_archiving-status {\n  background: rgba(0, 0, 0, 0.4);\n  top: auto;\n  bottom: 0;\n  left: 34px;\n  padding: 0 4px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 15px;\n  line-height: 34px;\n  font-weight: normal;\n  letter-spacing: normal;\n}\n\n.OT_micro .OT_archiving-status,\n.OT_micro:hover .OT_archiving-status,\n.OT_mini .OT_archiving-status,\n.OT_mini:hover .OT_archiving-status {\n  display: none;\n}\n\n.OT_publisher .OT_archiving-light-box,\n.OT_subscriber .OT_archiving-light-box {\n  background: rgba(0, 0, 0, 0.4);\n  top: auto;\n  bottom: 0;\n  right: auto;\n  width: 34px;\n  height: 34px;\n}\n\n.OT_archiving-light {\n  width: 7px;\n  height: 7px;\n  border-radius: 30px;\n  position: absolute;\n  top: 14px;\n  left: 14px;\n  background-color: #575757;\n  box-shadow: 0 0 5px 1px #575757;\n}\n\n.OT_archiving-light.OT_active {\n  background-color: #970d13;\n  -webkit-animation: OT_pulse 1.3s ease-in;\n  -moz-animation: OT_pulse 1.3s ease-in;\n  -webkit-animation: OT_pulse 1.3s ease-in;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n}\n\n.OT_mini .OT_bar,\n.OT_bar.OT_mode-mini,\n.OT_bar.OT_mode-mini-auto {\n  bottom: 0;\n  height: auto;\n}\n\n.OT_mini .OT_name.OT_mode-off,\n.OT_mini .OT_name.OT_mode-on,\n.OT_mini .OT_name.OT_mode-auto,\n.OT_mini:hover .OT_name.OT_mode-auto {\n  display: none;\n}\n\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name {\n    left: 10px;\n    right: 37px;\n    height: 34px;\n    padding-left: 0;\n}\n\n.OT_publisher .OT_mute,\n.OT_subscriber .OT_mute {\n    border: none;\n    cursor: pointer;\n    display: block;\n    position: absolute;\n    text-align: center;\n    text-indent: -9999em;\n    background-color: transparent;\n    background-repeat: no-repeat;\n}\n\n.OT_publisher .OT_mute,\n.OT_subscriber .OT_mute {\n  right: 0;\n  top: 0;\n  border-left: 1px solid rgba(255, 255, 255, 0.2);\n  height: 36px;\n  width: 37px;\n}\n\n.OT_mini .OT_mute,\n.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,\n.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold {\n  top: 50%;\n  left: 50%;\n  right: auto;\n  margin-top: -18px;\n  margin-left: -18.5px;\n  border-left: none;\n}\n\n.OT_publisher .OT_mute {\n  background-image: url("+i+");\n  background-position: 9px 5px;\n}\n\n.OT_publisher .OT_mute.OT_active {\n  background-image: url("+o+");\n  background-position: 9px 4px;\n}\n\n.OT_subscriber .OT_mute {\n  background-image: url("+a+");\n  background-position: 8px 7px;\n}\n\n.OT_subscriber .OT_mute.OT_active {\n  background-image: url("+s+");\n  background-position: 7px 7px;\n}\n\n/**\n * Styles for display modes\n *\n * Note: It's important that these completely control the display and opacity\n * attributes, no other selectors should atempt to change them.\n */\n\n/* Default display mode transitions for various chrome elements */\n.OT_publisher .OT_edge-bar-item,\n.OT_subscriber .OT_edge-bar-item {\n  transition-property: top, bottom, opacity;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-in;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_mode-off,\n.OT_publisher .OT_edge-bar-item.OT_mode-auto,\n.OT_subscriber .OT_edge-bar-item.OT_mode-auto,\n.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,\n.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto {\n  top: -25px;\n  opacity: 0;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_mode-off {\n  display: none;\n}\n\n.OT_mini .OT_mute.OT_mode-auto,\n.OT_publisher .OT_mute.OT_mode-mini-auto,\n.OT_subscriber .OT_mute.OT_mode-mini-auto {\n  top: 50%;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto {\n  top: auto;\n  bottom: -25px;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-on,\n.OT_subscriber .OT_edge-bar-item.OT_mode-on,\n.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,\n.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,\n.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,\n.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto {\n  top: 0;\n  opacity: 1;\n}\n\n.OT_mini .OT_mute.OT_mode-on,\n.OT_mini:hover .OT_mute.OT_mode-auto,\n.OT_mute.OT_mode-mini,\n.OT_root:hover .OT_mute.OT_mode-mini-auto {\n  top: 50%;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,\n.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto {\n  top: auto;\n  bottom: 0;\n  opacity: 1;\n}\n\n\n/* Contains the video element, used to fix video letter-boxing */\n.OT_widget-container {\n  position: absolute;\n  background: linear-gradient(60.08deg, #333333 0%, #1A1A1A 100%);\n  overflow: hidden;\n}\n\n.OT_hidden-audio {\n  position: absolute !important;\n  height: 1px !important;\n  width: 1px !important;\n}\n\n/* Load animation */\n.OT_root .OT_video-loading {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: none;\n\n  background-color: rgba(0, 0, 0, .75);\n}\n\n.OT_root .OT_video-loading .OT_video-loading-spinner {\n  background: url("+u+") no-repeat;\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  left: 50%;\n  top: 50%;\n  margin-left: -16px;\n  margin-top: -16px;\n  animation: OT_spin 2s linear infinite;\n}\n@keyframes OT_spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.OT_publisher.OT_loading .OT_video-loading,\n.OT_subscriber.OT_loading .OT_video-loading {\n  display: block;\n}\n\n.OT_publisher.OT_loading .OT_video-element,\n.OT_subscriber.OT_loading .OT_video-element {\n  /*display: none;*/\n}\n\n.OT_video-centering {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n\n.OT_video-container {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.OT_video-poster {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: none;\n\n  opacity: 1.0;\n\n  background-repeat: no-repeat;\n  background-image: url("+c+");\n  background-size: auto 55%;\n}\n\n.OT_fit-mode-cover .OT_video-element {\n  object-fit: cover;\n}\n\n/* Workaround for iOS freezing issue when cropping videos */\n/* https://bugs.webkit.org/show_bug.cgi?id=176439 */\n@media only screen\n  and (orientation: portrait) {\n  .OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element {\n    object-fit: contain !important;\n  }\n}\n\n.OT_fit-mode-contain .OT_video-element {\n  object-fit: contain;\n}\n\n.OT_fit-mode-cover .OT_video-poster {\n  background-position: center;\n}\n\n.OT_fit-mode-contain .OT_video-poster {\n  background-position: center;\n}\n\n.OT_audio-level-meter {\n  position: absolute;\n  width: 25%;\n  max-width: 224px;\n  min-width: 21px;\n  top: 0;\n  right: 0;\n  overflow: hidden;\n}\n\n.OT_audio-level-meter:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_audio-level-meter__audio-only-img {\n  position: absolute;\n  top: 22%;\n  right: 15%;\n  width: 40%;\n\n  opacity: .7;\n\n  background: url("+l+") no-repeat center;\n}\n\n.OT_audio-level-meter__audio-only-img:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_audio-level-meter__value {\n  will-change: transform;\n  position: absolute;\n  top: -100%;\n  right: -100%;\n  width: 200%;\n  height: 200%;\n  transform: scale(0);\n  border-radius: 50%;\n  background-image: radial-gradient(circle, rgba(151, 206, 0, 1) 0%, rgba(151, 206, 0, 0) 100%);\n}\n\n.OT_audio-level-meter.OT_mode-off {\n    display: none;\n}\n\n.OT_audio-level-meter.OT_mode-on,\n.OT_audio-only .OT_audio-level-meter.OT_mode-auto {\n  display: block;\n}\n\n.OT_audio-only.OT_publisher .OT_video-element,\n.OT_audio-only.OT_subscriber .OT_video-element {\n  display: none;\n}\n\n\n.OT_video-disabled-indicator {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: bottom right;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 3px;\n  right: 3px;\n}\n\n.OT_video-disabled {\n  background-image: url("+d+");\n  background-size: 33px auto;\n}\n\n.OT_video-disabled-warning {\n  background-image: url("+f+");\n  background-size: 33px auto;\n}\n\n.OT_video-disabled-indicator.OT_active {\n  display: block;\n}\n\n.OT_audio-blocked-indicator {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.OT_audio-blocked {\n  background-image: url("+p+");\n  background-size: 90px auto;\n}\n\n.OT_container-audio-blocked {\n  cursor: pointer;\n}\n\n.OT_container-audio-blocked.OT_mini .OT_edge-bar-item {\n  display: none;\n}\n\n.OT_container-audio-blocked .OT_mute {\n  display: none;\n}\n\n.OT_audio-blocked-indicator.OT_active {\n  display: block;\n}\n\n.OT_video-unsupported {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url("+h+");\n  background-size: 58px auto;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin-top: -30px;\n}\n\n.OT_video-unsupported-bar {\n  display: none;\n  position: absolute;\n  width: 192%; /* copy the size of the audio meter bar for symmetry */\n  height: 192%;\n  top: -96% /* half of the size */;\n  left: -96%;\n  border-radius: 50%;\n\n  background-color: rgba(0, 0, 0, .8);\n}\n\n.OT_video-unsupported-img {\n  display: none;\n  position: absolute;\n  top: 11%;\n  left: 15%;\n  width: 70%;\n  opacity: .7;\n  background-image: url("+h+");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100% auto;\n}\n\n.OT_video-unsupported-img:before {\n  /* makes the height of the container 93% of its width (90/97 px) */\n  content: '';\n  display: block;\n  padding-top: 93%;\n}\n\n.OT_video-unsupported-text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  margin-top: 40px;\n}\n\n.OT_video-unsupported.OT_active {\n  display: block;\n}\n\n.OT_mini .OT_video-unsupported,\n.OT_micro .OT_video-unsupported {\n  position: absolute;\n  width: 25%;\n  max-width: 224px;\n  min-width: 21px;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  background: none;\n  bottom: auto;\n  right: auto;\n  margin: auto;\n}\n\n.OT_mini .OT_video-unsupported:before,\n.OT_micro .OT_video-unsupported:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_mini .OT_video-unsupported-bar,\n.OT_micro .OT_video-unsupported-bar,\n.OT_mini .OT_video-unsupported-img,\n.OT_micro .OT_video-unsupported-img {\n  display: block;\n}\n\n.OT_mini .OT_video-unsupported-text,\n.OT_micro .OT_video-unsupported-text {\n  display: none;\n}\n\n.OT_hide-forced {\n  display: none;\n}\n\n.OT_ModalDialog {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  z-index: 1000;\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n#tb_alert {\n  position: fixed;\n  width: 570px;\n  font-family: \"Lucida Grande\", Arial;\n  top: 50%;\n  left: 50%;\n  margin-top: -75px;\n  margin-left: -285px;\n}\n\n#tb_alert * {\n  box-sizing: border-box;\n}\n\n#tb_alert .OT_alert {\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background-color: #333;\n  position: relative;\n  padding: 30px;\n  overflow: visible;\n  margin-left: 70px;\n  border-bottom-color: rgba(255, 255, 255, 0.1);\n  border-left-color: rgba(255, 255, 255, 0.1);\n\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));\n\n  background-image: -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));\n\n  background-size: 4px 4px;\n  background-position: 0 0, 2px 2px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n#tb_alert .OT_alert-exclamation {\n  background-color: #9c1408;\n  background-image: linear-gradient(0deg, #dd0c0a 0%, #9c1408 100%);\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n\n  margin: -1px 0;\n\n  font-family: MS Trebuchet;\n  font-weight: bold;\n  font-size: 60px;\n  text-shadow: -1px -1px 2px rgba(0, 0, 0, 0.5);\n\n  color: white;\n  width: 65px;\n  position: absolute;\n  padding: 42px 0;\n  text-align: center;\n  left: -70px;\n  top: 0;\n  bottom: 0;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n\n  border-bottom-color: transparent;\n  border-left: none;\n  border-right: none;\n}\n\n#tb_alert .OT_alert-exclamation:after,\n#tb_alert .OT_alert-exclamation:before {\n  content: \" \";\n  position: absolute;\n  right: -24px;\n  top: 40%;\n  border: 12px solid transparent;\n  border-left-color: #9c1408;\n}\n\n#tb_alert .OT_alert-exclamation:before {\n  border-left-color: #bc3428;\n  top: 39%;\n}\n\n#tb_alert .OT_alert-body {\n  color: #c8c5c5;\n  margin: 0;\n  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);\n  font-size: 14px;\n  line-height: 1.3em;\n}\n\n#tb_alert .continue-text {\n  margin-top: 12px\n}\n\n#tb_alert > * a {\n  color: #a7d8df;\n  text-decoration: none;\n}\n\n#tb_alert .OT_alert-header {\n  font-size: 24px;\n  padding-bottom: 5px;\n  color: #aaa;\n  font-weight: bold;\n  position: relative;\n  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);\n  margin: 0;\n}\n\n#tb_alert .OT_alert-header::before {\n  content: attr(data-text);\n  position: absolute;\n  left: 0;\n  color: white;\n  -webkit-mask-image: -webkit-gradient(\n    linear,\n    left top, left bottom,\n    from(rgba(0, 0, 0, 1)),\n    color-stop(60%, rgba(0, 0, 0, 0)),\n    to(rgba(0, 0, 0, 0))\n  );\n}\n\n#tb_alert .OT_alert-close-button {\n  position: absolute;\n  right: 8px;\n  top: 5px;\n  background-color: #000;\n  color: #666;\n  border: none;\n  font-size: 20px;\n  /** Hack to bring it up to the proper line top */\n  line-height: 14px;\n  padding: 0;\n  padding-bottom: 3px;\n  cursor: pointer;\n}\n\n#tb_alert #section-mobile-browser,\n#tb_alert #section-supported-mobile-browser {\n  width: 200px;\n  top: 0px;\n  left: 25%;\n  margin-top: 0;\n  margin-left: 0;\n}\n\n@media all and (max-height: 300px) {\n  #tb_alert {\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    margin-left: 0;\n    margin-top: 0;\n  }\n  #tb_alert #section-mobile-browser,\n  #tb_alert #section-supported-mobile-browser {\n    margin-left: 0;\n    margin-top: 10px;\n    left: 0;\n  }\n}\n\n#tb_alert #section-normal-install,\n#tb_alert #section-upgrade-install,\n#tb_alert #section-mobile-browser,\n#tb_alert #section-supported-mobile-browser {\n  display: none;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"===typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwMTAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNiKSIgZD0iTTg2LjYgNTBBMTAwIDEwMCAwIDAxMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2MpIiBkPSJNMCAxMDBhMTAwIDEwMCAwIDAxLTg2LjYtNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2QpIiBkPSJNLTg2LjYgNTBhMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2UpIiBkPSJNLTg2LjYtNTBBMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAxODYuNiA1MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48L2c+PC9tYXNrPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSItMjAiIHk9Ii0yMCIgbWFzaz0idXJsKCNnKSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDciIGhlaWdodD0iNDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIHI9IjIzLjUiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjcuNjM0IDE4LjUwOGE0LjMwNCA0LjMwNCAwIDExLTguNjA5IDAgNC4zMDQgNC4zMDQgMCAwMTguNjA5IDB6bTQuNzEyIDEyLjgwNGMuMTIyLjUwNi0uMjc1Ljk2OS0uNzg2Ljk2OUgxNS4xYy0uNTEyIDAtLjkwOS0uNDYyLS43ODctLjk3Ljk5My00LjEzNyA0LjY1My03LjIwOCA5LjAxNi03LjIwOHM4LjAyMyAzLjA3IDkuMDE3IDcuMjA5eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwMTQzIDQ0YTguOTg4IDguOTg4IDAgMDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAxMTAuMzc0LS40MkM1MS43MDIgMTkuMTE0IDU0IDI5LjIwOCA1NCA0NS4yMDhjMCAxNC41MjctMi4zNDMgMjMuODgtNy4wMyAyOC4wNThhNy4yOCA3LjI4IDAgMDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwMS01LTV2LTEzYTUgNSAwIDAxNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMDE1IDVWNTguMThhNSA1IDAgMDEtNSA1SDkuMTFhNSA1IDAgMDEtNS01VjI1Ljk3YTUgNSAwIDAxNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwMTQuMzA0IDIuNzAydjI2LjgzNWEzIDMgMCAwMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(e,t,n){var r={},i=function(e){var t;return function(){return"undefined"===typeof t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},a=function(e){var t={};return function(e,n){if("function"===typeof e)return e();if("undefined"===typeof t[e]){var r=o.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(i){r=null}t[e]=r}return t[e]}}(),s=null,u=0,c=[],l=n(788);function d(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(g(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!==typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(e.insertAt.before,n);n.insertBefore(t,i)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=n.nc;r&&(e.attrs.nonce=r)}return m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"===typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=s||(s=v(t)),r=b.bind(null,n,a,!1),i=b.bind(null,n,a,!0)}else e.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),r=E.bind(null,n,t),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=w.bind(null,n),i=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!==typeof DEBUG&&DEBUG&&"object"!==typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"===typeof t.attrs?t.attrs:{},t.singleton||"boolean"===typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return d(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}for(e&&d(f(e,t),t),o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function E(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=l(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!==typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!==typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}}])},module.exports=factory()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function k(e){return E(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||E(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=E},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,j=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var V=!1;function Z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function G(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 1:return e=Z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function q(e,t){Q(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function oe(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),ke(e.stateNode,e.type,t))}}function xe(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Re(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ie(e,t,n)}finally{Oe=!1,(null!==_e||null!==Se)&&(Re(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Pe=!1}function Me(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var De=!1,je=null,Fe=!1,Ve=null,Ze={onError:function(e){De=!0,je=e}};function Ge(e,t,n,r,i,o,a,s,u){De=!1,je=null,Me.apply(Ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(We(e)!==e)throw Error(o(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,ze=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Je=i.unstable_requestPaint,Qe=i.unstable_now,qe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,kt,_t,St,Ct,xt=!1,Tt=[],It=null,Rt=null,Ot=null,At=new Map,Nt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Zt(){xt=!1,null!==It&&Ft(It)&&(It=null),null!==Rt&&Ft(Rt)&&(Rt=null),null!==Ot&&Ft(Ot)&&(Ot=null),At.forEach(Vt),Nt.forEach(Vt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zt)))}function Wt(e){function t(t){return Gt(t,e)}if(0<Tt.length){Gt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Gt(It,e),null!==Rt&&Gt(Rt,e),null!==Ot&&Gt(Ot,e),At.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Ut=w.ReactCurrentBatchConfig,Xt=!0;function Bt(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Ht(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Yt(e,t,n,r){if(Xt){var i=Kt(e,t,n,r);if(null===i)Xr(e,t,r,zt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return Rt=Dt(Rt,e,t,n,r,i),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Dt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Kt(e,t,n,r))&&Xr(e,t,r,zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Xr(e,t,r,null,n)}}var zt=null;function Kt(e,t,n,r){if(zt=null,null!==(e=yi(e=Ee(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,qt=null,$t=null;function en(){if($t)return $t;var e,t,n=qt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=j({},cn,{view:0,detail:0}),fn=on(dn),pn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),vn=on(j({},pn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),gn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Sn}var xn=j({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(xn),In=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(An),Pn=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Dn=l&&"TextEvent"in window&&!Mn,jn=l&&(!Ln||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Vn=!1;function Zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Bn(e,t,n,r){xe(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Yn=null;function zn(e){Fr(e,0)}function Kn(e){if(Y(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(l){var qn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}qn=$n}else qn=!1;Qn=qn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Yn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Bn(t,Yn,e,Ee(e)),Ae(zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==z(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},_r={},Sr={};function Cr(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var xr=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),Rr=Cr("transitionend"),Or=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Or.set(e,t),u(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Lr=Ar[Pr];Nr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Nr(xr,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ge.apply(this,arguments),De){if(!De)throw Error(o(198));var l=je;De=!1,je=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Zr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Gr]){e[Gr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Zr(t,!1,e),Zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Zr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Jt(t)){case 1:var i=Bt;break;case 4:i=Ht;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=Ee(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case xr:case Tr:case Ir:u=gn;break;case Rr:u=On;break;case"scroll":u=fn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Ne(h,f))&&l.push(Br(h,v,p)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:wi(u),p=null==c?s:wi(c),(s=new l(v,h+"leave",u,n,i)).target=d,s.relatedTarget=p,v=null,yi(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=p,l.relatedTarget=d,v=l),d=v,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Yr(p))h++;for(p=0,v=f;v;v=Yr(v))p++;for(;0<h-p;)l=Yr(l),h--;for(;0<p-h;)f=Yr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Yr(l),f=Yr(f)}l=null}else l=null;null!==u&&zr(a,s,u,l,!1),null!==c&&null!==d&&zr(a,d,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Xn(s))if(Qn)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Bn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Xn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(qt="value"in(Qt=i)?Qt.value:Qt.textContent,Wn=!0)),0<(g=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&Zn(e,t)?(e=en(),$t=qt=Qt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Br(e,o,i)),null!=(o=Ne(e,t))&&r.push(Br(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,o))&&a.unshift(Br(n,u,s)):i||null!=(u=Ne(n,o))&&a.push(Br(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Jr,"")}function qr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[pi]||null}var ki=[],_i=-1;function Si(e){return{current:e}}function Ci(e){0>_i||(e.current=ki[_i],ki[_i]=null,_i--)}function xi(e,t){_i++,ki[_i]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ri=Si(!1),Oi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Ri),Ci(Ii)}function Li(e,t,n){if(Ii.current!==Ti)throw Error(o(168));xi(Ii,t),xi(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,U(e)||"Unknown",i));return j({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ii.current,xi(Ii,e),xi(Ri,Ri.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ri),Ci(Ii),xi(Ii,e)):Ci(Ri),xi(Ri,n)}var Fi=null,Vi=!1,Zi=!1;function Gi(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(){if(!Zi&&null!==Fi){Zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye($e,Wi),i}finally{bt=t,Zi=!1}}return null}var Ui=[],Xi=0,Bi=null,Hi=0,Yi=[],zi=0,Ki=null,Ji=1,Qi="";function qi(e,t){Ui[Xi++]=Hi,Ui[Xi++]=Bi,Bi=e,Hi=t}function $i(e,t,n){Yi[zi++]=Ji,Yi[zi++]=Qi,Yi[zi++]=Ki,Ki=e;var r=Ji;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Ji=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(qi(e,1),$i(e,1,0))}function to(e){for(;e===Bi;)Bi=Ui[--Xi],Ui[Xi]=null,Hi=Ui[--Xi],Ui[Xi]=null;for(;e===Ki;)Ki=Yi[--zi],Yi[zi]=null,Qi=Yi[--zi],Yi[zi]=null,Ji=Yi[--zi],Yi[zi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Ji,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),bo=null,wo=null,Eo=null;function ko(){Eo=wo=bo=null}function _o(e){var t=yo.current;Ci(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,Eo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var To=null;function Io(e){null===To?To=[e]:To.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ru)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var d=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(f=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=v.payload)?h.call(p,d,f):h)||void 0===f)break e;d=j({},d,f);break e;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=d):l=l.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ju|=a,e.lanes=a,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Zo=(new r.Component).refs;function Go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Do(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Do(t,e,r))}};function Uo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Xo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Ni(t)?Oi:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Ni(t)?Oi:Ii.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Yo(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Yo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Yo(e,null,t),n.return=e,n;case k:return(t=Vc(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Dc(t,e.mode,n,null)).return=e,t;zo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case N:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);zo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);zo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=p(i,d,s[v],u);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,d=m}if(v===s.length)return n(i,d),io&&qi(i,v),c;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(o=a(d,o,v),null===l?c=d:l.sibling=d,l=d);return io&&qi(i,v),c}for(d=r(i,d);v<s.length;v++)null!==(m=h(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),io&&qi(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===d?l=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),io&&qi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===d?l=y:d.sibling=y,d=y);return io&&qi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?l=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),io&&qi(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Ko(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Yo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Dc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Mc(a.type,a.key,a.props,null,r.mode,u)).ref=Yo(r,o,a),u.return=r,r=u)}return s(r);case k:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vc(a,r.mode,u)).return=r,r=o}return s(r);case N:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(M(a))return m(r,o,a,u);zo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=Jo(!0),qo=Jo(!1),$o={},ea=Si($o),ta=Si($o),na=Si($o);function ra(e){if(e===$o)throw Error(o(174));return e}function ia(e,t){switch(xi(na,t),xi(ta,e),xi(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),xi(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(xi(ta,e),xi(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var ua=Si(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function da(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,ha=0,va=null,ma=null,ga=null,ya=!1,ba=!1,wa=0,Ea=0;function ka(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(ha=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ma&&null!==ma.next,ha=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==wa;return wa=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ta(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Ia(e,t){return"function"===typeof t?t(e):t}function Ra(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var d=l.lane;if((ha&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,va.lanes|=d,ju|=d}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,ju|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Na(e,t){var n=va,r=Ta(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Xa(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Va(9,La.bind(null,n,r,i,t),void 0,null),null===Ou)throw Error(o(349));0!==(30&ha)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&ja(e)}function Ma(e,t,n){return n((function(){Da(t)&&ja(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Oo(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Za(){return Ta().memoizedState}function Ga(e,t,n,r){var i=xa();va.flags|=e,i.memoizedState=Va(1|t,n,void 0,void 0===r?null:r)}function Wa(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Va(t,n,o,r))}va.flags|=e,i.memoizedState=Va(1|t,n,o,r)}function Ua(e,t){return Ga(8390656,8,e,t)}function Xa(e,t){return Wa(2048,8,e,t)}function Ba(e,t){return Wa(4,2,e,t)}function Ha(e,t){return Wa(4,4,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wa(4,4,Ya.bind(null,t,e),n)}function Ka(){}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,ju|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ro(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Io(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ro(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:xo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:xo,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ga(4194308,4,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ga(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=$a.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ou)throw Error(o(349));0!==(30&ha)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ua(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Va(9,La.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Ou.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ea++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xo,useCallback:Ja,useContext:xo,useEffect:Xa,useImperativeHandle:za,useInsertionEffect:Ba,useLayoutEffect:Ha,useMemo:Qa,useReducer:Ra,useRef:Za,useState:function(){return Ra(Ia)},useDebugValue:Ka,useDeferredValue:function(e){return qa(Ta(),ma.memoizedState,e)},useTransition:function(){return[Ra(Ia)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},cs={readContext:xo,useCallback:Ja,useContext:xo,useEffect:Xa,useImperativeHandle:za,useInsertionEffect:Ba,useLayoutEffect:Ha,useMemo:Qa,useReducer:Oa,useRef:Za,useState:function(){return Oa(Ia)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ta();return null===ma?t.memoizedState=e:qa(t,ma.memoizedState,e)},useTransition:function(){return[Oa(Ia)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,Hu=r),fs(0,t)},n}function vs(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function Es(e,t,n,r){t.child=null===e?qo(t,null,n,r):Qo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Sa(e,t,n,r,o,i),n=Ca(),null===e||ws?(io&&n&&eo(t),t.flags|=1,Es(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Lu,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Lu,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Lu,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Lu,Pu),Pu|=r;return Es(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Ni(n)?Oi:Ii.current;return o=Ai(t,o),Co(t,i),n=Sa(e,t,n,r,o,i),r=Ca(),null===e||ws?(io&&r&&eo(t),t.flags|=1,Es(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Is(e,t,n,r,i){if(Ni(n)){var o=!0;Di(t)}else o=!1;if(Co(t,i),null===t.stateNode)Xs(e,t),Xo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=xo(c):c=Ai(t,c=Ni(n)?Oi:Ii.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Bo(t,a,r,c),Ao=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ri.current||Ao?("function"===typeof l&&(Go(t,n,l,r),u=t.memoizedState),(s=Ao||Uo(t,n,s,r,f,u,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=xo(u):u=Ai(t,u=Ni(n)?Oi:Ii.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&Bo(t,a,r,u),Ao=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var h=t.memoizedState;s!==d||f!==h||Ri.current||Ao?("function"===typeof p&&(Go(t,n,p,r),h=t.memoizedState),(c=Ao||Uo(t,n,c,r,f,h,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,i)}function Rs(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Bs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):Es(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ia(e,t.containerInfo)}function As(e,t,n,r,i){return ho(),vo(i),t.flags|=256,Es(e,t,n,r),t.child}var Ns,Ps,Ls,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ds,e):Vs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Zs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Zs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(e,i),rc(r,e,i,-1))}return mc(),Zs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[zi++]=Ji,Yi[zi++]=Qi,Yi[zi++]=Ki,Ji=e.id,Qi=e.overflow,Ki=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Lc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zs(e,t,n,r){return null!==r&&vo(r),Qo(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Ni(t.type)&&Pi(),Ys(t),null;case 3:return r=t.stateNode,oa(),Ci(Ri),Ci(Ii),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ps(e,t),Ys(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":H(r),$(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[pi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=K(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Vr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ys(t),null;case 13:if(Ci(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Mu&&(Mu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return oa(),Ps(e,t),null===e&&Wr(t.stateNode.containerInfo),Ys(t),null;case 10:return _o(t.type._context),Ys(t),null;case 19:if(Ci(ua),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Uu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ys(t),null}else 2*Qe()-a.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ua.current,xi(ua,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Ri),Ci(Ii),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ua),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Qs=!1,qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var du=null,fu=!1;function pu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||eu(n,t);case 6:var r=du,i=fu;du=null,pu(e,t,n),fu=i,null!==(du=r)&&(fu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(fu?(e=du,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Wt(e)):ui(du,n.stateNode));break;case 4:r=du,i=fu,du=n.stateNode.containerInfo,fu=!0,pu(e,t,n),du=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Qs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,pu(e,t,n),Qs=r):pu(e,t,n);break;default:pu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,fu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===du)throw Error(o(160));hu(a,s,i),du=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Cc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,l)}switch(u){case"input":q(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){Cc(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Cc(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Qe())),4&r&&vu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(l=Qs)||d,mu(t,e),Qs=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(h=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){ku(f);continue}}null!==h?(h.return=p,$s=h):ku(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Cc(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){$s=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Js;var c=Qs;if(Js=a,(Qs=u)&&!c)for($s=i;null!==$s;)u=(a=$s).child,22===a.tag&&null!==a.memoizedState?_u(i):null!==u?(u.return=a,$s=u):_u(i);for(;null!==o;)$s=o,wu(o,t,n),o=o.sibling;$s=i,Js=s,Qs=c}Eu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):Eu(e)}}function Eu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&ou(t)}catch(p){Cc(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function ku(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Cc(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Cc(t,a,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Su,Cu=Math.ceil,xu=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Ru=0,Ou=null,Au=null,Nu=0,Pu=0,Lu=Si(0),Mu=0,Du=null,ju=0,Fu=0,Vu=0,Zu=null,Gu=null,Wu=0,Uu=1/0,Xu=null,Bu=!1,Hu=null,Yu=null,zu=!1,Ku=null,Ju=0,Qu=0,qu=null,$u=-1,ec=0;function tc(){return 0!==(6&Ru)?Qe():-1!==$u?$u:$u=Qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ru)&&0!==Nu?Nu&-Nu:null!==mo.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Qu)throw Qu=0,qu=null,Error(o(185));gt(e,n,r),0!==(2&Ru)&&e===Ou||(e===Ou&&(0===(2&Ru)&&(Fu|=n),4===Mu&&uc(e,Nu)),ic(e,r),1===n&&0===Ru&&0===(1&t.mode)&&(Uu=Qe()+500,Vi&&Wi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ou?Nu:0);if(0===r)null!==n&&ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&ze(n),1===t)0===e.tag?function(e){Vi=!0,Gi(e)}(cc.bind(null,e)):Gi(cc.bind(null,e)),ai((function(){0===(6&Ru)&&Wi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($u=-1,ec=0,0!==(6&Ru))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Ou?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ru;Ru|=2;var a=vc();for(Ou===e&&Nu===t||(Xu=null,Uu=Qe()+500,pc(e,t));;)try{bc();break}catch(u){hc(e,u)}ko(),xu.current=a,Ru=i,null!==Au?t=0:(Ou=null,Nu=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ac(e,i))),1===t)throw n=Du,pc(e,0),uc(e,r),ic(e,Qe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ht(e))&&(r=a,t=ac(e,a))),1===t))throw n=Du,pc(e,0),uc(e,r),ic(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Gu,Xu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Wu+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Gu,Xu),t);break}kc(e,Gu,Xu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Gu,Xu),r);break}kc(e,Gu,Xu);break;default:throw Error(o(329))}}}return ic(e,Qe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Zu;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Gu,Gu=n,null!==t&&sc(t)),e}function sc(e){null===Gu?Gu=e:Gu.push.apply(Gu,e)}function uc(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ru))throw Error(o(327));_c();var t=ft(e,0);if(0===(1&t))return ic(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Du,pc(e,0),uc(e,t),ic(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Gu,Xu),ic(e,Qe()),null}function lc(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Uu=Qe()+500,Vi&&Wi())}}function dc(e){null!==Ku&&0===Ku.tag&&0===(6&Ru)&&_c();var t=Ru;Ru|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Ru=t))&&Wi()}}function fc(){Pu=Lu.current,Ci(Lu)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ci(Ri),Ci(Ii),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(ua);break;case 10:_o(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ou=e,Au=e=Lc(e.current,null),Nu=Pu=t,Mu=0,Du=null,Vu=Fu=ju=0,Gu=Zu=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return e}function hc(e,t){for(;;){var n=Au;try{if(ko(),fa.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(ha=0,ga=ma=va=null,ba=!1,wa=0,Tu.current=null,null===n||null===n.return){Mu=1,Du=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,u,0,t),1&h.mode&&ms(a,l,t),c=l;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Mu&&(Mu=2),null===Zu?Zu=[a]:Zu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,hs(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yu||!Yu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}Ec(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=xu.current;return xu.current=as,null===e?as:e}function mc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Ou||0===(268435455&ju)&&0===(268435455&Fu)||uc(Ou,Nu)}function gc(e,t){var n=Ru;Ru|=2;var r=vc();for(Ou===e&&Nu===t||(Xu=null,pc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(ko(),Ru=n,xu.current=r,null!==Au)throw Error(o(261));return Ou=null,Nu=0,Mu}function yc(){for(;null!==Au;)wc(Au)}function bc(){for(;null!==Au&&!Ke();)wc(Au)}function wc(e){var t=Su(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?Ec(e):Au=t,Tu.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=zs(n,t,Pu)))return void(Au=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Mu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Mu&&(Mu=5)}function kc(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Ku);if(0!==(6&Ru))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ou&&(Au=Ou=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||zu||(zu=!0,Oc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Ru;Ru|=4,Tu.current=null,function(e,t){if(ei=Xt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===i&&(u=s),p===a&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Xt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(E){Cc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),gu(n,e),hr(ti),Xt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Je(),Ru=u,bt=s,Iu.transition=a}else e.current=n;if(zu&&(zu=!1,Ku=e,Ju=i),a=e.pendingLanes,0===a&&(Yu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,e=Hu,Hu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===qu?Qu++:(Qu=0,qu=e):Qu=0,Wi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function _c(){if(null!==Ku){var e=wt(Ju),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Ju=0,0!==(6&Ru))throw Error(o(331));var i=Ru;for(Ru|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:ru(8,d,a)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var p=(d=$s).sibling,h=d.return;if(au(d),d===l){$s=null;break}if(null!==p){p.return=h,$s=p;break}$s=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$s=y;break e}$s=a.return}}var b=e.current;for($s=b;null!==$s;){var w=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,$s=w;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(k){Cc(u,u.return,k)}if(u===s){$s=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,$s=E;break e}$s=u.return}}if(Ru=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Sc(e,t,n){e=Mo(e,t=hs(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Mo(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Nu&n)===n&&(4===Mu||3===Mu&&(130023424&Nu)===Nu&&500>Qe()-Wu?pc(e,0):Vu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Oo(e,t))&&(gt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Oc(e,t){return Ye(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Dc(n.children,i,a,t);case S:s=8,i|=8;break;case C:return(e=Nc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case R:return(e=Nc(13,n,t,i)).elementType=R,e.lanes=a,e;case O:return(e=Nc(19,n,t,i)).elementType=O,e.lanes=a,e;case P:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case T:s=9;break e;case I:s=11;break e;case A:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gc(e,t,n,r,i,o,a,s,u){return e=new Zc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Wc(e){if(!e)return Ti;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function Uc(e,t,n,r,i,o,a,s,u){return(e=Gc(n,r,!0,e,0,o,0,s,u)).context=Wc(null),n=e.current,(o=Lo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Xc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(rc(e,i,a,o),Do(e,i,a)),a}function Bc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ho();break;case 5:aa(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(xi(ua,1&ua.current),null!==(e=Bs(e,t,n))?e.sibling:null);xi(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Bs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Co(t,n),i=Sa(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Wo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Es(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=go(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=_s(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Bs(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),xs(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):Es(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ri.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Lo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=xo(i)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),_s(e,t,r,i=go(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Xs(e,t),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Co(t,n),Xo(t,r,i),Ho(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Bc(a);s.call(e)}}Xc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Bc(a);o.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[hi]=a.current,Wr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Bc(u);s.call(e)}}var u=Gc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[hi]=u.current,Wr(8===e.nodeType?e.parentNode:e),dc((function(){Xc(t,u,n,r)})),u}(n,t,e,i,r);return Bc(a)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Xc(null,e,null,null)})),t[hi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Qe()),0===(6&Ru)&&(Uu=Qe()+500,Wi()))}break;case 13:dc((function(){var t=Oo(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},kt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Oo(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));Y(r),q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Re=dc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,Ei,xe,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!qc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!qc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case d:case v:case h:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+I(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=R(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=R(s=s.value,t,i,l=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},L={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function E(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,P(k);else{var t=r(l);null!==t&&L(E,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,y(x),x=-1),h=!0;var o=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!R());){var a=f.callback;if("function"===typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&L(E,d.startTime-n),u=!1}return u}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,C=null,x=-1,T=5,I=-1;function R(){return!(t.unstable_now()-I<T)}function O(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?_():(S=!1,C=null)}}else S=!1}if("function"===typeof b)_=function(){b(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=O,_=function(){N.postMessage(null)}}else _=function(){g(O,0)};function P(e){C=e,S||(S=!0,_())}function L(e,n){x=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(x),x=-1):m=!0,L(E,o-a))):(e.sortIndex=s,n(c,e),v||h||(v=!0,P(k))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(A){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:S(e,n,s)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=f;var h={};function v(){}function m(){}function g(){}var y={};d(y,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(R([])));w&&w!==n&&o.call(w,u)&&(y=w);var E=g.prototype=v.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,s,u){var c=p(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function R(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=g,a(E,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:m,configurable:!0}),m.displayName=d(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(_.prototype),d(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),d(E,l,"Generator"),d(E,u,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},__webpack_require__.d(i,o),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};!function(){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return tG}});var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(){n=function(){return e};var e={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=d;var p={};function h(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==r&&i.call(b,s)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,n){function r(o,a,s,u){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==t(d)&&i.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):n.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return a=a?a.then(i,i):i()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}__webpack_require__.r(e),__webpack_require__.d(e,{Decoder:function(){return JM},Encoder:function(){return zM},PacketType:function(){return BM},protocol:function(){return YM}});var o=__webpack_require__(4164);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||s(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function f(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){if(Array.isArray(e))return e}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){return m(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||g()}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){var n=_();return function(){var r,i=k(e);if(n){var o=k(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function C(e,t,n){return C=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i},C.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return C(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w(n,e)},x(e)}var T=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,d=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[d],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw new R;var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},R=function(e){E(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return v(n)}(x(Error)),O=function(e){return function(e){var t=T(e);return I.encodeByteArray(t,!0)}(e).replace(/\./g,"")},A=function(e){try{return I.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var N=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},P=function(){try{return N()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://rawbotz.com/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyCUQBt_urTxIuz45_z-qGyiqAq_4bmahpw",REACT_APP_FIREBASE_APP_ID:"1:345997456064:web:b80e656cf0ea0b893df325",REACT_APP_FIREBASE_AUTH_DOMAIN:"robotanium-admin.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENTID:"G-CJKNBH9W2B",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"345997456064",REACT_APP_FIREBASE_PROJECT_ID:"robotanium-admin",REACT_APP_FIREBASE_STORAGE_BUCKET:"robotanium-admin.appspot.com",REACT_APP_OPENTOK_API_KEY:"47758991",REACT_APP_SOCKET_CONNECTION:"https://rawbotz.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&A(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},L=function(e){var t,n;return null===(n=null===(t=P())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},M=function(e){var t=L(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},D=function(){var e;return null===(e=P())||void 0===e?void 0:e.config},j=function(e){var t;return null===(t=P())||void 0===t?void 0:t["_".concat(e)]},F=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function V(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[O(JSON.stringify({alg:"none",type:"JWT"})),O(JSON.stringify(o)),""].join(".")}function Z(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function G(){var e,t=null===(e=P())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(n){return!1}}function W(){try{return"object"===typeof indexedDB}catch(e){return!1}}var U=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(b(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(o),X.prototype.create),o}return v(n)}(x(Error)),X=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(B,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new U(n,o,t)}}]),e}();var B=/\{\$([^}]+)}/g;function H(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Y(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(z(s)&&z(u)){if(!Y(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var d=l[c];if(!n.includes(d))return!1}return!0}function z(e){return null!==e&&"object"===typeof e}function K(e){for(var t=[],n=function(){var e=y(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function J(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=y(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Q(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var q=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=l(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $(){}function ee(e){return e&&e._delegate?e._delegate:e}var te=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ne="[DEFAULT]",re=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new F;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ne})}catch(u){}var t,n=l(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=y(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=l(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=y(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(o)}}catch(d){a.e(d)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(a){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ne?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return this.component?this.component.multipleInstances?e:ne:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ie,oe,ae=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new re(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),se=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oe||(oe={}));var ue={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},ce=oe.INFO,le=(f(ie={},oe.DEBUG,"log"),f(ie,oe.VERBOSE,"log"),f(ie,oe.INFO,"info"),f(ie,oe.WARN,"warn"),f(ie,oe.ERROR,"error"),ie),de=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=le[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},fe=function(){function e(t){p(this,e),this.name=t,this._logLevel=ce,this._logHandler=de,this._userLogHandler=null,se.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in oe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ue[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.DEBUG].concat(t)),this._logHandler.apply(this,[this,oe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,oe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.INFO].concat(t)),this._logHandler.apply(this,[this,oe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.WARN].concat(t)),this._logHandler.apply(this,[this,oe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oe.ERROR].concat(t)),this._logHandler.apply(this,[this,oe.ERROR].concat(t))}}]),e}();function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve,me,ge=function(e,t){return t.some((function(t){return e instanceof t}))};var ye=new WeakMap,be=new WeakMap,we=new WeakMap,Ee=new WeakMap,ke=new WeakMap;var _e={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return be.get(e);if("objectStoreNames"===t)return e.objectStoreNames||we.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xe(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Te(this),n),xe(ye.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xe(e.apply(Te(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[Te(this),t].concat(r));return we.set(o,t.sort?t.sort():[t]),xe(o)}}function Ce(e){return"function"===typeof e?Se(e):(e instanceof IDBTransaction&&function(e){if(!be.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));be.set(e,t)}}(e),ge(e,ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_e):e)}function xe(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(xe(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&ye.set(t,e)})).catch((function(){})),ke.set(t,e),t}(e);if(Ee.has(e))return Ee.get(e);var t=Ce(e);return t!==e&&(Ee.set(e,t),ke.set(t,e)),t}var Te=function(e){return ke.get(e)};var Ie,Re,Oe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ne=new Map;function Pe(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ne.get(t))return Ne.get(t);var r=t.replace(/FromIndex$/,""),o=t!==r,a=Ae.includes(r);if(r in(o?IDBIndex:IDBObjectStore).prototype&&(a||Oe.includes(r))){var s=function(){var e=i(n().mark((function e(t){var i,s,u,c,l,d,f=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),u=s.store,c=f.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=f[d];return o&&(u=u.index(l.shift())),e.next=6,Promise.all([(i=u)[r].apply(i,l),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ne.set(t,s),s}}}_e=function(e){return he(he({},e),{},{get:function(t,n,r){return Pe(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pe(t,n)||e.has(t,n)}})}(_e);var Le=function(){function e(t){p(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Me="@firebase/app",De="0.9.13",je=new fe("@firebase/app"),Fe="[DEFAULT]",Ve=(f(Ie={},Me,"fire-core"),f(Ie,"@firebase/app-compat","fire-core-compat"),f(Ie,"@firebase/analytics","fire-analytics"),f(Ie,"@firebase/analytics-compat","fire-analytics-compat"),f(Ie,"@firebase/app-check","fire-app-check"),f(Ie,"@firebase/app-check-compat","fire-app-check-compat"),f(Ie,"@firebase/auth","fire-auth"),f(Ie,"@firebase/auth-compat","fire-auth-compat"),f(Ie,"@firebase/database","fire-rtdb"),f(Ie,"@firebase/database-compat","fire-rtdb-compat"),f(Ie,"@firebase/functions","fire-fn"),f(Ie,"@firebase/functions-compat","fire-fn-compat"),f(Ie,"@firebase/installations","fire-iid"),f(Ie,"@firebase/installations-compat","fire-iid-compat"),f(Ie,"@firebase/messaging","fire-fcm"),f(Ie,"@firebase/messaging-compat","fire-fcm-compat"),f(Ie,"@firebase/performance","fire-perf"),f(Ie,"@firebase/performance-compat","fire-perf-compat"),f(Ie,"@firebase/remote-config","fire-rc"),f(Ie,"@firebase/remote-config-compat","fire-rc-compat"),f(Ie,"@firebase/storage","fire-gcs"),f(Ie,"@firebase/storage-compat","fire-gcs-compat"),f(Ie,"@firebase/firestore","fire-fst"),f(Ie,"@firebase/firestore-compat","fire-fst-compat"),f(Ie,"fire-js","fire-js"),f(Ie,"firebase","fire-js-all"),Ie),Ze=new Map,Ge=new Map;function We(e,t){try{e.container.addComponent(t)}catch(n){je.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ue(e){var t=e.name;if(Ge.has(t))return je.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ge.set(t,e);var n,r=l(Ze.values());try{for(r.s();!(n=r.n()).done;){We(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Be=(f(Re={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),f(Re,"bad-app-name","Illegal App name: '{$appName}"),f(Re,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),f(Re,"app-deleted","Firebase App named '{$appName}' already deleted"),f(Re,"no-options","Need to provide options, when not being deployed to hosting via source."),f(Re,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),f(Re,"invalid-log-argument","First argument to `onLog` must be null or a function."),f(Re,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),f(Re,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),f(Re,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),f(Re,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Re),He=new X("app","Firebase",Be),Ye=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new te("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw He.create("app-deleted",{appName:this._name})}}]),e}(),ze="9.23.0";function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw He.create("bad-app-name",{appName:String(i)});if(n||(n=D()),!n)throw He.create("no-options");var o=Ze.get(i);if(o){if(Y(n,o.options)&&Y(r,o.config))return o;throw He.create("duplicate-app",{appName:i})}var a,s=new ae(i),u=l(Ge.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var d=new Ye(n,r,s);return Ze.set(i,d),d}function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=Ze.get(e);if(!t&&e===Fe&&D())return Ke();if(!t)throw He.create("no-app",{appName:e});return t}function Qe(e,t,n){var r,i=null!==(r=Ve[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void je.warn(s.join(" "))}Ue(new te("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var qe="firebase-heartbeat-database",$e=1,et="firebase-heartbeat-store",tt=null;function nt(){return tt||(tt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=xe(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(xe(s.result),e.oldVersion,e.newVersion,xe(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(e){return o(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(qe,$e,{upgrade:function(e,t){if(0===t)e.createObjectStore(et)}}).catch((function(e){throw He.create("idb-open",{originalErrorMessage:e.message})}))),tt}function rt(e){return it.apply(this,arguments)}function it(){return it=i(n().mark((function e(t){var r,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt();case 3:return r=e.sent,e.next=6,r.transaction(et).objectStore(et).get(st(t));case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof U?je.warn(e.t0.message):(o=He.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),je.warn(o.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),it.apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return at=i(n().mark((function e(t,r){var i,o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt();case 3:return i=e.sent,o=i.transaction(et,"readwrite"),a=o.objectStore(et),e.next=8,a.put(r,st(t));case 8:return e.next=10,o.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof U?je.warn(e.t0.message):(s=He.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),je.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),at.apply(this,arguments)}function st(e){return"".concat(e.name,"!").concat(e.options.appId)}var ut=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ft(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=i(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),r=t.getPlatformInfoString(),i=ct(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:r});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=i(n().mark((function e(){var t,r,i,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ct(),r=lt(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,o=r.unsentEntries,a=O(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(o.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=o,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ct(){return(new Date).toISOString().substring(0,10)}function lt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=l(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),pt(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pt(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){if("break"===a())break}}catch(s){o.e(s)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var dt,ft=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,rt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",ot(this.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",ot(this.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:[].concat(c(i.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pt(e){return O(JSON.stringify({version:2,heartbeats:e})).length}dt="",Ue(new te("platform-logger",(function(e){return new Le(e)}),"PRIVATE")),Ue(new te("heartbeat",(function(e){return new ut(e)}),"PRIVATE")),Qe(Me,De,dt),Qe(Me,De,"esm2017"),Qe("fire-js","");function ht(){return ht="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ht.apply(this,arguments)}Qe("firebase","9.23.0","app");function vt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var mt;function gt(){return f({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yt=gt,bt=new X("auth","Firebase",gt()),wt=new fe("@firebase/auth");function Et(e){if(wt.logLevel<=oe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wt.warn.apply(wt,["Auth (".concat(ze,"): ").concat(e)].concat(n))}}function kt(e){if(wt.logLevel<=oe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wt.error.apply(wt,["Auth (".concat(ze,"): ").concat(e)].concat(n))}}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xt.apply(void 0,[e].concat(n))}function St(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xt.apply(void 0,[e].concat(n))}function Ct(e,t,n){var r=Object.assign(Object.assign({},yt()),f({},t,n));return new X("auth","Firebase",r).create(t,{appName:e.name})}function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=c(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(c(a)))}return bt.create.apply(bt,[e].concat(n))}function Tt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xt.apply(void 0,[t].concat(r))}}function It(e){var t="INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function Rt(e,t){e||It(t)}function Ot(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function At(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(At()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Lt=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Rt(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())||"object"===typeof navigator&&"ReactNative"===navigator.product}return v(e,[{key:"get",value:function(){return Pt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Mt(e,t){Rt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Dt=function(){function e(){p(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),jt=(f(mt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),f(mt,"MISSING_CUSTOM_TOKEN","internal-error"),f(mt,"INVALID_IDENTIFIER","invalid-email"),f(mt,"MISSING_CONTINUE_URI","internal-error"),f(mt,"INVALID_PASSWORD","wrong-password"),f(mt,"MISSING_PASSWORD","missing-password"),f(mt,"EMAIL_EXISTS","email-already-in-use"),f(mt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),f(mt,"INVALID_IDP_RESPONSE","invalid-credential"),f(mt,"INVALID_PENDING_TOKEN","invalid-credential"),f(mt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),f(mt,"MISSING_REQ_TYPE","internal-error"),f(mt,"EMAIL_NOT_FOUND","user-not-found"),f(mt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),f(mt,"EXPIRED_OOB_CODE","expired-action-code"),f(mt,"INVALID_OOB_CODE","invalid-action-code"),f(mt,"MISSING_OOB_CODE","internal-error"),f(mt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),f(mt,"INVALID_ID_TOKEN","invalid-user-token"),f(mt,"TOKEN_EXPIRED","user-token-expired"),f(mt,"USER_NOT_FOUND","user-token-expired"),f(mt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),f(mt,"INVALID_CODE","invalid-verification-code"),f(mt,"INVALID_SESSION_INFO","invalid-verification-id"),f(mt,"INVALID_TEMPORARY_PROOF","invalid-credential"),f(mt,"MISSING_SESSION_INFO","missing-verification-id"),f(mt,"SESSION_EXPIRED","code-expired"),f(mt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),f(mt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),f(mt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),f(mt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),f(mt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),f(mt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),f(mt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),f(mt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),f(mt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),f(mt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),f(mt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),f(mt,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),f(mt,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),f(mt,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),f(mt,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),f(mt,"MISSING_CLIENT_TYPE","missing-client-type"),f(mt,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),f(mt,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),f(mt,"INVALID_REQ_TYPE","invalid-req-type"),mt),Ft=new Lt(3e4,6e4);function Vt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zt(e,t,n,r){return Gt.apply(this,arguments)}function Gt(){return Gt=i(n().mark((function e(t,r,o,a){var s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",Wt(t,s,i(n().mark((function e(){var i,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},s={},a&&("GET"===r?s=a:i={body:JSON.stringify(a)}),u=K(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Dt.fetch()(Ht(t,t.config.apiHost,o,u),Object.assign({method:r,headers:c,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gt.apply(this,arguments)}function Wt(e,t,n){return Ut.apply(this,arguments)}function Ut(){return Ut=i(n().mark((function e(t,r,i){var o,a,s,u,c,l,d,f,p,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,o=Object.assign(Object.assign({},jt),r),e.prev=2,a=new Yt(t),e.next=6,Promise.race([i(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw zt(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),d=y(l,2),f=d[0],p=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw zt(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw zt(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw zt(t,"user-disabled",u);case 29:if(h=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw Ct(t,h,p);case 34:_t(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof U)){e.next=41;break}throw e.t0;case 41:_t(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ut.apply(this,arguments)}function Xt(e,t,n,r){return Bt.apply(this,arguments)}function Bt(){return Bt=i(n().mark((function e(t,r,i,o){var a,s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Zt(t,r,i,o,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&_t(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}function Ht(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Yt=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(St(n.auth,"network-request-failed"))}),Ft.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function zt(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=St(e,t,r);return i.customData._tokenResponse=n,i}function Kt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function en(){return en=i(n().mark((function e(t){var r,i,o,a,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],i=ee(t),e.next=4,i.getIdToken(r);case 4:return o=e.sent,Tt((a=nn(o))&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error"),s="object"===typeof a.firebase?a.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:a,token:o,authTime:$t(tn(a.auth_time)),issuedAtTime:$t(tn(a.iat)),expirationTime:$t(tn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),en.apply(this,arguments)}function tn(e){return 1e3*Number(e)}function nn(e){var t=y(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return kt("JWT malformed, contained fewer than 3 sections"),null;try{var o=A(r);return o?JSON.parse(o):(kt("Failed to decode base64 JWT payload"),null)}catch(a){return kt("Caught error parsing JWT payload as JSON",null===a||void 0===a?void 0:a.toString()),null}}function rn(e,t){return on.apply(this,arguments)}function on(){return on=i(n().mark((function e(t,r){var i=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>2&&void 0!==i[2]&&i[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof U&&an(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),on.apply(this,arguments)}function an(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sn=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(t);this.timerId=setTimeout(i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),r)}}},{key:"iteration",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),un=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=$t(this.lastLoginAt),this.creationTime=$t(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function cn(e){return ln.apply(this,arguments)}function ln(){return ln=i(n().mark((function e(t){var r,i,o,a,s,u,c,l,d,f,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,e.next=6,rn(t,Qt(i,{idToken:o}));case 6:Tt(null===(a=e.sent)||void 0===a?void 0:a.users.length,i,"internal-error"),s=a.users[0],t._notifyReloadListener(s),u=(null===(r=s.providerUserInfo)||void 0===r?void 0:r.length)?s.providerUserInfo.map((function(e){var t=e.providerId,n=vt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=fn(t.providerData,u),l=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!l&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new un(s.createdAt,s.lastLoginAt),isAnonymous:f},Object.assign(t,p);case 17:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function dn(){return(dn=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,cn(r);case 3:return e.next=5,r.auth._persistUserIfCurrent(r);case 5:r.auth._notifyListenersIfCurrent(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function pn(e,t){return hn.apply(this,arguments)}function hn(){return hn=i(n().mark((function e(t,r){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(t,{},i(n().mark((function e(){var i,o,a,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K({grant_type:"refresh_token",refresh_token:r}).slice(1),o=t.config,a=o.tokenApiHost,s=o.apiKey,u=Ht(t,a,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Dt.fetch()(u,{method:"POST",headers:c,body:i}));case 8:case"end":return e.stop()}}),e)}))));case 2:return o=e.sent,e.abrupt("return",{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token});case 4:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}var vn=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Tt(e.idToken,"internal-error"),Tt("undefined"!==typeof e.idToken,"internal-error"),Tt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nn(e);return Tt(t,"internal-error"),Tt("undefined"!==typeof t.exp,"internal-error"),Tt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=i(n().mark((function e(t){var r,i=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],Tt(!this.accessToken||this.refreshToken,t,"user-token-expired"),r||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=i(n().mark((function e(t,r){var i,o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(t,r);case 2:i=e.sent,o=i.accessToken,a=i.refreshToken,s=i.expiresIn,this.updateTokensAndExpiration(o,a,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return It("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(Tt("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(Tt("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(Tt("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function mn(e,t){Tt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gn=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=vt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?c(o.providerData):[],this.metadata=new un(o.createdAt||void 0,o.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Tt(r=e.sent,this.auth,"internal-error"),this.accessToken===r){e.next=9;break}return this.accessToken=r,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return en.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return dn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=i(n().mark((function e(t){var r,i,o=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]&&o[1],i=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),!r){e.next=6;break}return e.next=6,cn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:i&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,rn(this,Kt(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,c,l,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,h=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,w=n.emailVerified,E=n.isAnonymous,k=n.providerData,_=n.stsTokenManager;Tt(b&&_,t,"internal-error");var S=vn.fromJSON(this.name,_);Tt("string"===typeof b,t,"internal-error"),mn(d,t.name),mn(f,t.name),Tt("boolean"===typeof w,t,"internal-error"),Tt("boolean"===typeof E,t,"internal-error"),mn(p,t.name),mn(h,t.name),mn(v,t.name),mn(m,t.name),mn(g,t.name),mn(y,t.name);var C=new e({uid:b,auth:t,email:f,emailVerified:w,displayName:d,isAnonymous:E,photoURL:h,phoneNumber:p,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(C.providerData=k.map((function(e){return Object.assign({},e)}))),m&&(C._redirectEventId=m),C}},{key:"_fromIdTokenResponse",value:function(){var t=i(n().mark((function t(r,i){var o,a,s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>2&&void 0!==u[2]&&u[2],(a=new vn).updateFromServerResponse(i),s=new e({uid:i.localId,auth:r,stsTokenManager:a,isAnonymous:o}),t.next=6,cn(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),yn=new Map;function bn(e){Rt(e instanceof Function,"Expected a class definition");var t=yn.get(e);return t?(Rt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yn.set(e,t),t)}var wn=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.storage[t],e.abrupt("return",void 0===r?null:r);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wn.type="NONE";var En=wn;function kn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _n=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=kn(this.userKey,o.apiKey,a),this.fullPersistenceKey=kn("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return r=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!r){e.next=10;break}return e.abrupt("return",this.setCurrentUser(r));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=i(n().mark((function t(r,o){var a,s,u,c,d,f,p,h,v,m,g,y=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=y.length>2&&void 0!==y[2]?y[2]:"authUser",o.length){t.next=3;break}return t.abrupt("return",new e(bn(En),r,a));case 3:return t.next=5,Promise.all(o.map(function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:s=t.sent.filter((function(e){return e})),u=s[0]||bn(En),c=kn(a,r.config.apiKey,r.name),d=null,f=l(o),t.prev=10,f.s();case 12:if((p=f.n()).done){t.next=29;break}return h=p.value,t.prev=14,t.next=17,h._get(c);case 17:if(!(v=t.sent)){t.next=23;break}return m=gn._fromJSON(r,v),h!==u&&(d=m),u=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(g=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(u,r,a));case 40:if(u=g[0],!d){t.next=44;break}return t.next=44,u._set(c,d.toJSON());case 44:return t.next=46,Promise.all(o.map(function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,r,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Sn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(In(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(On(t))return"Blackberry";if(An(t))return"Webos";if(xn(t))return"Safari";if((t.includes("chrome/")||Tn(t))&&!t.includes("edge/"))return"Chrome";if(Rn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/firefox\//i.test(e)}function xn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/crios\//i.test(e)}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/iemobile/i.test(e)}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/android/i.test(e)}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/blackberry/i.test(e)}function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/webos/i.test(e)}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Pn(){return function(){var e=Z();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();return Nn(e)||Rn(e)||An(e)||On(e)||/windows phone/i.test(e)||In(e)}function Mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Sn(Z());break;case"Worker":t="".concat(Sn(Z()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ze,"/").concat(r)}function Dn(e,t){return jn.apply(this,arguments)}function jn(){return(jn=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,"GET","/v2/recaptchaConfig",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e){return void 0!==e&&void 0!==e.enterprise}var Vn=v((function e(t){if(p(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Zn(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=St("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Gn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Wn=function(){function e(t){p(this,e),this.type="recaptcha-enterprise",this.auth=Yn(t)}return v(e,[{key:"verify",value:function(){var e=i(n().mark((function e(){var t,r,o,a,s,u=this,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e,n,r){var i=window.grecaptcha;Fn(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},a=function(){return a=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=i(n().mark((function e(r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var n=new Vn(e);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,r(n.siteKey)}i(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){i(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},o=function(e){return a.apply(this,arguments)},t=c.length>0&&void 0!==c[0]?c[0]:"verify",r=c.length>1&&void 0!==c[1]&&c[1],e.abrupt("return",new Promise((function(e,t){o(u.auth).then((function(n){if(!r&&Fn(window.grecaptcha))s(n,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Zn("https://www.google.com/recaptcha/enterprise.js?render="+n).then((function(){s(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Un(e,t,n){return Xn.apply(this,arguments)}function Xn(){return Xn=i(n().mark((function e(t,r,i){var o,a,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],a=new Wn(t),e.prev=2,e.next=5,a.verify(i);case 5:s=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(i,!0);case 12:s=e.sent;case 13:return u=Object.assign({},r),o?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Xn.apply(this,arguments)}var Bn=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=i(n().mark((function e(t){var r,i,o,a,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=l(this.queue),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=14;break}return a=o.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=l(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(kw){}}}catch(n){s.e(n)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hn=function(){function e(t,n,r,i){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zn(this),this.idTokenSubscription=new zn(this),this.beforeStateQueue=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var r=this;return t&&(this._popupRedirectResolver=bn(t)),this._initializationPromise=this.queue(i(n().mark((function i(){var o,a;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._deleted){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,_n.create(r,e);case 4:if(r.persistenceManager=n.sent,!r._deleted){n.next=7;break}return n.abrupt("return");case 7:if(!(null===(o=r._popupRedirectResolver)||void 0===o?void 0:o._shouldInitProactively)){n.next=15;break}return n.prev=8,n.next=11,r._popupRedirectResolver._initialize(r);case 11:n.next=15;break;case 13:n.prev=13,n.t0=n.catch(8);case 15:return n.next=17,r.initializeCurrentUser(t);case 17:if(r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted){n.next=20;break}return n.abrupt("return");case 20:r._isInitialized=!0;case 21:case"end":return n.stop()}}),i,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=i(n().mark((function e(t){var r,i,o,a,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(i=e.sent,o=i,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null===o||void 0===o?void 0:o._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(o=c.user,a=!0);case 14:if(o){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(o._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(o);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),o=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!o){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(o));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Tt(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==o._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(o));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(o));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t?ee(t):null)&&Tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(r&&r._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=i(n().mark((function e(t){var r,o=this,a=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.directlySetCurrentUser(t);case 2:o.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(i(n().mark((function r(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(bn(e));case 2:case"end":return n.stop()}}),r)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,r=new Vn(t),null==this.tenantId?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new Wn(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new X("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(r);case 2:return i=e.sent,e.abrupt("return",null===t?i.removeCurrentUser():i.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Tt(r=t&&bn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_n.create(this,[bn(r._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=i(n().mark((function e(t){var r,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(r=this._currentUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=i(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Tt(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=i(n().mark((function e(){var t,r,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(i=e.sent)&&(r["X-Firebase-Client"]=i),e.next=8,this._getAppCheckToken();case 8:return(o=e.sent)&&(r["X-Firebase-AppCheck"]=o),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(r=e.sent)||void 0===r?void 0:r.error)&&Et("Error while retrieving App Check token: ".concat(r.error)),e.abrupt("return",null===r||void 0===r?void 0:r.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yn(e){return ee(e)}var zn=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new q(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Kn(e,t,n){var r=Yn(e);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Jn(t),a=function(e){var t=Jn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:Qn(r.substr(o.length+1))}}var a=y(r.split(":"),2);return{host:a[0],port:Qn(a[1])}}(t),s=a.host,u=a.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Jn(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qn(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var qn=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return It("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return It("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return It("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return It("not implemented")}}]),e}();function $n(e,t){return er.apply(this,arguments)}function er(){return(er=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t){return nr.apply(this,arguments)}function nr(){return(nr=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithPassword",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,t){return ir.apply(this,arguments)}function ir(){return(ir=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithEmailLink",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(e,t){return ar.apply(this,arguments)}function ar(){return(ar=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithEmailLink",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=function(e){E(r,e);var t=S(r);function r(e,n,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,r),(o=t.call(this,"password",i))._email=e,o._password=n,o._tenantId=a,o}return v(r,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=i(n().mark((function e(t){var r,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(r=t._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled)){e.next=11;break}return e.next=7,Un(t,o,"signInWithPassword");case 7:return a=e.sent,e.abrupt("return",tr(t,a));case 11:return e.abrupt("return",tr(t,o).catch(function(){var e=i(n().mark((function e(r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Un(t,o,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",tr(t,i));case 8:return e.abrupt("return",Promise.reject(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",rr(t,{email:this._email,oobCode:this._password}));case 13:_t(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$n(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",or(t,{idToken:r,email:this._email,oobCode:this._password}));case 5:_t(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new r(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new r(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),r}(qn);function ur(e,t){return cr.apply(this,arguments)}function cr(){return(cr=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithIdp",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lr=function(e){E(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ur(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ur(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ur(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=K(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_t("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=vt(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(qn);function dr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,"POST","/v1/accounts:sendVerificationCode",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pr(){return(pr=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithPhoneNumber",Vt(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(){return(hr=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt(t,"POST","/v1/accounts:signInWithPhoneNumber",Vt(t,r));case 2:if(!(i=e.sent).temporaryProof){e.next=5;break}throw zt(t,"account-exists-with-different-credential",i);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vr=f({},"USER_NOT_FOUND","user-not-found");function mr(){return(mr=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",Xt(t,"POST","/v1/accounts:signInWithPhoneNumber",Vt(t,i),vr));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gr=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return pr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return hr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return mr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(qn);var yr=function(){function e(t){var n,r,i,o,a,s;p(this,e);var u=J(Q(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Tt(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=J(Q(e)).link,n=t?J(Q(t)).deep_link_id:null,r=J(Q(e)).deep_link_id;return(r?J(Q(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var br=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return sr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=yr.parseLink(t);return Tt(n,"argument-error"),sr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();br.PROVIDER_ID="password",br.EMAIL_PASSWORD_SIGN_IN_METHOD="password",br.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var wr=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Er=function(e){E(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(wr),kr=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Er);kr.FACEBOOK_SIGN_IN_METHOD="facebook.com",kr.PROVIDER_ID="facebook.com";var _r=function(e){E(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(Er);_r.GOOGLE_SIGN_IN_METHOD="google.com",_r.PROVIDER_ID="google.com";var Sr=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Er);Sr.GITHUB_SIGN_IN_METHOD="github.com",Sr.PROVIDER_ID="github.com";var Cr=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return lr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(Er);Cr.TWITTER_SIGN_IN_METHOD="twitter.com",Cr.PROVIDER_ID="twitter.com";var xr=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=i(n().mark((function t(r,i,o){var a,s,u,c,l=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,gn._fromIdTokenResponse(r,o,a);case 3:return s=t.sent,u=Tr(o),c=new e({user:s,providerId:u,_tokenResponse:o,operationType:i}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=i(n().mark((function t(r,i,o){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._updateTokensIfNecessary(o,!0);case 2:return a=Tr(o),t.abrupt("return",new e({user:r,providerId:a,_tokenResponse:o,operationType:i}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Tr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Ir=function(e){E(n,e);var t=S(n);function n(e,r,i,o){var a,s;return p(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(b(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(U);function Rr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ir._fromErrorAndOperation(e,n,t,r);throw n}))}function Or(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=i(n().mark((function e(t,r){var i,o,a=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]&&a[2],e.t0=rn,e.t1=t,e.t2=r,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=i,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return o=e.sent,e.abrupt("return",xr._forOperation(t,"link",o));case 14:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Nr(e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=i(n().mark((function e(t,r){var i,o,a,s,u,c,l=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]&&l[2],o=t.auth,a="reauthenticate",e.prev=3,e.next=6,rn(t,Rr(o,a,r,t),i);case 6:return Tt((s=e.sent).idToken,o,"internal-error"),Tt(u=nn(s.idToken),o,"internal-error"),c=u.sub,Tt(t.uid===c,o,"user-mismatch"),e.abrupt("return",xr._forOperation(t,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&_t(o,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Pr.apply(this,arguments)}function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=i(n().mark((function e(t,r){var i,o,a,s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],o="signIn",e.next=4,Rr(t,o,r);case 4:return a=e.sent,e.next=7,xr._fromIdTokenResponse(t,o,a);case 7:if(s=e.sent,i){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Dr(e,t){return jr.apply(this,arguments)}function jr(){return(jr=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(Yn(t),r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e,t){return Zt(e,"POST","/v2/accounts/mfaEnrollment:start",Vt(e,t))}function Vr(e,t){return Zt(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(e,t))}new WeakMap;var Zr="__sak",Gr=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Zr,"1"),this.storage.removeItem(Zr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Wr=function(e){E(r,e);var t=S(r);function r(){var e;return p(this,r),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Z();return xn(e)||Nn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ln(),e._shouldAllowMigration=!0,e}return v(r,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);Pn()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=i(n().mark((function e(t,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(k(r.prototype),"_set",this).call(this,t,i);case 2:this.localCache[t]=JSON.stringify(i);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(n().mark((function e(t){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(k(r.prototype),"_get",this).call(this,t);case 2:return i=e.sent,this.localCache[t]=JSON.stringify(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(k(r.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Gr);Wr.type="LOCAL";var Ur=Wr,Xr=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Gr);Xr.type="SESSION";var Br=Xr;function Hr(e){return Promise.all(e.map(function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Yr=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=i(n().mark((function e(t){var r,o,a,s,u,c,l,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(r=t).data,a=o.eventId,s=o.eventType,u=o.data,null===(c=this.handlersMap[s])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:a,eventType:s}),l=Array.from(c).map(function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Hr(l);case 9:d=e.sent,r.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:d});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function zr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Yr.receivers=[];var Kr=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=i(n().mark((function e(t,r){var i,o,a,s,u=this,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.length>2&&void 0!==c[2]?c[2]:50,o="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,n){var c=zr("",20);o.port1.start();var l=setTimeout((function(){n(new Error("unsupported_event"))}),i);s={messageChannel:o,onMessage:function(t){var r=t;if(r.data.eventId===c)switch(r.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){n(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(r.data.response);break;default:clearTimeout(l),clearTimeout(a),n(new Error("invalid_response"))}}},u.handlers.add(s),o.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:c,data:r},[o.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Jr(){return window}function Qr(e){Jr().location.href=e}function qr(){return"undefined"!==typeof Jr().WorkerGlobalScope&&"function"===typeof Jr().importScripts}function $r(){return ei.apply(this,arguments)}function ei(){return(ei=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ti(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ni="firebaseLocalStorageDb",ri="firebaseLocalStorage",ii="fbase_key",oi=function(){function e(t){p(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ai(e,t){return e.transaction([ri],t?"readwrite":"readonly").objectStore(ri)}function si(){var e=indexedDB.deleteDatabase(ni);return new oi(e).toPromise()}function ui(){var e=indexedDB.open(ni,1);return new Promise((function(t,r){e.addEventListener("error",(function(){r(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ri,{keyPath:ii})}catch(n){r(n)}})),e.addEventListener("success",i(n().mark((function r(){var i;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=e.result).objectStoreNames.contains(ri)){n.next=12;break}return i.close(),n.next=5,si();case 5:return n.t0=t,n.next=8,ui();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(i);case 13:case"end":return n.stop()}}),r)}))))}))}function ci(e,t,n){return li.apply(this,arguments)}function li(){return li=i(n().mark((function e(t,r,i){var o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ai(t,!0).put((f(o={},ii,r),f(o,"value",i),o)),e.abrupt("return",new oi(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function di(e,t){return fi.apply(this,arguments)}function fi(){return fi=i(n().mark((function e(t,r){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ai(t,!1).get(r),e.next=3,new oi(i).toPromise();case 3:return o=e.sent,e.abrupt("return",void 0===o?null:o.value);case 5:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function pi(e,t){var n=ai(e,!0).delete(t);return new oi(n).toPromise()}var hi=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ui();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return i=e.sent,e.next=8,t(i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(r++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=i(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Yr._getInstance(qr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=i(n().mark((function e(r,i){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return o=e.sent,e.abrupt("return",{keyProcessed:o.includes(i.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=i(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$r();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Kr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(i=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(r=i[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ti()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ui();case 5:return t=e.sent,e.next=8,ci(t,Zr,"1");case 8:return e.next=10,pi(t,Zr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=i(n().mark((function e(t,r){var o=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._withRetries((function(e){return ci(e,t,r)}));case 2:return o.localCache[t]=r,e.abrupt("return",o.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return di(e,t)}));case 2:return r=e.sent,this.localCache[t]=r,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return pi(e,t)}));case 2:return delete r.localCache[t],e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=i(n().mark((function e(){var t,r,i,o,a,s,u,c,d,f,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ai(e,!1).getAll();return new oi(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:r=[],i=new Set,o=l(t);try{for(o.s();!(a=o.n()).done;)s=a.value,u=s.fbase_key,c=s.value,i.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),r.push(u))}catch(n){o.e(n)}finally{o.f()}for(d=0,f=Object.keys(this.localCache);d<f.length;d++)p=f[d],this.localCache[p]&&!i.has(p)&&(this.notifyListeners(p,null),r.push(p));return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();hi.type="LOCAL";var vi=hi;function mi(e,t){return Zt(e,"POST","/v2/accounts/mfaSignIn:start",Vt(e,t))}function gi(e,t){return Zt(e,"POST","/v2/accounts/mfaSignIn:finalize",Vt(e,t))}Gn("rcb"),new Lt(3e4,6e4);var yi="recaptcha";function bi(e,t,n){return wi.apply(this,arguments)}function wi(){return wi=i(n().mark((function e(t,r,i){var o,a,s,u,c,l,d,f,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.verify();case 2:if(a=e.sent,e.prev=3,Tt("string"===typeof a,t,"argument-error"),Tt(i.type===yi,t,"argument-error"),!("session"in(s="string"===typeof r?{phoneNumber:r}:r))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return Tt("enroll"===u.type,t,"internal-error"),e.next=13,Fr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return Tt("signin"===u.type,t,"internal-error"),Tt(l=(null===(o=s.multiFactorHint)||void 0===o?void 0:o.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,mi(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return d=e.sent,e.abrupt("return",d.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,dr(t,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,p=f.sessionInfo,e.abrupt("return",p);case 31:return e.prev=31,i._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),wi.apply(this,arguments)}var Ei=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=Yn(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return bi(this.auth,e,ee(t))}}],[{key:"credential",value:function(e,t){return gr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?gr._fromTokenResponse(n,r):null}}]),e}();function ki(e,t){return t?bn(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ei.PROVIDER_ID="phone",Ei.PHONE_SIGN_IN_METHOD="phone";var _i=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return ur(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ur(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ur(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(qn);function Si(e){return Lr(e.auth,new _i(e),e.bypassAuthState)}function Ci(e){var t=e.auth,n=e.user;return Tt(n,t,"internal-error"),Nr(n,new _i(e),e.bypassAuthState)}function xi(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,Tt(i=t.user,r,"internal-error"),e.abrupt("return",Or(i,new _i(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ii=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=i(n().mark((function t(r,i){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:r,reject:i},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=i(n().mark((function e(t){var r,i,o,a,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.urlResponse,i=t.sessionId,o=t.postBody,a=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return Ci;default:_t(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ri=new Lt(2e3,1e4);var Oi=function(e){E(r,e);var t=S(r);function r(e,n,i,o,a){var s;return p(this,r),(s=t.call(this,e,n,o,a)).provider=i,s.authWindow=null,s.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=b(s),s}return v(r,[{key:"executeNotNull",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Tt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=i(n().mark((function e(){var t,r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rt(1===this.filter.length,"Popup operations only handle one event"),t=zr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){r.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||r.reject(St(r.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(St(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(St(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ri.get())}()}}]),r}(Ii);Oi.currentPopupAction=null;var Ai="pendingRedirect",Ni=new Map,Pi=function(e){E(r,e);var t=S(r);function r(e,n){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,r),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o)).eventId=null,i}return v(r,[{key:"execute",value:function(){var e=i(n().mark((function e(){var t,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ni.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Li(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ht(k(r.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:i=e.t0,t=function(){return Promise.resolve(i)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ni.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ni.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=i(n().mark((function e(t){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ht(k(r.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(i=e.sent)){e.next=16;break}return this.user=i,e.abrupt("return",ht(k(r.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),r}(Ii);function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return(Mi=i(n().mark((function e(t,r){var i,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fi(r),o=ji(t),e.next=4,o._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,o._get(i);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,o._remove(i);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t){Ni.set(e._key(),t)}function ji(e){return bn(e._redirectPersistence)}function Fi(e){return kn(Ai,e.config.apiKey,e.name)}function Vi(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=i(n().mark((function e(t,r){var i,o,a,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],o=Yn(t),a=ki(o,r),s=new Pi(o,a,i),e.next=6,s.execute();case 6:if(!(u=e.sent)||i){e.next=13;break}return delete u.user._redirectEventId,e.next=11,o._persistUserIfCurrent(u.user);case 11:return e.next=13,o._setRedirectUser(null,r);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}var Gi=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ui(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ui(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(St(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wi(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Wi(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Wi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ui(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Xi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=i(n().mark((function e(t){var r,i=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",Zt(t,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}var Hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yi=/^https?/;function zi(){return(zi=i(n().mark((function e(t){var r,i,o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xi(t);case 4:r=e.sent,i=r.authorizedDomains,o=l(i),e.prev=7,o.s();case 9:if((a=o.n()).done){e.next=20;break}if(s=a.value,e.prev=11,!Ki(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),o.e(e.t1);case 25:return e.prev=25,o.f(),e.finish(25);case 28:_t(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Ki(e){var t=Ot(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!Yi.test(r))return!1;if(Hi.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var Ji=new Lt(3e4,6e4);function Qi(){var e=Jr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var qi=null;function $i(e){return qi=qi||function(e){return new Promise((function(t,n){var r,i,o;function a(){Qi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qi(),n(St(e,"network-request-failed"))},timeout:Ji.get()})}if(null===(i=null===(r=Jr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Jr().gapi)||void 0===o?void 0:o.load)){var s=Gn("iframefcb");return Jr()[s]=function(){gapi.load?a():n(St(e,"network-request-failed"))},Zn("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw qi=null,e}))}(e),qi}var eo=new Lt(5e3,15e3),to="__/auth/iframe",no="emulator/auth/iframe",ro={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},io=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oo(e){var t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Mt(t,no):"https://".concat(e.config.authDomain,"/").concat(to),r={apiKey:t.apiKey,appName:e.name,v:ze},i=io.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(K(r).slice(1))}function ao(e){return so.apply(this,arguments)}function so(){return so=i(n().mark((function e(t){var r,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(t);case 2:return r=e.sent,Tt(o=Jr().gapi,t,"internal-error"),e.abrupt("return",r.open({where:document.body,url:oo(t),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ro,dontclear:!0},(function(e){return new Promise(function(){var r=i(n().mark((function r(i,o){var a,s,u;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Jr().clearTimeout(s),i(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=St(t,"network-request-failed"),s=Jr().setTimeout((function(){o(a)}),eo.get()),e.ping(u).then(u,(function(){o(a)}));case 6:case"end":return n.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var uo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},co=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function lo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},uo),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Z().toLowerCase();n&&(s=Tn(c)?"_blank":n),Cn(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=y(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Nn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new co(null);var d=window.open(t||"",s,l);Tt(d,e,"popup-blocked");try{d.focus()}catch(f){}return new co(d)}var fo="__/auth/handler",po="emulator/auth/handler",ho=encodeURIComponent("fac");function vo(e,t,n,r,i,o){return mo.apply(this,arguments)}function mo(){return(mo=i(n().mark((function e(t,r,i,o,a,s){var u,c,l,d,f,p,h,v,m,g,b,w,E;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tt(t.config.authDomain,t,"auth-domain-config-required"),Tt(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:o,v:ze,eventId:a},r instanceof wr)for(r.setDefaultLanguage(t.languageCode),u.providerId=r.providerId||"",H(r.getCustomParameters())||(u.customParameters=JSON.stringify(r.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)d=y(l[c],2),f=d[0],p=d[1],u[f]=p;for(r instanceof Er&&(h=r.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=h.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,g=Object.keys(v);m<g.length;m++)b=g[m],void 0===v[b]&&delete v[b];return e.next=10,t._getAppCheckToken();case 10:return w=e.sent,E=w?"#".concat(ho,"=").concat(encodeURIComponent(w)):"",e.abrupt("return","".concat(go(t),"?").concat(K(v).slice(1)).concat(E));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e){var t=e.config;return t.emulator?Mt(t,po):"https://".concat(t.authDomain,"/").concat(fo)}var yo="webStorageSupport",bo=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Br,this._completeRedirectFn=Vi,this._overrideRedirectResult=Di}return v(e,[{key:"_openPopup",value:function(){var e=i(n().mark((function e(t,r,i,o){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,vo(t,r,i,Ot(),o);case 3:return s=e.sent,e.abrupt("return",lo(t,s,zr()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=i(n().mark((function e(t,r,i,o){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,vo(t,r,i,Ot(),o);case 4:return Qr(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(Rt(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(t);case 2:return r=e.sent,i=new Gi(t),r.register("authEvent",(function(e){return Tt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=r,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yo,{type:yo},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yo];void 0!==i&&t(!!i),_t(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zi.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ln()||xn()||Nn()}}]),e}(),wo=bo,Eo=function(){function e(t){p(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return It("unexpected MultiFactorSessionType")}}}]),e}(),ko=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zt(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zt(e,"POST","/v2/accounts/mfaSignIn:finalize",Vt(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Eo);(function(){function e(){p(this,e)}return v(e,null,[{key:"assertion",value:function(e){return ko._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var _o=function(){function e(){p(this,e)}return v(e,null,[{key:"assertionForEnrollment",value:function(e,t){return So._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return So._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt("undefined"!==typeof(r=t).auth,"internal-error"),e.next=4,n=r.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},Zt(n,"POST","/v2/accounts/mfaEnrollment:start",Vt(n,o));case 4:return i=e.sent,e.abrupt("return",Co._fromStartTotpMfaEnrollmentResponse(i,r.auth));case 6:case"end":return e.stop()}var n,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();_o.FACTOR_ID="totp";var So=function(e){E(r,e);var t=S(r);function r(e,n,i){var o;return p(this,r),(o=t.call(this,"totp")).otp=e,o.enrollmentId=n,o.secret=i,o}return v(r,[{key:"_finalizeEnroll",value:function(){var e=i(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Vr(t,{idToken:r,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),i={verificationCode:this.otp},e.abrupt("return",gi(t,{mfaPendingCredential:r,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new r(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new r(t,e)}}]),r}(Eo),Co=function(){function e(t,n,r,i,o,a,s){p(this,e),this.sessionInfo=a,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}return v(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(xo(e)||xo(t))&&(r=!0),r&&(xo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),xo(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function xo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var To="@firebase/auth",Io="0.23.2",Ro=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return r=e.sent,e.abrupt("return",{accessToken:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Oo,Ao=j("authIdTokenMaxAge")||300,No=null;Oo="Browser",Ue(new te("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=r.options,s=a.apiKey,u=a.authDomain;Tt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Oo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(Oo)},l=new Hn(r,i,o,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ue(new te("auth-internal",(function(e){return function(e){return new Ro(e)}(Yn(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(To,Io,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Oo)),Qe(To,Io,"esm2017");var Po,Lo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Mo={},Do=Do||{},jo=Lo||self;function Fo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zo="closure_uid_"+(1e9*Math.random()>>>0),Go=0;function Wo(e,t,n){return e.call.apply(e.bind,arguments)}function Uo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xo(e,t,n){return(Xo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wo:Uo).apply(null,arguments)}function Bo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ho(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Yo(){this.s=this.s,this.o=this.o}Yo.prototype.s=!1,Yo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Zo)&&e[Zo]||(e[Zo]=++Go)}(this)},Yo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ko(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jo(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Fo(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function Qo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Qo.prototype.h=function(){this.defaultPrevented=!0};var qo=function(){if(!jo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jo.addEventListener("test",(function(){}),t),jo.removeEventListener("test",(function(){}),t)}catch(fw){}return e}();function $o(e){return/^[\s\xa0]*$/.test(e)}function ea(){var e=jo.navigator;return e&&(e=e.userAgent)?e:""}function ta(e){return-1!=ea().indexOf(e)}function na(e){return na[" "](e),e}na[" "]=function(){};var ra,ia,oa=ta("Opera"),aa=ta("Trident")||ta("MSIE"),sa=ta("Edge"),ua=sa||aa,ca=ta("Gecko")&&!(-1!=ea().toLowerCase().indexOf("webkit")&&!ta("Edge"))&&!(ta("Trident")||ta("MSIE"))&&!ta("Edge"),la=-1!=ea().toLowerCase().indexOf("webkit")&&!ta("Edge");function da(){var e=jo.document;return e?e.documentMode:void 0}e:{var fa="",pa=function(){var e=ea();return ca?/rv:([^\);]+)(\)|;)/.exec(e):sa?/Edge\/([\d\.]+)/.exec(e):aa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):la?/WebKit\/(\S+)/.exec(e):oa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pa&&(fa=pa?pa[1]:""),aa){var ha=da();if(null!=ha&&ha>parseFloat(fa)){ra=String(ha);break e}}ra=fa}if(jo.document&&aa){var va=da();ia=va||(parseInt(ra,10)||void 0)}else ia=void 0;var ma=ia;function ga(e,t){if(Qo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ca){e:{try{na(t.nodeName);var i=!0;break e}catch(dw){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ya[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ga.$.h.call(this)}}Ho(ga,Qo);var ya={2:"touch",3:"pen",4:"mouse"};ga.prototype.h=function(){ga.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ba="closure_listenable_"+(1e6*Math.random()|0),wa=0;function Ea(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++wa,this.fa=this.ia=!1}function ka(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _a(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sa(e){var t={};for(var n in e)t[n]=e[n];return t}var Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xa(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ca.length;o++)n=Ca[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ta(e){this.src=e,this.g={},this.h=0}function Ia(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=zo(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ka(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ra(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Ta.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Ra(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Ea(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Oa="closure_lm_"+(1e6*Math.random()|0),Aa={};function Na(e,t,n,r,i){if(r&&r.once)return La(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Na(e,t[o],n,r,i);return null}return n=Ga(n),e&&e[ba]?e.O(t,n,Vo(r)?!!r.capture:!!r,i):Pa(e,t,n,!1,r,i)}function Pa(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Vo(i)?!!i.capture:!!i,s=Va(e);if(s||(e[Oa]=s=new Ta(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Fa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qo||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ja(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function La(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)La(e,t[o],n,r,i);return null}return n=Ga(n),e&&e[ba]?e.P(t,n,Vo(r)?!!r.capture:!!r,i):Pa(e,t,n,!0,r,i)}function Ma(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ma(e,t[o],n,r,i);else r=Vo(r)?!!r.capture:!!r,n=Ga(n),e&&e[ba]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ra(o=e.g[t],n,r,i))&&(ka(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Va(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ra(t,n,r,i)),(n=-1<e?t[e]:null)&&Da(n))}function Da(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ba])Ia(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ja(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Va(t))?(Ia(n,e),0==n.h&&(n.src=null,t[Oa]=null)):ka(e)}}}function ja(e){return e in Aa?Aa[e]:Aa[e]="on"+e}function Fa(e,t){if(e.fa)e=!0;else{t=new ga(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Da(e),e=n.call(r,t)}return e}function Va(e){return(e=e[Oa])instanceof Ta?e:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(e){return"function"===typeof e?e:(e[Za]||(e[Za]=function(t){return e.handleEvent(t)}),e[Za])}function Wa(){Yo.call(this),this.i=new Ta(this),this.S=this,this.J=null}function Ua(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Qo(t,e);else if(t instanceof Qo)t.target=t.target||e;else{var i=t;xa(t=new Qo(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Xa(a,r,!0,t)&&i}if(i=Xa(a=t.g=e,r,!0,t)&&i,i=Xa(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Xa(a=t.g=n[o],r,!1,t)&&i}function Xa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,u=a.la||a.src;a.ia&&Ia(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ho(Wa,Yo),Wa.prototype[ba]=!0,Wa.prototype.removeEventListener=function(e,t,n,r){Ma(this,e,t,n,r)},Wa.prototype.N=function(){if(Wa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ka(n[r]);delete t.g[e],t.h--}}this.J=null},Wa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ba=jo.JSON.stringify,Ha=function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Ya(){var e=ts,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var za=function(){function e(){p(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=Ka.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ka=new Ha((function(){return new Ja}),(function(e){return e.reset()})),Ja=function(){function e(){p(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Qa(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function qa(e){jo.setTimeout((function(){throw e}),0)}var $a,es=!1,ts=new za,ns=function(){var e=jo.Promise.resolve(void 0);$a=function(){e.then(rs)}},rs=function(){for(var e;e=Ya();){try{e.h.call(e.g)}catch(fw){qa(fw)}var t=Ka;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}es=!1};function is(e,t){Wa.call(this),this.h=e||1,this.g=t||jo,this.j=Xo(this.qb,this),this.l=Date.now()}function os(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function as(e,t,n){if("function"===typeof e)n&&(e=Xo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xo(e.handleEvent,e)}return 2147483647<Number(t)?-1:jo.setTimeout(e,t||0)}function ss(e){e.g=as((function(){e.g=null,e.i&&(e.i=!1,ss(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ho(is,Wa),(Po=is.prototype).ga=!1,Po.T=null,Po.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ua(this,"tick"),this.ga&&(os(this),this.start()))}},Po.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Po.N=function(){is.$.N.call(this),os(this),delete this.g};var us=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ss(this)}},{key:"N",value:function(){ht(k(n.prototype),"N",this).call(this),this.g&&(jo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Yo);function cs(e){Yo.call(this),this.h=e,this.g={}}Ho(cs,Yo);var ls=[];function ds(e,t,n,r){Array.isArray(n)||(n&&(ls[0]=n.toString()),n=ls);for(var i=0;i<n.length;i++){var o=Na(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function fs(e){_a(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Da(e)}),e),e.g={}}function ps(){this.g=!0}function hs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ba(n)}catch(iw){return t}}(e,n)+(r?" "+r:"")}))}cs.prototype.N=function(){cs.$.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ps.prototype.Ea=function(){this.g=!1},ps.prototype.info=function(){};var vs={},ms=null;function gs(){return ms=ms||new Wa}function ys(e){Qo.call(this,vs.Ta,e)}function bs(e){var t=gs();Ua(t,new ys(t))}function ws(e,t){Qo.call(this,vs.STAT_EVENT,e),this.stat=t}function Es(e){var t=gs();Ua(t,new ws(t,e))}function ks(e,t){Qo.call(this,vs.Ua,e),this.size=t}function _s(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jo.setTimeout((function(){e()}),t)}vs.Ta="serverreachability",Ho(ys,Qo),vs.STAT_EVENT="statevent",Ho(ws,Qo),vs.Ua="timingevent",Ho(ks,Qo);var Ss={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xs(){}function Ts(e){return e.h||(e.h=e.i())}function Is(){}xs.prototype.h=null;var Rs,Os={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function As(){Qo.call(this,"d")}function Ns(){Qo.call(this,"c")}function Ps(){}function Ls(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new cs(this),this.P=Ds,e=ua?125:void 0,this.V=new is(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}Ho(As,Qo),Ho(Ns,Qo),Ho(Ps,xs),Ps.prototype.g=function(){return new XMLHttpRequest},Ps.prototype.i=function(){return{}},Rs=new Ps;var Ds=45e3,js={},Fs={};function Vs(e,t,n){e.L=1,e.v=iu($s(t)),e.s=n,e.S=!0,Zs(e,null)}function Zs(e,t){e.G=Date.now(),Xs(e),e.A=$s(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),gu(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ms,e.g=gc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new us(Xo(e.Pa,e,e.g),e.O)),ds(e.U,e.g,"readystatechange",e.nb),t=e.I?Sa(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),bs(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");a=2<=d.length&&"type"==d[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Gs(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ws(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Us(e,n))==Fs){4==t&&(e.o=4,Es(14),i=!1),hs(e.j,e.m,null,"[Incomplete Response]");break}if(r==js){e.o=4,Es(15),hs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hs(e.j,e.m,r,null),Ks(e,r)}Gs(e)&&r!=Fs&&r!=js&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Es(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cc(t),t.M=!0,Es(11))):(hs(e.j,e.m,n,"[Invalid Chunked Response]"),zs(e),Ys(e))}function Us(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fs:(n=Number(t.substring(n,r)),isNaN(n)?js:(r+=1)+n>t.length?Fs:(t=t.slice(r,r+n),e.C=r+n,t))}function Xs(e){e.Y=Date.now()+e.P,Bs(e,e.P)}function Bs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_s(Xo(e.lb,e),t)}function Hs(e){e.B&&(jo.clearTimeout(e.B),e.B=null)}function Ys(e){0==e.l.H||e.J||fc(e.l,e)}function zs(e){Hs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,os(e.V),fs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ks(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Su(n.i,e)))if(!e.K&&Su(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;dc(n),tc(n)}uc(n),Es(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_s(Xo(n.ib,n),6e3));if(1>=_u(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else hc(n,11)}else if((e.K||n.g==e)&&dc(n),!$o(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var a=o[3];null!=a&&(n.ra=a,n.l.info("VER="+n.ra));var s=o[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var d=r.i;d.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Cu(d,d.h),d.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,ru(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var p=e;if((r=n).wa=mc(r,r.J?r.pa:null,r.Y),p.K){xu(r.i,p);var h=p,v=r.L;v&&h.setTimeout(v),h.B&&(Hs(h),Xs(h)),r.g=p}else sc(r);0<n.j.length&&rc(n)}else"stop"!=o[0]&&"close"!=o[0]||hc(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?hc(n,7):ec(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}bs()}catch(o){}}function Js(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Fo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Fo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Fo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Po=Ls.prototype).setTimeout=function(e){this.P=e},Po.nb=function(e){e=e.target;var t=this.M;t&&3==zu(e)?t.l():this.Pa(e)},Po.Pa=function(e){try{if(e==this.g)e:{var t=zu(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ua||this.g&&(this.h.h||this.g.ja()||Ku(this.g)))){this.J||4!=t||7==n||bs(),Hs(this);var r=this.g.da();this.ca=r;t:if(Gs(this)){var i=Ku(this.g);e="";var o=i.length,a=4==zu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zs(this),Ys(this);var s="";break t}this.h.i=new jo.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$o(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Es(12),zs(this),Ys(this);break e}hs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,r)}this.S?(Ws(this,t,s),ua&&this.i&&3==t&&(ds(this.U,this.V,"tick",this.mb),this.V.start())):(hs(this.j,this.m,s,null),Ks(this,s)),4==t&&zs(this),this.i&&!this.J&&(4==t?fc(this.l,this):(this.i=!1,Xs(this)))}else(function(e){var t={};e=(e.g&&2<=zu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!$o(e[n])){var r=Qa(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var o=t[i]||[];t[i]=o,o.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Es(12)):(this.o=0,Es(13)),zs(this),Ys(this)}}}catch(t){}},Po.mb=function(){if(this.g){var e=zu(this.g),t=this.g.ja();this.C<t.length&&(Hs(this),Ws(this,e,t),this.i&&4!=e&&Xs(this))}},Po.cancel=function(){this.J=!0,zs(this)},Po.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(bs(),Es(17)),zs(this),this.o=2,Ys(this)):Bs(this,this.Y-e)};var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof qs){this.h=e.h,eu(this,e.j),this.s=e.s,this.g=e.g,tu(this,e.m),this.l=e.l;var t=e.i,n=new pu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nu(this,n),this.o=e.o}else e&&(t=String(e).match(Qs))?(this.h=!1,eu(this,t[1]||"",!0),this.s=ou(t[2]||""),this.g=ou(t[3]||"",!0),tu(this,t[4]),this.l=ou(t[5]||"",!0),nu(this,t[6]||"",!0),this.o=ou(t[7]||"")):(this.h=!1,this.i=new pu(null,this.h))}function $s(e){return new qs(e)}function eu(e,t,n){e.j=n?ou(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nu(e,t,n){t instanceof pu?(e.i=t,function(e,t){t&&!e.j&&(hu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vu(this,t),gu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=au(t,du)),e.i=new pu(t,e.h))}function ru(e,t,n){e.i.set(t,n)}function iu(e){return ru(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ou(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function au(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,su),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function su(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(au(t,uu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(au(t,uu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(au(n,"/"==n.charAt(0)?lu:cu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",au(n,fu)),e.join("")};var uu=/[#\/\?@]/g,cu=/[#\?:]/g,lu=/[#\?]/g,du=/[#\?@]/g,fu=/#/g;function pu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vu(e,t){hu(e),t=yu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mu(e,t){return hu(e),t=yu(e,t),e.g.has(t)}function gu(e,t,n){vu(e,t),0<n.length&&(e.i=null,e.g.set(yu(e,t),Ko(n)),e.h+=n.length)}function yu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Po=pu.prototype).add=function(e,t){hu(this),this.i=null,e=yu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Po.forEach=function(e,t){hu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Po.ta=function(){hu(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Po.Z=function(e){hu(this);var t=[];if("string"===typeof e)mu(this,e)&&(t=t.concat(this.g.get(yu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Po.set=function(e,t){return hu(this),this.i=null,mu(this,e=yu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Po.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Po.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")};var bu=v((function e(t,n){p(this,e),this.g=t,this.map=n}));function wu(e){this.l=e||Eu,jo.PerformanceNavigationTiming?e=0<(e=jo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jo.g&&jo.g.Ka&&jo.g.Ka()&&jo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Eu=10;function ku(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _u(e){return e.h?1:e.g?e.g.size:0}function Su(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cu(e,t){e.g?e.g.add(t):e.h=t}function xu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=l(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(o){r.e(o)}finally{r.f()}return n}return Ko(e.i)}wu.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=l(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Iu=function(){function e(){p(this,e)}return v(e,[{key:"stringify",value:function(e){return jo.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return jo.JSON.parse(e,void 0)}}]),e}();function Ru(){this.g=new Iu}function Ou(e,t,n){var r=n||"";try{Js(e,(function(e,n){var i=e;Vo(e)&&(i=Ba(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Au(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(dw){}}function Nu(e){this.l=e.fc||null,this.j=e.ob||!1}function Pu(e,t){Wa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Lu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ho(Nu,xs),Nu.prototype.g=function(){return new Pu(this.l,this.j)},Nu.prototype.i=function(e){return function(){return e}}({}),Ho(Pu,Wa);var Lu=0;function Mu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Du(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ju(e)}function ju(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Po=Pu.prototype).open=function(e,t){if(this.readyState!=Lu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ju(this)},Po.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||jo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Po.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Du(this)),this.readyState=Lu},Po.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ju(this)),this.g&&(this.readyState=3,ju(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof jo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Po.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Du(this):ju(this),3==this.readyState&&Mu(this)}},Po.Za=function(e){this.g&&(this.response=this.responseText=e,Du(this))},Po.Ya=function(e){this.g&&(this.response=e,Du(this))},Po.ka=function(){this.g&&Du(this)},Po.setRequestHeader=function(e,t){this.v.append(e,t)},Po.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Po.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fu=jo.JSON.parse;function Vu(e){Wa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zu,this.L=this.M=!1}Ho(Vu,Wa);var Zu="",Gu=/^https?$/i,Wu=["POST","PUT"];function Uu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xu(e),Hu(e)}function Xu(e){e.F||(e.F=!0,Ua(e,"complete"),Ua(e,"error"))}function Bu(e){if(e.h&&"undefined"!=typeof Do&&(!e.C[1]||4!=zu(e)||2!=e.da()))if(e.v&&4==zu(e))as(e.La,0,e);else if(Ua(e,"readystatechange"),4==zu(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.I).match(Qs)[1]||null;!o&&jo.self&&jo.self.location&&(o=jo.self.location.protocol.slice(0,-1)),i=!Gu.test(o?o.toLowerCase():"")}t=i}if(t)Ua(e,"complete"),Ua(e,"success");else{e.m=6;try{var a=2<zu(e)?e.g.statusText:""}catch(iw){a=""}e.j=a+" ["+e.da()+"]",Xu(e)}}finally{Hu(e)}}}function Hu(e,t){if(e.g){Yu(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Ua(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(jo.clearTimeout(e.A),e.A=null)}function zu(e){return e.g?e.g.readyState:0}function Ku(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Zu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(el){return null}}function Ju(e){var t="";return _a(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Qu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ju(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ru(e,t,n))}function qu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $u(e){this.Ga=0,this.j=[],this.l=new ps,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qu("baseRetryDelayMs",5e3,e),this.hb=qu("retryDelaySeedMs",1e4,e),this.eb=qu("forwardChannelMaxRetries",2,e),this.xa=qu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new wu(e&&e.concurrentRequestLimit),this.Ja=new Ru,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ec(e){if(nc(e),3==e.H){var t=e.W++,n=$s(e.I);if(ru(n,"SID",e.K),ru(n,"RID",t),ru(n,"TYPE","terminate"),oc(e,n),(t=new Ls(e,e.l,t)).L=2,t.v=iu($s(n)),n=!1,jo.navigator&&jo.navigator.sendBeacon)try{n=jo.navigator.sendBeacon(t.v.toString(),"")}catch(gw){}!n&&jo.Image&&((new Image).src=t.v,n=!0),n||(t.g=gc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xs(t)}vc(e)}function tc(e){e.g&&(cc(e),e.g.cancel(),e.g=null)}function nc(e){tc(e),e.u&&(jo.clearTimeout(e.u),e.u=null),dc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jo.clearTimeout(e.m),e.m=null)}function rc(e){if(!ku(e.i)&&!e.m){e.m=!0;var t=e.Na;$a||ns(),es||($a(),es=!0),ts.add(t,e),e.C=0}}function ic(e,t){var n;n=t?t.m:e.W++;var r=$s(e.I);ru(r,"SID",e.K),ru(r,"RID",n),ru(r,"AID",e.V),oc(e,r),e.o&&e.s&&Qu(r,e.o,e.s),n=new Ls(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ac(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cu(e.i,n),Vs(n,r,t)}function oc(e,t){e.na&&_a(e.na,(function(e,n){ru(t,n,e)})),e.h&&Js({},(function(e,n){ru(t,n,e)}))}function ac(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Xo(e.h.Va,e.h,e):null;e:for(var i=e.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=o))o=Math.max(0,i[u].g-100),s=!1;else try{Ou(l,a,"req"+c+"_")}catch(dl){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function sc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;$a||ns(),es||($a(),es=!0),ts.add(t,e),e.A=0}}function uc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_s(Xo(e.Ma,e),pc(e,e.A)),e.A++,!0)}function cc(e){null!=e.B&&(jo.clearTimeout(e.B),e.B=null)}function lc(e){e.g=new Ls(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=$s(e.wa);ru(t,"RID","rpc"),ru(t,"SID",e.K),ru(t,"AID",e.V),ru(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ru(t,"TO",e.qa),ru(t,"TYPE","xmlhttp"),oc(e,t),e.o&&e.s&&Qu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=iu($s(t)),n.s=null,n.S=!0,Zs(n,e)}function dc(e){null!=e.v&&(jo.clearTimeout(e.v),e.v=null)}function fc(e,t){var n=null;if(e.g==t){dc(e),cc(e),e.g=null;var r=2}else{if(!Su(e.i,t))return;n=t.F,xu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ua(r=gs(),new ks(r,n)),rc(e)}else sc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_u(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_s(Xo(e.Na,e,t),pc(e,e.C)),e.C++,!0))}(e,t)||2==r&&uc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hc(e,5);break;case 4:hc(e,10);break;case 3:hc(e,6);break;default:hc(e,2)}}function pc(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function hc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Xo(e.pb,e);n||(n=new qs("//www.google.com/images/cleardot.gif"),jo.location&&"http"==jo.location.protocol||eu(n,"https"),iu(n)),function(e,t){var n=new ps;if(jo.Image){var r=new Image;r.onload=Bo(Au,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bo(Au,n,r,"TestLoadImage: error",!1,t),r.onabort=Bo(Au,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bo(Au,n,r,"TestLoadImage: timeout",!1,t),jo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Es(2);e.H=0,e.h&&e.h.za(t),vc(e),nc(e)}function vc(e){if(e.H=0,e.ma=[],e.h){var t=Tu(e.i);0==t.length&&0==e.j.length||(Jo(e.ma,t),Jo(e.ma,e.j),e.i.i.length=0,Ko(e.j),e.j.length=0),e.h.ya()}}function mc(e,t,n){var r=n instanceof qs?$s(n):new qs(n);if(""!=r.g)t&&(r.g=t+"."+r.g),tu(r,r.m);else{var i=jo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new qs(null);r&&eu(o,r),t&&(o.g=t),i&&tu(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ru(r,n,t),ru(r,"VER",e.ra),oc(e,r),r}function gc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Vu(new Nu({ob:!0})):new Vu(e.va)).Oa(e.J),t}function yc(){}function bc(){if(aa&&!(10<=Number(ma)))throw Error("Environmental error: no available transport.")}function wc(e,t){Wa.call(this),this.g=new $u(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!$o(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$o(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _c(this)}function Ec(e){As.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kc(){Ns.call(this),this.status=1}function _c(e){this.g=e}function Sc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function xc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Po=Vu.prototype).Oa=function(e){this.M=e},Po.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rs.g(),this.C=this.u?Ts(this.u):Ts(Rs),this.g.onreadystatechange=Xo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Uu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,a=l(r.keys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(h){a.e(h)}finally{a.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=jo.FormData&&e instanceof jo.FormData,!(0<=zo(Wu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=l(n);try{for(c.s();!(u=c.n()).done;){var d=y(u.value,2),f=d[0],p=d[1];this.g.setRequestHeader(f,p)}}catch(h){c.e(h)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yu(this),0<this.B&&((this.L=function(e){return aa&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xo(this.ua,this)):this.A=as(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Uu(this,s)}},Po.ua=function(){"undefined"!=typeof Do&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ua(this,"timeout"),this.abort(8))},Po.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ua(this,"complete"),Ua(this,"abort"),Hu(this))},Po.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hu(this,!0)),Vu.$.N.call(this)},Po.La=function(){this.s||(this.G||this.v||this.l?Bu(this):this.kb())},Po.kb=function(){Bu(this)},Po.isActive=function(){return!!this.g},Po.da=function(){try{return 2<zu(this)?this.g.status:-1}catch(lw){return-1}},Po.ja=function(){try{return this.g?this.g.responseText:""}catch(lw){return""}},Po.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fu(t)}},Po.Ia=function(){return this.m},Po.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Po=$u.prototype).ra=8,Po.H=1,Po.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ls(this,this.l,e),n=this.s;if(this.U&&(n?xa(n=Sa(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var o=this.j[i];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ac(this,t,r),ru(i=$s(this.I),"RID",e),ru(i,"CVER",22),this.F&&ru(i,"X-HTTP-Session-Id",this.F),oc(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ju(n)))+"&"+r:this.o&&Qu(i,this.o,n)),Cu(this.i,t),this.bb&&ru(i,"TYPE","init"),this.P?(ru(i,"$req",r),ru(i,"SID","null"),t.aa=!0,Vs(t,i,null)):Vs(t,i,r),this.H=2}}else 3==this.H&&(e?ic(this,e):0==this.j.length||ku(this.i)||ic(this))},Po.Ma=function(){if(this.u=null,lc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_s(Xo(this.jb,this),e)}},Po.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Es(10),tc(this),lc(this))},Po.ib=function(){null!=this.v&&(this.v=null,tc(this),uc(this),Es(19))},Po.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Es(2)):(this.l.info("Failed to ping google.com"),Es(1))},Po.isActive=function(){return!!this.h&&this.h.isActive(this)},(Po=yc.prototype).Ba=function(){},Po.Aa=function(){},Po.za=function(){},Po.ya=function(){},Po.isActive=function(){return!0},Po.Va=function(){},bc.prototype.g=function(e,t){return new wc(e,t)},Ho(wc,Wa),wc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Es(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=mc(e,null,e.Y),rc(e)},wc.prototype.close=function(){ec(this.g)},wc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ba(e),e=n);t.j.push(new bu(t.fb++,e)),3==t.H&&rc(t)},wc.prototype.N=function(){this.g.h=null,delete this.j,ec(this.g),delete this.g,wc.$.N.call(this)},Ho(Ec,As),Ho(kc,Ns),Ho(_c,yc),_c.prototype.Ba=function(){Ua(this.g,"a")},_c.prototype.Aa=function(e){Ua(this.g,new Ec(e))},_c.prototype.za=function(e){Ua(this.g,new kc)},_c.prototype.ya=function(){Ua(this.g,"b")},Ho(Sc,(function(){this.blockSize=-1})),Sc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Cc(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Cc(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Cc(this,r),i=0;break}}this.h=i,this.i+=t},Sc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Tc={};function Ic(e){return-128<=e&&128>e?function(e,t){var n=Tc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new xc([0|e],0>e?-1:0)})):new xc([0|e],0>e?-1:0)}function Rc(e){if(isNaN(e)||!isFinite(e))return Ac;if(0>e)return Dc(Rc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Oc;return new xc(t,0)}var Oc=4294967296,Ac=Ic(0),Nc=Ic(1),Pc=Ic(16777216);function Lc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Mc(e){return-1==e.h}function Dc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new xc(n,~e.h).add(Nc)}function jc(e,t){return e.add(Dc(t))}function Fc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vc(e,t){this.g=e,this.h=t}function Zc(e,t){if(Lc(t))throw Error("division by zero");if(Lc(e))return new Vc(Ac,Ac);if(Mc(e))return t=Zc(Dc(e),t),new Vc(Dc(t.g),Dc(t.h));if(Mc(t))return t=Zc(e,Dc(t)),new Vc(Dc(t.g),t.h);if(30<e.g.length){if(Mc(e)||Mc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Nc,r=t;0>=r.X(e);)n=Gc(n),r=Gc(r);var i=Wc(n,1),o=Wc(r,1);for(r=Wc(r,2),n=Wc(n,2);!Lc(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Wc(r,1),n=Wc(n,1)}return t=jc(e,i.R(t)),new Vc(i,t)}for(i=Ac;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Rc(n)).R(t);Mc(a)||0<a.X(e);)a=(o=Rc(n-=r)).R(t);Lc(o)&&(o=Nc),i=i.add(o),e=jc(e,a)}return new Vc(i,e)}function Gc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new xc(n,e.h)}function Wc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new xc(i,e.h)}(Po=xc.prototype).ea=function(){if(Mc(this))return-Dc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Oc+r)*t,t*=Oc}return e},Po.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Lc(this))return"0";if(Mc(this))return"-"+Dc(this).toString(e);for(var t=Rc(Math.pow(e,6)),n=this,r="";;){var i=Zc(n,t).g,o=((0<(n=jc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Lc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Po.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Po.X=function(e){return Mc(e=jc(this,e))?-1:Lc(e)?0:1},Po.abs=function(){return Mc(this)?Dc(this):this},Po.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new xc(n,-2147483648&n[n.length-1]?-1:0)},Po.R=function(e){if(Lc(this)||Lc(e))return Ac;if(Mc(this))return Mc(e)?Dc(this).R(Dc(e)):Dc(Dc(this).R(e));if(Mc(e))return Dc(this.R(Dc(e)));if(0>this.X(Pc)&&0>e.X(Pc))return Rc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=a*u,Fc(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Fc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Fc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Fc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new xc(n,0)},Po.gb=function(e){return Zc(this,e).h},Po.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new xc(n,this.h&e.h)},Po.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new xc(n,this.h|e.h)},Po.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new xc(n,this.h^e.h)},bc.prototype.createWebChannel=bc.prototype.g,wc.prototype.send=wc.prototype.u,wc.prototype.open=wc.prototype.m,wc.prototype.close=wc.prototype.close,Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,Cs.COMPLETE="complete",Is.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",Wa.prototype.listen=Wa.prototype.O,Vu.prototype.listenOnce=Vu.prototype.P,Vu.prototype.getLastError=Vu.prototype.Sa,Vu.prototype.getLastErrorCode=Vu.prototype.Ia,Vu.prototype.getStatus=Vu.prototype.da,Vu.prototype.getResponseJson=Vu.prototype.Wa,Vu.prototype.getResponseText=Vu.prototype.ja,Vu.prototype.send=Vu.prototype.ha,Vu.prototype.setWithCredentials=Vu.prototype.Oa,Sc.prototype.digest=Sc.prototype.l,Sc.prototype.reset=Sc.prototype.reset,Sc.prototype.update=Sc.prototype.j,xc.prototype.add=xc.prototype.add,xc.prototype.multiply=xc.prototype.R,xc.prototype.modulo=xc.prototype.gb,xc.prototype.compare=xc.prototype.X,xc.prototype.toNumber=xc.prototype.ea,xc.prototype.toString=xc.prototype.toString,xc.prototype.getBits=xc.prototype.D,xc.fromNumber=Rc,xc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Dc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rc(Math.pow(n,8)),i=Ac,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Rc(Math.pow(n,a)),i=i.R(a).add(Rc(s))):i=(i=i.R(r)).add(Rc(s))}return i};var Uc=Mo.createWebChannelTransport=function(){return new bc},Xc=Mo.getStatEventTarget=function(){return gs()},Bc=Mo.ErrorCode=Ss,Hc=Mo.EventType=Cs,Yc=Mo.Event=vs,zc=Mo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kc=Mo.FetchXmlHttpFactory=Nu,Jc=Mo.WebChannel=Is,Qc=Mo.XhrIo=Vu,qc=Mo.Md5=Sc,$c=Mo.Integer=xc,el="@firebase/firestore",tl=function(){function e(t){p(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tl.UNAUTHENTICATED=new tl(null),tl.GOOGLE_CREDENTIALS=new tl("google-credentials-uid"),tl.FIRST_PARTY=new tl("first-party-uid"),tl.MOCK_USER=new tl("mock-user");var nl="9.23.0",rl=new fe("@firebase/firestore");function il(){return rl.logLevel}function ol(e){if(rl.logLevel<=oe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ul);rl.debug.apply(rl,["Firestore (".concat(nl,"): ").concat(e)].concat(c(i)))}}function al(e){if(rl.logLevel<=oe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ul);rl.error.apply(rl,["Firestore (".concat(nl,"): ").concat(e)].concat(c(i)))}}function sl(e){if(rl.logLevel<=oe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ul);rl.warn.apply(rl,["Firestore (".concat(nl,"): ").concat(e)].concat(c(i)))}}function ul(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nl,") INTERNAL ASSERTION FAILED: ")+e;throw al(t),new Error(t)}function ll(e,t){e||cl()}function dl(e,t){return e}var fl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pl=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(U),hl=v((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vl=v((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ml=function(){function e(){p(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gl=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yl=function(){function e(t){p(this,e),this.t=t,this.currentUser=tl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var r=this,o=this.i,a=function(e){return r.i!==o?(o=r.i,t(e)):Promise.resolve()},s=new hl;this.o=function(){r.i++,r.currentUser=r.u(),s.resolve(),s=new hl,e.enqueueRetryable((function(){return a(r.currentUser)}))};var u=function(){var t=s;e.enqueueRetryable(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(r.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){ol("FirebaseAuthCredentialsProvider","Auth detected"),r.auth=e,r.auth.addAuthTokenListener(r.o),u()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!r.auth){var e=r.t.getImmediate({optional:!0});e?c(e):(ol("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hl)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ol("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ll("string"==typeof n.accessToken),new vl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ll(null===e||"string"==typeof e),new tl(e)}}]),e}(),bl=function(){function e(t,n,r){p(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=tl.FIRST_PARTY,this.g=new Map}return v(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),wl=function(){function e(t,n,r){p(this,e),this.h=t,this.l=n,this.m=r}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new bl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),El=v((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kl=function(){function e(t){p(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ol("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,ol("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ol("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):ol("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ll("string"==typeof t.token),e.T=t.token,new El(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _l(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Sl=function(){function e(){p(this,e)}return v(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=_l(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Cl(e,t){return e<t?-1:e>t?1:0}function xl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Tl=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pl(fl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pl(fl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pl(fl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pl(fl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cl(this.nanoseconds,e.nanoseconds):Cl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Il=function(){function e(t){p(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Tl(0,0))}},{key:"max",value:function(){return new e(new Tl(253402300799,999999999))}}]),e}(),Rl=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&cl(),void 0===r?r=t.length-n:r>t.length-n&&cl(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ol=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new pl(fl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,c(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rl),Al=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nl=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Al.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new pl(fl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new pl(fl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pl(fl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pl(fl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rl),Pl=function(){function e(t){p(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ol.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ol.fromString(t))}},{key:"fromName",value:function(t){return new e(Ol.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ol.emptyPath())}},{key:"comparator",value:function(e,t){return Ol.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ol(t.slice()))}}]),e}(),Ll=v((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ll.UNKNOWN_ID=-1;function Ml(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Il.fromTimestamp(1e9===r?new Tl(n+1,0):new Tl(n,r));return new jl(i,Pl.empty(),t)}function Dl(e){return new jl(e.readTime,e.key,-1)}var jl=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Il.min(),Pl.empty(),-1)}},{key:"max",value:function(){return new e(Il.max(),Pl.empty(),-1)}}]),e}();function Fl(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Pl.comparator(e.documentKey,t.documentKey))?n:Cl(e.largestBatchId,t.largestBatchId)}var Vl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zl=function(){function e(){p(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gl(e){return Wl.apply(this,arguments)}function Wl(){return Wl=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fl.FAILED_PRECONDITION&&t.message===Vl){e.next=2;break}throw t;case 2:ol("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}var Ul=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=l(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),a=0,s=function(){var s=u;n(t[s]).next((function(t){o[s]=t,++a===i&&e(o)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Xl(e){return"IndexedDbTransactionError"===e.name}var Bl=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Hl(e){return null==e}function Yl(e){return 0===e&&1/e==-1/0}function zl(e){return"number"==typeof e&&Number.isInteger(e)&&!Yl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Bl.ct=-1;var Kl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Jl=([].concat(c(Kl),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Ql=Jl;[].concat(Ql,["indexConfiguration","indexState","indexEntries"]);function ql(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $l(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ed(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var td=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||rd.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nd(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nd(this.root,e,this.comparator,!0)}}]),e}(),nd=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rd=function(){function e(t,n,r,i,o){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cl();if(this.right.isRed())throw cl();var e=this.left.check();if(e!==this.right.check())throw cl();return e+(this.isRed()?0:1)}}]),e}();rd.EMPTY=null,rd.RED=!0,rd.BLACK=!1,rd.EMPTY=new(function(){function e(){p(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw cl()}},{key:"value",get:function(){throw cl()}},{key:"color",get:function(){throw cl()}},{key:"left",get:function(){throw cl()}},{key:"right",get:function(){throw cl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var id=function(){function e(t){p(this,e),this.comparator=t,this.data=new td(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new od(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new od(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),od=function(){function e(t){p(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ad=function(){function e(t){p(this,e),this.fields=t,t.sort(Nl.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new id(Nl.comparator),i=l(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(c){i.e(c)}finally{i.f()}var a,s=l(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=l(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return xl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),sd=function(e){E(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return v(n)}(x(Error));var ud=function(e){function t(e){p(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sd("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ud.EMPTY_BYTE_STRING=new ud("");var cd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ld(e){if(ll(!!e),"string"==typeof e){var t=0,n=cd.exec(e);if(ll(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:dd(e.seconds),nanos:dd(e.nanos)}}function dd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fd(e){return"string"==typeof e?ud.fromBase64String(e):ud.fromUint8Array(e)}function pd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hd(e){var t=e.mapValue.fields.__previous_value__;return pd(t)?hd(t):t}function vd(e){var t=ld(e.mapValue.fields.__local_write_time__.timestampValue);return new Tl(t.seconds,t.nanos)}var md=v((function e(t,n,r,i,o,a,s,u,c){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),gd=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pd(e)?4:Pd(e)?9007199254740991:10:cl()}function wd(e,t){if(e===t)return!0;var n=bd(e);if(n!==bd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vd(e).isEqual(vd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ld(e.timestampValue),r=ld(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fd(e.bytesValue).isEqual(fd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dd(e.geoPointValue.latitude)===dd(t.geoPointValue.latitude)&&dd(e.geoPointValue.longitude)===dd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dd(e.integerValue)===dd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=dd(e.doubleValue),r=dd(t.doubleValue);return n===r?Yl(n)===Yl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xl(e.arrayValue.values||[],t.arrayValue.values||[],wd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ql(n)!==ql(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wd(n[i],r[i])))return!1;return!0}(e,t);default:return cl()}}function Ed(e,t){return void 0!==(e.values||[]).find((function(e){return wd(e,t)}))}function kd(e,t){if(e===t)return 0;var n=bd(e),r=bd(t);if(n!==r)return Cl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=dd(e.integerValue||e.doubleValue),r=dd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _d(e.timestampValue,t.timestampValue);case 4:return _d(vd(e),vd(t));case 5:return Cl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fd(e),r=fd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cl(n[i],r[i]);if(0!==o)return o}return Cl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cl(dd(e.latitude),dd(t.latitude));return 0!==n?n:Cl(dd(e.longitude),dd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=kd(n[i],r[i]);if(o)return o}return Cl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===yd.mapValue&&t===yd.mapValue)return 0;if(e===yd.mapValue)return 1;if(t===yd.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Cl(r[a],o[a]);if(0!==s)return s;var u=kd(n[r[a]],i[o[a]]);if(0!==u)return u}return Cl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw cl()}}function _d(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cl(e,t);var n=ld(e),r=ld(t),i=Cl(n.seconds,r.seconds);return 0!==i?i:Cl(n.nanos,r.nanos)}function Sd(e){return Cd(e)}function Cd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ld(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=l(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Cd(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=l(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(Cd(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):cl();var t,n}function xd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Td(e){return!!e&&"integerValue"in e}function Id(e){return!!e&&"arrayValue"in e}function Rd(e){return!!e&&"nullValue"in e}function Od(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ad(e){return!!e&&"mapValue"in e}function Nd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return $l(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Nd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nd(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Pd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ld=function(){function e(t){p(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ad(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nd(t)}},{key:"setAll",value:function(e){var t=this,n=Nl.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Nd(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ad(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return wd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ad(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){$l(t,(function(t,n){return e[t]=n}));var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Nd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Md(e){var t=[];return $l(e.fields,(function(e,n){var r=new Nl([e]);if(Ad(n)){var i=Md(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=l(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else t.push(r)})),new ad(t)}var Dd=function(){function e(t,n,r,i,o,a,s){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Il.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ld.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ld.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Il.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Il.min(),Il.min(),Il.min(),Ld.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Il.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Il.min(),Il.min(),Ld.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Il.min(),Il.min(),Ld.empty(),2)}}]),e}(),jd=v((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function Fd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Pl.comparator(Pl.fromName(a.referenceValue),n.key):kd(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Vd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!wd(e.position[n],t.position[n]))return!1;return!0}var Zd=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function Gd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Wd=v((function e(){p(this,e)})),Ud=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kd(t,this.value)):null!==t&&bd(this.value)===bd(t)&&this.matchesComparison(kd(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cl()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Qd(e,t,r):"array-contains"===t?new tf(e,r):"in"===t?new nf(e,r):"not-in"===t?new rf(e,r):"array-contains-any"===t?new of(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new qd(e,n):new $d(e,n)}}]),n}(Wd),Xd=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return v(n,[{key:"matches",value:function(e){return Bd(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=l(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Wd);function Bd(e){return"and"===e.op}function Hd(e){return Yd(e)&&Bd(e)}function Yd(e){var t,n=l(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Xd)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function zd(e){if(e instanceof Ud)return e.field.canonicalString()+e.op.toString()+Sd(e.value);if(Hd(e))return e.filters.map((function(e){return zd(e)})).join(",");var t=e.filters.map((function(e){return zd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Kd(e,t){return e instanceof Ud?function(e,t){return t instanceof Ud&&e.op===t.op&&e.field.isEqual(t.field)&&wd(e.value,t.value)}(e,t):e instanceof Xd?function(e,t){return t instanceof Xd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Kd(n,t.filters[r])}),!0)}(e,t):void cl()}function Jd(e){return e instanceof Ud?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Sd(e.value))}(e):e instanceof Xd?function(e){return e.op.toString()+" {"+e.getFilters().map(Jd).join(" ,")+"}"}(e):"Filter"}var Qd=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this,e,r,i)).key=Pl.fromName(i.referenceValue),o}return v(n,[{key:"matches",value:function(e){var t=Pl.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ud),qd=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=ef("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ud),$d=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=ef("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ud);function ef(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pl.fromName(e.referenceValue)}))}var tf=function(e){E(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Id(t)&&Ed(t.arrayValue,this.value)}}]),n}(Ud),nf=function(e){E(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ed(this.value.arrayValue,t)}}]),n}(Ud),rf=function(e){E(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ed(this.value.arrayValue,t)}}]),n}(Ud),of=function(e){E(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Id(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ed(t.value.arrayValue,e)}))}}]),n}(Ud),af=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.dt=null}));function sf(e){return new af(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function uf(e){var t=dl(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return zd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Hl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Sd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Sd(e)})).join(",")),t.dt=n}return t.dt}function cf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Kd(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vd(e.startAt,t.startAt)&&Vd(e.endAt,t.endAt)}function lf(e){return Pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var df=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function ff(e,t,n,r,i,o,a,s){return new df(e,t,n,r,i,o,a,s)}function pf(e){return new df(e)}function hf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mf(e){var t,n=l(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function gf(e){return null!==e.collectionGroup}function yf(e){var t=dl(e);if(null===t.wt){t.wt=[];var n=mf(t),r=vf(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Zd(n)),t.wt.push(new Zd(Nl.keyField(),"asc"));else{var i,o=!1,a=l(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(o=!0)}}catch(c){a.e(c)}finally{a.f()}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Zd(Nl.keyField(),u))}}}return t.wt}function bf(e){var t=dl(e);if(!t._t)if("F"===t.limitType)t._t=sf(t.path,t.collectionGroup,yf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=l(yf(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new Zd(o.field,a))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new jd(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new jd(t.startAt.position,t.startAt.inclusive):null;t._t=sf(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function wf(e,t){t.getFirstInequalityField(),mf(e);var n=e.filters.concat([t]);return new df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ef(e,t,n){return new df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kf(e,t){return cf(bf(e),bf(t))&&e.limitType===t.limitType}function _f(e){return"".concat(uf(bf(e)),"|lt:").concat(e.limitType)}function Sf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Jd(e)})).join(", "),"]")),Hl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Sd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Sd(e)})).join(",")),"Target(".concat(t,")")}(bf(e)),"; limitType=").concat(e.limitType,")")}function Cf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=l(yf(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=l(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Fd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Fd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yf(e),t))}(e,t)}function xf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tf(e){return function(t,n){var r,i=!1,o=l(yf(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=If(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function If(e,t,n){var r=e.field.isKeyField()?Pl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kd(r,i):cl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cl()}}var Rf=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var o=y(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){$l(this.inner,(function(t,n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var o=y(r.value,2),a=o[0],s=o[1];e(a,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ed(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Of=new td(Pl.comparator);function Af(){return Of}var Nf=new td(Pl.comparator);function Pf(){for(var e=Nf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.insert(a.key,a)}return e}function Lf(e){var t=Nf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Mf(){return jf()}function Df(){return jf()}function jf(){return new Rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ff=new td(Pl.comparator),Vf=new id(Pl.comparator);function Zf(){for(var e=Vf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var Gf=new id(Cl);function Wf(){return Gf}function Uf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(t)?"-0":t}}function Xf(e){return{integerValue:""+e}}function Bf(e,t){return zl(t)?Xf(t):Uf(e,t)}var Hf=v((function e(){p(this,e),this._=void 0}));function Yf(e,t,n){return e instanceof Jf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pd(t)&&(t=hd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qf?qf(e,t):e instanceof $f?ep(e,t):function(e,t){var n=Kf(e,t),r=np(n)+np(e.gt);return Td(n)&&Td(e.gt)?Xf(r):Uf(e.serializer,r)}(e,t)}function zf(e,t,n){return e instanceof Qf?qf(e,t):e instanceof $f?ep(e,t):n}function Kf(e,t){return e instanceof tp?Td(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Jf=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n)}(Hf),Qf=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Hf);function qf(e,t){var n,r=rp(t),i=l(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return wd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var $f=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Hf);function ep(e,t){var n,r=rp(t),i=l(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!wd(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var tp=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return v(n)}(Hf);function np(e){return dd(e.integerValue||e.doubleValue)}function rp(e){return Id(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ip=v((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),op=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ap(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var sp=v((function e(){p(this,e)}));function up(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wp(e.key,op.none()):new pp(e.key,e.data,op.none());var n,r=e.data,i=Ld.empty(),o=new id(Nl.comparator),a=l(t.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),o=o.add(s)}}}catch(c){a.e(c)}finally{a.f()}return new hp(e.key,i,new ad(o.toArray()),op.none())}function cp(e,t,n){e instanceof pp?function(e,t,n){var r=e.value.clone(),i=mp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hp?function(e,t,n){if(ap(e.precondition,t)){var r=mp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lp(e,t,n,r){return e instanceof pp?function(e,t,n,r){if(!ap(e.precondition,t))return n;var i=e.value.clone(),o=gp(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hp?function(e,t,n,r){if(!ap(e.precondition,t))return n;var i=gp(e.fieldTransforms,r,t),o=t.data;return o.setAll(vp(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ap(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dp(e,t){var n,r=null,i=l(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=Kf(o.transform,a||null);null!=s&&(null===r&&(r=Ld.empty()),r.set(o.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function fp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qf&&t instanceof Qf||e instanceof $f&&t instanceof $f?xl(e.elements,t.elements,wd):e instanceof tp&&t instanceof tp?wd(e.gt,t.gt):e instanceof Jf&&t instanceof Jf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var pp=function(e){E(n,e);var t=S(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sp),hp=function(e){E(n,e);var t=S(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(sp);function vp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function mp(e,t,n){var r=new Map;ll(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,zf(a,s,n[i]))}return r}function gp(e,t,n){var r,i=new Map,o=l(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,u=n.data.field(a.field);i.set(a.field,Yf(s,u,t))}}catch(c){o.e(c)}finally{o.f()}return i}var yp,bp,wp=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sp),Ep=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sp),kp=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&cp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=l(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=lp(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var o,a=l(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(e.key)&&(t=lp(s,e,t,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Df();return this.mutations.forEach((function(i){var o=e.get(i.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=up(a,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Il.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(function(e,t){return fp(e,t)}))&&xl(this.baseMutations,e.baseMutations,(function(e,t){return fp(e,t)}))}}]),e}(),_p=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){ll(t.mutations.length===r.length);for(var i=Ff,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),Sp=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Cp=v((function e(t,n){p(this,e),this.count=t,this.unchangedNames=n}));function xp(e){switch(e){default:return cl();case fl.CANCELLED:case fl.UNKNOWN:case fl.DEADLINE_EXCEEDED:case fl.RESOURCE_EXHAUSTED:case fl.INTERNAL:case fl.UNAVAILABLE:case fl.UNAUTHENTICATED:return!1;case fl.INVALID_ARGUMENT:case fl.NOT_FOUND:case fl.ALREADY_EXISTS:case fl.PERMISSION_DENIED:case fl.FAILED_PRECONDITION:case fl.ABORTED:case fl.OUT_OF_RANGE:case fl.UNIMPLEMENTED:case fl.DATA_LOSS:return!0}}function Tp(e){if(void 0===e)return al("GRPC error has no .code"),fl.UNKNOWN;switch(e){case yp.OK:return fl.OK;case yp.CANCELLED:return fl.CANCELLED;case yp.UNKNOWN:return fl.UNKNOWN;case yp.DEADLINE_EXCEEDED:return fl.DEADLINE_EXCEEDED;case yp.RESOURCE_EXHAUSTED:return fl.RESOURCE_EXHAUSTED;case yp.INTERNAL:return fl.INTERNAL;case yp.UNAVAILABLE:return fl.UNAVAILABLE;case yp.UNAUTHENTICATED:return fl.UNAUTHENTICATED;case yp.INVALID_ARGUMENT:return fl.INVALID_ARGUMENT;case yp.NOT_FOUND:return fl.NOT_FOUND;case yp.ALREADY_EXISTS:return fl.ALREADY_EXISTS;case yp.PERMISSION_DENIED:return fl.PERMISSION_DENIED;case yp.FAILED_PRECONDITION:return fl.FAILED_PRECONDITION;case yp.ABORTED:return fl.ABORTED;case yp.OUT_OF_RANGE:return fl.OUT_OF_RANGE;case yp.UNIMPLEMENTED:return fl.UNIMPLEMENTED;case yp.DATA_LOSS:return fl.DATA_LOSS;default:return cl()}}(bp=yp||(yp={}))[bp.OK=0]="OK",bp[bp.CANCELLED=1]="CANCELLED",bp[bp.UNKNOWN=2]="UNKNOWN",bp[bp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bp[bp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bp[bp.NOT_FOUND=5]="NOT_FOUND",bp[bp.ALREADY_EXISTS=6]="ALREADY_EXISTS",bp[bp.PERMISSION_DENIED=7]="PERMISSION_DENIED",bp[bp.UNAUTHENTICATED=16]="UNAUTHENTICATED",bp[bp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bp[bp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bp[bp.ABORTED=10]="ABORTED",bp[bp.OUT_OF_RANGE=11]="OUT_OF_RANGE",bp[bp.UNIMPLEMENTED=12]="UNIMPLEMENTED",bp[bp.INTERNAL=13]="INTERNAL",bp[bp.UNAVAILABLE=14]="UNAVAILABLE",bp[bp.DATA_LOSS=15]="DATA_LOSS";var Ip=function(){function e(){p(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return v(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Rp}},{key:"getOrCreateInstance",value:function(){return null===Rp&&(Rp=new e),Rp}}]),e}(),Rp=null;function Op(){return new TextEncoder}var Ap=new $c([4294967295,4294967295],0);function Np(e){var t=Op().encode(e),n=new qc;return n.update(t),new Uint8Array(n.digest())}function Pp(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new $c([n,r],0),new $c([i,o],0)]}var Lp=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mp("Invalid padding: ".concat(n));if(r<0)throw new Mp("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Mp("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Mp("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=$c.fromNumber(this.It)}return v(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply($c.fromNumber(n)));return 1===r.compare(Ap)&&(r=new $c([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=y(Pp(Np(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var o=this.Et(n,r,i);if(!this.At(o))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=y(Pp(Np(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var o=this.Et(n,r,i);this.Rt(o)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,o=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return o.insert(e)})),o}}]),e}(),Mp=function(e){E(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return v(n)}(x(Error)),Dp=function(){function e(t,n,r,i,o){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,jp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Il.min(),i,new td(Cl),Af(),Zf())}}]),e}(),jp=function(){function e(t,n,r,i,o){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Zf(),Zf(),Zf())}}]),e}(),Fp=v((function e(t,n,r,i){p(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Vp=v((function e(t,n){p(this,e),this.targetId=t,this.Vt=n})),Zp=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ud.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gp=function(){function e(){p(this,e),this.St=0,this.Dt=Xp(),this.Ct=ud.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return v(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Zf(),t=Zf(),n=Zf();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cl()}})),new jp(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Xp()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Wp=function(){function e(t){p(this,e),this.Gt=t,this.Qt=new Map,this.jt=Af(),this.zt=Up(),this.Wt=new td(Cl)}return v(e,[{key:"Ht",value:function(e){var t,n=l(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,o=l(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.Yt(a,e.key,e.bt)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:cl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var o=i.target;if(lf(o))if(0===r){var a=new Pl(o.path);this.Yt(n,a,Dd.newNoDocument(a,Il.min()))}else ll(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Ip.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var o,a,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,d=void 0===l?0:l,f=r.hashCount,p=void 0===f?0:f;try{o=fd(c).toUint8Array()}catch(e){if(e instanceof sd)return sl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{a=new Lp(o,d,p)}catch(e){return sl(e instanceof Mp?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===a.It?1:i!==t-this.oe(e.targetId,a)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var o=n.Gt.ue(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(r.path.canonicalString());t.vt(a)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var o=t.se(i);if(o){if(r.current&&lf(o.target)){var a=new Pl(o.target.path);null!==t.jt.get(a)||t.ae(i,a)||t.Yt(i,a,Dd.newNoDocument(a,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Zf();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dp(e,n,this.Wt,this.jt,r);return this.jt=Af(),this.zt=Up(),this.Wt=new td(Cl),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Gp,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new id(Cl),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||ol("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Gp),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Up(){return new td(Pl.comparator)}function Xp(){return new td(Pl.comparator)}var Bp={asc:"ASCENDING",desc:"DESCENDING"},Hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yp={and:"AND",or:"OR"},zp=v((function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n}));function Kp(e,t){return e.useProto3Json||Hl(t)?t:{value:t}}function Jp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qp(e,t){return Jp(e,t.toTimestamp())}function $p(e){return ll(!!e),Il.fromTimestamp(function(e){var t=ld(e);return new Tl(t.seconds,t.nanos)}(e))}function eh(e,t){return function(e){return new Ol(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function th(e){var t=Ol.fromString(e);return ll(Eh(t)),t}function nh(e,t){return eh(e.databaseId,t.path)}function rh(e,t){var n=th(t);if(n.get(1)!==e.databaseId.projectId)throw new pl(fl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pl(fl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pl(sh(n))}function ih(e,t){return eh(e.databaseId,t)}function oh(e){var t=th(e);return 4===t.length?Ol.emptyPath():sh(t)}function ah(e){return new Ol(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sh(e){return ll(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uh(e,t,n){return{name:nh(e,t),fields:n.value.mapValue.fields}}function ch(e,t){var n;if(t instanceof pp)n={update:uh(e,t.key,t.value)};else if(t instanceof wp)n={delete:nh(e,t.key)};else if(t instanceof hp)n={update:uh(e,t.key,t.data),updateMask:wh(t.fieldMask)};else{if(!(t instanceof Ep))return cl();n={verify:nh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Jf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $f)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tp)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw cl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cl()}(e,t.precondition)),n}function lh(e,t){return{documents:[ih(e,t.path)]}}function dh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ih(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ih(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return bh(Xd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gh(e.field),direction:hh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=Kp(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fh(e){var t=oh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ll(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function(e){var t=ph(e);return t instanceof Xd&&Hd(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Zd(yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Hl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new jd(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new jd(n,t)}(n.endAt)),ff(t,i,s,a,u,"F",c,l)}function ph(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yh(e.unaryFilter.field);return Ud.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yh(e.unaryFilter.field);return Ud.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yh(e.unaryFilter.field);return Ud.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yh(e.unaryFilter.field);return Ud.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cl()}}(e):void 0!==e.fieldFilter?function(e){return Ud.create(yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xd.create(e.compositeFilter.filters.map((function(e){return ph(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cl()}}(e.compositeFilter.op))}(e):cl()}function hh(e){return Bp[e]}function vh(e){return Hp[e]}function mh(e){return Yp[e]}function gh(e){return{fieldPath:e.canonicalString()}}function yh(e){return Nl.fromServerFormat(e.fieldPath)}function bh(e){return e instanceof Ud?function(e){if("=="===e.op){if(Od(e.value))return{unaryFilter:{field:gh(e.field),op:"IS_NAN"}};if(Rd(e.value))return{unaryFilter:{field:gh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Od(e.value))return{unaryFilter:{field:gh(e.field),op:"IS_NOT_NAN"}};if(Rd(e.value))return{unaryFilter:{field:gh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gh(e.field),op:vh(e.op),value:e.value}}}(e):e instanceof Xd?function(e){var t=e.getFilters().map((function(e){return bh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:mh(e.op),filters:t}}}(e):cl()}function wh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Eh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var kh=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Il.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Il.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ud.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),_h=v((function e(t){p(this,e),this.fe=t}));function Sh(e){var t=fh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ef(t,t.limit,"L"):t}var Ch=function(){function e(){p(this,e)}return v(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(dd(e.integerValue));else if("doubleValue"in e){var n=dd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Yl(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(fd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Pd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):cl()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.Te(o,t),this.me(n[o],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.me(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Pl.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();Ch.Ve=new Ch;var xh=function(){function e(){p(this,e),this.rn=new Th}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Ul.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ul.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ul.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ul.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ul.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ul.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ul.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ul.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ul.resolve(jl.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ul.resolve(jl.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ul.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ul.resolve()}}]),e}(),Th=function(){function e(){p(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new id(Ol.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new id(Ol.comparator)).toArray()}}]),e}();new Uint8Array(0);var Ih=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Ih.DEFAULT_COLLECTION_PERCENTILE=10,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ih.DEFAULT=new Ih(41943040,Ih.DEFAULT_COLLECTION_PERCENTILE,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ih.DISABLED=new Ih(-1,0,0);var Rh=function(){function e(t){p(this,e),this.Nn=t}return v(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}();var Oh=function(){function e(){p(this,e),this.changes=new Rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ul.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Ah=v((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Nh=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&lp(r.mutation,e,ad.empty(),Tl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Zf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zf(),i=Mf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Pf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Mf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Zf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Af(),o=jf(),a=jf();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof hp)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),lp(a.mutation,t,a.mutation.getFieldMask(),Tl.now())):o.set(t.key,ad.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new Ah(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=jf(),i=new td((function(e,t){return e-t})),o=Zf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=l(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var a=r.get(n)||ad.empty();a=e.applyToLocalView(o,a),r.set(n,a);var s=(i.get(e.batchId)||Zf()).add(n);i=i.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Df();c.forEach((function(e){if(!o.has(e)){var n=up(t.get(e),r.get(e));null!==n&&l.set(e,n),o=o.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Ul.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var a=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Ul.resolve(Mf()),s=-1,u=o;return a.next((function(t){return Ul.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?Ul.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,u,t,Zf())})).next((function(e){return{batchId:s,changes:Lf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Pl(t)).next((function(e){var t=Pf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,o=Pf();return this.indexManager.getCollectionParents(e,i).next((function(a){return Ul.forEach(a,(function(a){var s=function(e,t){return new df(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return r=o,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dd.newInvalidDocument(r)))}));var n=Pf();return e.forEach((function(e,i){var o=r.get(e);void 0!==o&&lp(o.mutation,i,ad.empty(),Tl.now()),Cf(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ph=function(){function e(t){p(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Ul.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:$p(n.createTime)}),Ul.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ul.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Sh(e.bundledQuery),readTime:$p(e.readTime)}}(t)),Ul.resolve()}}]),e}(),Lh=function(){function e(){p(this,e),this.overlays=new td(Pl.comparator),this.ls=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return Ul.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mf();return Ul.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Ul.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Ul.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mf(),i=t.length+1,o=new Pl(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ul.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new td((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var s=i.get(a.largestBatchId);null===s&&(s=Mf(),i=i.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=Mf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ul.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Sp(t,n));var o=this.ls.get(t);void 0===o&&(o=Zf(),this.ls.set(t,o)),this.ls.set(t,o.add(n.key))}}]),e}(),Mh=function(){function e(){p(this,e),this.fs=new id(Dh.ds),this.ws=new id(Dh._s)}return v(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Dh(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Dh(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Pl(new Ol([])),r=new Dh(n,e),i=new Dh(n,e+1),o=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),o.push(e.key)})),o}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Pl(new Ol([])),n=new Dh(t,e),r=new Dh(t,e+1),i=Zf();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Dh(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Dh=function(){function e(t,n){p(this,e),this.key=t,this.As=n}return v(e,null,[{key:"ds",value:function(e,t){return Pl.comparator(e.key,t.key)||Cl(e.As,t.As)}},{key:"_s",value:function(e,t){return Cl(e.As,t.As)||Pl.comparator(e.key,t.key)}}]),e}(),jh=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new id(Dh.ds)}return v(e,[{key:"checkEmpty",value:function(e){return Ul.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new kp(i,t,n,r);this.mutationQueue.push(o);var a,s=l(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.Rs=this.Rs.add(new Dh(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ul.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return Ul.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Ul.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ul.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Ul.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Dh(t,0),i=new Dh(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);o.push(t)})),Ul.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new id(Cl);return t.forEach((function(e){var t=new Dh(e,0),i=new Dh(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Ul.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pl.isDocumentKey(i)||(i=i.child(""));var o=new Dh(new Pl(i),0),a=new id(Cl);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),Ul.resolve(this.Vs(a))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ll(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Ul.forEach(t.mutations,(function(i){var o=new Dh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Dh(t,0),r=this.Rs.firstAfterOrEqual(n);return Ul.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ul.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Fh=function(){function e(t){p(this,e),this.Ds=t,this.docs=new td(Pl.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ul.resolve(n?n.document.mutableCopy():Dd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Af();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dd.newInvalidDocument(e))})),Ul.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Af(),o=t.path,a=new Pl(o.child("")),s=this.docs.getIteratorFrom(a);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Fl(Dl(l),n)<=0||(r.has(l.key)||Cf(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ul.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cl()}},{key:"Cs",value:function(e,t){return Ul.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Vh(this)}},{key:"getSize",value:function(e){return Ul.resolve(this.size)}}]),e}(),Vh=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).os=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Ul.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Oh),Zh=function(){function e(t){p(this,e),this.persistence=t,this.xs=new Rf((function(e){return uf(e)}),cf),this.lastRemoteSnapshotVersion=Il.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mh,this.targetCount=0,this.Ms=Rh.kn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Ul.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ul.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ul.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Ul.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ul.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Rh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Ul.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Ul.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ul.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.xs.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ul.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ul.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Ul.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Ul.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ul.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Ul.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Ul.resolve(n)}},{key:"containsKey",value:function(e,t){return Ul.resolve(this.ks.containsKey(t))}}]),e}(),Gh=function(){function e(t,n){var r=this;p(this,e),this.$s={},this.overlays={},this.Os=new Bl(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Zh(this),this.indexManager=new xh,this.remoteDocumentCache=new Fh((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new _h(n),this.qs=new Ph(this.serializer)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Lh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new jh(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;ol("MemoryPersistence","Starting transaction:",e);var i=new Wh(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Ul.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Wh=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(Zl),Uh=function(){function e(t){p(this,e),this.persistence=t,this.Qs=new Mh,this.js=null}return v(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw cl()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ul.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ul.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Ul.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ul.forEach(this.Ws,(function(r){var i=Pl.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Il.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Ul.or([function(){return Ul.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}();var Xh=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return v(e,null,[{key:"Li",value:function(t,n){var r,i=Zf(),o=Zf(),a=l(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),Bh=function(){function e(){p(this,e),this.qi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(o){return o||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(hf(t))return Ul.resolve(null);var r=bf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ef(t,null,"F"),r=bf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=Zf.apply(void 0,c(i));return n.Ui.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.ji(t,i);return n.zi(t,a,o,r.readTime)?n.Ki(e,Ef(t,null,"F")):n.Wi(e,a,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return hf(t)||r.isEqual(Il.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(o){var a=i.ji(t,o);return i.zi(t,a,n,r)?i.Qi(e,t):(il()<=oe.DEBUG&&ol("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sf(t)),i.Wi(e,a,t,Ml(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new id(Tf(e));return t.forEach((function(t,r){Cf(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return il()<=oe.DEBUG&&ol("QueryEngine","Using full collection scan to execute query:",Sf(t)),this.Ui.getDocumentsMatchingQuery(e,t,jl.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hh=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new td(Cl),this.Yi=new Rf((function(e){return uf(e)}),cf),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return v(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Yh(e,t,n,r){return new Hh(e,t,n,r)}function zh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dl(t),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.mutationQueue.getAllMutationBatches(e).next((function(n){return t=n,i.tr(r),i.mutationQueue.getAllMutationBatches(e)})).next((function(n){var r,o=[],a=[],s=Zf(),u=l(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;o.push(c.batchId);var d,f=l(c.mutations);try{for(f.s();!(d=f.n()).done;){var p=d.value;s=s.add(p.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var h,v=l(n);try{for(v.s();!(h=v.n()).done;){var m=h.value;a.push(m.batchId);var g,y=l(m.mutations);try{for(y.s();!(g=y.n()).done;){var b=g.value;s=s.add(b.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){v.e(w)}finally{v.f()}return i.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Jh(e,t){var n=dl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Ul.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);ll(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Zf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Qh(e){var t=dl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function qh(e,t){var n=dl(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var a=[];t.targetChanges.forEach((function(o,s){var u=i.get(s);if(u){a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,o.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ud.EMPTY_BYTE_STRING,Il.min()).withLastLimboFreeSnapshotVersion(Il.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,o)&&a.push(n.Bs.updateTargetData(e,c))}}));var s=Af(),u=Zf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push($h(e,o,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Il.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return Ul.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function $h(e,t,n){var r=Zf(),i=Zf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Af();return n.forEach((function(n,o){var a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Il.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ol("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function ev(e,t){var n=dl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function tv(e,t){var n=dl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Ul.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new kh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function nv(e,t,n){return rv.apply(this,arguments)}function rv(){return rv=i(n().mark((function e(t,r,i){var o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=dl(t),a=o.Ji.get(r),s=i?"readwrite":"readwrite-primary",e.prev=1,e.t0=i,e.t0){e.next=6;break}return e.next=6,o.persistence.runTransaction("Release target",s,(function(e){return o.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xl(e.t1)){e.next=12;break}throw e.t1;case 12:ol("LocalStore","Failed to update sequence numbers for target ".concat(r,": ").concat(e.t1));case 13:o.Ji=o.Ji.remove(r),o.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rv.apply(this,arguments)}function iv(e,t,n){var r=dl(e),i=Il.min(),o=Zf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dl(e),i=r.Yi.get(n);return void 0!==i?Ul.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,bf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Il.min(),n?o:Zf())})).next((function(e){return ov(r,xf(t),e),{documents:e,ir:o}}))}))}function ov(e,t,n){var r=e.Xi.get(t)||Il.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}var av=function(){function e(){p(this,e),this.activeTargetIds=Wf()}return v(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),sv=function(){function e(){p(this,e),this.Hr=new av,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new av,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uv=function(){function e(){p(this,e)}return v(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),cv=function(){function e(){var t=this;p(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return v(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){ol("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=l(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){ol("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=l(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),lv=null;function dv(){return null===lv?lv=268435456+Math.round(2147483648*Math.random()):lv++,"0x"+lv.toString(16)}var fv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},pv=function(){function e(t){p(this,e),this.ro=t.ro,this.oo=t.oo}return v(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),hv="WebChannelConnection",vv=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return v(n,[{key:"Ao",value:function(e,t,n,r){var i=dv();return new Promise((function(o,a){var s=new Qc;s.setWithCredentials(!0),s.listenOnce(Hc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Bc.NO_ERROR:var t=s.getResponseJson();ol(hv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Bc.TIMEOUT:ol(hv,"RPC '".concat(e,"' ").concat(i," timed out")),a(new pl(fl.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:var n=s.getStatus();if(ol(hv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fl).indexOf(t)>=0?t:fl.UNKNOWN}(u.status);a(new pl(c,u.message))}else a(new pl(fl.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new pl(fl.UNAVAILABLE,"Connection failed."));break;default:cl()}}finally{ol(hv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);ol(hv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=dv(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uc(),a=Xc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Kc({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");ol(hv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=o.createWebChannel(c,s),d=!1,f=!1,p=new pv({ro:function(t){f?ol(hv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ol(hv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),d=!0),ol(hv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(l,Jc.EventType.OPEN,(function(){f||ol(hv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),h(l,Jc.EventType.CLOSE,(function(){f||(f=!0,ol(hv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.wo())})),h(l,Jc.EventType.ERROR,(function(t){f||(f=!0,sl(hv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.wo(new pl(fl.UNAVAILABLE,"The operation could not be completed")))})),h(l,Jc.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];ll(!!i);var o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){ol(hv,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);var s=a.status,u=function(e){var t=yp[e];if(void 0!==t)return Tp(t)}(s),c=a.message;void 0===u&&(u=fl.INTERNAL,c="Unknown error status: "+s+" with message "+a.message),f=!0,p.wo(new pl(u,c)),l.close()}else ol(hv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p._o(i)}})),h(a,Yc.STAT_EVENT,(function(t){t.stat===zc.PROXY?ol(hv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===zc.NOPROXY&&ol(hv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){p.fo()}),0),p}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var o=dv(),a=this.To(e,t);ol("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);var s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((function(t){return ol("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t}),(function(t){throw sl("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=fv[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function mv(){return"undefined"!=typeof document?document:null}function gv(e){return new zp(e,!0)}var yv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ol("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),bv=function(){function e(t,n,r,i,o,a,s,u){p(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new yv(t,n)}return v(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():r&&r.code===fl.RESOURCE_EXHAUSTED?(al(r.toString()),al("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):r&&r.code===fl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=y(t,2),i=r[0],o=r[1];e.Fo===n&&e.Zo(i,o)}),(function(n){t((function(){var t=new pl(fl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return ol("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(ol("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wv=function(e){E(n,e);var t=S(n);function n(e,r,i,o,a,s){var u;return p(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).serializer=a,u}return v(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ll(void 0===t||"string"==typeof t),ud.fromBase64String(t||"")):(ll(void 0===t||t instanceof Uint8Array),ud.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?fl.UNKNOWN:Tp(e.code);return new pl(t,e.message||"")}(a);n=new Zp(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=rh(e,u.document.name),l=$p(u.document.updateTime),d=u.document.createTime?$p(u.document.createTime):Il.min(),f=new Ld({mapValue:{fields:u.document.fields}}),p=Dd.newFoundDocument(c,l,d,f),h=u.targetIds||[],v=u.removedTargetIds||[];n=new Fp(h,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=rh(e,m.document),y=m.readTime?$p(m.readTime):Il.min(),b=Dd.newNoDocument(g,y),w=m.removedTargetIds||[];n=new Fp([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var E=t.documentRemove;E.document;var k=rh(e,E.document),_=E.removedTargetIds||[];n=new Fp([],_,k,null)}else{if(!("filter"in t))return cl();t.filter;var S=t.filter;S.targetId;var C=S.count,x=void 0===C?0:C,T=S.unchangedNames,I=new Cp(x,T),R=S.targetId;n=new Vp(R,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Il.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Il.min():t.readTime?$p(t.readTime):Il.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=ah(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=lf(r)?{documents:lh(e,r)}:{query:dh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qp(e,t.resumeToken);var i=Kp(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Il.min())>0){n.readTime=Jp(e,t.snapshotVersion.toTimestamp());var o=Kp(e,t.expectedCount);null!==o&&(n.expectedCount=o)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=ah(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(bv),Ev=function(e){E(n,e);var t=S(n);function n(e,r,i,o,a,s){var u;return p(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).serializer=a,u.ru=!1,u}return v(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,ht(k(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(ll(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(ll(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$p(e.updateTime):$p(t);return n.isEqual(Il.min())&&(n=$p(t)),new ip(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$p(e.commitTime);return this.listener.cu(n,t)}return ll(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=ah(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ch(t.serializer,e)}))};this.Wo(n)}}]),n}(bv),kv=function(e){E(n,e);var t=S(n);function n(e,r,i,o){var a;return p(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.connection=i,a.serializer=o,a.lu=!1,a}return v(n,[{key:"fu",value:function(){if(this.lu)throw new pl(fl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=y(i,2),a=o[0],s=o[1];return r.connection.Io(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pl(fl.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=y(o,2),s=a[0],u=a[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fl.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new pl(fl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return v((function e(){p(this,e)}))}());var _v=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return v(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(al(t),this.mu=!1):ol("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Sv=v((function e(t,r,o,a,s){var u=this;p(this,e),this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr((function(e){o.enqueueAndForget(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Mv(u),!e.t0){e.next=5;break}return ol("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=dl(t)).vu.add(4),e.next=4,Tv(r);case 4:return r.bu.set("Unknown"),r.vu.delete(4),e.next=8,Cv(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new _v(o,a)}));function Cv(e){return xv.apply(this,arguments)}function xv(){return xv=i(n().mark((function e(t){var r,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mv(t)){e.next=18;break}r=l(t.Ru),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,o(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),xv.apply(this,arguments)}function Tv(e){return Iv.apply(this,arguments)}function Iv(){return Iv=i(n().mark((function e(t){var r,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l(t.Ru),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return o=i.value,e.next=7,o(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Iv.apply(this,arguments)}function Rv(e,t){var n=dl(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Lv(n)?Pv(n):lm(n).Ko()&&Av(n,t))}function Ov(e,t){var n=dl(e),r=lm(n);n.Au.delete(t),r.Ko()&&Nv(n,t),0===n.Au.size&&(r.Ko()?r.jo():Mv(n)&&n.bu.set("Unknown"))}function Av(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Il.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lm(e).su(t)}function Nv(e,t){e.Vu.qt(t),lm(e).iu(t)}function Pv(e){e.Vu=new Wp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),lm(e).start(),e.bu.gu()}function Lv(e){return Mv(e)&&!lm(e).Uo()&&e.Au.size>0}function Mv(e){return 0===dl(e).vu.size}function Dv(e){e.Vu=void 0}function jv(e){return Fv.apply(this,arguments)}function Fv(){return Fv=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){Av(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Vv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dv(t),Lv(t)?(t.bu.Iu(r),Pv(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function Gv(e,t,n){return Wv.apply(this,arguments)}function Wv(){return Wv=i(n().mark((function e(t,r,o){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(r instanceof Zp&&2===r.state&&r.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=i(n().mark((function e(t,r){var i,o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.cause,o=l(r.targetIds),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=14;break}if(s=a.value,e.t0=t.Au.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,i);case 10:t.Au.delete(s),t.Vu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),o.e(e.t1);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ol("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),e.t0),e.next=11,Uv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(r instanceof Fp?t.Vu.Ht(r):r instanceof Vp?t.Vu.ne(r):t.Vu.Xt(r),o.isEqual(Il.min())){e.next=29;break}return e.prev=14,e.next=17,Qh(t.localStore);case 17:if(a=e.sent,e.t1=o.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(ud.EMPTY_BYTE_STRING,r.snapshotVersion)),Nv(e,t);var i=new kh(r.target,t,n,r.sequenceNumber);Av(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,o);case 24:return e.prev=24,e.t2=e.catch(14),ol("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Uv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Wv.apply(this,arguments)}function Uv(e,t,n){return Xv.apply(this,arguments)}function Xv(){return Xv=i(n().mark((function e(t,r,o){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl(r)){e.next=2;break}throw r;case 2:return t.vu.add(1),e.next=5,Tv(t);case 5:t.bu.set("Offline"),o||(o=function(){return Qh(t.localStore)}),t.asyncQueue.enqueueRetryable(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ol("RemoteStore","Retrying IndexedDB access"),e.next=3,o();case 3:return t.vu.delete(1),e.next=6,Cv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function Bv(e,t){return t().catch((function(n){return Uv(e,n,t)}))}function Hv(e){return Yv.apply(this,arguments)}function Yv(){return Yv=i(n().mark((function e(t){var r,i,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=dl(t),i=dm(r),o=r.Eu.length>0?r.Eu[r.Eu.length-1].batchId:-1;case 2:if(!zv(r)){e.next=19;break}return e.prev=3,e.next=6,ev(r.localStore,o);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===r.Eu.length&&i.jo(),e.abrupt("break",19);case 10:o=a.batchId,Kv(r,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Uv(r,e.t0);case 17:e.next=2;break;case 19:Jv(r)&&Qv(r);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Yv.apply(this,arguments)}function zv(e){return Mv(e)&&e.Eu.length<10}function Kv(e,t){e.Eu.push(t);var n=dm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Jv(e){return Mv(e)&&!dm(e).Uo()&&e.Eu.length>0}function Qv(e){dm(e).start()}function qv(e){return $v.apply(this,arguments)}function $v(){return $v=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dm(t).hu();case 1:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function em(e){return tm.apply(this,arguments)}function tm(){return tm=i(n().mark((function e(t){var r,i,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=dm(t),i=l(t.Eu);try{for(i.s();!(o=i.n()).done;)a=o.value,r.uu(a.mutations)}catch(n){i.e(n)}finally{i.f()}case 3:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t,n){return rm.apply(this,arguments)}function rm(){return rm=i(n().mark((function e(t,r,i){var o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.Eu.shift(),a=_p.from(o,r,i),e.next=3,Bv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Hv(t);case 5:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(e,t){return om.apply(this,arguments)}function om(){return om=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&dm(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=i(n().mark((function e(t,r){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xp(o=r.code)||o===fl.ABORTED){e.next=7;break}return i=t.Eu.shift(),dm(t).Qo(),e.next=5,Bv(t,(function(){return t.remoteSyncer.rejectFailedWrite(i.batchId,r)}));case 5:return e.next=7,Hv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 4:Jv(t)&&Qv(t);case 5:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function am(e,t){return sm.apply(this,arguments)}function sm(){return sm=i(n().mark((function e(t,r){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=dl(t)).asyncQueue.verifyOperationInProgress(),ol("RemoteStore","RemoteStore received new credentials"),o=Mv(i),i.vu.add(3),e.next=6,Tv(i);case 6:return o&&i.bu.set("Unknown"),e.next=9,i.remoteSyncer.handleCredentialChange(r);case 9:return i.vu.delete(3),e.next=12,Cv(i);case 12:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(e,t){return cm.apply(this,arguments)}function cm(){return cm=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dl(t),!r){e.next=7;break}return i.vu.delete(2),e.next=5,Cv(i);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return i.vu.add(2),e.next=12,Tv(i);case 12:i.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function lm(e){return e.Su||(e.Su=function(e,t,n){var r=dl(e);return r.fu(),new wv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:jv.bind(null,e),ao:Vv.bind(null,e),nu:Gv.bind(null,e)}),e.Ru.push(function(){var t=i(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}e.Su.Qo(),Lv(e)?Pv(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Dv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function dm(e){return e.Du||(e.Du=function(e,t,n){var r=dl(e);return r.fu(),new Ev(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:qv.bind(null,e),ao:im.bind(null,e),au:em.bind(null,e),cu:nm.bind(null,e)}),e.Ru.push(function(){var t=i(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.Du.Qo(),t.next=4,Hv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(ol("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var fm=function(){function e(t,n,r,i,o){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pl(fl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function pm(e,t){if(al("AsyncQueue","".concat(t,": ").concat(e)),Xl(e))return new pl(fl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var hm=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||Pl.comparator(e.key,n.key)}:function(e,t){return Pl.comparator(e.key,t.key)},this.keyedMap=Pf(),this.sortedSet=new td(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vm=function(){function e(){p(this,e),this.Cu=new td(Pl.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):cl():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),mm=function(){function e(t,n,r,i,o,a,s,u,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,o){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,hm.emptySet(n),a,r,i,!0,!1,o)}}]),e}(),gm=v((function e(){p(this,e),this.Nu=void 0,this.listeners=[]})),ym=v((function e(){p(this,e),this.queries=new Rf((function(e){return _f(e)}),kf),this.onlineState="Unknown",this.ku=new Set}));function bm(e,t){return wm.apply(this,arguments)}function wm(){return wm=i(n().mark((function e(t,r){var i,o,a,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dl(t),o=r.query,a=!1,(s=i.queries.get(o))||(a=!0,s=new gm),!a){e.next=13;break}return e.prev=3,e.next=6,i.onListen(o);case 6:s.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=pm(e.t0,"Initialization of query '".concat(Sf(r.query),"' failed")),e.abrupt("return",void r.onError(u));case 13:i.queries.set(o,s),s.listeners.push(r),r.Mu(i.onlineState),s.Nu&&r.$u(s.Nu)&&Cm(i);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),wm.apply(this,arguments)}function Em(e,t){return km.apply(this,arguments)}function km(){return km=i(n().mark((function e(t,r){var i,o,a,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dl(t),o=r.query,a=!1,(s=i.queries.get(o))&&(u=s.listeners.indexOf(r))>=0&&(s.listeners.splice(u,1),a=0===s.listeners.length),!a){e.next=6;break}return e.abrupt("return",(i.queries.delete(o),i.onUnlisten(o)));case 6:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function _m(e,t){var n,r=dl(e),i=!1,o=l(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=r.queries.get(s);if(u){var c,d=l(u.listeners);try{for(d.s();!(c=d.n()).done;){c.value.$u(a)&&(i=!0)}}catch(f){d.e(f)}finally{d.f()}u.Nu=a}}}catch(f){o.e(f)}finally{o.f()}i&&Cm(r)}function Sm(e,t,n){var r=dl(e),i=r.queries.get(t);if(i){var o,a=l(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function Cm(e){e.ku.forEach((function(e){e.next()}))}var xm=function(){function e(t,n,r){p(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=l(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new mm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),o=!0):this.qu(e,this.onlineState)&&(this.Uu(e),o=!0),this.Bu=e,o}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var Tm=v((function e(t){p(this,e),this.key=t})),Im=v((function e(t){p(this,e),this.key=t})),Rm=function(){function e(t,n){p(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zf(),this.mutatedKeys=Zf(),this.tc=Tf(t),this.ec=new hm(this.tc)}return v(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new vm,i=t?t.ec:this.ec,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),d=Cf(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),h=!1;l&&d?l.data.isEqual(d.data)?f!==p&&(r.track({type:3,doc:d}),h=!0):n.rc(l,d)||(r.track({type:2,doc:d}),h=!0,(u&&n.tc(d,u)>0||c&&n.tc(d,c)<0)&&(s=!0)):!l&&d?(r.track({type:0,doc:d}),h=!0):l&&!d&&(r.track({type:1,doc:l}),h=!0,(u||c)&&(s=!0)),h&&(d?(a=a.add(d),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:a,ic:r,zi:s,mutatedKeys:o}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var o=e.ic.xu();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cl()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var a=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==o.length||u?{snapshot:new mm(this.query,e.ec,i,o,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Zf(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new Im(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new Tm(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Zf();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return mm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),Om=v((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),Am=v((function e(t){p(this,e),this.key=t,this.fc=!1})),Nm=function(){function e(t,n,r,i,o,a){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Rf((function(e){return _f(e)}),kf),this._c=new Map,this.mc=new Set,this.gc=new td(Pl.comparator),this.yc=new Map,this.Ic=new Mh,this.Tc={},this.Ec=new Map,this.Ac=Rh.Mn(),this.onlineState="Unknown",this.vc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function Pm(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=i(n().mark((function e(t,r){var i,o,a,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ug(t),!(s=i.wc.get(r))){e.next=6;break}o=s.targetId,i.sharedClientState.addLocalQueryTarget(o),a=s.view.lc(),e.next=15;break;case 6:return e.next=8,tv(i.localStore,bf(r));case 8:return u=e.sent,c=i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.targetId,e.next=13,Mm(i,r,o,"current"===c,u.resumeToken);case 13:a=e.sent,i.isPrimaryClient&&Rv(i.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Mm(e,t,n,r,i){return Dm.apply(this,arguments)}function Dm(){return Dm=i(n().mark((function e(t,r,o,a,s){var u,c,l,d,f,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,r,o){return function(){var e=i(n().mark((function e(t,r,i,o){var a,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.view.sc(i),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,iv(t.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.sc(t,a)}));case 5:a=e.sent;case 6:return s=o&&o.targetChanges.get(r.targetId),u=r.view.applyChanges(a,t.isPrimaryClient,s),e.abrupt("return",(eg(t,r.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,r,o)},e.next=3,iv(t.localStore,r,!0);case 3:return u=e.sent,c=new Rm(r,u.ir),l=c.sc(u.documents),d=jp.createSynthesizedTargetChangeForCurrentChange(o,a&&"Offline"!==t.onlineState,s),f=c.applyChanges(l,t.isPrimaryClient,d),eg(t,o,f.cc),p=new Om(r,o,c),e.abrupt("return",(t.wc.set(r,p),t._c.has(o)?t._c.get(o).push(r):t._c.set(o,[r]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function jm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=i(n().mark((function e(t,r){var i,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dl(t),o=i.wc.get(r),!((a=i._c.get(o.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i._c.set(o.targetId,a.filter((function(e){return!kf(e,r)}))),void i.wc.delete(r)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(o.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(o.targetId),e.t0){e.next=9;break}return e.next=9,nv(i.localStore,o.targetId,!1).then((function(){i.sharedClientState.clearQueryState(o.targetId),Ov(i.remoteStore,o.targetId),qm(i,o.targetId)})).catch(Gl);case 9:e.next=14;break;case 11:return qm(i,o.targetId),e.next=14,nv(i.localStore,o.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(e,t,n){return Zm.apply(this,arguments)}function Zm(){return Zm=i(n().mark((function e(t,r,i){var o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=cg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=dl(e),o=Tl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Zf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Af(),u=Zf();return i.Zi.getEntries(e,a).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var a,s=[],u=l(t);try{for(u.s();!(a=u.n()).done;){var c=a.value,d=dp(c,n.get(c.key).overlayedDocument);null!=d&&s.push(new hp(c.key,d,Md(d.value.mapValue),op.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,o,s,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:Lf(n)}}))}(o.localStore,r);case 4:return a=e.sent,o.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new td(Cl)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(o,a.batchId,i),e.next=9,rg(o,a.changes);case 9:return e.next=11,Hv(o.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=pm(e.t0,"Failed to persist write"),i.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Zm.apply(this,arguments)}function Gm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=i(n().mark((function e(t,r){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dl(t),e.prev=1,e.next=4,qh(i.localStore,r);case 4:return o=e.sent,r.targetChanges.forEach((function(e,t){var n=i.yc.get(t);n&&(ll(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?ll(n.fc):e.removedDocuments.size>0&&(ll(n.fc),n.fc=!1))})),e.next=8,rg(i,o,r);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Wm.apply(this,arguments)}function Um(e,t,n){var r=dl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=l(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&Cm(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Xm(e,t,n){return Bm.apply(this,arguments)}function Bm(){return Bm=i(n().mark((function e(t,r,i){var o,a,s,u,c,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=dl(t)).sharedClientState.updateQueryState(r,"rejected",i),a=o.yc.get(r),!(s=a&&a.key)){e.next=14;break}return u=(u=new td(Pl.comparator)).insert(s,Dd.newNoDocument(s,Il.min())),c=Zf().add(s),l=new Dp(Il.min(),new Map,new td(Cl),u,c),e.next=9,Gm(o,l);case 9:o.gc=o.gc.remove(s),o.yc.delete(r),ng(o),e.next=16;break;case 14:return e.next=16,nv(o.localStore,r,!1).then((function(){return qm(o,r,i)})).catch(Gl);case 16:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function Hm(e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=i(n().mark((function e(t,r){var i,o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dl(t),o=r.batch.batchId,e.prev=1,e.next=4,Jh(i.localStore,r);case 4:return a=e.sent,Qm(i,o,null),Jm(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),e.next=10,rg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ym.apply(this,arguments)}function zm(e,t,n){return Km.apply(this,arguments)}function Km(){return Km=i(n().mark((function e(t,r,i){var o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=dl(t),e.prev=1,e.next=4,function(e,t){var n=dl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ll(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(o.localStore,r);case 4:return a=e.sent,Qm(o,r,i),Jm(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),e.next=10,rg(o,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Km.apply(this,arguments)}function Jm(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Qm(e,t,n){var r=dl(e),i=r.Tc[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function qm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=l(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.wc.delete(o),n&&e.dc.Pc(o,n)}}catch(a){i.e(a)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||$m(e,t)}))}function $m(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(Ov(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),ng(e))}function eg(e,t,n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof Tm?(e.Ic.addReference(o.key,t),tg(e,o)):o instanceof Im?(ol("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||$m(e,o.key)):cl()}}catch(a){i.e(a)}finally{i.f()}}function tg(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ol("SyncEngine","New document in limbo: "+n),e.mc.add(r),ng(e))}function ng(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Pl(Ol.fromString(t)),r=e.Ac.next();e.yc.set(r,new Am(n)),e.gc=e.gc.insert(n,r),Rv(e.remoteStore,new kh(bf(pf(n.path)),r,"TargetPurposeLimboResolution",Bl.ct))}}function rg(e,t,n){return ig.apply(this,arguments)}function ig(){return ig=i(n().mark((function e(t,r,o){var a,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=dl(t),s=[],u=[],c=[],e.t0=a.wc.isEmpty(),e.t0){e.next=9;break}return a.wc.forEach((function(e,t){c.push(a.Rc(t,r,o).then((function(e){if((e||o)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);var n=Xh.Li(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return a.dc.nu(s),e.next=9,function(){var e=i(n().mark((function e(t,r){var i,o,a,s,u,c,d,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dl(t),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ul.forEach(r,(function(t){return Ul.forEach(t.Fi,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ul.forEach(t.Bi,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xl(e.t0)){e.next=10;break}throw e.t0;case 10:ol("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:o=l(r);try{for(o.s();!(a=o.n()).done;)s=a.value,u=s.targetId,s.fromCache||(c=i.Ji.get(u),d=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(d),i.Ji=i.Ji.insert(u,f))}catch(n){o.e(n)}finally{o.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function og(e,t){return ag.apply(this,arguments)}function ag(){return ag=i(n().mark((function e(t,r){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=dl(t)).currentUser.isEqual(r)){e.next=11;break}return ol("SyncEngine","User change. New user:",r.toKey()),e.next=5,zh(i.localStore,r);case 5:return o=e.sent,i.currentUser=r,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new pl(fl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(i),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),e.next=11,rg(i,o.er);case 11:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function sg(e,t){var n=dl(e),r=n.yc.get(t);if(r&&r.fc)return Zf().add(r.key);var i=Zf(),o=n._c.get(t);if(!o)return i;var a,s=l(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(d){s.e(d)}finally{s.f()}return i}function ug(e){var t=dl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xm.bind(null,t),t.dc.nu=_m.bind(null,t.eventManager),t.dc.Pc=Sm.bind(null,t.eventManager),t}function cg(e){var t=dl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zm.bind(null,t),t}var lg=function(){function e(){p(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=gv(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Yh(this.persistence,new Bh,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Gh(Uh.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new sv}},{key:"terminate",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dg=function(){function e(){p(this,e)}return v(e,[{key:"initialize",value:function(){var e=i(n().mark((function e(t,r){var i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Um(i.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=og.bind(null,this.syncEngine),e.next=12,um(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ym}},{key:"createDatastore",value:function(e){var t,n=gv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new vv(t));return function(e,t,n,r){return new kv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Um(a.syncEngine,e,0)},o=cv.D()?new cv:new uv,new Sv(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var s=new Nm(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dl(t),ol("RemoteStore","RemoteStore shutting down."),r.vu.add(5),e.next=5,Tv(r);case 5:r.Pu.shutdown(),r.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var fg=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):al("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),pg=function(){function e(t,r,o,a){var s=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=tl.UNAUTHENTICATED,this.clientId=Sl.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(o,function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ol("FirestoreClient","Received user=",t.uid),e.next=3,s.authCredentialListener(t);case 3:s.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(o,(function(e){return ol("FirestoreClient","Received new app check token=",e),s.appCheckCredentialListener(e,s.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pl(fl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(i(n().mark((function r(){var i;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),i=pm(n.t2,"Failed to shutdown persistence"),t.reject(i);case 18:case"end":return n.stop()}}),r,null,[[0,14]])})))),t.promise}}]),e}();function hg(e,t){return vg.apply(this,arguments)}function vg(){return vg=i(n().mark((function e(t,r){var o,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ol("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return o=e.sent,e.next=6,r.initialize(o);case 6:a=o.initialUser,t.setCredentialChangeListener(function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,zh(r.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=r;case 8:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function mg(e,t){return gg.apply(this,arguments)}function gg(){return gg=i(n().mark((function e(t,r){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bg(t);case 3:return i=e.sent,ol("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return o=e.sent,e.next=10,r.initialize(i,o);case 10:t.setCredentialChangeListener((function(e){return am(r.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return am(r.remoteStore,t)})),t._onlineComponents=r;case 13:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function yg(e){return"FirebaseError"===e.name?e.code===fl.FAILED_PRECONDITION||e.code===fl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function bg(e){return wg.apply(this,arguments)}function wg(){return wg=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ol("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,hg(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),yg(r=e.t0)){e.next=13;break}throw r;case 13:return sl("Error using user provided cache. Falling back to memory cache: "+r),e.next=16,hg(t,new lg);case 16:e.next=21;break;case 18:return ol("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,hg(t,new lg);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),wg.apply(this,arguments)}function Eg(e){return kg.apply(this,arguments)}function kg(){return kg=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ol("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,mg(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ol("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,mg(t,new dg);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function _g(e){return Eg(e).then((function(e){return e.syncEngine}))}function Sg(e){return Cg.apply(this,arguments)}function Cg(){return Cg=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eg(t);case 2:return r=e.sent,i=r.eventManager,e.abrupt("return",(i.onListen=Pm.bind(null,r.syncEngine),i.onUnlisten=jm.bind(null,r.syncEngine),i));case 5:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function xg(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Tg=new Map;function Ig(e,t,n){if(!n)throw new pl(fl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Rg(e){if(!Pl.isDocumentKey(e))throw new pl(fl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Og(e){if(Pl.isDocumentKey(e))throw new pl(fl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ag(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cl()}function Ng(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pl(fl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ag(e);throw new pl(fl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Pg=function(){function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pl(fl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pl(fl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new pl(fl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xg(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new pl(fl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new pl(fl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new pl(fl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Lg=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pg({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new pl(fl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pl(fl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ml;switch(e.type){case"firstParty":return new wl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pl(fl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Tg.get(e);t&&(ol("ComponentProvider","Removing Datastore"),Tg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Mg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=Ng(e,Lg))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=tl.MOCK_USER;else{s=V(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new pl(fl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tl(c)}e._authCredentials=new gl(new vl(s,u))}}var Dg=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Fg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),jg=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Fg=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this,e,r,pf(i)))._path=i,o.type="collection",o}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dg(this.firestore,null,new Pl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(jg);function Vg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ee(e),Ig("collection","path",t),e instanceof Lg){var o=Ol.fromString.apply(Ol,[t].concat(r));return Og(o),new Fg(e,null,o)}if(!(e instanceof Dg||e instanceof Fg))throw new pl(fl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Ol.fromString.apply(Ol,[t].concat(r)));return Og(a),new Fg(e.firestore,null,a)}var Zg=function(){function e(){var t=this;p(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new yv(this,"async_queue_retry"),this.Xc=function(){var e=mv();e&&ol("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=mv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return v(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=mv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new hl;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=i(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xl(e.t0)){e.next=12;break}throw e.t0;case 12:ol("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw al("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=fm.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&cl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=l(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=l(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function Gg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=l(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var Wg=function(e){E(n,e);var t=S(n);function n(e,r,i,o){var a;return p(this,n),(a=t.call(this,e,r,i,o)).type="firestore",a._queue=new Zg,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||Xg(this),this._firestoreClient.terminate()}}]),n}(Lg);function Ug(e){return e._firestoreClient||Xg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xg(e){var t,n,r,i=e._freezeSettings(),o=function(e,t,n,r){return new md(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new pg(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var Bg=function(){function e(t){p(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ud.fromBase64String(t))}catch(t){throw new pl(fl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ud.fromUint8Array(t))}}]),e}(),Hg=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pl(fl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nl(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Yg=v((function e(t){p(this,e),this._methodName=t})),zg=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new pl(fl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pl(fl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cl(this._lat,e._lat)||Cl(this._long,e._long)}}]),e}(),Kg=/^__.*__$/,Jg=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hp(e,this.data,this.fieldMask,t,this.fieldTransforms):new pp(e,this.data,t,this.fieldTransforms)}}]),e}();function Qg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cl()}}var qg=function(){function e(t,n,r,i,o,a){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return ly(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Qg(this.ca)&&Kg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),$g=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||gv(t)}return v(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qg({ca:e,methodName:t,ga:n,path:Nl.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function ey(e){var t=e._freezeSettings(),n=gv(e._databaseId);return new $g(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ty(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);ay("Data must be an object, but it was:",a,r);var s,u,c=iy(r,a);if(o.merge)s=new ad(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var d,f=[],p=l(o.mergeFields);try{for(p.s();!(d=p.n()).done;){var h=sy(t,d.value,n);if(!a.contains(h))throw new pl(fl.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));dy(f,h)||f.push(h)}}catch(v){p.e(v)}finally{p.f()}s=new ad(f),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Jg(new Ld(c),s,u)}function ny(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ry(n,e.ya(r?4:3,t))}function ry(e,t){if(oy(e=ee(e)))return ay("Unsupported field value:",t,e),iy(e,t);if(e instanceof Yg)return function(e,t){if(!Qg(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=l(e);try{for(o.s();!(n=o.n()).done;){var a=ry(n.value,t.wa(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ee(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Tl.fromDate(e);return{timestampValue:Jp(t.serializer,n)}}if(e instanceof Tl){var r=new Tl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jp(t.serializer,r)}}if(e instanceof zg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bg)return{bytesValue:Qp(t.serializer,e._byteString)};if(e instanceof Dg){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t._a("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:eh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Ag(e)))}(e,t)}function iy(e,t){var n={};return ed(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$l(e,(function(e,r){var i=ry(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tl||e instanceof zg||e instanceof Bg||e instanceof Dg||e instanceof Yg)}function ay(e,t,n){if(!oy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ag(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function sy(e,t,n){if((t=ee(t))instanceof Hg)return t._internalPath;if("string"==typeof t)return cy(e,t);throw ly("Field path arguments must be of type string or ",e,!1,void 0,n)}var uy=new RegExp("[~\\*/\\[\\]]");function cy(e,t,n){if(t.search(uy)>=0)throw ly("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return C(Hg,c(t.split(".")))._internalPath}catch(pw){throw ly("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ly(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new pl(fl.INVALID_ARGUMENT,s+e+u)}function dy(e,t){return e.some((function(e){return e.isEqual(t)}))}var fy=function(){function e(t,n,r,i,o){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new py(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),py=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return ht(k(n.prototype),"data",this).call(this)}}]),n}(fy);function hy(e,t){return"string"==typeof t?cy(e,t):t instanceof Hg?t._internalPath:t._delegate._internalPath}function vy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pl(fl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var my=v((function e(){p(this,e)})),gy=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n)}(my);function yy(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof my&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof wy})).length,n=e.filter((function(e){return e instanceof by})).length;if(t>1||t>0&&n>0)throw new pl(fl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var a,s=l(n);try{for(s.s();!(a=s.n()).done;){e=a.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var by=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this))._field=e,o._op=r,o._value=i,o.type="where",o}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return _y(e._query,t),new jg(e.firestore,e.converter,wf(e._query,t))}},{key:"_parse",value:function(e){var t=ey(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pl(fl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){ky(a,o);var u,c=[],d=l(a);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.push(Ey(r,e,f))}}catch(p){d.e(p)}finally{d.f()}s={arrayValue:{values:c}}}else s=Ey(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ky(a,o),s=ny(n,"where",a,"in"===o||"not-in"===o);return Ud.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gy);var wy=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Xd.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=l(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var o=n.value;_y(r,o),r=wf(r,o)}}catch(a){i.e(a)}finally{i.f()}}(e._query,t),new jg(e.firestore,e.converter,wf(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(my);function Ey(e,t,n){if("string"==typeof(n=ee(n))){if(""===n)throw new pl(fl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gf(t)&&-1!==n.indexOf("/"))throw new pl(fl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ol.fromString(n));if(!Pl.isDocumentKey(r))throw new pl(fl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return xd(e,new Pl(r))}if(n instanceof Dg)return xd(e,n._key);throw new pl(fl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ag(n),"."))}function ky(e,t){if(!Array.isArray(e)||0===e.length)throw new pl(fl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _y(e,t){if(t.isInequality()){var n=mf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new pl(fl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=vf(e);null!==i&&Sy(e,r,i)}var o=function(e,t){var n,r=l(e);try{for(r.s();!(n=r.n()).done;){var i,o=l(n.value.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.indexOf(a.op)>=0)return a.op}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new pl(fl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pl(fl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(o.toString(),"' filters."))}function Sy(e,t,n){if(!n.isEqual(t))throw new pl(fl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Cy=function(){function e(){p(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cl()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return $l(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new zg(dd(e.latitude),dd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ld(e);return new Tl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ol.fromString(e);ll(Eh(n));var r=new gd(n.get(1),n.get(3)),i=new Pl(n.popFirst(5));return r.isEqual(t)||al("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function xy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ty=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Iy=function(e){E(n,e);var t=S(n);function n(e,r,i,o,a,s){var u;return p(this,n),(u=t.call(this,e,r,i,o,s))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return v(n,[{key:"exists",value:function(){return ht(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(fy),Ry=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ht(k(n.prototype),"data",this).call(this,e)}}]),n}(Iy),Oy=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ty(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ry(n._firestore,n._userDataWriter,r.key,r,new Ty(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pl(fl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ty(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ay(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Ay(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cl()}}var Ny=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new Bg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dg(this.firestore,null,t)}}]),n}(Cy);function Py(e,t){var n=Ng(e.firestore,Wg),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ee(e),1===arguments.length&&(t=Sl.A()),Ig("doc","path",t),e instanceof Lg){var o=Ol.fromString.apply(Ol,[t].concat(r));return Rg(o),new Dg(e,null,new Pl(o))}if(!(e instanceof Dg||e instanceof Fg))throw new pl(fl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Ol.fromString.apply(Ol,[t].concat(r)));return Rg(a),new Dg(e.firestore,e instanceof Fg?e.converter:null,new Pl(a))}(e),i=xy(e.converter,t);return My(n,[ty(ey(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,op.exists(!1))]).then((function(){return r}))}function Ly(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a,s,u;e=ee(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof r[l]||Gg(r[l])||(c=r[l],l++);var d,f,p,h={includeMetadataChanges:c.includeMetadataChanges};if(Gg(r[l])){var v=r[l];r[l]=null===(a=v.next)||void 0===a?void 0:a.bind(v),r[l+1]=null===(s=v.error)||void 0===s?void 0:s.bind(v),r[l+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof Dg)f=Ng(e.firestore,Wg),p=pf(e._key.path),d={next:function(t){r[l]&&r[l](Dy(f,e,t))},error:r[l+1],complete:r[l+2]};else{var m=Ng(e,jg);f=Ng(m.firestore,Wg),p=m._query;var g=new Ny(f);d={next:function(e){r[l]&&r[l](new Oy(f,g,m,e))},error:r[l+1],complete:r[l+2]},vy(e._query)}return function(e,t,r,o){var a=new fg(o),s=new xm(t,a,r);return e.asyncQueue.enqueueAndForget(i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bm,t.next=3,Sg(e);case 3:return t.t1=t.sent,t.t2=s,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){a.Dc(),e.asyncQueue.enqueueAndForget(i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Em,t.next=3,Sg(e);case 3:return t.t1=t.sent,t.t2=s,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ug(f),p,h,d)}function My(e,t){return function(e,t){var r=new hl;return e.asyncQueue.enqueueAndForget(i(n().mark((function i(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Vm,n.next=3,_g(e);case 3:return n.t1=n.sent,n.t2=t,n.t3=r,n.abrupt("return",(0,n.t0)(n.t1,n.t2,n.t3));case 7:case"end":return n.stop()}}),i)})))),r.promise}(Ug(e),t)}function Dy(e,t,n){var r=n.docs.get(t._key),i=new Ny(e);return new Iy(e,i,t._key,r,new Ty(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nl=e}(ze),Ue(new te("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,o=e.getProvider("app").getImmediate(),a=new Wg(new yl(e.getProvider("auth-internal")),new kl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pl(fl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Qe(el,"3.13.0",e),Qe(el,"3.13.0","esm2017")}();var jy,Fy="firebasestorage.googleapis.com",Vy="storageBucket",Zy=function(e){E(n,e);var t=S(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,n),(i=t.call(this,Gy(e),"Firebase Storage: ".concat(r," (").concat(Gy(e),")"))).status_=o,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(b(i),n.prototype),i}return v(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Gy(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(U);function Gy(e){return"storage/"+e}function Wy(){return new Zy(jy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Uy(){return new Zy(jy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xy(){return new Zy(jy.CANCELED,"User canceled the upload/download.")}function By(){return new Zy(jy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hy(e){return new Zy(jy.INVALID_ARGUMENT,e)}function Yy(){return new Zy(jy.APP_DELETED,"The Firebase app was deleted.")}function zy(e,t){return new Zy(jy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ky(e){throw new Zy(jy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(jy||(jy={}));var Jy,Qy=function(){function e(t,n){p(this,e),this.bucket=t,this.path_=n}return v(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(o){return new e(t,"")}if(""===r.path)return r;throw i=t,new Zy(jy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===Fy?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],d=l.regex.exec(t);if(d){var f=d[l.indices.bucket],p=d[l.indices.path];p||(p=""),r=new e(f,p),l.postModify(r);break}}if(null==r)throw function(e){return new Zy(jy.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),qy=function(){function e(t){p(this,e),this.promise_=Promise.reject(t)}return v(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function $y(e){return"string"===typeof e||e instanceof String}function eb(e){return tb()&&e instanceof Blob}function tb(){return"undefined"!==typeof Blob&&!G()}function nb(e,t,n,r){if(r<t)throw Hy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Hy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function rb(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ib(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ob(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Jy||(Jy={}));var ab=function(){function e(t,n,r,i,o,a,s,u,c,l,d){var f=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];p(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return v(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(o,o.getResponse());!function(e){return void 0!==e}(a)?r():r(a)}catch(u){i(u)}else if(null!==o){var s=Wy();s.serverResponse=o.getErrorText(),e.errorCallback_?i(e.errorCallback_(o,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Yy():Xy());else i(Uy())}};this.canceled_?t(0,new sb(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((function(){i=null,e(p,u())}),t)}function f(){o&&clearTimeout(o)}function p(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var o;if(u()||a)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),d(o)}}var h=!1;function v(e){h||(h=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),o=setTimeout((function(){a=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new sb(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Jy.NO_ERROR,o=r.getStatus();if(!n||ob(o,e.additionalRetryCodes_)&&e.retry){var a=r.getErrorCode()===Jy.ABORT;t(!1,new sb(!1,null,a))}else{var s=-1!==e.successCodes_.indexOf(o);t(!0,new sb(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),sb=v((function e(t,n,r){p(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function ub(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cb(){for(var e=ub(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,o=0;o<n.length;o++)i.append(n[o]);return i.getBlob()}if(tb())return new Blob(n);throw new Zy(jy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function lb(e){if("undefined"===typeof atob)throw t="base-64",new Zy(jy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var db={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fb=v((function e(t,n){p(this,e),this.data=t,this.contentType=n||null}));function pb(e,t){switch(e){case db.RAW:return new fb(hb(t));case db.BASE64:case db.BASE64URL:return new fb(vb(e,t));case db.DATA_URL:return new fb(function(e){var t=new mb(e);return t.base64?vb(db.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw zy(db.DATA_URL,"Malformed data URL.")}return hb(t)}(t.rest)}(t),function(e){var t=new mb(e);return t.contentType}(t))}throw Wy()}function hb(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vb(e,t){switch(e){case db.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw zy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case db.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw zy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=lb(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw zy(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var mb=v((function e(t){p(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw zy(db.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var gb=function(){function e(t,n){p(this,e);var r=0,i="";eb(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return v(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(eb(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(tb()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(cb.apply(null,i))}var o=n.map((function(e){return $y(e)?pb(db.RAW,e).data:e.data_})),a=0;o.forEach((function(e){a+=e.byteLength}));var s=new Uint8Array(a),u=0;return o.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function yb(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function bb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function wb(e,t){return t}var Eb=v((function e(t,n,r,i){p(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||wb})),kb=null;function _b(){if(kb)return kb;var e=[];e.push(new Eb("bucket")),e.push(new Eb("generation")),e.push(new Eb("metageneration")),e.push(new Eb("name","fullPath",!0));var t=new Eb("name");t.xform=function(e,t){return function(e){return!$y(e)||e.length<2?e:bb(e)}(t)},e.push(t);var n=new Eb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Eb("timeCreated")),e.push(new Eb("updated")),e.push(new Eb("md5Hash",null,!0)),e.push(new Eb("cacheControl",null,!0)),e.push(new Eb("contentDisposition",null,!0)),e.push(new Eb("contentEncoding",null,!0)),e.push(new Eb("contentLanguage",null,!0)),e.push(new Eb("contentType",null,!0)),e.push(new Eb("metadata","customMetadata",!0)),kb=e}function Sb(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Qy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Cb(e,t,n){var r=yb(t);return null===r?null:Sb(e,r,n)}function xb(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Tb=v((function e(t,n,r,i){p(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Ib(e){if(!e)throw Wy()}function Rb(e,t){return function(n,r){var i=Cb(e,r,t);return Ib(null!==i),i}}function Ob(e,t){return function(n,r){var i=Cb(e,r,t);return Ib(null!==i),function(e,t,n,r){var i=yb(t);if(null===i)return null;if(!$y(i.downloadTokens))return null;var o=i.downloadTokens;if(0===o.length)return null;var a=encodeURIComponent;return o.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return rb("/b/"+a(i)+"/o/"+a(o),n,r)+ib({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Ab(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Zy(jy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Zy(jy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Zy(jy.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Zy(jy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Nb(e){var t=Ab(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Zy(jy.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Pb(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Lb(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Pb(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xb(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",d=gb.getBlob(c,r,l);if(null===d)throw By();var f={name:u.fullPath},p=rb(o,e.host,e._protocol),h=e.maxUploadRetryTime,v=new Tb(p,"POST",Rb(e,n),h);return v.urlParams=f,v.headers=a,v.body=d.uploadData(),v.errorHandler=Ab(t),v}var Mb=null,Db=function(){function e(){var t=this;p(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jy.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Jy.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Jy.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return v(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ky("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ky("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ky("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ky("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ky("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),jb=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Db);function Fb(){return Mb?Mb():new jb}var Vb=function(){function e(t,n){p(this,e),this._service=t,this._location=n instanceof Qy?n:Qy.makeFromUrl(n,t.host)}return v(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Qy(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return bb(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Qy(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Zy(jy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Zb(e,t,n){e._throwIfRoot("uploadBytes");var r=Lb(e.storage,e._location,_b(),new gb(t,!0),n);return e.storage.makeRequestWithTokens(r,Fb).then((function(t){return{metadata:t,ref:e}}))}function Gb(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=rb(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Tb(r,"GET",Ob(e,n),i);return o.errorHandler=Nb(t),o}(e.storage,e._location,_b());return e.storage.makeRequestWithTokens(t,Fb).then((function(e){if(null===e)throw new Zy(jy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Wb(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Qy(e._location.bucket,n);return new Vb(e.storage,r)}function Ub(e,t){if(e instanceof Hb){var n=e;if(null==n._bucket)throw new Zy(jy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vy+"' property when initializing the app?");var r=new Vb(n,n._bucket);return null!=t?Ub(r,t):r}return void 0!==t?Wb(e,t):e}function Xb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Hb)return function(e,t){return new Vb(e,t)}(e,t);throw Hy("To use ref(service, url), the first argument must be a Storage instance.")}return Ub(e,t)}function Bb(e,t){var n=null===t||void 0===t?void 0:t[Vy];return null==n?null:Qy.makeFromBucketSpec(n,e)}var Hb=function(){function e(t,n,r,i,o){p(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Fy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Qy.makeFromBucketSpec(i,this._host):Bb(this._host,this.app.options)}return v(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Qy.makeFromBucketSpec(this._url,e):this._bucket=Bb(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(r=e.sent)){e.next=9;break}return e.abrupt("return",r.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return r=e.sent,e.abrupt("return",r.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Vb(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new qy(Yy());var a=function(e,t,n,r,i,o){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=ib(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ab(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=i(n().mark((function e(t,r){var i,o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return i=e.sent,o=y(i,2),a=o[0],s=o[1],e.abrupt("return",this._makeRequest(t,r,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Yb="@firebase/storage",zb="0.11.2",Kb="storage";function Jb(e,t,n){return Zb(e=ee(e),t,n)}function Qb(e){return Gb(e=ee(e))}function qb(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:V(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function $b(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Hb(r,i,o,n,ze)}Ue(new te(Kb,$b,"PUBLIC").setMultipleInstances(!0)),Qe(Yb,zb,""),Qe(Yb,zb,"esm2017");var ew=Ke({apiKey:"AIzaSyCUQBt_urTxIuz45_z-qGyiqAq_4bmahpw",authDomain:"robotanium-admin.firebaseapp.com",projectId:"robotanium-admin",storageBucket:"robotanium-admin.appspot.com",messagingSenderId:"345997456064",appId:"1:345997456064:web:b80e656cf0ea0b893df325",measurementId:"G-CJKNBH9W2B"}),tw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je(),t=Xe(e,"auth");if(t.isInitialized())return t.getImmediate();var r=function(e,t){var n=Xe(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Y(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;_t(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wo,persistence:[vi,Ur,Br]}),o=j("authTokenSyncURL");if(o){var a=function(e){return function(){var t=i(n().mark((function t(r){var i,o,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r,!t.t0){t.next=5;break}return t.next=4,r.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(i=t.t0,!((o=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3)&&o>Ao)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===i||void 0===i?void 0:i.token,No!==a){t.next=12;break}return t.abrupt("return");case 12:return No=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o);!function(e,t,n){ee(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){ee(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var s=L("auth");return s&&Kn(r,"http://".concat(s)),r}(ew),nw=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Xe("object"==typeof e?e:Je(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=M("firestore");i&&Mg.apply(void 0,[r].concat(c(i)))}return r}(ew),rw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je(),t=arguments.length>1?arguments[1]:void 0,n=Xe(e=ee(e),Kb).getImmediate({identifier:t}),r=M("storage");return r&&qb.apply(void 0,[n].concat(c(r))),n}(ew);function iw(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ow(e){return!!e&&!!e[zw]}function aw(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Kw}(e)||Array.isArray(e)||!!e[Yw]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Yw])||pw(e)||hw(e))}function sw(e,t,n){void 0===n&&(n=!1),0===uw(e)?(n?Object.keys:Jw)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function uw(e){var t=e[zw];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pw(e)?2:hw(e)?3:0}function cw(e,t){return 2===uw(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lw(e,t){return 2===uw(e)?e.get(t):e[t]}function dw(e,t,n){var r=uw(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function fw(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function pw(e){return Uw&&e instanceof Map}function hw(e){return Xw&&e instanceof Set}function vw(e){return e.o||e.t}function mw(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Qw(e);delete t[zw];for(var n=Jw(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function gw(e,t){return void 0===t&&(t=!1),bw(e)||ow(e)||!aw(e)||(uw(e)>1&&(e.set=e.add=e.clear=e.delete=yw),Object.freeze(e),t&&sw(e,(function(e,t){return gw(t,!0)}),!0)),e}function yw(){iw(2)}function bw(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ww(e){var t=qw[e];return t||iw(18,e),t}function Ew(e,t){qw[e]||(qw[e]=t)}function kw(){return Gw}function _w(e,t){t&&(ww("Patches"),e.u=[],e.s=[],e.v=t)}function Sw(e){Cw(e),e.p.forEach(Tw),e.p=null}function Cw(e){e===Gw&&(Gw=e.l)}function xw(e){return Gw={p:[],l:Gw,h:e,m:!0,_:0}}function Tw(e){var t=e[zw];0===t.i||1===t.i?t.j():t.g=!0}function Iw(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||ww("ES5").S(t,e,r),r?(n[zw].P&&(Sw(t),iw(4)),aw(e)&&(e=Rw(t,e),t.l||Aw(t,e)),t.u&&ww("Patches").M(n[zw].t,e,t.u,t.s)):e=Rw(t,n,[]),Sw(t),t.u&&t.v(t.u,t.s),e!==Hw?e:void 0}function Rw(e,t,n){if(bw(t))return t;var r=t[zw];if(!r)return sw(t,(function(i,o){return Ow(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Aw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=mw(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),sw(o,(function(t,o){return Ow(e,r,i,t,o,n,a)})),Aw(e,i,!1),n&&e.u&&ww("Patches").N(r,n,e.u,e.s)}return r.o}function Ow(e,t,n,r,i,o,a){if(ow(i)){var s=Rw(e,i,o&&t&&3!==t.i&&!cw(t.R,r)?o.concat(r):void 0);if(dw(n,r,s),!ow(s))return;e.m=!1}else a&&n.add(i);if(aw(i)&&!bw(i)){if(!e.h.D&&e._<1)return;Rw(e,i),t&&t.A.l||Aw(e,i)}}function Aw(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&gw(t,n)}function Nw(e,t){var n=e[zw];return(n?vw(n):e)[t]}function Pw(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Lw(e){e.P||(e.P=!0,e.l&&Lw(e.l))}function Mw(e){e.o||(e.o=mw(e.t))}function Dw(e,t,n){var r=pw(t)?ww("MapSet").F(t,n):hw(t)?ww("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:kw(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=$w;n&&(i=[r],o=eE);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):ww("ES5").J(t,n);return(n?n.A:kw()).p.push(r),r}function jw(e){return ow(e)||iw(22,e),function e(t){if(!aw(t))return t;var n,r=t[zw],i=uw(t);if(r){if(!r.P&&(r.i<4||!ww("ES5").K(r)))return r.t;r.I=!0,n=Fw(t,i),r.I=!1}else n=Fw(t,i);return sw(n,(function(t,i){r&&lw(r.t,t)===i||dw(n,t,e(i))})),3===i?new Set(n):n}(e)}function Fw(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return mw(e)}function Vw(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[zw];return $w.get(t,e)},set:function(t){var n=this[zw];$w.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][zw];if(!i.P)switch(i.i){case 5:r(i)&&Lw(i);break;case 4:n(i)&&Lw(i)}}}function n(e){for(var t=e.t,n=e.k,r=Jw(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==zw){var a=t[o];if(void 0===a&&!cw(t,o))return!0;var s=n[o],u=s&&s[zw];if(u?u.t!==a:!fw(s,a))return!0}}var c=!!t[zw];return r.length!==Jw(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ew("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Qw(n);delete o[zw];for(var a=Jw(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:kw(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,zw,{value:o,writable:!0}),i},S:function(e,n,i){i?ow(n)&&n[zw].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[zw];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)sw(o,(function(t){t!==zw&&(void 0!==i[t]||cw(i,t)?a[t]||e(o[t]):(a[t]=!0,Lw(n)))})),sw(i,(function(e){void 0!==o[e]||cw(o,e)||(a[e]=!1,Lw(n))}));else if(5===s){if(r(n)&&(Lw(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),d=0;d<l;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Zw,Gw,Ww="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Uw="undefined"!=typeof Map,Xw="undefined"!=typeof Set,Bw="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Hw=Ww?Symbol.for("immer-nothing"):((Zw={})["immer-nothing"]=!0,Zw),Yw=Ww?Symbol.for("immer-draftable"):"__$immer_draftable",zw=Ww?Symbol.for("immer-state"):"__$immer_state",Kw=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Jw="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Qw=Object.getOwnPropertyDescriptors||function(e){var t={};return Jw(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},qw={},$w={get:function(e,t){if(t===zw)return e;var n=vw(e);if(!cw(n,t))return function(e,t,n){var r,i=Pw(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!aw(r)?r:r===Nw(e.t,t)?(Mw(e),e.o[t]=Dw(e.A.h,r,e)):r},has:function(e,t){return t in vw(e)},ownKeys:function(e){return Reflect.ownKeys(vw(e))},set:function(e,t,n){var r=Pw(vw(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Nw(vw(e),t),o=null==i?void 0:i[zw];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(fw(n,i)&&(void 0!==n||cw(e.t,t)))return!0;Mw(e),Lw(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Nw(e.t,t)||t in e.t?(e.R[t]=!1,Mw(e),Lw(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=vw(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){iw(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){iw(12)}},eE={};sw($w,(function(e,t){eE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),eE.deleteProperty=function(e,t){return eE.set.call(this,e,t,void 0)},eE.set=function(e,t,n){return $w.set.call(this,e[0],t,n,e[0])};var tE=function(){function e(e){var t=this;this.O=Bw,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&iw(6),void 0!==r&&"function"!=typeof r&&iw(7),aw(e)){var s=xw(t),u=Dw(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?Sw(s):Cw(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return _w(s,r),Iw(e,s)}),(function(e){throw Sw(s),e})):(_w(s,r),Iw(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Hw&&(a=void 0),t.D&&gw(a,!0),r){var l=[],d=[];ww("Patches").M(e,a,l,d),r(l,d)}return a}iw(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){aw(e)||iw(8),ow(e)&&(e=jw(e));var t=xw(this),n=Dw(this,e,void 0);return n[zw].C=!0,Cw(t),n},t.finishDraft=function(e,t){var n=(e&&e[zw]).A;return _w(n,t),Iw(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Bw&&iw(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ww("Patches").$;return ow(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),nE=new tE,rE=nE.produce,iE=(nE.produceWithPatches.bind(nE),nE.setAutoFreeze.bind(nE),nE.setUseProxies.bind(nE),nE.applyPatches.bind(nE),nE.createDraft.bind(nE),nE.finishDraft.bind(nE),rE);function oE(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var aE="function"===typeof Symbol&&Symbol.observable||"@@observable",sE=function(){return Math.random().toString(36).substring(7).split("").join(".")},uE={INIT:"@@redux/INIT"+sE(),REPLACE:"@@redux/REPLACE"+sE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sE()}};function cE(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function lE(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(oE(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(oE(1));return n(lE)(e,t)}if("function"!==typeof e)throw new Error(oE(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(oE(3));return o}function d(e){if("function"!==typeof e)throw new Error(oE(4));if(u)throw new Error(oE(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(oE(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!cE(e))throw new Error(oE(7));if("undefined"===typeof e.type)throw new Error(oE(8));if(u)throw new Error(oE(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:uE.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(oE(10));i=e,f({type:uE.REPLACE})}})[aE]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(oE(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[aE]=function(){return this},e},r}function dE(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:uE.INIT}))throw new Error(oE(12));if("undefined"===typeof n(void 0,{type:uE.PROBE_UNKNOWN_ACTION()}))throw new Error(oE(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],d=c(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(oE(14))}i[u]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function fE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function pE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(oE(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=fE.apply(void 0,o)(n.dispatch),he(he({},n),{},{dispatch:r})}}}function hE(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var vE=hE();vE.withExtraArgument=hE;var mE=vE,gE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yE=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bE=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},wE=Object.defineProperty,EE=Object.defineProperties,kE=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,SE=Object.prototype.hasOwnProperty,CE=Object.prototype.propertyIsEnumerable,xE=function(e,t,n){return t in e?wE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},TE=function(e,t){for(var n in t||(t={}))SE.call(t,n)&&xE(e,n,t[n]);if(_E)for(var r=0,i=_E(t);r<i.length;r++){n=i[r];CE.call(t,n)&&xE(e,n,t[n])}return e},IE=function(e,t){return EE(e,kE(t))},RE=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},OE="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?fE:fE.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function AE(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var NE=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return gE(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,bE([void 0],e[0].concat(this)))):new(t.bind.apply(t,bE([void 0],e.concat(this))))},t}(Array),PE=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return gE(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,bE([void 0],e[0].concat(this)))):new(t.bind.apply(t,bE([void 0],e.concat(this))))},t}(Array);function LE(e){return aw(e)?iE(e,(function(){})):e}function ME(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new NE);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(mE.withExtraArgument(n.extraArgument)):r.push(mE));0;return r}(e)}}function DE(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return TE(TE({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function jE(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function FE(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:LE(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var t="function"===typeof e.extraReducers?jE(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=TE(TE({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?jE(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return LE(e())};else{var c=LE(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=bE([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(ow(e))return void 0===(r=n(e,t))?e:r;if(aw(e))return iE(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,u[e]=r?DE(c,r):DE(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var VE=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ZE=["name","message","stack","code"],GE=function(e,t){this.payload=e,this.meta=t},WE=function(e,t){this.payload=e,this.meta=t},UE=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ZE;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=DE(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:IE(TE({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=DE(e+"/pending",(function(e,t,n){return{payload:void 0,meta:IE(TE({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=DE(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||UE)(e||"Rejected"),meta:IE(TE({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):VE(),f=new a;function p(e){l=e,f.abort()}var h=function(){return RE(this,null,(function(){var a,h,v,m,g,y;return yE(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:u,extra:c}))?[4,m]:[3,2];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(d,e,null==(h=null==n?void 0:n.getPendingMeta)?void 0:h.call(n,{requestId:d,arg:e},{getState:u,extra:c}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new GE(e,t)},fulfillWithValue:function(e,t){return new WE(e,t)}})).then((function(t){if(t instanceof GE)throw t;return t instanceof WE?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return y=b.sent(),v=y instanceof GE?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(v)&&v.meta.condition||s(v),[2,v]}}))}))}();return Object.assign(h,{abort:p,requestId:d,arg:e,unwrap:function(){return h.then(XE)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function XE(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var BE="listenerMiddleware";DE(BE+"/add"),DE(BE+"/removeAll"),DE(BE+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:globalThis);var HE,YE=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:YE(10);Vw();var zE={user:null,loading:!1},KE=FE({name:"userSlice",initialState:zE,reducers:{signIn:function(e,t){e.loading=!0},signInSuccess:function(e,t){e.user=t.payload},signInFailed:function(e){zE},signOutUser:function(e){zE},signOutSuccess:function(e){e.user=null}}}),JE=KE.actions,QE=JE.signIn,qE=JE.signOutUser,$E=JE.signInSuccess,ek=(JE.signInFailed,JE.signOutSuccess),tk={email:"",password:""},nk={displayName:null,emailVerified:!1,email:null,phoneNumber:null,photoURL:null,providerId:"",uid:"",idToken:""},rk=["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],ik=[],ok=[{date:new Date("Sun May 07 2023"),bookedSlots:["15:30","15:45","16:00","16:15","20:30","20:45","21:00","21:15","21:30"]},{date:new Date("Mon May 08 2023"),bookedSlots:[]},{date:new Date("Tue May 09 2023"),bookedSlots:[]},{date:new Date("Wed May 10 2023"),bookedSlots:[]},{date:new Date("Thu May 11 2023"),bookedSlots:[]},{date:new Date("Thu May 11 2023"),bookedSlots:["23:00","23:15","23:30","23:45"]}],ak=new Date;ak.setUTCFullYear(ak.getFullYear()),ak.setUTCHours(0),ak.setUTCMinutes(0),ak.setUTCSeconds(0);var sk=new Date(ak.getTime()),uk=new Date(ak.getTime()-6048e5),ck=["Berlin","Mars","Jupiter"],lk=["Public","Private",""],dk=["1","2","3","4","5","6","7","8","9","10"],fk=[{mapName:"Berlin",mapUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUVFBcVFRUYGBcXFxsXGxsbGxobHRsbGxsaHR0aGhobICwkGx0pIBoaJTYlKS4wMzMzGyI5PjkyPSwyMzABCwsLEA4QHRISHjIpJCkyMjQwMjI0NTIyMjIyNDIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNDIyMjIyMjIyMjIyMv/AABEIAKgBLAMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAEAQIDBQYAB//EAEUQAAEDAgMECAQDBAgFBQAAAAEAAhEDIQQSMQVBUWEGEyJxgZGhsTLB0fAUQlIjYpLhFTNygqKywvE0U3PS4gcWJEOD/8QAGwEAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAAuEQACAgEDBAEDAwMFAAAAAAAAAQIRAxIhMQQTQVFxImGBFKGxIzLBBSSR4fD/2gAMAwEAAhEDEQA/ANVszC0Wsp1cQ+nkaAWsdeDlb2nhw+IEm0QDBnhBt7YOGqvz06bIqBrA5gDWuJEyC2xJDhfkFV7SwFQuDmP7BN+InuF1bbDxbqTDRFNoAqF4JgzYdoDccwPpZeUh1MHhcW682ubss1NvdEWL6P5KFQFlMvYAQ4Mb8Nz2u8D4haWusBBVfiejFU4Oq7q8jpzBuhLWRYtG89ojwWvpbVhzTUgXyk6dl0C4FrOymdwzK1azI4M/I6cn7pAks7oBI4QRpAW7Bjw546scnt/P3A17PF9jYqrQdRecxpVHEAXIMPAcWgfnBg+PNen4PaGQlru0CZJ33i870u1dkU6bWFjWhrC5wBAs5xbds6G3ogcI4B4LxLXRO6FzeqyTx9QlHZ+/dkgqVGpNMblHUw8gtNwQQRyKJi1kgK9Il7HsGo4ZrGhrQGgaACApOrUs8kocmWxCE00jhZEwmuamBZXZbqNzCjn01wYimSiup0zKnAI381OyklyRuRsA7KMswgn4W5NoRpeYUD0UwsFewCYHf38UFVw2+LK56oEe6Y9khWRnQjjZQOpwbJwYrN9ASASATpO+028FwwoGquWRUVdsrHMUBarmphRCCfTCeM7FlACLFA9iPKhcxWKRW4BOBoEUnP0N4+dlTHVX5/4aAIvf2VM6kpjlu7JkjskgZy5rlI6kUtGgS4BW6lRSouywwlIvaAImfTxTNqUXNgEjw+9UXhCQ6GxwB0A8N6E2zW7ccNe9URk3I0yilEqXMStYnl6fSZKv1GbQmybC0kTLUgZAgapmSFU5WaIx0oVwk2Tw0KGU2SgEr34t9MiWmXNzAHgSRPGLb48UWMRTp0g+o4NuSCdZJJsNSeQUHSZrnftJu4weJgADyEBdtDBNqUh2GvcGdmTlI4Q4CfDfaeK+dSWOWmrps07qwGv0vp6Cmag+E5jlBaQQSIkg8JWsxm2OvpsFN2U5GudFi140aeGUiY7l5M/DPaQHMc0mwzAi5sPVajbm3OofkpgOcB2nOB15EESTv3W710JReOPawed7+KFjPzIuqe0C0tBZUeHAOkkvMQPzOO7hxV7sQUsRSLQcr2kkg6gGN28fNYPo3tE1XVGVTmntgaQCTmgDmQY5ngtNRomm5r6dnN03jmCOBWW4YctZVd/v9/wFNvdG5ayABwACVR4HEGpTa8tylwmNY8VKWr1MWnFOPAyY0FcVzgmuIRGHNKUuCiC7KpYKOdUCY+qleydVAaaZBJGVYUb6pSZSEjwmQpI3EcUyq5RMZdEBgRIRB18siYzRN40mOCjxWIDMgdMVHimNIl0xPKyp+lNVlGrQr5iHNOSJABpgOLh3mfRD9KttMYcI5vaY55rB24imAfCzjqhqEc+V6JNlYHqsRVc7rC2mxwYXmcjSQSA43dOUQSZAYArPZmKdVptqERmk25EgG97gSqbHdIx/8gAAMbRLmuuToI5b3zwjzb0X20Bsw16ggUnPaG3EwQQJ/vJoySYuq3fgthtLrKlSk0f1YGZ3Mk9nvt7pHsKqOgGLdiBiHlhaHVM8xYuMhwBOug9VqxS5K2GRUBJtblMaUJC1W78PaEK/CFWLImRw9AzH9gjiUKWKzbhDF+Ka7DhFTSFcGytNJOpUyCIR4oJQyNDCjyBWMRrAJgKsxmHvoreUNX4lLCTTHlG0U34UnQIqlgiO9TsZJRD00sr4EjjXJG3CjeZTH4fgnPcQLJGOck1PkspAr6ZG5J1ZVg13FOyNR7gNBPhujzX0x1pBcTMscSMu4AkeMoTbWByPDKTHZQwEwCRYm5PGIWa6I9J6zg6m992dsG12k3BnhbwPJbeh0gpyA+WkiQQC4QOMaaj7C8u100l2WtL23/7HVvdFJT2Q8seS2GtaXduYcYkCNYkC8KhweyT1ZZiQyoc7nAyTAdBgEgEdrMfFenseyoyxzNcCO8aFZPaWCcxxBacn6t3LxN/LuVHWdJLp4Ltbp8vz8/YiSlyU2zdlUabz1bACbA3ce4EyRqNOKsWNLTBnh3ckZsPAlzgcpDQQ4ncb6A7zb3VttHZBcS9hEkXad54g81l/Q58+N5Um/nlr7B2i6GbBxJOZjj8MFs8N8HgLK5yqq2Pg3sLswiQIuDod8HVW69B/p8ZrBFTTTV88gk99hkJrmKRdK2EsFLE4BTEAqJ7TBjXcdUoykIWJcizFfamLa4thggkbvMaoZ+08aZ7TG8Ph569nuVfej9yzty+xrnUkw0FjXY/FnWsB3DX2hD/icSdcS7ul3/cos69Mnafs3jaMKp6RbTfh2sc1mYOJbNzlIEjsjWQHeSzQNQjtV3n+8Bw+/FQuYA9hc5zgDNy43g+B1Sz6j6XXI0MX1KyLbO0PxIDatIHKQRHZMjNoZJgzeY1HBB1ml1JtJ1FzmsLixrntIGYBru0DMEbuSspBcYdYzqDx7vuFIx7Bd1QdmZHa13nT0CySySfk0LHD0VFOk4iBQGhaQ4u03gETMkkHT1Uri4U+r6qm2kHT1bs8SLZssZRYC5Vg2o2MzXtt4T570zOwandqMp+d0uul/cMoR9fsBNo1bBhpsB/KJA1vPHV27er3YHSRlOgBVNV1TM8u7MkXIAEnSGg+KAw+Ja1wdBNou0/z71DTZBJguvYAHfP7qbFmcW3YuTHqVJF7W6YUR+Sr4tAPkCShXdNKcS2k93iZ0nQNKAc6odKTxzE+ogJrab3ascPAa+JV/wCrlxZV2PsGO6ZOd8FBxvHxOI1jcxRv6VV7ZcO2Im4ed08QZ3aKJtF9oseZhdWpVB+cSf32fMKfqZew9lejndIcYTAosE7w0nhuL0NW25jZ0aBuhjCTygqQZrTUp/xtJ8YUGJEWdVpN33JlI+ok/LGWJeka3AUKrabRWdmqxLyA0AE/lGUAEDSd8KUtlY3EbVe4EnFuP9l7vGwXbEw1TFVYNes6k27yH1AOTC4m08rxOmq1w6pNqKTKJYWt2bAthNAR4oAWhRvohadZVpAXFMhEvYoiEVIFDMqcuT4UbJRim4YB5e0tzEEEskyDGo421hSUsPi6n9XTqOkwDFju+JxACsvwAN9DxFrovB1q1FwIfI5yQe8LxcM8HJa+AU0a/YuFdSoU2PILmtEkcTc8d54ouvQa4Q4SJBjmOPFRYDGCowOFjvHA8EWvX4njnjWndUKxobFhonJUiuoByRcuSNhEKaQnJCq2woB2kx5YSxxa4XEfm5LJVdsubZ9Z7TwvPktwVm9qsBqGGiYF+JjU+ix57VNM04Gns0ZrEbSbJJqVTP7pMnwK5m0qYHa61xH7lz4gH1V0zDTJhuupJ3eGiV9Ljk1m5/8AFZ00vJpe/gpfxlMzFKse4fSFCdpxYUap5B1x3gxbxV51rbnrKdzNyomMpjM416V+JAt3FyMpLwRL2Ujto1Db8I8//oZ9xyUf4qpMfg2k8C4zExMyYWgdXot7QxFGTr2mnQcM6j/E4cv/AK+mXGIy9qeUNJStW68jJ0Ub8XWBthaY7yT6/wAlLVr4vVtCi0TF+1c75DQrHF4qgCM1UB2+wEeBBKe3aeG34iTaLA38GKXFOiU6sqq1fHWhlFp3kNBnzbZMa3Hkx1lMG5BDeHp6I+rtjDAkGu7+F3yppRtvBASar9NwePkEuzYyTS4BKWExrruxAExbLN78CFwwOLcf+KeADFrzbgbImntehUux1QwP1PbPMZjfwUbekuGa7K5lUkd9v4nBFVYPqoCr7ExBc6cTUIk3BgQOQt8kjtgvsXVqh8b7twCsT0rw3/KqHvDPfMVC7pZhyQ0UHEnjlPPei0ubCnLigT/25A/rKh5FxjXhoo6fR1pM9uZAPaI0Otjor3+kqbmkihFibtb43EhUjOkzGkxhiY4uAv3Bp91RK7uO/wCaHim1uOGwqJ+Iix/XY33iefouOxaQiIjeJmfW24qV/TggT1IHe4936UE/pu95a1tKmOJk2VyV7iuLW1Eg2VREgtjmBJG63NejbPwNOlSYymIYBaZkzq503zHfKwwxtR7ZLIngQd3OJ9FttkMqimDWc0uIBAa2MoiwJm7uPz1WnpXu9jPnTpE9RyHdKKqBDPK22ZqIXNUbmqcqMhMmCiHq05PK6FLBQE1qJrYM6tBLT4kfUKq2ZtEVcQ6h1VRpZd5cGgNFtSCdd3Fal1YNsF4nH0rp9xVxRZGOrgH2NRLQZBAIGoIM+KuOtI3IWnXG9TB0hdPpXLFH+nLcWcfaJ21hvspJQTjZM6+OXt4rpYuvlHaav7idu+CwSIQYyPiHiLhTsqA6EFao5o5N0xXFrkkTSmkJjgUJTIkOcVmNrYZgcRcA3gaA+4WjgrPbSrAl03us2d2jTgX1GJx+CfJc3TmSZVbSphxyuBDhu+YW9xFIFgtw9lnHYZlR5As9uh++a5HdabTOrjimF7A2Uzq3kzd0RJFo3xqs9tfZjg95ZAa34ba7yCtrsym4UWyRPan+Ij2hCY7DzTceZPkFe8ijBSXPkrivra8GQwmHY8SByNzYjUK02JgGitcCMpkcdInzULaD4a+k2S8wWnjx7/qrPZNKvnd1tMNGWxBF+OhQxybmqe3qy3IoqLIOkWCLoyANABJAGsadyjwmEpuaHBoggEW3ESFaYhuUVDqGszCTwlU1L8SHOFJgLAeySDobxY7pQ6jVKTjHb/25OnrTuGO2cz9Df4Qq/aWEa1hOUCATYDcCjMmN/wCW3+E/VBbSwuNLSXMGUCXQ12m/W2kqnHjyalbRe3Ciz2BFGiGES6TmNuMjvsQgMRhAatRwFnOJHir+hTt4D2CqMZs/FuqvNIEstByuN4uJAIWzJjlKFp7mbFKKm7KvGUcoJOgEnuVZgtmuqTUMh0h/cNw8lbVti4vO3rgchNxlIFuZaOSsOj8ObUMb3N8iFXbxqk99i+bi42i7wTJpgRYt4XIiIlZPGUhTBmBEzPJa/CV+zYWgBZTauwKr8RnJcaT3OeBECCTAkc5TSSpOTpIowSWpr2Z803VXXBDAbfvHirfDbEaW54uDPiP9go8U808QylFrT47h4QtXgKfYPf8AfshLLJtJbJrYeaVMFw7JaLrfbNeX0abpnsAE8xY+ywWEaYy75I04f7La9G3zSc3exxHmAfeVu6Wb1U/RzuoSSsKqNKgeEdUHJDuZyW2zOgYtSZVOWHghMbjqVETUqNbyNye5ouVHKt2FKyUU0/qllMf0vdB6mnA/W+3k2fme5Zmvtes85jiKpJ/QSG+AbYLPLqYrjctjgkz0vstJdEEgSeIbMT3SfNDUcYHHTU7kmIa57S1pDSd5/kmbPwL2u7UEC8g792o71yMkG2kaYqKi2+SyJRFI9koRzkQww1UQj9RRNbDH4qDG5J+NG8R3IKhUL8xOk29/oucAXD1RU5qWz2ZZ24+Q4vB0uPvcoHFzbtM8tHfzQu0647IHCfv1QlLEOzBrXa7jdM8yjPSv2GjhbjZZM248GHNNv3SfONU5+3Hbmn+B31VfiMYWuILRI3yYPlohsHtV76nV9XBgmcxiy1Y+ocnpbdivBGr0hOJ6SOa8MDRmcQIcC033gTdR4lwOvPQqk641MZlc0zTJcd40sAfEK1xVtN5VktTVhUYxdIMqjsDzVHs3AObWe53w3g8ZIPpCXpPiCzqgCQQHGRa8CL+JQ+xdtGoCx4l2V0Ea9lpNx6LndRCdNx+DRB0i2a54YLbklbtUo3kH1XV6kN13fYVT0gxTqbaRaYIDj7ea15cf00iuErdl50LwmVzQ8AkNe68GDmbBHNXfSd8ZO53+lVvQvEdYc5EHq7xpct08kvTGtFRg/dnzJ+i19Kr6Z3y27/5MuZ/7j4X+Cne4uFQcWEecrZ7FZlw9MAAdhsxvMC68/NYhlRwsQ0Eeq9C2SZo0/wCw32Rwqsr+CZ3eNfIS6oo6pzNc072keYT3KMha2zMkjBMrhpgm4j2C1vRavmonk4j0afmsEztGTq4N9Wj6rY9Dj2Ht4PHq3+Sz9O5WvVGnOlRebTaHUyD+77hed7MwnVF7SdXvI7joPRejYz+rd3T5XXljcY52OLToMwA4AifMxdZeti5Zk1xW/wCGP0TqMkWGAJvrqfQla7Zrs2FAP5KkeGYH2csVhqsPcODu/mtTsOtno4hotGV45SD/ANiaLUoyj7TFyp7N+0ZzbuwZxXWtMNBEju/lARuGI7QBEgCRvE6SN29D9MtquY8MZ2czRLt9xNtw3ee5U/RTEEvcD+anPiD/AORXOxQnSlJ7LZfBsTvGvYWxh6x17Tb3+ZQXSTFVaNNr6dWpTioM5Y97MzSCAHZTe8R3o3EPLascbqDpFSNSg8RMNnxb2hHiAujikk0USV8g2ytq4isDlNR8D4nVXtnTQQT5o1/4ifhdH/Wdr5Kh6L7QPWZA3tRPb0I0MAd4R/SHpNUwz2sFFhzNzBxkjUgiBF/qrdLboj+xPUOIvZ0/9V30QbMPWe/4WsvJe45yeQmIVeOmFVx/qqX+L6qz2Xj61UOhlNjhoQHacbkyknFxW48FtYbR2K03fmqE37WngNIRM0mdnPSEbswt6rI46tiHFwqVrAkRIb/hsFX9WP8AmFBQT8lixtnq/wCNqNccoDh5/MI6ltJ2hYZ1tP0+aw2Gqlzyc1zeQSLn+a2myqeVhcSSTYTew7+fssUtSlVknCKjbQa2pJG5GSCI46qsY6XdyeMXDwyJLucRr9EFa/JRKF8BJY1jYAgaoXDvlxKIxj7KupPhpMqNW6XgaC+m35IdpvAvNySPAfZU+yaAIDzrfuhVeOqTH3rdW2zX5aRdwHsFViipZGy+dxgkCYvCtcXvc5wN4AjdYTwuE3o/8T3HQANHjc+wUT60yCfsKTDO6vDPfxLj5W+Ssx1rT9KwO9LX4B9lMmrVqagnXvJ+gRWJdLmjmPv0QOwHEU5/U4/RHURmqjldae5JRorcU3Y7GvklrmZmmBuPK4KAGzKVPNUZLSW5Ym3ac0SAbjf5qwqi45lRbQ+GOLmj/M75BczXJ5VFPl7/AAXSpRBMV8JIJ1iD5XTsY1rgGPbmaQPA+47wh8S8HK2N/r9lHVPiaOfsFu6udQtFeGP1Fv0NoNYajWmQ1jIn951S3p6IPpgZriNzGj1cT7hB0ukbcI9wLA7rMu+LAuPD95N2ntBmJeatOcpAaJsbCDv4rb0kk+mV87/yZM0X32wKmwQ4O+EtaPC4ut9st0Uaf9hvssPQEh/dHutts8fsaf8AYb7BTE/60vhEzL+nH5CS9JmUb2pACtTRn2POKnZqOA0EDw3ey1PQp89aP7B/zrLY4EVXAD34ngtB0If26o07DfQu496owybaRqzRWls1+LE0nji13+UrAV8KylWcQMz3uN4uGzMcgAR3re1MQzK7tt3gwQYOmgWLx7QHMdxBPmM30WX/AFKWmUKfsnReUAUCG1HDfPyC0HRiu11Soxp+KmfMED/UVlcWR1xHEAonZO0RhqvWvByNDg6D+qYt/ahXYZpNJkywtOi12nsqnWDKryYygEafDa7vpCEwxp03dWxsXg5RYH947z5lXNHK+m10AtIc5s3jNlc3xhxVS2z6g5g+Y/kuPqadXsasW6aK7aLP2gvCnFAOaTmuRO6ND9FDtwaHu+ijo1hls3de/wDLmVr2uxUmZXZo6vEt5OczwBI+QWo6SbDfiQzq4zNDid3ZtPrCye1pZWc4cWvH33gr0bZFcEU6m4iPBwyn3W2c2o6l6Kb0nm2wNlvq1m02ODHPJaCbCQCYmJBtHitvhOi+IwZNSo9jmuhtiXEG8HtDTd5LNV2nDYt5HxU6vWNGn5g8D5LedItrtfSDM7iXQ4WsRmls2taCjKcXBt8vge52lHjyZzE9GPxNc5SAck3tYEb9+qhqf+n9cGA5pHf/AOKuK1Y02Ne0kRvHDf7qT+l3/rPqsX6icNmmaYxk/wC1qvuUOzMM4VA1zSHN3EEGTpMrdVG5GNbwEfUrM9F62ctzkHKS8E67oEnW8HwVxtDFC4nW2vmrMsEpNR3KnJyqyejUtMobZuJYar3vcGwCBJjynkPVU+0MeQGta65MW1VfiKjpyGCQ6N1ybajVTttrcZRTT35NltDEAtzAyCJHjpY+CqMXUDWtE6qPH4j4KZeCRE3/AEj6+yrMXVLyQ2XENOUAFxnUmBuABVWHE2pOuXsTaNKyb8RPa8fojsS11On2hbUzpvJCzmyalSWmqYaBm7YLZkgCJF4FwFY9INrNLcoM2Ma74HDhPBPDp3FtBnkTaono15Y5x3J21sSW4drZ1gEd9z81k8BjXl2STqbEyIJVntWrndSYDOZ0fKPVWdnS2LrTSNVsvs0mNj8gJ7zcqXAOl73cBCCNVsZczQ7hIkfcKTZtcBjiTqYQyXVFa5ssS6XD74Kv23UjIOLnHya0f6iuOOY10l7dWjUak29YVVtHaQqVQ0RDGG8gyXOJ3cg1YOnwyedSa2SZbk4H0nZ6jBJ+KPRXDx+0HiqLZNQ9fTDoO+RzjXzVljse1hqOucrSQAJO+/d3rV1kXNJR8gw/S3Zl+k1Wa8T8LGk+OUW5yVZbEeDQbB4k+ZPzVRhH0aueviqdZ1wxrmZgxrh+pwY4TBbbdzlWeCAYIY0in2g2TmMXi8CdNYHculjx9rFGL5MmSWubaLrZN2VLz2o9B9UXsXpYGF1OrJa0lrXCOyAYDSN49VX9Gak0nkjWpN+5oWPZiw6pVEuLW9ZUkBpktcJEkgk9oCFRiTllk16RZkitCTPccNVa9oewhzXXBCmFNeV0dr/gi0txVMh2WWSD8UfGz8sTc+qLp9PaYrimXPIqOLQ4VHQxxeWgROXJaxvryW+MfZilF+NyTaUNrPbvk/5nfRVW08YWNygkZoaYMcxPEIrb9WMU7XT/AFO3qqqOaXEvAfYw12hIj4jmEDLm37huWHGnONGxtR3A6mLaGkgkOdMkfpIsLeMrfY1sspv45fVjR7rzylVe5lWnlpZA8Pc6BLCJ7IqHQbom8d86evt9obhqDhfJTLnTdrsxaGlvMNk33hUdVgc4qluizG3qtjtpCKrDuLfoq3azS6m6+rdyP6QuDchnQeNyR47lWYlwLddx+chW4m3FME40zYdE6mfC0ryGtaB5OZ7tCjxDQKp5t9j/ADTehlSmaRFMBtNuYxme6C17XRLwCbFx5SjNq0Ye0/vFvmD9Fzc2PTO19/5HxOpNMrNqsBpidN6gZhmt3DkY++KPxjJpuHBUmBDiCDuBGvf9FtxtaVtYs7vkpOllHKWvgXBaY46geUq36MYsOwsE/CCN+5A9K6BNKY+Eh3duO7g70QPQquP2lMmN611qhZVwyx6Yx11KsNK1Jrv7w19wPBI3ECpSpvkFzWdW8E6FkhhHItDfFTdJ6IOEY8OBFGq5hPJ5BGvNwH93kqLZ+Ia0lp0PaBFzutrpafNZ9F4/gthKmjaYao2pQLTe0FZ2lWdpexINtSLT6Kw2FimuzbvuEBtCnkqOgAgmd1t0eiG3kdOi1wtMNaOwQR8k2pQDiTlubkzqrb8IeI8AfmSnNwPFx8mj2atrxJu2Ud2ig/BCZi6UYM6zvB04LQDADn/EfqnjZ7f0+d/dHt0DumbqYe8wB4IvZ+NfROamKWaC2dTBiRGaN3BXP4Fo/KPIKdtBHtqiuU7KevtOtUIz0qT4EDNRLoHAOIsO4pTgmVAP2Apn9TAyPHP2o5Aq36lPbSSvFYFOjMYjYDmdpr6ccBZ3iIjdxUFHZLSTnLp4gfzC1pw6Z+GHD7hOobbgeRmZfsZoILXu/wAQ9JKU7MB/M7yf7kLS9RySGhyUcEFZGY7F7BBuHHNuP2FANlvAgfL6LZvw3JQuwY/Sok1wRyvkyVDZlQEu6wt5jUCBOm6yBx+AytL31LkWJeASP0nTKSDzW4ODEEEWNrGNVEcI7qzTdD2kReBbvBmeai5smpcFB0afWpUP2LgczpkuacrYu1rHyC7MGdojTNETKFfSr5nOcZLnFzoIAlxkwNwvot/gMPkp5T2oAAzAEgCwExogcThpOg9E7lqe4iVGZ2bhcSGmn1mUEzY31nXdw36LQ4Do11eGrU21HONVj23yiOtyZ4MfuA98pcPRgq8wjrBV1TtDarVMK28Oto5A2XBzHDvY9p1Pcgtp7NpvAcGgFj31AAxpl7yDcHW8mN8owv8ABR1n2Ubl7FSR5ztTFVTXc51MkT2XAAWkkb+Bi3BQYbHMa+atDraZaWlhOU9oRmDiLELVYmgC49+4plHAtOvs0/5gUYRUeEGUm+RDsDB1MDUqUmdp9I1GiXBzXhrjDm9q8kCOVtVi6mCaaWetXFOq1rmNlrv2hY57GnMTaGsa2w3BeiUsJl+GoWf2WUx/oWO6XYLKaIu/tVCDaQ5z2OuAOJJ0V2Fa56brn+BZvSm+XsZrpBtJ9SuXGRla0NEm3ZknzJKtaONBpgmJcBIka70b0twop085G8AmOBkTbhKsnbJYdAB3W9BAUyYoxxQdbO6/AY5ZSnJev8juj21KNIMptc4l8ipeWgupluXMWtgyC7KM1t91PjOmlNzaZdTe17g17soBa1wMOaSSDYg7lDT2Ew5SZlrg4dqIcNDpqpn4BoEZQRJOjRcmToRvJKwSwQk7L1N8sI/p2i5roJEjhv8ACVT4bH0wS8l0F1uYngfLxU1TZ1M//W7/AA/96ExHR+m8aOb3Ee1wmjgilRJZGyTaWMpVKb2Bxu0iCI1EfRZnozXyYiDvaQeS0NPYmUEBznd5dbughQf0EAcwHa4yZ9VbGKSaE1FzXph9DFU83xUxUbvhzJk20s6TwDeSxmAxBFSnlaxxL2NGckNlzgIeQbNvrBhaCrhXEQ5oP90FVeI2Iz9MXmLx5IY4JN2+RnLbYlxmLxlEGnUBYGgEMeMpLM/5LAkSLweKtNlGriKecMeQCWyIvF78735ygttA1qdNgNTNTzAdY8v7Lru7bjMiLCeSCwuZjA0kggXEaE3jXdp4J+zCSvYXuyXB6cGKQNShOae77+9d6crEaxS5U1n39VKCPT0QbCRFnL3+9Egb8vdSOfE8hPn/ALJHO1idQPZRMAzIly/f3wXZvcjz0+SST4+Vx3ogEcE1zkrjeOPfp8iFHn+ullCHSkLymOJ7j9/cqN5++d9FCEvWFRuqHko83396pC691Akgqp7X8kLP397lJThQgY2pAQtSoFKeff8AyQz3X77/AGUEQcwhH0H23quYeW9FMefIoMIYavFMq1BfX7vuUOfxi+qYanr9wgAFxEJKUck5xC5kePiiEIaQUDtLCMqAS2S24tpbiEaIiVDVePsKEKbEYJlRuR40IOrt2iLYwgRM95RBcBx9fdJm3wY9PNFvaiD6YMJHt5JGO+/9gkfUSUNYzJxELi37lOIJ3Hx0T2MPAJkKyEtHBcKfJSkciO7f5GyYI5+tkxBrqfJMdQHBTwNx9U4DS/sg0iJgNXBNO6PAe+qD/o/7uru/HekMoaSWywaefPffSII0CfbgedongBOov93XLkwBxn5mTpwmNPoE8md0TBuN3DWPDvXLkrCc7SZ1dx58+QTCJnkR/pO7f5fNKuUQBrwO1JFhPh423HiudqQORE8fPu81y5EBHm8Jvpod/wAzfmml/wB/pPCT4WHzXLlAkbye7n5abi0/fJmfcfr/ALt9ly5EA1w+9R4cdO9Jk/lvnmfvcuXKEFdTI7953Dy0SA77ADxPvZKuUCPL26Tc/feoy9s+G76FcuQANaNIA15eynaDJExb7sdVy5BjDiQAD4fcps7t2o+/5rlyBCGq8Rp3/Z+qYx/d8vvxXLkQEjaxiPse6a5+437jHkQfRcuQCRlk/CI8/knsZltMHu+l/RcuRIStpt197e30UhaBpHfp6lcuQCMcPv7gJn39zZKuRQGIR96+9kwjlPdf1IhcuRYojmTpryv/AIimtZ3g8j7k/JcuRCLlPfG4bu870yD9gLlyDCf/2Q=="},{mapName:"Mars",mapUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAHYAwwMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABwEDBAUGAgj/xAA5EAABAwIDBQUGBAYDAAAAAAABAAIDBBEFEiEGMVFS4RMXQWGUByIycYGhFEKRsSNyssHR8DVzkv/EABoBAQACAwEAAAAAAAAAAAAAAAAEBQECAwb/xAAkEQEAAgIDAQAABwEAAAAAAAAAAQIDEQQSITETMjNBQlFxBf/aAAwDAQACEQMRAD8Ag1FVUQEREBERAREQFWyKo4oPKLo8E2Kx7GwJaWhcyB2omnPZsPyvv+gXT03slnLQavGIY3eLYoS/7khYm0Q7UwZb/lqjVFKcnsnpwLMxeXNxMAI/qWpxD2YYjTtLqSup6gcHgxn+4+6171/tvPDzx/FwSLOxLCK/C35a+lkhJ3Ei7T8iNCsJbo8xMTqVEREYERVQUREQEREBERAREQEREBERARFciifNI2OJjnyPIDWtFy4ncAEGTheG1mKV0VHQQOmnkNmtH7ngBxU1bHezvDsEyz4lHHXYkG57yC8cX8rTv+ZXvZLZ2m2SwQmaz8SnaO3kGuU+DGngPufouofOaaINkcTLIbXtdcM2XrHiz4/E1q1/r1VVAOjn2tpZairqfw/vh1teF1WSWJ8jmdqxz76tB1WNVOzNyubbSyr5ze+rqmOIjUNXWYw8Tl8VU1zR4MG8+avR4o5wc2Vj8vg7h5FWJ+wp2aRM47lz1TVfxXZCRrrqpOO9cvkQ5X3h9mW7rKmlfFJBMGPjcNWvFwfoo+x3Z6NrXVOGggDV8O+38v8AhbyWZzm77lWWTuadSrDFjjr9VHKyxlt7DgSDfVUW+2goGtJq4G2B+NoG48VoViY0r5jU+iIiwwIiICqSDawsqIgIiIPTiDuv9V5REBERAREQVsu89lOEtnxKbF5mZmUVhDfcZHX1+g1+ZC4UvL3XIF/IW/ZTRsFCzD9j6MOb79TnmfbzJt9gE+epHFx98kQ6CqnaIJGvFzbTy0WrrcZkliaQ7KA0Znb7aLHrqovHZgk31P8AhakveagtYTldp7u4+SiXpE+yvbZNT43mGymMsLYc4JuZCAPrqs+qe0tuNR89y56KudFEInXbluA4a6cFbkxGd7xFG0uaNXF+ircuO1rbhJplrWPWxlY5zTwO5cviUD45CWtNid66Bsx7NgNvfNrNO5VrImzMy2AtbVwWuHNOKzfNijNRyIfmuPEK24kHQrcuwtpkdI4HKDewOv8AuirLRUcjPcYWPsdL+Kta8qsKe3CvMNI8CaCSJ2uZpC42dhjlcw/lNl11Q11PIQb6H9QuWxC34uS3FSYmJncIGeuqxE/YYyIiyiiIiAiIgIiIKqiIgIiICIiCoU7YPG1mzdDY/BSxAf8AkKCQpo2Xm/HbK4eInfDT5T82nKR9lrb4n/8AP/Un/FipdaTy8EhygF7TZwG9ZE5Do8gAaBrmtuWsme6JxDX3J3ghRck9vFr+RYxSqc9xLHWstY2rl7UNy3Cv1TSBfdwHksZkUj9Ad44LEVrFdId7Xm/jYRYhJ2BaGHmbID48LfZZNHXVD4v4oc8E3uRY2urUNEKOgzVAJc8W++5eoQezY4sDDe4F1Et0neoTscZa67T+zKF3PzFwDja4DtArdYeyj93W3jxVHygNGtiPuFjVDhLGXPOg3AFa0r7Eu1rR1mGjr580eV4sR4lcnUOzzOPmugxudoabb/Bc2Tcq2xfHnuVae2lERF0RBERARFVBRERAREQEREBERBUb1I3szxFstDU4bITmhd2sYvvad4+h/dRws/BsQkwvEYauHUsPvNv8TToQsWjcad+Pl/CyRZMlcMhL2xhzZG3Go3rU1VK7MHttlNj8lsqHEIMRomzQva5j/eFx4qxJM1hMYFj43Kr7TNZ09J1i9e37NZLTCQEua6/mF7oaVozuPuljdDvWya22pfmH5brw5rQx2Rga471GvknWiuGInbnsVqZe0PvOIZuv/ZY7aiadmaV7nWIuN2i2GKQXDnkaneAtJlzvLM5Hh81LxxW1EDN2rk+tjJUaAkjN5arErq4Ni0JsvFVUxRRts74dOC5zEa50ri1p0W1MUWaZuRNIWK+oM8h10CxEuqKZEaVFrdp2IiLLUREQVCoiICIiAiIgIiICIiAqqiINzgGOz4TJlBc6Bxu5l9R5hdhPjMdbTNfA8OcNczVG6uw1EsDs0T3NPkd60tjradpeHl3x1678d7FjMrbCQgtHlqthFi0UrNCb+ajxuJy/nAK9jFpW/CFyycelvkJGLn2r9l2tbXRuaQTouYr6sRyF0ZIPEFauXEp5PzWWI97nm7iSs4sPRyz8v8T4yqmufKC0nx3rEvdURdojSHNpn6IiLLUREQFU7lREBERAREQEUjQ+xba+aFkrGUOR7Q5t6nwIvwXvuS2w5KD1PRBGyKSe5LbDkoPU9E7ktsOSg9T0QRsiknuS2w5KD1PRO5LbDkoPU9EEbIpJ7ktsOSg9T0TuS2w5KD1PRBGyKSe5LbDloPU9E7ktsOSg9T0QRsiknuS2w5aD1PRO5LbDkoPU9EEbIpJ7ktsOSg9T0TuS2xv8FB6nogjZFJPcltjyUHqeidyW2HJQep6II2RST3I7Y8lB6nonclthyUHqeiCNkUk9yW2HJQep6J3JbYclB6nogjZFJPclthyUHqeidyW2HJQep6II2RST3JbYclB6nonclthyUHqeiCNkUk9yW2HJQep6Ig+kML/4yk/6Gf0hZSIgIiICIiAiIg1FThlVLVPnixF8Ti73BlJDRwPvaj9FbZg1SyS7cUqA05swu43vfxLja1/C37WoiD0/CKwucWYrKwuGujjfh+bhppxO42I9swyqjpuybiL7Z3yXym/vXNtHX0v/AKdQRBcoqGopyXS4hNNcG9/mCN5IHiPqrNVhEk/bn8S1pe5xZeNxyXDQfza7ncNXbtERB4kwWZ7yRiMrQSTo3U3sbE33XF/DerbsCme5jxiBblJNmxuF7uvz+CIg22HwOpaVkL5BI5u9waWg630BJt+qykRAREQEREBERAREQf/Z"},{mapName:"Jupiter",mapUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAIgApQMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQYCBAcDAf/EADkQAAEDAwMBBQUHAgcBAAAAAAEAAgMEBRESITFBEyJRYXEGMoGhsRRScpHB0eFCghUjJDM0NfAH/8QAGAEBAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAiEQEBAAIBBAIDAQAAAAAAAAAAAQIRAxIhQVExkQQTYYH/2gAMAwEAAhEDEQA/AOHoiICIiAiIgIiICIiAiDfhZaHHhrvgEGKL6QRyML4gIiICIiAiIgIiICIiAiIgIiICLJjHSPDWjJKsNssx2c9uXKLlISbRNLbZ6g5xpHipmlsMYwXtLz5qx0VrAGXDbpspWKgaBsMrG8vppMFcp7Q0DDY2j4LbbawB7nCscdG3bIxjy/Veoo8h23wbv+qjrp0Ks+1NPMeQtCqsFPLzCAfLZXhtEXOOkHjoOF5mhGe93lH7KdDmVd7PSx5dC4kfdd+6hZYpIX6ZWFp8Cuu1NFDtjkqEudkiqGFrm5zxtwr48ntFwc6RSF1tc1veSQTETs7w8lHrad1LNCIiAiIgIiICIiAvrWlxDWjJPRfBupiw0RlkEpGx4RCSsdpLcEty49VbaG3Ow0aCfgvlspXNA7pwrDRxPGNIIHjnhY5S2tcbI8KelL3OAz3Dh3dUjDb5TywuB675UhR01W4hsLS4k5w3k+eDupEQVsZczdr2nDg4g4/JV6f4vv8AqJitTmYeYHbY8SPyXq6imkAAjPO50/opuOlndgudJk77HbC9fsb9tRcfDV4qNG4rb7dMXFpDnajwNsLF1rlwWPbJgjx4+StIpntaNLiPQhYOp5iQe0fg+m/go6ancU+S11QzpjjP4srVqba48sLfQbK6T0krty6XbwwFoy0kjc4dIMnJAA3TpLdufXOzsliex8YJcMYwuaXq1yW2pLSD2bvdP6LvFbSvdnLnn1aFTPaazCspZIznVjLXEcHot8J4Y5VylFlLG6KR8bxhzHEEeaxV1RERAREQbE1FUwUtPVTQuZBU6uxkPD9Jw7HoVrr0fNLJFHE+R7o486Glxw3O5wOmV5oMmN1va0dThXOzRdkxmOiqVvbqq2Aq72yNzgMYA8U3qGt1Y6J8jcFmvbfG2FMQVdS0byc7bYyFDU0U/dZG8FuVJNoZ2juyMB8eqwyz15dGOGPlO01yqWNLo3TP0jHdI5+q2oblWCM/5Ugdzg7fVQsFLVPySY+7ydIJU3S2vRCDLM4E7nTtn4ZWdzuvlpMcN60947jVuIayVrNt2P8AeB+OxWubldBy9zj4Nxv+6947fMYtDpmgas4SeiayB7Y6ubB4aDkLK8u/LeYYzvqPIV1xkYHfbBvsGHZwPhuFh/iF0YQDJI8ZPeBDvkCThYOo7pJCC6ow08ZxqPx5W3S26d8eipkc/LcDJxgfRT/qLnhPDVN1uHaFrifIasE/nheFRc62Kfs5w6M4yByT8eFKzW6RsBiZNI6Lo0tDtPoSo+lt8joaltXKQGNLo2OOQfLyVsbPauXT62jZbrM4nkgcnCirjWPlaQ3ccZwpiuom6XFspAI91/I8lCVcTwSA7X/Zhb8Wff5YcuGMnw5n7Y0nYXITADTO3Jx94c/ooBXT25iP2SJ5G7JPkQf4VLXRnNVyz4ERFVIiIgIiINy1f8oDyV+tMWsNwuf214ZVsJ4Oyv1oeMN7+NuMJZud0d9rPSwTYxjHoVMUtFU5G3zUVRTDbFQc+OlTVJUMHNXIfEbYXLePF0TPPSSpqKtAAaAPTC3W22tk73fPnrWpFUR6c/apG56klSML3Oa1xqqkh3uHSBq+SyvFjff20/ZnPX0witNW14LodvxLagtk/ILj5bfRezdQx2lTUZJ2aMHfwWTZQIzJ21ToaSA5x6jkYx6qs4cZ7+03mz/j0NFMAC5m44wF4TUc5JLnkfABaz7liNz3vnLOSGNH1/bZYQXeKXLoppyOhDm/TCi4SL4/ss3JskoJf6pTjrsVpPt7y7/JO/mFtvvEYIZIKg7+9q3+S8ZbtgHJqhttwk4sS3kk+EVVUc8TsyNyepJURV08oBLmkh3GCpqqu0UgOqeoHqz+FC1lfE4ENmdj0XVx4YxzZ5ZqJ7d/9a8acYc0fNc9V6/+gTt+xxsY8kvkGcjoAf4VFXVl8sIIiKqRERAREQZRuLHtcOQcq6WaYvDS3cEKkqd9na7sndm4+7wPJWndWujW+CR4Bb73TJU9TUVW8tPaDUNxqcdlWrZd2gDZWSlvLBHnQScdFFxx8kzy8JanorgZ89jHIee0e/k+XT5KVFLdmxs0Rum0jOHTNbg87c5/9woiC9yhwDWMDh7wccbeqkIbzX6SdEIP4wq2Ye2kyy9R9M13Y4ifVSAjT3m6g7PosLxWOt1M0y4ml1YAc0tYzzx146rfhu1aQ4PERbjYNdjCyNXNXuENRDE6Mg5Y4g/NZZce52rbDm1lLlj2VVntHW6z/qZHEfeaNJUpTUUFewVdNI+iqHNy8MGzvNbrLPbKaVsrqaIgnu5JIB9FKG4gNDWysDW9MbLDh/HylvVk6ef8zDKTox0hP8KuoOqO5NfjyC1i2+SOc1+jY41FjcH8ip59yhAwZGeoaFoSV0jy8SN0jUdBDtYcB1249F1Thxcd/IyqEqqe5AHMsTv7AoGv+1xtxL2frpVkrashp/PoqZ7UXcUdHLNIMaRhrT/UegW2HHjO7LLmt7Oe+2NWZ7i2HORC3f8AEf4woBZzSOmlfLIcve4uJ8ysFW3d2QREUAiIgIiICyje6N7XsOHBYogt1kubXhu4Duqt9BUsLWaTv1GAuSwyvhfqjOCrLab6O61/vDxSodMpqmNrG4GXH3m4wPgpBlXGW92MjoT4KmUd4BaP3UtDdgRjs2keay2uscdQO1OWHGO6eoW1HJC0hxifnnIeRv8AAqAjuwz/ALbc+q9heANixufIqJZ7W/xO9sDKS4OO+2p5cVjrY4EZc/JONeMN8tlCG8420Aeh5+S8ZLsNzocc+L+E3EJaZ4Y4ARtcPEE7LSqpsAYYB56lGVF1aB5fiUJc/aCGnicXu0+G6tjYipS4XBkLXOcQ0AZJJ4XMfaG7uulT3SewZswHr5r5eb1PcnaBlkIPu5971UUtd9tKSCIihIiIgIiICIiAiIgIiIN2luc8G2rUPNTVHfozgOcWnzVYRRcZRfobs0jaVbLbpgbSLnAJHBI9Fl2j/vu/NR0RO66K66MA3lwtGpvsMQ70w+Bz9FRy5zvecT6lfE6IhP13tG+TIgafxO/ZQk00k7y+Zxc7xK80UySAiIpBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERB//9k="}],pk={gameType:"",map:"Berlin",numberOfPlayers:0,playersArray:[],duration:0,gameStartDate:sk.getTime(),gameEndDate:sk.getTime(),startTime:0,endTime:0,credits:0},hk=[{id:"12345",imageSrc:"./image",location:"Berlin",name:"bot123",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"23456",imageSrc:"./image",location:"Berlin",name:"fighter",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"34567",imageSrc:"./image",location:"Berlin",name:"killa bot",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"45678",imageSrc:"./image",location:"Berlin",name:"brain",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"56789",imageSrc:"./image",location:"Berlin",name:"C33bo",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"678910",imageSrc:"./image",location:"Berlin",name:"My Giant",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"7891011",imageSrc:"./image",location:"Berlin",name:"Ironbot",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"89101112",imageSrc:"./image",location:"Berlin",name:"robocop",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"910111213",imageSrc:"./image",location:"Berlin",name:"johnny 5",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"},{id:"101112131415",imageSrc:"./image",location:"Berlin",name:"wallee",armour:"10",seats:"2",weapon:"laser",speed:"3",status:"online"}],vk={botName:"",botId:"",password:"",status:!1,mainPhotoUrl:"",otherPhotosUrls:[],idToken:"",uid:""},mk={games:[],creatGame:pk,bookableDates:[],errors:["Map"],loading:!1,fromDate:new Date(uk).getTime(),toDate:new Date(sk).getTime()},gk=FE({name:"gameSlice",initialState:mk,reducers:{setGames:function(e,t){e.games=t.payload},getGames:function(e,t){e.loading=!0},getGamesSuccess:function(e,t){e.games=t.payload,e.loading=!1},setCreateGame:function(e,t){e.creatGame=t.payload},changeNumOfPlayers:function(e,t){e.creatGame.playersArray=c(new Array(t.payload)).map((function(e,t){return{playerId:"Player ".concat(t+1),botId:"",botName:""}})),e.creatGame.numberOfPlayers=t.payload},requestBookableDates:function(e,t){e.bookableDates=[]},setBookableDates:function(e,t){e.bookableDates=t.payload},assignBotToPlayer:function(e,t){e.creatGame.playersArray=e.creatGame.playersArray.map((function(e){return e.playerId===t.payload.player.playerId?he(he({},e),{},{botId:t.payload.botId,botName:t.payload.botName}):e}))},saveNewGame:function(e,t){e.loading=!0},saveNewGameSuccess:function(e){return he({},mk)},saveNewGameFailed:function(e){e.loading=!1},setErrors:function(e,t){e.errors=t.payload},setFromDate:function(e,t){e.fromDate=t.payload.fromDate.getTime()},setToDate:function(e,t){e.toDate=t.payload.toDate.getTime()}}}),yk=gk.actions,bk=yk.getGames,wk=(yk.getGamesSuccess,yk.setCreateGame),Ek=yk.changeNumOfPlayers,kk=yk.assignBotToPlayer,_k=yk.setBookableDates,Sk=yk.requestBookableDates,Ck=yk.saveNewGame,xk=yk.saveNewGameFailed,Tk=(yk.saveNewGameSuccess,yk.setErrors),Ik=yk.setFromDate,Rk=yk.setToDate,Ok=yk.setGames,Ak=FE({name:"userSlice",initialState:{errorMessage:"",successMessage:"",warnMessage:"",infoMessage:""},reducers:{setErrorMessage:function(e,t){e.errorMessage=t.payload},setSuccessMessage:function(e,t){e.successMessage=t.payload},setWarnMessage:function(e,t){e.successMessage=t.payload},setInfoMessage:function(e,t){e.successMessage=t.payload}}}),Nk=Ak.actions,Pk=Nk.setErrorMessage,Lk=(Nk.setInfoMessage,Nk.setSuccessMessage),Mk=(Nk.setWarnMessage,FE({name:"botzSlice",initialState:{createTankBot:vk,tankBotzArray:[],loading:!1},reducers:{setCreateTankBot:function(e,t){e.createTankBot=t.payload},setTankBotzArray:function(e,t){e.tankBotzArray=t.payload},saveTankBot:function(e,t){e.loading=!0},saveTankBotSuccessful:function(e){e.createTankBot=vk},saveTankBotUnsuccessful:function(e){e.createTankBot=vk}}})),Dk=Mk.actions,jk=Dk.setCreateTankBot,Fk=Dk.setTankBotzArray,Vk=Dk.saveTankBot,Zk=Dk.saveTankBotSuccessful,Gk=Dk.saveTankBotUnsuccessful,Wk={botId:"",accessToken:"",sessionId:"",loading:!1},Uk=FE({name:"tankBotSessionSlice",initialState:Wk,reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n},fetchCredentialsAttempt:function(e,t){e.loading=!0},setCredentials:function(e,t){var n=t.payload;e.accessToken=n.accessToken,e.sessionId=n.sessionId,e.loading=!1},setBotId:function(e,t){e.botId=t.payload},botSessionRemove:function(e){Wk}}}),Xk=Uk.actions,Bk=Xk.fetchCredentialsAttempt,Hk=Xk.setCredentials,Yk=(Xk.setBotId,Xk.botSessionRemove),zk=__webpack_require__(7248),Kk=__webpack_require__(327);var Jk=function(e){e()},Qk=function(){return Jk},qk=__webpack_require__(2791),$k=__webpack_require__.t(qk,2),e_=Symbol.for("react-redux-context-".concat(qk.version)),t_=globalThis;var n_=new Proxy({},new Proxy({},{get:function(e,t){var n=function(){var e=t_[e_];return e||(e=(0,qk.createContext)(null),t_[e_]=e),e}();return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return Reflect[t].apply(Reflect,[n].concat(i))}}}));function r_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n_;return function(){return(0,qk.useContext)(e)}}var i_=r_(),o_=function(){throw new Error("uSES not initialized!")},a_=function(e,t){return e===t};function s_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n_,t=e===n_?i_:r_(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="function"===typeof n?{equalityFn:n}:n,i=r.equalityFn,o=void 0===i?a_:i,a=r.stabilityCheck,s=void 0===a?void 0:a;r.noopCheck;var u=t(),c=u.store,l=u.subscription,d=u.getServerState,p=u.stabilityCheck,h=(u.noopCheck,(0,qk.useRef)(!0),(0,qk.useCallback)(f({},e.name,(function(t){return e(t)}))[e.name],[e,p,s])),v=o_(l.addNestedSub,c.getState,d||c.getState,h,o);return(0,qk.useDebugValue)(v),v}}var u_=s_();__webpack_require__(2110),__webpack_require__(6900);var c_={notify:function(){},get:function(){return[]}};function l_(e,t){var n,r=c_;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Qk(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=c_)},getListeners:function(){return r}};return a}var d_=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?qk.useLayoutEffect:qk.useEffect;var f_=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,o=e.stabilityCheck,a=void 0===o?"once":o,s=e.noopCheck,u=void 0===s?"once":s,c=(0,qk.useMemo)((function(){var e=l_(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0,stabilityCheck:a,noopCheck:u}}),[t,i,a,u]),l=(0,qk.useMemo)((function(){return t.getState()}),[t]);d_((function(){var e=c.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,l]);var d=n||n_;return qk.createElement(d.Provider,{value:c},r)};function p_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n_,t=e===n_?i_:r_(e);return function(){return t().store}}var h_=p_();function v_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n_,t=e===n_?h_:p_(e);return function(){return t().dispatch}}var m_,g_=v_();!function(e){o_=e}(Kk.useSyncExternalStoreWithSelector),function(e){e}(zk.useSyncExternalStore),m_=o.unstable_batchedUpdates,Jk=m_;var y_,b_=__webpack_require__(184),w_=function(){return(0,b_.jsx)("div",{children:"home container"})};function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y_||(y_={}));var k_,__="popstate";function S_(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function C_(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x_(e,t){return{usr:e.state,key:e.key,idx:t}}function T_(e,t,n,r){return void 0===n&&(n=null),E_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R_(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function I_(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function R_(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function O_(e,t,n,r){void 0===r&&(r={});var i=r,o=i.window,a=void 0===o?document.defaultView:o,s=i.v5Compat,u=void 0!==s&&s,c=a.history,l=y_.Pop,d=null,f=p();function p(){return(c.state||{idx:null}).idx}function h(){l=y_.Pop;var e=p(),t=null==e?null:e-f;f=e,d&&d({action:l,location:m.location,delta:t})}function v(e){var t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:I_(e);return S_(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(E_({},c.state,{idx:f}),""));var m={get action(){return l},get location(){return e(a,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(__,h),d=e,function(){a.removeEventListener(__,h),d=null}},createHref:function(e){return t(a,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=y_.Push;var r=T_(m.location,e,t);n&&n(r,e);var i=x_(r,f=p()+1),o=m.createHref(r);try{c.pushState(i,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;a.location.assign(o)}u&&d&&d({action:l,location:m.location,delta:1})},replace:function(e,t){l=y_.Replace;var r=T_(m.location,e,t);n&&n(r,e);var i=x_(r,f=p()),o=m.createHref(r);c.replaceState(i,"",o),u&&d&&d({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(k_||(k_={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function A_(e,t,n){void 0===n&&(n="/");var r=B_(("string"===typeof t?R_(t):t).pathname||"/",n);if(null==r)return null;var i=N_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=W_(i[a],X_(r));return o}function N_(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(S_(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var s=K_([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(S_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),N_(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G_(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,o=l(P_(e.path));try{for(o.s();!(r=o.n()).done;){var a=r.value;i(e,t,a)}}catch(s){o.e(s)}finally{o.f()}}else i(e,t)})),t}function P_(e){var t=e.split("/");if(0===t.length)return[];var n,r=m(n=t)||s(n)||u(n)||g(),i=r[0],o=r.slice(1),a=i.endsWith("?"),l=i.replace(/\?$/,"");if(0===o.length)return a?[l,""]:[l];var d=P_(o.join("/")),f=[];return f.push.apply(f,c(d.map((function(e){return""===e?l:[l,e].join("/")})))),a&&f.push.apply(f,c(d)),f.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var L_=/^:\w+$/,M_=3,D_=2,j_=1,F_=10,V_=-2,Z_=function(e){return"*"===e};function G_(e,t){var n=e.split("/"),r=n.length;return n.some(Z_)&&(r+=V_),t&&(r+=D_),n.filter((function(e){return!Z_(e)})).reduce((function(e,t){return e+(L_.test(t)?M_:""===t?j_:F_)}),r)}function W_(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U_({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var d=s.route;o.push({params:r,pathname:K_([i,l.pathname]),pathnameBase:J_(K_([i,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(i=K_([i,l.pathnameBase]))}return o}function U_(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);C_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),r=y(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return C_(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X_(e){try{return decodeURI(e)}catch(t){return C_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function B_(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y_(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function z_(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R_(e):(S_(!(i=E_({},e)).pathname||!i.pathname.includes("?"),H_("?","pathname","search",i)),S_(!i.pathname||!i.pathname.includes("#"),H_("#","pathname","hash",i)),S_(!i.search||!i.search.includes("#"),H_("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}o=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R_(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Q_(o),hash:q_(s)}}(i,o),d=s&&"/"!==s&&s.endsWith("/"),f=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!f||(l.pathname+="/"),l}var K_=function(e){return e.join("/").replace(/\/\/+/g,"/")},J_=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q_=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},q_=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},$_=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n)}(x(Error));function eS(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var tS=["post","put","patch","delete"],nS=(new Set(tS),["get"].concat(tS));new Set(nS),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rS.apply(this,arguments)}var iS=qk.createContext(null);var oS=qk.createContext(null);var aS=qk.createContext(null);var sS=qk.createContext(null);var uS=qk.createContext(null);var cS=qk.createContext({outlet:null,matches:[],isDataRoute:!1});var lS=qk.createContext(null);function dS(){return null!=qk.useContext(uS)}function fS(){return dS()||S_(!1),qk.useContext(uS).location}function pS(e){qk.useContext(sS).static||qk.useLayoutEffect(e)}function hS(){return qk.useContext(cS).isDataRoute?function(){var e=_S(gS.UseNavigateStable).router,t=CS(yS.UseNavigateStable),n=qk.useRef(!1);pS((function(){n.current=!0}));var r=qk.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,rS({fromRouteId:t},i)))}),[e,t]);return r}():function(){dS()||S_(!1);var e=qk.useContext(iS),t=qk.useContext(sS),n=t.basename,r=t.navigator,i=qk.useContext(cS).matches,o=fS().pathname,a=JSON.stringify(Y_(i).map((function(e){return e.pathnameBase}))),s=qk.useRef(!1);pS((function(){s.current=!0}));var u=qk.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var u=z_(t,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==n&&(u.pathname="/"===u.pathname?n:K_([n,u.pathname])),(i.replace?r.replace:r.push)(u,i.state,i)}else r.go(t)}),[n,r,a,o,e]);return u}()}function vS(e,t,n){dS()||S_(!1);var r,i=qk.useContext(sS).navigator,o=qk.useContext(cS).matches,a=o[o.length-1],s=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),c=(a&&a.route,fS());if(t){var l,d="string"===typeof t?R_(t):t;"/"===u||(null==(l=d.pathname)?void 0:l.startsWith(u))||S_(!1),r=d}else r=c;var f=r.pathname||"/",p=A_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});var h=kS(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:K_([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:K_([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,n);return t&&h?qk.createElement(uS.Provider,{value:{location:rS({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:y_.Pop}},h):h}function mS(){var e=function(){var e,t=qk.useContext(lS),n=SS(yS.UseRouteError),r=CS(yS.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=eS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return qk.createElement(qk.Fragment,null,qk.createElement("h2",null,"Unexpected Application Error!"),qk.createElement("h3",{style:{fontStyle:"italic"}},t),n?qk.createElement("pre",{style:i},n):null,null)}var gS,yS,bS=qk.createElement(mS,null),wS=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return v(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?qk.createElement(cS.Provider,{value:this.props.routeContext},qk.createElement(lS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(qk.Component);function ES(e){var t=e.routeContext,n=e.match,r=e.children,i=qk.useContext(iS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),qk.createElement(cS.Provider,{value:t},r)}function kS(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}var o=e,a=null==(r=n)?void 0:r.errors;if(null!=a){var s=o.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));s>=0||S_(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,i){var s=r.route.id?null==a?void 0:a[r.route.id]:null,u=null;n&&(u=r.route.errorElement||bS);var c=t.concat(o.slice(0,i+1)),l=function(){var t;return t=s?u:r.route.Component?qk.createElement(r.route.Component,null):r.route.element?r.route.element:e,qk.createElement(ES,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?qk.createElement(wS,{location:n.location,revalidation:n.revalidation,component:u,error:s,children:l(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):l()}),null)}function _S(e){var t=qk.useContext(iS);return t||S_(!1),t}function SS(e){var t=qk.useContext(oS);return t||S_(!1),t}function CS(e){var t=function(e){var t=qk.useContext(cS);return t||S_(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||S_(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(gS||(gS={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(yS||(yS={}));var xS;$k.startTransition;function TS(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;dS()||S_(!1);var o=qk.useContext(cS).matches,a=fS().pathname,s=hS(),u=z_(t,Y_(o).map((function(e){return e.pathnameBase})),a,"path"===i),c=JSON.stringify(u);return qk.useEffect((function(){return s(JSON.parse(c),{replace:n,state:r,relative:i})}),[s,c,i,n,r]),null}function IS(e){S_(!1)}function RS(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,o=e.location,a=e.navigationType,s=void 0===a?y_.Pop:a,u=e.navigator,c=e.static,l=void 0!==c&&c;dS()&&S_(!1);var d=n.replace(/^\/*/,"/"),f=qk.useMemo((function(){return{basename:d,navigator:u,static:l}}),[d,u,l]);"string"===typeof o&&(o=R_(o));var p=o,h=p.pathname,v=void 0===h?"/":h,m=p.search,g=void 0===m?"":m,y=p.hash,b=void 0===y?"":y,w=p.state,E=void 0===w?null:w,k=p.key,_=void 0===k?"default":k,S=qk.useMemo((function(){var e=B_(v,d);return null==e?null:{location:{pathname:e,search:g,hash:b,state:E,key:_},navigationType:s}}),[d,v,g,b,E,_,s]);return null==S?null:qk.createElement(sS.Provider,{value:f},qk.createElement(uS.Provider,{children:i,value:S}))}function OS(e){var t=e.children,n=e.location;return vS(NS(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(xS||(xS={}));var AS=new Promise((function(){}));qk.Component;function NS(e,t){void 0===t&&(t=[]);var n=[];return qk.Children.forEach(e,(function(e,r){if(qk.isValidElement(e)){var i=[].concat(c(t),[r]);if(e.type!==qk.Fragment){e.type!==IS&&S_(!1),e.props.index&&e.props.children&&S_(!1);var o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=NS(e.props.children,i)),n.push(o)}else n.push.apply(n,NS(e.props.children,i))}})),n}var PS=function(){return g_()},LS=u_;function MS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DS(e,t){if(e){if("string"===typeof e)return MS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MS(e,t):void 0}}function jS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||DS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FS(e){return FS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FS(e)}function VS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o){var a=FS(o);if("string"===a||"number"===a)r.push(o);else if("object"===a){var s=Array.isArray(o)?o:Object.entries(o).map((function(e){var t=jS(e,2),n=t[0];return t[1]?n:null}));r=s.length?r.concat(s.filter((function(e){return!!e}))):r}}}return r.join(" ").trim()}}function ZS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GS(e){var t=function(e,t){if("object"!==FS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==FS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===FS(t)?t:String(t)}function WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GS(r.key),r)}}function US(e,t,n){return t&&WS(e.prototype,t),n&&WS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XS(e,t,n){return(t=GS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BS(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return HS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HS(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function HS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YS=function(){function e(){ZS(this,e)}return US(e,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n=e.getBoundingClientRect().width||e.offsetWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n=e.getBoundingClientRect().height||e.offsetHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n=e.clientHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientWidth",value:function(e,t){if(e){var n=e.clientWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}},{key:"getOffset",value:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,r=0;r<t.length;r++){if(t[r]===e)return n;1===t[r].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e&&t)if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.add(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className+=" "+i[o]}},{key:"removeMultipleClasses",value:function(e,t){if(e&&t)if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.remove(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className=e.className.replace(new RegExp("(^|\\b)"+i[o].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className))}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return 0}},{key:"alignOverlay",value:function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t&&n&&("self"===r?this.relativePosition(t,n):(i&&(t.style.minWidth=e.getOuterWidth(n)+"px"),this.absolutePosition(t,n)))}},{key:"absolutePosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if(e&&t){var r,i,o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=o.height,s=o.width,u=t.offsetHeight,c=t.offsetWidth,l=t.getBoundingClientRect(),d=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport();l.top+u+a>p.height?((r=l.top+d-a)<0&&(r=d),e.style.transformOrigin="bottom"):(r=u+l.top+d,e.style.transformOrigin="top");var h=l.left,v="left"===n?0:s-c;i=h+c+s>p.width?Math.max(0,h+f+c-s):h-v+f,e.style.top=r+"px",e.style.left=i+"px"}}},{key:"relativePosition",value:function(e,t){if(e&&t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,a=t.getBoundingClientRect(),s=this.getViewport();a.top+o+i.height>s.height?(n=-1*i.height,a.top+n<0&&(n=-1*a.top),e.style.transformOrigin="bottom"):(n=o,e.style.transformOrigin="top"),r=i.width>s.width?-1*a.left:a.left+i.width>s.width?-1*(a.left+i.width-s.width):0,e.style.top=n+"px",e.style.left=r+"px"}}},{key:"flipfitCollision",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left top",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left bottom",a=arguments.length>4?arguments[4]:void 0;if(t&&n){var s=n.getBoundingClientRect(),u=this.getViewport(),c=i.split(" "),l=o.split(" "),d=function(e,t){return t?+e.substring(e.search(/(\+|-)/g))||0:e.substring(0,e.search(/(\+|-)/g))||e},f={my:{x:d(c[0]),y:d(c[1]||c[0]),offsetX:d(c[0],!0),offsetY:d(c[1]||c[0],!0)},at:{x:d(l[0]),y:d(l[1]||l[0]),offsetX:d(l[0],!0),offsetY:d(l[1]||l[0],!0)}},p={left:function(){return f.my.offsetX+f.at.offsetX+s.left+("left"===f.my.x?0:-1*("center"===f.my.x?r.getOuterWidth(t)/2:r.getOuterWidth(t)))},top:function(){return f.my.offsetY+f.at.offsetY+s.top+("top"===f.my.y?0:-1*("center"===f.my.y?r.getOuterHeight(t)/2:r.getOuterHeight(t)))}},h={count:{x:0,y:0},left:function(){var n=p.left(),r=e.getWindowScrollLeft();t.style.left=n+r+"px",2===this.count.x?(t.style.left=r+"px",this.count.x=0):n<0&&(this.count.x++,f.my.x="left",f.at.x="right",f.my.offsetX*=-1,f.at.offsetX*=-1,this.right())},right:function(){var r=p.left()+e.getOuterWidth(n),i=e.getWindowScrollLeft();t.style.left=r+i+"px",2===this.count.x?(t.style.left=u.width-e.getOuterWidth(t)+i+"px",this.count.x=0):r+e.getOuterWidth(t)>u.width&&(this.count.x++,f.my.x="right",f.at.x="left",f.my.offsetX*=-1,f.at.offsetX*=-1,this.left())},top:function(){var n=p.top(),r=e.getWindowScrollTop();t.style.top=n+r+"px",2===this.count.y?(t.style.left=r+"px",this.count.y=0):n<0&&(this.count.y++,f.my.y="top",f.at.y="bottom",f.my.offsetY*=-1,f.at.offsetY*=-1,this.bottom())},bottom:function(){var r=p.top()+e.getOuterHeight(n),i=e.getWindowScrollTop();t.style.top=r+i+"px",2===this.count.y?(t.style.left=u.height-e.getOuterHeight(t)+i+"px",this.count.y=0):r+e.getOuterHeight(n)>u.height&&(this.count.y++,f.my.y="bottom",f.at.y="top",f.my.offsetY*=-1,f.at.offsetY*=-1,this.top())},center:function(r){if("y"===r){var i=p.top()+e.getOuterHeight(n)/2;t.style.top=i+e.getWindowScrollTop()+"px",i<0?this.bottom():i+e.getOuterHeight(n)>u.height&&this.top()}else{var o=p.left()+e.getOuterWidth(n)/2;t.style.left=o+e.getWindowScrollLeft()+"px",o<0?this.left():o+e.getOuterWidth(t)>u.width&&this.right()}}};h[f.at.x]("x"),h[f.at.y]("y"),this.isFunction(a)&&a(f)}}},{key:"findCollisionPosition",value:function(e){if(e){var t="left"===e?"right":"left";return"top"===e||"bottom"===e?{axis:"y",my:"center ".concat("top"===e?"bottom":"top"),at:"center ".concat(e)}:{axis:"x",my:"".concat(t," center"),at:"".concat(e," center")}}}},{key:"getParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(e){var r,i=this.getParents(e),o=/(auto|scroll)/,a=function(e){var t=e?getComputedStyle(e):null;return t&&(o.test(t.getPropertyValue("overflow"))||o.test(t.getPropertyValue("overflowX"))||o.test(t.getPropertyValue("overflowY")))},s=function(e){t?n.push("BODY"===e.nodeName||"HTML"===e.nodeName||9===e.nodeType?window:e):n.push(e)},u=BS(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=1===c.nodeType&&c.dataset.scrollselectors;if(l){var d,f=BS(l.split(","));try{for(f.s();!(d=f.n()).done;){var p=d.value,h=this.findSingle(c,p);h&&a(h)&&s(h)}}catch(v){f.e(v)}finally{f.f()}}1===c.nodeType&&a(c)&&s(c)}}catch(v){u.e(v)}finally{u.f()}}return 0===n.length&&n.push(window),n}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}},{key:"fadeIn",value:function(e,t){if(e){e.style.opacity=0;var n=+new Date,r=0;!function i(){r=+e.style.opacity+((new Date).getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}}},{key:"fadeOut",value:function(e,t){if(e)var n=1,r=50/t,i=setInterval((function(){(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n}),50)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot remove "+e+" from "+t);t.el.nativeElement.removeChild(e)}}},{key:"isElement",value:function(e){return"object"===("undefined"===typeof HTMLElement?"undefined":FS(HTMLElement))?e instanceof HTMLElement:e&&"object"===FS(e)&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,a=e.getBoundingClientRect(),s=t.getBoundingClientRect().top+document.body.scrollTop-(a.top+document.body.scrollTop)-r-o,u=e.scrollTop,c=e.clientHeight,l=this.getOuterHeight(t);s<0?e.scrollTop=u+s:s+l>c&&(e.scrollTop=u+s-c+l)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isVisible",value:function(e){return e&&(0!==e.clientHeight||0!==e.getClientRects().length||"none"!==getComputedStyle(e).display)}},{key:"isExist",value:function(e){return!(null===e||"undefined"===typeof e||!e.nodeName||!e.parentNode)}},{key:"hasDOM",value:function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},{key:"getFocusableElements",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[],o=BS(e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,',\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r)));try{for(o.s();!(n=o.n()).done;){var a=n.value;"none"!==getComputedStyle(a).display&&"hidden"!==getComputedStyle(a).visibility&&i.push(a)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getFirstFocusableElement",value:function(t,n){var r=e.getFocusableElements(t,n);return r.length>0?r[0]:null}},{key:"getLastFocusableElement",value:function(t,n){var r=e.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null}},{key:"focus",value:function(e,t){var n=void 0===t||!t;e&&document.activeElement!==e&&e.focus({preventScroll:n})}},{key:"focusFirstElement",value:function(t,n){if(t){var r=e.getFirstFocusableElement(t);return r&&e.focus(r,n),r}}},{key:"getCursorOffset",value:function(e,t,n,r){if(e){var i=getComputedStyle(e),o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.visibility="hidden",o.style.pointerEvents="none",o.style.overflow=i.overflow,o.style.width=i.width,o.style.height=i.height,o.style.padding=i.padding,o.style.border=i.border,o.style.overflowWrap=i.overflowWrap,o.style.whiteSpace=i.whiteSpace,o.style.lineHeight=i.lineHeight,o.innerHTML=t.replace(/\r\n|\r|\n/g,"<br />");var a=document.createElement("span");a.textContent=r,o.appendChild(a);var s=document.createTextNode(n);o.appendChild(s),document.body.appendChild(o);var u=a.offsetLeft,c=a.offsetTop,l=a.clientHeight;return document.body.removeChild(o),{left:Math.abs(u-e.scrollLeft),top:Math.abs(c-e.scrollTop)+l}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"isClickable",value:function(e){var t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return"INPUT"===t||"TEXTAREA"===t||"BUTTON"===t||"A"===t||"INPUT"===n||"TEXTAREA"===n||"BUTTON"===n||"A"===n||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(e,t){if("string"===typeof t)e.style.cssText=this.style;else for(var n in this.style)e.style[n]=t[n]}},{key:"exportCSV",value:function(t,n){var r=new Blob([t],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,n+".csv"):e.saveAs({name:n+".csv",src:URL.createObjectURL(r)})||(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}},{key:"saveAs",value:function(e){if(e){var t=document.createElement("a");if(void 0!==t.download){var n=e.name,r=e.src;return t.setAttribute("href",r),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),!0}}return!1}},{key:"createInlineStyle",value:function(e){var t=document.createElement("style");try{e||(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://rawbotz.com/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyCUQBt_urTxIuz45_z-qGyiqAq_4bmahpw",REACT_APP_FIREBASE_APP_ID:"1:345997456064:web:b80e656cf0ea0b893df325",REACT_APP_FIREBASE_AUTH_DOMAIN:"robotanium-admin.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENTID:"G-CJKNBH9W2B",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"345997456064",REACT_APP_FIREBASE_PROJECT_ID:"robotanium-admin",REACT_APP_FIREBASE_STORAGE_BUCKET:"robotanium-admin.appspot.com",REACT_APP_OPENTOK_API_KEY:"47758991",REACT_APP_SOCKET_CONNECTION:"https://rawbotz.com"}.REACT_APP_CSS_NONCE)}catch(n){}return e&&t.setAttribute("nonce",e),document.head.appendChild(t),t}},{key:"removeInlineStyle",value:function(e){if(this.isExist(e)){try{document.head.removeChild(e)}catch(t){}e=null}return e}},{key:"getTargetElement",value:function(e){if(!e)return null;if("document"===e)return document;if("window"===e)return window;if("object"===FS(e)&&e.hasOwnProperty("current"))return this.isExist(e.current)?e.current:null;var t,n=(t=e)&&t.constructor&&t.call&&t.apply?e():e;return n&&9===n.nodeType||this.isExist(n)?n:null}},{key:"getAttributeNames",value:function(e){var t,n,r;for(n=[],r=e.attributes,t=0;t<r.length;++t)n.push(r[t].nodeName);return n.sort(),n}},{key:"isEqualElement",value:function(t,n){var r,i,o,a,s;if(r=e.getAttributeNames(t),i=e.getAttributeNames(n),r.join(",")!==i.join(","))return!1;for(var u=0;u<r.length;++u)if("style"===(o=r[u]))for(var c=t.style,l=n.style,d=/^\d+$/,f=0,p=Object.keys(c);f<p.length;f++){var h=p[f];if(!d.test(h)&&c[h]!==l[h])return!1}else if(t.getAttribute(o)!==n.getAttribute(o))return!1;for(a=t.firstChild,s=n.firstChild;a&&s;a=a.nextSibling,s=s.nextSibling){if(a.nodeType!==s.nodeType)return!1;if(1===a.nodeType){if(!e.isEqualElement(a,s))return!1}else if(a.nodeValue!==s.nodeValue)return!1}return!a&&!s}}]),e}();XS(YS,"DATA_PROPS",["data-"]),XS(YS,"ARIA_PROPS",["aria","focus-target"]);function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}var KS=function(){function e(){ZS(this,e)}return US(e,null,[{key:"equals",value:function(e,t,n){return n&&e&&"object"===FS(e)&&t&&"object"===FS(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==FS(e)&&"object"==FS(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;try{0}catch(i){}return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===FS(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===FS(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}]),e}();function JS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var QS=function(){function e(){ZS(this,e)}return US(e,null,[{key:"getJSXIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null;if(null!==e){var i=FS(e),o=VS(t.className,"string"===i&&e);if(r=qk.createElement("span",zS({},t,{className:o})),"string"!==i){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JS(Object(n),!0).forEach((function(t){XS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({iconProps:t,element:r},n);return KS.getJSXElement(e,a)}}return r}}]),e}();function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(n),!0).forEach((function(t){XS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eC(e,t){var n,r,i,o,a,s,u,c,l,d,f,p;t=$S($S({},{mask:null,slotChar:"_",autoClear:!0,unmask:!1,readOnly:!1,onComplete:null,onChange:null,onFocus:null,onBlur:null}),t);var h=function(t,n){var r,i,o;if(e.offsetParent&&e===document.activeElement)return"number"!==typeof t?(e.setSelectionRange?(i=e.selectionStart,o=e.selectionEnd):document.selection&&document.selection.createRange&&(o=(i=0-(r=document.selection.createRange()).duplicate().moveStart("character",-1e5))+r.text.length),{begin:i,end:o}):(i=t,o="number"===typeof n?n:i,void(e.setSelectionRange?e.setSelectionRange(i,o):e.createTextRange&&((r=e.createTextRange()).collapse(!0),r.moveEnd("character",o),r.moveStart("character",i),r.select())))},v=function(){for(var e=o;e<=u;e++)if(n[e]&&f[e]===m(e))return!1;return!0},m=function(e){return e<t.slotChar.length?t.slotChar.charAt(e):t.slotChar.charAt(0)},g=function(){return t.unmask?R():e&&e.value},y=function(e){for(;++e<i&&!n[e];);return e},b=function(e,t){var r,a;if(!(e<0)){for(r=e,a=y(t);r<i;r++)if(n[r]){if(!(a<i&&n[r].test(f[a])))break;f[r]=f[a],f[a]=m(a),a=y(a)}S(),h(Math.max(o,e))}},w=function(n){if(C(),t.onBlur&&t.onBlur(n),O(n),e.value!==l){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!1),e.dispatchEvent(r)}},E=function(r){if(!t.readOnly){var i,o,a,s=r.which||r.keyCode;c=e.value,8===s||46===s||YS.isIOS()&&127===s?(o=(i=h()).begin,(a=i.end)-o===0&&(o=46!==s?function(e){for(;--e>=0&&!n[e];);return e}(o):a=y(o-1),a=46===s?y(a):a),_(o,a),b(o,a-1),O(r),r.preventDefault()):13===s?(w(r),O(r)):27===s&&(e.value=l,h(0,C()),O(r),r.preventDefault())}},k=function(e){if(!t.readOnly){var r,o,a,s,c=e.which||e.keyCode,l=h();if(!(e.ctrlKey||e.altKey||e.metaKey||c<32)){if(c&&13!==c){if(l.end-l.begin!==0&&(_(l.begin,l.end),b(l.begin,l.end-1)),(r=y(l.begin-1))<i&&(o=String.fromCharCode(c),n[r].test(o))){if(function(e){var t,r,o,a;for(t=e,r=m(e);t<i;t++)if(n[t]){if(o=y(t),a=f[t],f[t]=r,!(o<i&&n[o].test(a)))break;r=a}}(r),f[r]=o,S(),a=y(r),YS.isAndroid()){setTimeout((function(){h(a)}),0)}else h(a);l.begin<=u&&(s=v())}e.preventDefault()}O(e),t.onComplete&&s&&t.onComplete({originalEvent:e,value:g()})}}},_=function(e,t){var r;for(r=e;r<t&&r<i;r++)n[r]&&(f[r]=m(r))},S=function(){e.value=f.join("")},C=function(a){var s,u,c,l=e.value,d=-1;for(s=0,c=0;s<i;s++)if(n[s]){for(f[s]=m(s);c++<l.length;)if(u=l.charAt(c-1),n[s].test(u)){f[s]=u,d=s;break}if(c>l.length){_(s+1,i);break}}else f[s]===l.charAt(c)&&c++,s<r&&(d=s);return a?S():d+1<r?t.autoClear||f.join("")===p?(e.value&&(e.value=""),_(0,i)):S():(S(),e.value=e.value.substring(0,d+1)),r?s:o},x=function(n){var r;t.readOnly||(clearTimeout(d),l=e.value,r=C(),d=setTimeout((function(){e===document.activeElement&&(S(),r===t.mask.replace("?","").length?h(0,r):h(r))}),10),t.onFocus&&t.onFocus(n))},T=function(r){s?function(r){var a=e.value,s=h();if(c&&c.length&&c.length>a.length){for(C(!0);s.begin>0&&!n[s.begin-1];)s.begin--;if(0===s.begin)for(;s.begin<o&&!n[s.begin];)s.begin++;h(s.begin,s.begin)}else{for(C(!0);s.begin<i&&!n[s.begin];)s.begin++;h(s.begin,s.begin)}t.onComplete&&v()&&t.onComplete({originalEvent:r,value:g()})}(r):I(r)},I=function(e){if(!t.readOnly){var n=C(!0);h(n),O(e),t.onComplete&&v()&&t.onComplete({originalEvent:e,value:g()})}},R=function(){for(var e=[],t=0;t<f.length;t++){var r=f[t];n[t]&&r!==m(t)&&e.push(r)}return e.join("")},O=function(e){if(t.onChange){var n=g().replace(t.slotChar,"");t.onChange({originalEvent:e,value:p!==n?n:""})}},A=function(){e.addEventListener("focus",x),e.addEventListener("blur",w),e.addEventListener("keydown",E),e.addEventListener("keypress",k),e.addEventListener("input",T),e.addEventListener("paste",I)},N=function(){n=[],r=t.mask.length,i=t.mask.length,o=null,a={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},s=YS.isChrome()&&YS.isAndroid();for(var e=t.mask.split(""),c=0;c<e.length;c++){var l=e[c];"?"===l?(i--,r=c):a[l]?(n.push(new RegExp(a[l])),null===o&&(o=n.length-1),c<r&&(u=n.length-1)):n.push(null)}f=[];for(var d=0;d<e.length;d++){var h=e[d];"?"!==h&&(a[h]?f.push(m(d)):f.push(h))}p=f.join("")};return e&&t.mask&&(N(),A()),{init:N,bindEvents:A,unbindEvents:function(){e.removeEventListener("focus",x),e.removeEventListener("blur",w),e.removeEventListener("keydown",E),e.removeEventListener("keypress",k),e.removeEventListener("input",T),e.removeEventListener("paste",I)},updateModel:O,getValue:g}}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach((function(t){XS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){return t.reduce((function(e,t){var n=function(){if("style"===r)e.style=nC(nC({},e.style),t.style);else if("className"===r)e.className=[e.className,t.className].join(" ").trim();else if(function(e){return!!(e&&e.constructor&&e.call&&e.apply)}(t[r])){var n=e[r];e[r]=n?function(){n.apply(void 0,arguments),value.apply(void 0,arguments)}:t[r]}else e[r]=t[r]};for(var r in t)n();return e}),{})}}var iC=0;function oC(){return iC++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(iC)}function aC(e){return function(e){if(Array.isArray(e))return MS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||DS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sC=function(){var e=[],t=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return aC(e).reverse().find((function(e){return!!n||e.key===t}))||{key:t,value:r}};return{get:function(e){return e&&parseInt(e.style.zIndex,10)||0},set:function(n,r,i,o){r&&(r.style.zIndex=String(function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:999,o=t(n,r,i),a=o.value+(o.key===n?0:i)+1;return e.push({key:n,value:a}),a}(n,i,o)))},clear:function(t){var n;t&&(n=sC.get(t),e=e.filter((function(e){return e.value!==n})),t.style.zIndex="")},getCurrent:function(e,n){return function(e,n){return t(e,n).value}(e,n)}}}(),uC=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),cC=Object.freeze({AND:"and",OR:"or"});function lC(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return dC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fC={filter:function(e,t,n,r,i){var o=[];if(!e)return o;var a,s=lC(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;if("string"===typeof u){if(this.filters[r](u,n,i)){o.push(u);continue}}else{var c,l=lC(t);try{for(l.s();!(c=l.n()).done;){var d=c.value,f=KS.resolveFieldData(u,d);if(this.filters[r](f,n,i)){o.push(u);break}}}catch(p){l.e(p)}finally{l.f()}}}}catch(p){s.e(p)}finally{s.f()}return o},filters:{startsWith:function(e,t,n){if(void 0===t||null===t||""===t.trim())return!0;if(void 0===e||null===e)return!1;var r=KS.removeAccents(t.toString()).toLocaleLowerCase(n);return KS.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,r.length)===r},contains:function(e,t,n){if(void 0===t||null===t||"string"===typeof t&&""===t.trim())return!0;if(void 0===e||null===e)return!1;var r=KS.removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==KS.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)},notContains:function(e,t,n){if(void 0===t||null===t||"string"===typeof t&&""===t.trim())return!0;if(void 0===e||null===e)return!1;var r=KS.removeAccents(t.toString()).toLocaleLowerCase(n);return-1===KS.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(r)},endsWith:function(e,t,n){if(void 0===t||null===t||""===t.trim())return!0;if(void 0===e||null===e)return!1;var r=KS.removeAccents(t.toString()).toLocaleLowerCase(n),i=KS.removeAccents(e.toString()).toLocaleLowerCase(n);return-1!==i.indexOf(r,i.length-r.length)},equals:function(e,t,n){return void 0===t||null===t||"string"===typeof t&&""===t.trim()||void 0!==e&&null!==e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():KS.removeAccents(e.toString()).toLocaleLowerCase(n)===KS.removeAccents(t.toString()).toLocaleLowerCase(n))},notEquals:function(e,t,n){return void 0===t||null===t||"string"===typeof t&&""===t.trim()||(void 0===e||null===e||(e.getTime&&t.getTime?e.getTime()!==t.getTime():KS.removeAccents(e.toString()).toLocaleLowerCase(n)!==KS.removeAccents(t.toString()).toLocaleLowerCase(n)))},in:function(e,t){if(void 0===t||null===t||0===t.length)return!0;for(var n=0;n<t.length;n++)if(KS.equals(e,t[n]))return!0;return!1},between:function(e,t){return null==t||null==t[0]||null==t[1]||void 0!==e&&null!==e&&(e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1])},lt:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&(e.getTime&&t.getTime?e.getTime()<t.getTime():e<t)},lte:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&(e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t)},gt:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&(e.getTime&&t.getTime?e.getTime()>t.getTime():e>t)},gte:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&(e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t)},dateIs:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&e.toDateString()===t.toDateString()},dateIsNot:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&e.toDateString()!==t.toDateString()},dateBefore:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&e.getTime()<t.getTime()},dateAfter:function(e,t){return void 0===t||null===t||void 0!==e&&null!==e&&e.getTime()>t.getTime()}},register:function(e,t){this.filters[e]=t}};function pC(e){return pC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pC(e)}function hC(e){var t=function(e,t){if("object"!==pC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pC(t)?t:String(t)}function vC(e,t,n){return(t=hC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hC(r.key),r)}}function gC(e,t,n){return t&&mC(e.prototype,t),n&&mC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var yC=gC((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));vC(yC,"ripple",!1),vC(yC,"inputStyle","outlined"),vC(yC,"locale","en"),vC(yC,"appendTo",null),vC(yC,"cssTransition",!0),vC(yC,"autoZIndex",!0),vC(yC,"hideOverlaysOnDocumentScrolling",!1),vC(yC,"nonce",null),vC(yC,"nullSortOrder",1),vC(yC,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),vC(yC,"pt",void 0),vC(yC,"filterMatchModeOptions",{text:[uC.STARTS_WITH,uC.CONTAINS,uC.NOT_CONTAINS,uC.ENDS_WITH,uC.EQUALS,uC.NOT_EQUALS],numeric:[uC.EQUALS,uC.NOT_EQUALS,uC.LESS_THAN,uC.LESS_THAN_OR_EQUAL_TO,uC.GREATER_THAN,uC.GREATER_THAN_OR_EQUAL_TO],date:[uC.DATE_IS,uC.DATE_IS_NOT,uC.DATE_BEFORE,uC.DATE_AFTER]}),vC(yC,"changeTheme",(function(e,t,n,r){var i,o=document.getElementById(n),a=o.cloneNode(!0),s=o.getAttribute("href").replace(e,t);a.setAttribute("id",n+"-clone"),a.setAttribute("href",s),a.addEventListener("load",(function(){o.remove(),a.setAttribute("id",n),r&&r()})),null===(i=o.parentNode)||void 0===i||i.insertBefore(a,o.nextSibling)}));var bC={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function wC(e,t){var n=t||yC.locale;try{return kC(n)[e]}catch(r){throw new Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function EC(e){var t=yC.locale;try{return kC(t).aria[e]}catch(n){throw new Error("The ".concat(e," option is not found in the current locale('").concat(t,"')."))}}function kC(e){var t=e||yC.locale;return bC[t]}Object.freeze({SUCCESS:"success",INFO:"info",WARN:"warn",ERROR:"error"}),Object.freeze({ALIGN_CENTER:"pi pi-align-center",ALIGN_JUSTIFY:"pi pi-align-justify",ALIGN_LEFT:"pi pi-align-left",ALIGN_RIGHT:"pi pi-align-right",AMAZON:"pi pi-amazon",ANDROID:"pi pi-android",ANGLE_DOUBLE_DOWN:"pi pi-angle-double-down",ANGLE_DOUBLE_LEFT:"pi pi-angle-double-left",ANGLE_DOUBLE_RIGHT:"pi pi-angle-double-right",ANGLE_DOUBLE_UP:"pi pi-angle-double-up",ANGLE_DOWN:"pi pi-angle-down",ANGLE_LEFT:"pi pi-angle-left",ANGLE_RIGHT:"pi pi-angle-right",ANGLE_UP:"pi pi-angle-up",APPLE:"pi pi-apple",ARROW_CIRCLE_DOWN:"pi pi-arrow-circle-down",ARROW_CIRCLE_LEFT:"pi pi-arrow-circle-left",ARROW_CIRCLE_RIGHT:"pi pi-arrow-circle-right",ARROW_CIRCLE_UP:"pi pi-arrow-circle-up",ARROW_DOWN:"pi pi-arrow-down",ARROW_DOWN_LEFT:"pi pi-arrow-down-left",ARROW_DOWN_RIGHT:"pi pi-arrow-down-right",ARROW_LEFT:"pi pi-arrow-left",ARROW_RIGHT:"pi pi-arrow-right",ARROW_RIGHT_ARROW_LEFT:"pi-arrow-right-arrow-left",ARROW_UP:"pi pi-arrow-up",ARROW_UP_LEFT:"pi pi-arrow-up-left",ARROW_UP_RIGHT:"pi pi-arrow-up-right",ARROWS_H:"pi pi-arrows-h",ARROWS_V:"pi pi-arrows-v",AT:"pi pi-at",BACKWARD:"pi pi-backward",BAN:"pi pi-ban",BARS:"pi pi-bars",BELL:"pi pi-bell",BOLT:"pi pi-bolt",BOOK:"pi pi-book",BOOKMARK:"pi pi-bookmark",BOOKMARK_FILL:"pi pi-bookmark-fill",BOX:"pi pi-box",BRIEFCASE:"pi pi-briefcase",BUILDING:"pi pi-building",CALENDAR:"pi pi-calendar",CALENDAR_MINUS:"pi pi-calendar-minus",CALENDAR_PLUS:"pi pi-calendar-plus",CALENDAR_TIMES:"pi pi-calendar-times",CAMERA:"pi pi-camera",CAR:"pi pi-car",CARET_DOWN:"pi pi-caret-down",CARET_LEFT:"pi pi-caret-left",CARET_RIGHT:"pi pi-caret-right",CARET_UP:"pi pi-caret-up",CHART_BAR:"pi pi-chart-bar",CHART_LINE:"pi pi-chart-line",CHART_PIE:"pi pi-chart-pie",CHECK:"pi pi-check",CHECK_CIRCLE:"pi pi-check-circle",CHECK_SQUARE:"pi pi-check-square",CHEVRON_CIRCLE_DOWN:"pi pi-chevron-circle-down",CHEVRON_CIRCLE_LEFT:"pi pi-chevron-circle-left",CHEVRON_CIRCLE_RIGHT:"pi pi-chevron-circle-right",CHEVRON_CIRCLE_UP:"pi pi-chevron-circle-up",CHEVRON_DOWN:"pi pi-chevron-down",CHEVRON_LEFT:"pi pi-chevron-left",CHEVRON_RIGHT:"pi pi-chevron-right",CHEVRON_UP:"pi pi-chevron-up",CIRCLE:"pi pi-circle",CIRCLE_FILL:"pi pi-circle-fill",CLOCK:"pi pi-clock",CLONE:"pi pi-clone",CLOUD:"pi pi-cloud",CLOUD_DOWNLOAD:"pi pi-cloud-download",CLOUD_UPLOAD:"pi pi-cloud-upload",CODE:"pi pi-code",COG:"pi pi-cog",COMMENT:"pi pi-comment",COMMENTS:"pi pi-comments",COMPASS:"pi pi-compass",COPY:"pi pi-copy",CREDIT_CARD:"pi pi-credit-card",DATABASE:"pi pi-database",DESKTOP:"pi pi-desktop",DIRECTIONS:"pi pi-directions",DIRECTIONS_ALT:"pi pi-directions-alt",DISCORD:"pi pi-discord",DOLLAR:"pi pi-dollar",DOWNLOAD:"pi pi-download",EJECT:"pi pi-eject",ELLIPSIS_H:"pi pi-ellipsis-h",ELLIPSIS_V:"pi pi-ellipsis-v",ENVELOPE:"pi pi-envelope",EURO:"pi pi-euro",EXCLAMATION_CIRCLE:"pi pi-exclamation-circle",EXCLAMATION_TRIANGLE:"pi pi-exclamation-triangle",EXTERNAL_LINK:"pi pi-external-link",EYE:"pi pi-eye",EYE_SLASH:"pi pi-eye-slash",FACEBOOK:"pi pi-facebook",FAST_BACKWARD:"pi pi-fast-backward",FAST_FORWARD:"pi pi-fast-forward",FILE:"pi pi-file",FILE_EXCEL:"pi pi-file-excel",FILE_PDF:"pi pi-file-pdf",FILTER:"pi pi-filter",FILTER_FILL:"pi pi-filter-fill",FILTER_SLASH:"pi pi-filter-slash",FLAG:"pi pi-flag",FLAG_FILL:"pi pi-flag-fill",FOLDER:"pi pi-folder",FOLDER_OPEN:"pi pi-folder-open",FORWARD:"pi pi-forward",GITHUB:"pi pi-github",GLOBE:"pi pi-globe",GOOGLE:"pi pi-google",HASHTAG:"pi pi-hashtag",HEART:"pi pi-heart",HEART_FILL:"pi pi-heart-fill",HISTORY:"pi pi-history",HOME:"pi pi-home",ID_CARD:"pi pi-id-card",IMAGE:"pi pi-image",IMAGES:"pi pi-images",INBOX:"pi pi-inbox",INFO:"pi pi-info",INFO_CIRCLE:"pi pi-info-circle",INSTAGRAM:"pi pi-instagram",KEY:"pi pi-key",LINK:"pi pi-link",LINKEDIN:"pi pi-linkedin",LIST:"pi pi-list",LOCK:"pi pi-lock",LOCK_OPEN:"pi pi-lock-open",MAP:"pi pi-map",MAP_MARKER:"pi pi-map-marker",MICROSOFT:"pi pi-microsoft",MINUS:"pi pi-minus",MINUS_CIRCLE:"pi pi-minus-circle",MOBILE:"pi pi-mobile",MONEY_BILL:"pi pi-money-bill",MOON:"pi pi-moon",PALETTE:"pi pi-palette",PAPERCLIP:"pi pi-paperclip",PAUSE:"pi pi-pause",PAYPAL:"pi pi-paypal",PENCIL:"pi pi-pencil",PERCENTAGE:"pi pi-percentage",PHONE:"pi pi-phone",PLAY:"pi pi-play",PLUS:"pi pi-plus",PLUS_CIRCLE:"pi pi-plus-circle",POUND:"pi pi-pound",POWER_OFF:"pi pi-power-off",PRIME:"pi pi-prime",PRINT:"pi pi-print",QRCODE:"pi pi-qrcode",QUESTION:"pi pi-question",QUESTION_CIRCLE:"pi pi-question-circle",REDDIT:"pi pi-reddit",REFRESH:"pi pi-refresh",REPLAY:"pi pi-replay",REPLY:"pi pi-reply",SAVE:"pi pi-save",SEARCH:"pi pi-search",SEARCH_MINUS:"pi pi-search-minus",SEARCH_PLUS:"pi pi-search-plus",SEND:"pi pi-send",SERVER:"pi pi-server",SHARE_ALT:"pi pi-share-alt",SHIELD:"pi pi-shield",SHOPPING_BAG:"pi pi-shopping-bag",SHOPPING_CART:"pi pi-shopping-cart",SIGN_IN:"pi pi-sign-in",SIGN_OUT:"pi pi-sign-out",SITEMAP:"pi pi-sitemap",SLACK:"pi pi-slack",SLIDERS_H:"pi pi-sliders-h",SLIDERS_V:"pi pi-sliders-v",SORT:"pi pi-sort",SORT_ALPHA_DOWN:"pi pi-sort-alpha-down",SORT_ALPHA_ALT_DOWN:"pi pi-sort-alpha-alt-down",SORT_ALPHA_UP:"pi pi-sort-alpha-up",SORT_ALPHA_ALT_UP:"pi pi-sort-alpha-alt-up",SORT_ALT:"pi pi-sort-alt",SORT_ALT_SLASH:"pi pi-sort-slash",SORT_AMOUNT_DOWN:"pi pi-sort-amount-down",SORT_AMOUNT_DOWN_ALT:"pi pi-sort-amount-down-alt",SORT_AMOUNT_UP:"pi pi-sort-amount-up",SORT_AMOUNT_UP_ALT:"pi pi-sort-amount-up-alt",SORT_DOWN:"pi pi-sort-down",SORT_NUMERIC_DOWN:"pi pi-sort-numeric-down",SORT_NUMERIC_ALT_DOWN:"pi pi-sort-numeric-alt-down",SORT_NUMERIC_UP:"pi pi-sort-numeric-up",SORT_NUMERIC_ALT_UP:"pi pi-sort-numeric-alt-up",SORT_UP:"pi pi-sort-up",SPINNER:"pi pi-spinner",STAR:"pi pi-star",STAR_FILL:"pi pi-star-fill",STEP_BACKWARD:"pi pi-step-backward",STEP_BACKWARD_ALT:"pi pi-step-backward-alt",STEP_FORWARD:"pi pi-step-forward",STEP_FORWARD_ALT:"pi pi-step-forward-alt",STOP:"pi pi-stop",STOP_CIRCLE:"pi pi-stop-circle",SUN:"pi pi-sun",SYNC:"pi pi-sync",TABLE:"pi pi-table",TABLET:"pi pi-tablet",TAG:"pi pi-tag",TAGS:"pi pi-tags",TELEGRAM:"pi pi-telegram",TH_LARGE:"pi pi-th-large",THUMBS_DOWN:"pi pi-thumbs-down",THUMBS_UP:"pi pi-thumbs-up",TICKET:"pi pi-ticket",TIMES:"pi pi-times",TIMES_CIRCLE:"pi pi-times-circle",TRASH:"pi pi-trash",TWITTER:"pi pi-twitter",UNDO:"pi pi-undo",UNLOCK:"pi pi-unlock",UPLOAD:"pi pi-upload",USER:"pi pi-user",USER_EDIT:"pi pi-user-edit",USER_MINUS:"pi pi-user-minus",USER_PLUS:"pi pi-user-plus",USERS:"pi pi-users",VIDEO:"pi pi-video",VIMEO:"pi pi-vimeo",VOLUME_DOWN:"pi pi-volume-down",VOLUME_OFF:"pi pi-volume-off",VOLUME_UP:"pi pi-volume-up",WALLET:"pi pi-wallet",WHATSAPP:"pi pi-whatsapp",WIFI:"pi pi-wifi",WINDOW_MAXIMIZE:"pi pi-window-maximize",WINDOW_MINIMIZE:"pi pi-window-minimize",YOUTUBE:"pi pi-youtube"}),Object.freeze({DESC:-1,UNSORTED:0,ASC:1});var _C=qk.createContext(),SC=yC;function CC(e){return CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CC(e)}function xC(e){var t=function(e,t){if("object"!==CC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==CC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===CC(t)?t:String(t)}function TC(e,t,n){return(t=xC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IC(Object(n),!0).forEach((function(t){TC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OC={defaultProps:{pt:void 0},context:void 0,extend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=RC(RC({},e.defaultProps),OC.defaultProps),n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=String(KS.convertToFlatCase(n)).split("."),o=i.shift(),a=Object.keys(t).find((function(e){return KS.convertToFlatCase(e)===o}))||"";return o?KS.isObject(t)?e(KS.getJSXElement(t[a],r),i.join("."),r):void 0:KS.getJSXElement(t,r)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="data-pc-",o=r.props&&r.props.__TYPE&&KS.convertToFlatCase(r.props.__TYPE)||"",a=OC.context.pt||SC.pt||{},s=KS.getPropValue(e,t,r)[t],u=function(e){return a&&n(a[o],e)}(t),c=RC(RC({},"root"===t&&TC({},"".concat(i,"name"),o)),{},TC({},"".concat(i,"section"),KS.convertToFlatCase(t))),l=RC({},KS.getMergedProps(u,s));return Object.keys(c).length&&(l=RC(RC({},l),c)),l};return RC(RC({getProps:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return OC.context=n,KS.getMergedProps(e,t)},getOtherProps:function(e){return KS.getDiffProps(e,t)},setMetaData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(){return r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})};return{ptm:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t((e.props||{}).pt,n,RC(RC({},e),r))},ptmo:t}}},e),{},{defaultProps:t})}},AC=OC.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),NC=qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=AC.getProps(e,n),i=qk.useRef(t),o=AC.setMetaData({props:r}).ptm;qk.useEffect((function(){KS.combinedRefs(i,t)}),[i,t]);var a=rC({id:r.id,ref:i,style:r.style,className:VS("p-card p-component",r.className)},AC.getOtherProps(r),o("root")),s=function(){var e=rC({className:"p-card-header"},o("header"));return r.header?qk.createElement("div",e,KS.getJSXElement(r.header,r)):null}(),u=function(){var e=rC({className:"p-card-title"},o("title")),t=r.title&&qk.createElement("div",e,KS.getJSXElement(r.title,r)),n=rC({className:"p-card-subtitle"},o("subTitle")),i=r.subTitle&&qk.createElement("div",n,KS.getJSXElement(r.subTitle,r)),a=rC({className:"p-card-content"},o("content")),s=r.children&&qk.createElement("div",a,r.children),u=rC({className:"p-card-footer"},o("footer")),c=r.footer&&qk.createElement("div",u,KS.getJSXElement(r.footer,r)),l=rC({className:"p-card-body"},o("body"));return qk.createElement("div",l,t,i,s,c)}();return qk.createElement("div",a,s,u)}));function PC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LC(e){return function(e){if(Array.isArray(e))return PC(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return PC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PC(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}NC.displayName="Card";var MC={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return MC.DEFAULT_MASKS[e]?MC.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,t,n){!n&&YS.isAndroid()&&this.validateKey(e,e.data,t)},onKeyPress:function(e,t,n){n||YS.isAndroid()||e.ctrlKey||e.altKey||this.validateKey(e,e.key,t)},onPaste:function(e,t,n){if(!n){var r=this.getRegex(t);LC(e.clipboardData.getData("text")).forEach((function(t){if(!r.test(t))return e.preventDefault(),!1}))}},validateKey:function(e,t,n){null!==t&&void 0!==t&&(1===t.length&&(this.getRegex(n).test(t)||e.preventDefault()))},validate:function(e,t){var n=e.target.value,r=!0,i=this.getRegex(t);return n&&!i.test(n)&&(r=!1),r}};function DC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return DC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var FC=function(e){var t=qk.useRef(void 0);return qk.useEffect((function(){t.current=e})),t.current},VC=function(e){return qk.useEffect((function(){return e}),[])},ZC=function(e){var t=e.target,n=void 0===t?"document":t,r=e.type,i=e.listener,o=e.options,a=e.when,s=void 0===a||a,u=qk.useRef(null),c=qk.useRef(null),l=FC(i),d=FC(o),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};KS.isNotEmpty(e.target)&&(p(),(e.when||s)&&(u.current=YS.getTargetElement(e.target))),!c.current&&u.current&&(c.current=function(e){return i&&i(e)},u.current.addEventListener(r,c.current,o))},p=function(){c.current&&(u.current.removeEventListener(r,c.current,o),c.current=null)};return qk.useEffect((function(){s?u.current=YS.getTargetElement(n):(p(),u.current=null)}),[n,s]),qk.useEffect((function(){!c.current||""+l===""+i&&d===o||(p(),s&&f())}),[i,o,s]),VC((function(){p()})),[f,p]},GC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=qk.useRef(null),i=qk.useRef(null),o=qk.useCallback((function(){return clearTimeout(r.current)}),[r.current]);return qk.useEffect((function(){i.current=e})),qk.useEffect((function(){if(n)return r.current=setTimeout((function(){i.current()}),t),o;o()}),[t,n]),VC((function(){o()})),[o]},WC=function(e){var t=qk.useRef(!1);return qk.useEffect((function(){if(!t.current)return t.current=!0,e&&e()}),[])};var UC=function(e){var t=e.target,n=e.listener,r=e.options,i=e.when,o=void 0===i||i,a=qk.useRef(null),s=qk.useRef(null),u=qk.useRef([]),c=FC(r),l=qk.useContext(_C),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(KS.isNotEmpty(e.target)&&(f(),(e.when||o)&&(a.current=YS.getTargetElement(e.target))),!s.current&&a.current){var t=u.current=YS.getScrollableParents(a.current,l?l.hideOverlaysOnDocumentScrolling:SC.hideOverlaysOnDocumentScrolling);s.current=function(e){return n&&n(e)},t.forEach((function(e){return e.addEventListener("scroll",s.current,r)}))}},f=function(){s.current&&(u.current.forEach((function(e){return e.removeEventListener("scroll",s.current,r)})),s.current=null)};return qk.useEffect((function(){o?a.current=YS.getTargetElement(t):(f(),a.current=null)}),[t,o]),qk.useEffect((function(){!s.current||s.current===n&&c===r||(f(),o&&d())}),[n,r]),VC((function(){f()})),[d,f]},XC=function(e){var t=e.listener,n=e.when;return ZC({target:"window",type:"resize",listener:t,when:void 0===n||n})},BC=function(e){var t=e.target,n=e.overlay,r=e.listener,i=e.when,o=void 0===i||i,a=qk.useRef(null),s=qk.useRef(null),u=jC(ZC({type:"click",listener:function(e){r&&r(e,{type:"outside",valid:3!==e.which&&w(e)})}}),2),c=u[0],l=u[1],d=jC(XC({listener:function(e){r&&r(e,{type:"resize",valid:!YS.isTouchDevice()})}}),2),f=d[0],p=d[1],h=jC(ZC({target:"window",type:"orientationchange",listener:function(e){r&&r(e,{type:"orientationchange",valid:!0})}}),2),v=h[0],m=h[1],g=jC(UC({target:t,listener:function(e){r&&r(e,{type:"scroll",valid:!0})}}),2),y=g[0],b=g[1],w=function(e){return a.current&&!(a.current.isSameNode(e.target)||a.current.contains(e.target)||s.current&&s.current.contains(e.target))},E=function(){l(),p(),m(),b()};return qk.useEffect((function(){o?(a.current=YS.getTargetElement(t),s.current=YS.getTargetElement(n)):(E(),a.current=s.current=null)}),[t,n,o]),qk.useEffect((function(){E()}),[o]),VC((function(){E()})),[function(){c(),f(),v(),y()},E]},HC=function(e,t){var n=qk.useRef(!1);return qk.useEffect((function(){if(n.current)return e&&e();n.current=!0}),t)};function YC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return YC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var KC={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return KS.getMergedProps(e,KC.defaultProps)},getOtherProps:function(e){return KS.getDiffProps(e,KC.defaultProps)}},JC=qk.memo((function(e){var t=KC.getProps(e),n=qk.useContext(_C),r=zC(qk.useState(t.visible&&YS.hasDOM()),2),i=r[0],a=r[1];WC((function(){YS.hasDOM()&&!i&&(a(!0),t.onMounted&&t.onMounted())})),HC((function(){t.onMounted&&t.onMounted()}),[i]),VC((function(){t.onUnmounted&&t.onUnmounted()}));var s=t.element||t.children;if(s&&i){var u=t.appendTo||n&&n.appendTo||SC.appendTo||document.body;return"self"===u?s:o.createPortal(s,u)}return null}));function QC(e){return QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QC(e)}function qC(e){var t=function(e,t){if("object"!==QC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==QC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===QC(t)?t:String(t)}function $C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ex(e,t){if(e){if("string"===typeof e)return $C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$C(e,t):void 0}}function tx(e){return function(e){if(Array.isArray(e))return $C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ex(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||ex(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}JC.displayName="Portal";var rx=OC.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0}}),ix=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=rx.getProps(e,n),i=nx(qk.useState(!1),2),o=i[0],a=i[1],s=nx(qk.useState(r.position),2),u=s[0],c=s[1],l=nx(qk.useState(""),2),d=l[0],f=l[1],p=rx.setMetaData({props:r,state:{visible:o,position:u,className:d}}).ptm,h=qk.useRef(null),v=qk.useRef(null),m=qk.useRef(null),g=qk.useRef(null),y=qk.useRef(!0),b=qk.useRef({}),w=qk.useRef(null),E=nx(XC({listener:function(e){!YS.isTouchDevice()&&j(e)}}),2),k=E[0],_=E[1],S=nx(UC({target:m.current,listener:function(e){j(e)},when:o}),2),C=S[0],x=S[1],T=function(e){return A(e,"mousetrack")||r.mouseTrack},I=function(e){return"true"===A(e,"disabled")||N(e,"disabled")||r.disabled},R=function(e){return A(e,"showondisabled")||r.showOnDisabled},O=function(){return A(m.current,"autohide")||r.autoHide},A=function(e,t){return N(e,"data-pr-".concat(t))?e.getAttribute("data-pr-".concat(t)):null},N=function(e,t){return e&&e.hasAttribute(t)},P=function(e){var t=[A(e,"showevent")||r.showEvent],n=[A(e,"hideevent")||r.hideEvent];if(T(e))t=["mousemove"],n=["mouseleave"];else{var i=A(e,"event")||r.event;"focus"===i&&(t=["focus"],n=["blur"]),"both"===i&&(t=["focus","mouseenter"],n=["blur","mouseleave"])}return{showEvents:t,hideEvents:n}},L=function(e,t){if(v.current){var n=A(e,"tooltip")||r.content;n?(v.current.innerHTML="",v.current.appendChild(document.createTextNode(n)),t()):r.children&&t()}},M=function(e){L(m.current,(function(){var t=w.current,i=t.pageX,o=t.pageY;r.autoZIndex&&!sC.get(h.current)&&sC.set("tooltip",h.current,n&&n.autoZIndex||SC.autoZIndex,r.baseZIndex||n&&n.zIndex.tooltip||SC.zIndex.tooltip),h.current.style.left="",h.current.style.top="",O()&&(h.current.style.pointerEvents="none"),!T(m.current)&&"mouse"!=e||g.current||(g.current={width:YS.getOuterWidth(h.current),height:YS.getOuterHeight(h.current)}),F(m.current,{x:i,y:o},e)}))},D=function(e){m.current=e.currentTarget;var t,n=I(m.current);(t=R(m.current)&&n?m.current.firstChild:m.current,!(r.content||A(t,"tooltip")||r.children))||n||(w.current=e,o?U("updateDelay",M):X(r.onBeforeShow,{originalEvent:e,target:m.current})&&U("showDelay",(function(){a(!0),X(r.onShow,{originalEvent:e,target:m.current})})))},j=function(e){(B(),o)&&(X(r.onBeforeHide,{originalEvent:e,target:m.current})&&U("hideDelay",(function(){(O()||!1!==y.current)&&(sC.clear(h.current),YS.removeClass(h.current,"p-tooltip-active"),a(!1),X(r.onHide,{originalEvent:e,target:m.current}))})))},F=function(e,t,n){var i=0,o=0,a=n||u;if((T(e)||"mouse"==a)&&t){var s={width:YS.getOuterWidth(h.current),height:YS.getOuterHeight(h.current)};i=t.x,o=t.y;var l=function(e){return{top:A(e,"mousetracktop")||r.mouseTrackTop,left:A(e,"mousetrackleft")||r.mouseTrackLeft}}(e),d=l.top,f=l.left;switch(a){case"left":i-=s.width+f,o-=s.height/2-d;break;case"right":case"mouse":i+=f,o-=s.height/2-d;break;case"top":i-=s.width/2-f,o-=s.height+d;break;case"bottom":i-=s.width/2-f,o+=d}i<=0||g.current.width>s.width?(h.current.style.left="0px",h.current.style.right=window.innerWidth-s.width-i+"px"):(h.current.style.right="",h.current.style.left=i+"px"),h.current.style.top=o+"px",YS.addClass(h.current,"p-tooltip-active")}else{var p=YS.findCollisionPosition(a),v=A(e,"my")||r.my||p.my,m=A(e,"at")||r.at||p.at;h.current.style.padding="0px",YS.flipfitCollision(h.current,e,v,m,(function(e){var t=e.at,n=t.x,i=t.y,o=e.my.x,a=r.at?"center"!==n&&n!==o?n:i:e.at["".concat(p.axis)];h.current.style.padding="",c(a),V(a),YS.addClass(h.current,"p-tooltip-active")}))}},V=function(e){if(h.current){var t=getComputedStyle(h.current);"left"===e?h.current.style.left=parseFloat(t.left)-2*parseFloat(t.paddingLeft)+"px":"top"===e&&(h.current.style.top=parseFloat(t.top)-2*parseFloat(t.paddingTop)+"px")}},Z=function(e){O()||(y.current=!0,j(e))},G=function(e){if(e){var t=P(e),n=t.showEvents,r=t.hideEvents,i=H(e);n.forEach((function(e){return null===i||void 0===i?void 0:i.addEventListener(e,D)})),r.forEach((function(e){return null===i||void 0===i?void 0:i.addEventListener(e,j)}))}},W=function(e){if(e){var t=P(e),n=t.showEvents,r=t.hideEvents,i=H(e);n.forEach((function(e){return null===i||void 0===i?void 0:i.removeEventListener(e,D)})),r.forEach((function(e){return null===i||void 0===i?void 0:i.removeEventListener(e,j)}))}},U=function(e,t){B();var n=A(m.current,e.toLowerCase())||r[e];n?b.current["".concat(e)]=setTimeout((function(){return t()}),n):t()},X=function(e){if(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=e.apply(void 0,n);return void 0===i&&(i=!0),i}return!0},B=function(){Object.values(b.current).forEach((function(e){return clearTimeout(e)}))},H=function(e){if(e){if(R(e)){if(e.hasWrapper)return e.parentElement;var t=document.createElement("span");return YS.addClass(t,"p-tooltip-target-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e),e.hasWrapper=!0,t}var n;return e.hasWrapper&&((n=e.parentElement).replaceWith.apply(n,tx(e.parentElement.childNodes)),delete e.hasWrapper),e}return null},Y=function(e){K(e),z(e)},z=function(e){J(e||r.target,G)},K=function(e){J(e||r.target,W)},J=function(e,t){if(e=KS.getRefElement(e))if(YS.isElement(e))t(e);else{var n=function(e){YS.find(document,e).forEach((function(e){t(e)}))};e instanceof Array?e.forEach((function(e){n(e)})):n(e)}};WC((function(){z(),o&&m.current&&I(m.current)&&j()})),HC((function(){return z(),function(){K()}}),[D,j,r.target]),HC((function(){if(o){var e=(n=m.current,A(n,"position")||u),t=A(m.current,"classname");c(e),f(t),M(e),k(),C()}else c(r.position),f(""),m.current=null,g.current=null,y.current=!0;var n;return function(){_(),x()}}),[o]),HC((function(){o&&U("updateDelay",(function(){L(m.current,(function(){F(m.current)}))}))}),[r.content]),VC((function(){B(),K(),sC.clear(h.current)})),qk.useImperativeHandle(t,(function(){return{props:r,updateTargetEvents:Y,loadTargetEvents:z,unloadTargetEvents:K,show:D,hide:j,getElement:function(){return h.current},getTarget:function(){return m.current}}}));if(o){var Q=function(){var e,t=VS("p-tooltip p-component",function(e,t,n){return(t=qC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"p-tooltip-".concat(u),!0),r.className,d),n=(e=m.current,!(r.content||A(e,"tooltip"))),i=rC({id:r.id,ref:h,className:t,style:r.style,role:"tooltip","aria-hidden":o,onMouseEnter:function(e){O()||(y.current=!1)},onMouseLeave:function(e){return Z}},rx.getOtherProps(r),p("root")),a=rC({className:"p-tooltip-arrow"},p("arrow")),s=rC({ref:v,className:"p-tooltip-text"},p("text"));return qk.createElement("div",i,qk.createElement("div",a),qk.createElement("div",s,n&&r.children))}();return qk.createElement(JC,{element:Q,appendTo:r.appendTo,visible:!0})}return null})));function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ox.apply(this,arguments)}ix.displayName="Tooltip";var ax=OC.extend({defaultProps:{__TYPE:"InputText",keyfilter:null,validateOnly:!1,tooltip:null,tooltipOptions:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,children:void 0}}),sx=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=ax.getProps(e,n),i=ax.setMetaData({props:r}).ptm,o=qk.useRef(t);qk.useEffect((function(){KS.combinedRefs(o,t)}),[o,t]);var a=qk.useMemo((function(){return KS.isNotEmpty(r.value)||KS.isNotEmpty(r.defaultValue)}),[r.value,r.defaultValue]),s=KS.isNotEmpty(r.tooltip),u=VS("p-inputtext p-component",{"p-disabled":r.disabled,"p-filled":a},r.className),c=rC({ref:o,className:u,onBeforeInput:function(e){r.onBeforeInput&&r.onBeforeInput(e),r.keyfilter&&MC.onBeforeInput(e,r.keyfilter,r.validateOnly)},onInput:function(e){var t=e.target,n=!0;r.keyfilter&&r.validateOnly&&(n=MC.validate(e,r.keyfilter)),r.onInput&&r.onInput(e,n),KS.isNotEmpty(t.value)?YS.addClass(t,"p-filled"):YS.removeClass(t,"p-filled")},onKeyDown:function(e){r.onKeyDown&&r.onKeyDown(e),r.keyfilter&&MC.onKeyPress(e,r.keyfilter,r.validateOnly)},onPaste:function(e){r.onPaste&&r.onPaste(e),r.keyfilter&&MC.onPaste(e,r.keyfilter,r.validateOnly)}},ax.getOtherProps(r),i("root"));return qk.createElement(qk.Fragment,null,qk.createElement("input",c),s&&qk.createElement(ix,ox({target:o,content:r.tooltip},r.tooltipOptions,{pt:i("tooltip")})))})));sx.displayName="InputText";var ux=function(e){return e.user},cx=function(){var e=hS(),t=y((0,qk.useState)(tk),2),n=t[0],r=t[1],i=y((0,qk.useState)("email"),2),o=i[0],a=i[1],s=(0,qk.useRef)(null),u=PS(),c=LS(ux),l=function(e){return r(he(he({},n),{},f({},e.target.name,e.target.value)))},d=function(e){if("Enter"===e.key)return"email"===o?a("password"):void("password"===o&&(u(QE({email:n.email,password:n.password})),r(tk)))};return(0,qk.useEffect)((function(){var e;"password"===o&&(null===s||void 0===s||null===(e=s.current)||void 0===e||e.focus())}),[o]),(0,qk.useEffect)((function(){c.user&&e("/")}),[c]),(0,b_.jsxs)(NC,{className:"flex flex-column login-component-card",children:[(0,b_.jsxs)("span",{className:"p-float-label ",children:[(0,b_.jsx)(sx,{className:"w-full",type:"email",value:n.email,onChange:l,onKeyPress:d,name:"email",autoFocus:!0,onFocus:function(){return a("email")}}),(0,b_.jsx)("label",{htmlFor:"Email",children:"Email"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4",children:[(0,b_.jsx)(sx,{className:"w-full ",type:"password",value:n.password,onChange:l,placeholder:"password",onKeyPress:d,name:"password",onFocus:function(){return a("password")},ref:s}),(0,b_.jsx)("label",{htmlFor:"Password",children:"Password"})]})]})},lx={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return KS.getMergedProps(e,lx.defaultProps)},getOtherProps:function(e){return KS.getDiffProps(e,lx.defaultProps)},getPTI:function(e){var t=KS.isEmpty(e.label),n=lx.getOtherProps(e),r={className:VS("p-icon",{"p-icon-spin":e.spin},e.className),role:t?void 0:"img","aria-label":t?void 0:e.label,"aria-hidden":t};return KS.getMergedProps(n,r)}};function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(this,arguments)}function fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function px(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return fx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hx(e){return hx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(e)}function vx(e){var t=function(e,t){if("object"!==hx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hx(t)?t:String(t)}function mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vx(r.key),r)}}var gx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===hx(e)&&t&&"object"===hx(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==hx(e)&&"object"==hx(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===hx(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===hx(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&mx(t.prototype,n),r&&mx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yx=0;var bx=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=px(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){gx.isEmpty(i)&&o(function(){return yx++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(yx)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",dx({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));bx.displayName="SpinnerIcon";var wx=qk.memo(qk.forwardRef((function(){var e=qk.useRef(null),t=qk.useRef(null),n=qk.useContext(_C),r=function(){return e.current&&e.current.parentElement},i=function(){t.current&&(t.current.addEventListener("mousedown",a),YS.isTouchDevice()&&t.current.addEventListener("touchstart",o))},o=function(n){var r=YS.getOffset(t.current),i=n.targetTouches[0].pageX-r.left+document.body.scrollTop-YS.getWidth(e.current)/2,o=n.targetTouches[0].pageY-r.top+document.body.scrollLeft-YS.getHeight(e.current)/2;s(i,o)},a=function(n){if(!YS.isTouchDevice()){var r=YS.getOffset(t.current),i=n.pageX-r.left+document.body.scrollTop-YS.getWidth(e.current)/2,o=n.pageY-r.top+document.body.scrollLeft-YS.getHeight(e.current)/2;s(i,o)}},s=function(t,n){e.current&&"none"!==getComputedStyle(e.current,null).display&&(YS.removeClass(e.current,"p-ink-active"),u(),e.current.style.top=n+"px",e.current.style.left=t+"px",YS.addClass(e.current,"p-ink-active"))},u=function(){if(e.current&&!YS.getHeight(e.current)&&!YS.getWidth(e.current)){var n=Math.max(YS.getOuterWidth(t.current),YS.getOuterHeight(t.current));e.current.style.height=n+"px",e.current.style.width=n+"px"}};return WC((function(){e.current&&(t.current=r(),u(),i())})),HC((function(){e.current&&!t.current&&(t.current=r(),u(),i())})),VC((function(){e.current&&(t.current=null,t.current&&(t.current.removeEventListener("mousedown",a),YS.isTouchDevice()&&t.current.removeEventListener("touchstart",o)))})),n&&n.ripple||SC.ripple?qk.createElement("span",{role:"presentation",ref:e,className:"p-ink",onAnimationEnd:function(e){YS.removeClass(e.currentTarget,"p-ink-active")}}):null})));function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ex.apply(this,arguments)}function kx(e){return kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(e)}function _x(e){var t=function(e,t){if("object"!==kx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kx(t)?t:String(t)}function Sx(e,t,n){return(t=_x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wx.displayName="Ripple";var Cx=OC.extend({defaultProps:{__TYPE:"Button",badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0}});function xx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Tx=qk.memo(qk.forwardRef((function(e,t){var n,r=qk.useContext(_C),i=Cx.getProps(e,r),o=Cx.setMetaData({props:i}).ptm,a=qk.useRef(t);if(qk.useEffect((function(){KS.combinedRefs(a,t)}),[a,t]),!1===i.visible)return null;var s=i.disabled||i.loading,u=!s||i.tooltipOptions&&i.tooltipOptions.showOnDisabled,c=KS.isNotEmpty(i.tooltip)&&u,l={large:"lg",small:"sm"}[i.size],d=VS("p-button p-component",i.className,(Sx(n={"p-button-icon-only":(i.icon||i.loading)&&!i.label&&!i.children,"p-button-vertical":("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,"p-disabled":s,"p-button-loading":i.loading,"p-button-outlined":i.outlined,"p-button-raised":i.raised,"p-button-link":i.link,"p-button-text":i.text,"p-button-rounded":i.rounded,"p-button-loading-label-only":i.loading&&!i.icon&&i.label},"p-button-loading-".concat(i.iconPos),i.loading&&i.label),Sx(n,"p-button-".concat(l),l),Sx(n,"p-button-".concat(i.severity),i.severity),n)),f=function(){var e=VS("p-button-icon p-c",Sx({},"p-button-icon-".concat(i.iconPos),i.label)),t=rC({className:e},o("icon")),n=rC({className:e=VS(e,{"p-button-loading-icon":i.loading})},o("loadingIcon")),r=i.loading?i.loadingIcon||qk.createElement(bx,Ex({},n,{spin:!0})):i.icon;return QS.getJSXIcon(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xx(Object(n),!0).forEach((function(t){Sx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),{props:i})}(),p=function(){if(i.label){var e=rC({className:"p-button-label p-c"},o("label"));return qk.createElement("span",e,i.label)}return!i.children&&!i.label&&qk.createElement("span",{className:"p-button-label p-c",dangerouslySetInnerHTML:{__html:"&nbsp;"}})}(),h=function(){if(i.badge){var e=rC({className:VS("p-badge",i.badgeClassName)},o("badge"));return qk.createElement("span",e,i.badge)}return null}(),v=i.label?i.label+(i.badge?" "+i.badge:""):i["aria-label"],m=rC({ref:a,"aria-label":v,className:d,disabled:s},Cx.getOtherProps(i),o("root"));return qk.createElement(qk.Fragment,null,qk.createElement("button",m,f,p,i.children,h,qk.createElement(wx,null)),c&&qk.createElement(ix,Ex({target:a,content:i.tooltip},i.tooltipOptions,{pt:o("tooltip")})))})));function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}Tx.displayName="Button";var Rx=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",Ix({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"}))})));function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}Rx.displayName="BarsIcon";var Ax=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",Ox({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"}))})));function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(this,arguments)}Ax.displayName="AngleRightIcon";var Px=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",Nx({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"}))})));function Lx(e){return Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(e)}function Mx(e){var t=function(e,t){if("object"!==Lx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lx(t)?t:String(t)}function Dx(e,t,n){return(t=Mx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Px.displayName="AngleDownIcon";var Vx=OC.extend({defaultProps:{__TYPE:"Menubar",id:null,model:null,style:null,className:null,start:null,submenuIcon:null,menuIcon:null,end:null,children:void 0}});function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zx(Object(n),!0).forEach((function(t){Dx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wx=qk.memo(qk.forwardRef((function(e,t){var n=Fx(qk.useState(null),2),r=n[0],i=n[1],o=function(t,n){return e.ptm(n,{context:{active:r===t}})},a=Fx(ZC({type:"click",listener:function(e){t&&t.current&&!t.current.contains(e.target)&&i(null)}}),1)[0],s=function(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),t.items?i(r&&t===r?null:t):m())},u=function(t,n){var r=t.currentTarget.parentElement;switch(t.which){case 40:e.root?n.items&&l(n,r):f(r),t.preventDefault();break;case 38:!e.root&&p(r),t.preventDefault();break;case 39:if(e.root){var i=h(r);i&&i.children[0].focus()}else n.items&&l(n,r);t.preventDefault();break;case 37:e.root&&p(r),t.preventDefault()}e.onKeyDown&&e.onKeyDown(t,r)},c=function(t,n){e.root?38===t.which&&null==n.previousElementSibling&&d(n):37===t.which&&d(n)},l=function(e,t){i(e),setTimeout((function(){t.children[1].children[0].children[0].focus()}),50)},d=function(e){i(null),e.parentElement.previousElementSibling.focus()},f=function(e){var t=h(e);t&&t.children[0].focus()},p=function(e){var t=v(e);t&&t.children[0].focus()},h=function e(t){var n=t.nextElementSibling;return n?YS.hasClass(n,"p-disabled")||!YS.hasClass(n,"p-menuitem")?e(n):n:null},v=function e(t){var n=t.previousElementSibling;return n?YS.hasClass(n,"p-disabled")||!YS.hasClass(n,"p-menuitem")?e(n):n:null},m=function(){i(null),e.onLeafClick&&e.onLeafClick()};WC((function(){a()})),HC((function(){!e.parentActive&&i(null)}),[e.parentActive]);var g=function(t,n){if(!1===t.visible)return null;var a=t.label+"_"+n,l=VS("p-menuitem",{"p-menuitem-active":r===t},t.className),d=VS("p-menuitem-link",{"p-disabled":t.disabled}),f=VS("p-menuitem-icon",t.icon),p=rC({className:"p-menuitem-icon"},o(t,"icon")),h=QS.getJSXIcon(t.icon,Gx({},p),{props:e.menuProps}),v=rC({className:"p-menuitem-text"},o(t,"label")),g=t.label&&qk.createElement("span",v,t.label),y="p-submenu-icon",b=rC({className:y},o(t,"submenuIcon")),w=t.items&&QS.getJSXIcon(e.root?e.submenuIcon||qk.createElement(Px,b):e.submenuIcon||qk.createElement(Ax,b),Gx({},b),{props:Gx({menuProps:e.menuProps},e)}),E=function(t){return t.items?qk.createElement(Wx,{menuProps:e.menuProps,model:t.items,mobileActive:e.mobileActive,onLeafClick:m,onKeyDown:c,parentActive:t===r,submenuIcon:e.submenuIcon,ptm:e.ptm}):null}(t),k=rC({href:t.url||"#",role:"menuitem",className:d,target:t.target,"aria-haspopup":null!=t.items,onClick:function(e){return s(e,t)},onKeyDown:function(e){return u(e,t)}},o(t,"action")),_=qk.createElement("a",k,h,g,w,qk.createElement(wx,null));if(t.template){var S={onClick:function(e){return s(e,t)},onKeyDown:function(e){return u(e,t)},className:d,labelClassName:"p-menuitem-text",iconClassName:f,submenuIconClassName:y,element:_,props:e};_=KS.getJSXElement(t.template,t,S)}var C=rC({key:a,role:"none",id:t.id,className:l,style:t.style,onMouseEnter:function(n){return function(t,n){n.disabled||e.mobileActive?t.preventDefault():e.root?(r||e.popup)&&i(n):i(n)}(n,t)}},o(t,"menuitem"));return qk.createElement("li",C,_,E)},y=function(t,n){return t.separator?function(t){var n=rC({key:"separator_"+t,className:"p-menu-separator",role:"separator"},e.ptm("separator"));return qk.createElement("li",n)}(n):g(t,n)},b=e.root?"menubar":"menu",w=VS({"p-submenu-list":!e.root,"p-menubar-root-list":e.root}),E=e.model?e.model.map(y):null,k=rC({ref:t,className:w,role:b},e.ptm("menu"));return qk.createElement("ul",k,E)})));function Ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Wx.displayName="MenubarSub";var Xx=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=Vx.getProps(e,n),i=Fx(qk.useState(!1),2),o=i[0],a=i[1],s=qk.useRef(null),u=qk.useRef(null),c=qk.useRef(null),l=Vx.setMetaData({props:r,state:{mobileActive:o}}).ptm,d=Fx(ZC({type:"click",listener:function(e){o&&v(e)&&a(!1)}}),2),f=d[0],p=d[1],h=function(e){e.preventDefault(),a((function(e){return!e}))},v=function(e){return u.current!==e.target&&!u.current.contains(e.target)&&c.current!==e.target&&!c.current.contains(e.target)};HC((function(){o?(sC.set("menu",u.current,n&&n.autoZIndex||SC.autoZIndex,n&&n.zIndex.menu||SC.zIndex.menu),f()):(p(),sC.clear(u.current))}),[o]),VC((function(){sC.clear(u.current)})),qk.useImperativeHandle(t,(function(){return{props:r,toggle:h,getElement:function(){return s.current},getRootMenu:function(){return u.current},getMenuButton:function(){return c.current}}}));var m=VS("p-menubar p-component",{"p-menubar-mobile-active":o},r.className),g=function(){if(r.start){var e=KS.getJSXElement(r.start,r),t=rC({className:"p-menubar-start"},l("start"));return qk.createElement("div",t,e)}return null}(),y=function(){if(r.end){var e=KS.getJSXElement(r.end,r),t=rC({className:"p-menubar-end"},l("end"));return qk.createElement("div",t,e)}return null}(),b=function(){if(r.model&&r.model.length<1)return null;var e=rC({ref:c,href:"#",role:"button",tabIndex:0,className:"p-menubar-button",onClick:function(e){return h(e)}},l("button")),t=rC(l("popupIcon")),n=r.menuIcon||qk.createElement(Rx,t),i=QS.getJSXIcon(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ux(Object(n),!0).forEach((function(t){Dx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ux(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),{props:r});return qk.createElement("a",e,i)}(),w=qk.createElement(Wx,{ref:u,menuProps:r,model:r.model,root:!0,mobileActive:o,onLeafClick:function(){a(!1)},submenuIcon:r.submenuIcon,ptm:l}),E=rC({id:r.id,className:m,style:r.style},Vx.getOtherProps(r),l("root"));return qk.createElement("div",E,g,b,w,y)})));Xx.displayName="Menubar";var Bx=function(){var e=hS(),t=PS(),n=fS().pathname,r=(0,b_.jsx)(Tx,{label:"Logout",onClick:function(){t(qE()),tw.signOut().then((function(){e("/login",{replace:!1})}))}}),i=[{label:"home",icon:"pi pi-home"},{label:"Users",icon:" pi pi-users",items:[{label:"Admin Users",icon:" pi pi-user-edit"},{label:"Users",icon:" pi pi-user"}]},{label:"Games",icon:" pi pi-video",items:[{label:"Games",icon:"pi pi-user",command:function(){return e("/games")}},{label:"Create Game",icon:"pi pi-user",command:function(){return e("/createGame")}}]},{label:"Botz",icon:" pi pi-user",items:[{label:"Botz",icon:"pi pi-user",command:function(){return e("/botz")}},{label:"Create Botz",icon:"pi pi-user",command:function(){return e("/createbotz")}}]},{label:"Analytics",icon:"pi pi-user"}];return"/login"!==n?(0,b_.jsx)(Xx,{model:i,start:"logo",end:r,className:"navbar"}):null};function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(this,arguments)}var Yx=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",Hx({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))})));function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zx.apply(this,arguments)}Yx.displayName="ChevronDownIcon";var Kx=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",zx({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))})));Kx.displayName="TimesIcon";var Jx=function(){var e=new Map;return{on:function(t,n){var r=e.get(t);r?r.push(n):r=[n],e.set(t,r)},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){var r=e.get(t);r&&r.slice().forEach((function(e){return e(n)}))}}}();function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}function qx(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function $x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function eT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var tT=!1,nT=qk.createContext(null),rT=function(e){return e.scrollTop},iT="unmounted",oT="exited",aT="entering",sT="entered",uT="exiting",cT=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=oT,r.appearStatus=aT):i=sT:i=t.unmountOnExit||t.mountOnEnter?iT:oT,r.state={status:i},r.nextCallback=null,r}$x(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===iT?{status:oT}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==aT&&n!==sT&&(t=aT):n!==aT&&n!==sT||(t=uT)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===aT){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&rT(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oT&&this.setState({status:iT})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o.findDOMNode(this),r],a=i[0],s=i[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||tT?this.safeSetState({status:sT},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:aT},(function(){t.props.onEntering(a,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:sT},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!tT?(this.props.onExit(r),this.safeSetState({status:uT},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:oT},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:oT},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===iT)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,qx(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return qk.createElement(nT.Provider,{value:null},"function"===typeof n?n(e,r):qk.cloneElement(qk.Children.only(n),r))},t}(qk.Component);function lT(){}cT.contextType=nT,cT.propTypes={},cT.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lT,onEntering:lT,onEntered:lT,onExit:lT,onExiting:lT,onExited:lT},cT.UNMOUNTED=iT,cT.EXITED=oT,cT.ENTERING=aT,cT.ENTERED=sT,cT.EXITING=uT;var dT=cT,fT=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=eT(n.className,r):n.setAttribute("class",eT(n.className&&n.className.baseVal||"",r)));var n,r}))},pT=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}$x(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&rT(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&fT(e,r),i&&fT(e,i),o&&fT(e,o)},n.render=function(){var e=this.props,t=(e.classNames,qx(e,["classNames"]));return qk.createElement(dT,Qx({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(qk.Component);pT.defaultProps={classNames:""},pT.propTypes={};var hT=pT;function vT(e){return vT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vT(e)}function mT(e){var t=function(e,t){if("object"!==vT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vT(t)?t:String(t)}function gT(e,t,n){return(t=mT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yT={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(e){return KS.getMergedProps(e,yT.defaultProps)},getOtherProps:function(e){return KS.getDiffProps(e,yT.defaultProps)}};function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bT(Object(n),!0).forEach((function(t){gT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ET=qk.forwardRef((function(e,t){var n=yT.getProps(e),r=qk.useContext(_C),i=n.disabled||n.options&&n.options.disabled||r&&!r.cssTransition||!SC.cssTransition,o=function(e,t){n.onEnter&&n.onEnter(e,t),n.options&&n.options.onEnter&&n.options.onEnter(e,t)},a=function(e,t){n.onEntering&&n.onEntering(e,t),n.options&&n.options.onEntering&&n.options.onEntering(e,t)},s=function(e,t){n.onEntered&&n.onEntered(e,t),n.options&&n.options.onEntered&&n.options.onEntered(e,t)},u=function(e){n.onExit&&n.onExit(e),n.options&&n.options.onExit&&n.options.onExit(e)},c=function(e){n.onExiting&&n.onExiting(e),n.options&&n.options.onExiting&&n.options.onExiting(e)},l=function(e){n.onExited&&n.onExited(e),n.options&&n.options.onExited&&n.options.onExited(e)};if(HC((function(){if(i){var e=KS.getRefElement(n.nodeRef);n.in?(o(e,!0),a(e,!0),s(e,!0)):(u(e),c(e),l(e))}}),[n.in]),i)return n.in?n.children:null;var d={nodeRef:n.nodeRef,in:n.in,onEnter:o,onEntering:a,onEntered:s,onExit:u,onExiting:c,onExited:l},f=wT(wT(wT({},{classNames:n.classNames,timeout:n.timeout,unmountOnExit:n.unmountOnExit}),n.options||{}),d);return qk.createElement(hT,f,n.children)}));function kT(){return kT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kT.apply(this,arguments)}function _T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ST(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return _T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CT(e){return CT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CT(e)}function xT(e){var t=function(e,t){if("object"!==CT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==CT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===CT(t)?t:String(t)}function TT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xT(r.key),r)}}ET.displayName="CSSTransition";var IT=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===CT(e)&&t&&"object"===CT(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==CT(e)&&"object"==CT(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===CT(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===CT(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&TT(t.prototype,n),r&&TT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),RT=0;var OT=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=ST(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){IT.isEmpty(i)&&o(function(){return RT++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(RT)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",kT({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function AT(){return AT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AT.apply(this,arguments)}function NT(e){return NT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NT(e)}function PT(e){var t=function(e,t){if("object"!==NT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==NT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===NT(t)?t:String(t)}function LT(e,t,n){return(t=PT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}OT.displayName="SearchIcon";var jT=OC.extend({defaultProps:{__TYPE:"VirtualScroller",id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0}});function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FT(Object(n),!0).forEach((function(t){LT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZT=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=jT.getProps(e,n),i=FC(e)||{},o="vertical"===r.orientation,a="horizontal"===r.orientation,s="both"===r.orientation,u=DT(qk.useState(s?{rows:0,cols:0}:0),2),c=u[0],l=u[1],d=DT(qk.useState(s?{rows:0,cols:0}:0),2),f=d[0],p=d[1],h=DT(qk.useState(0),2),v=h[0],m=h[1],g=DT(qk.useState(s?{rows:0,cols:0}:0),2),y=g[0],b=g[1],w=DT(qk.useState(r.numToleratedItems),2),E=w[0],k=w[1],_=DT(qk.useState(r.loading||!1),2),S=_[0],C=_[1],x=DT(qk.useState([]),2),T=x[0],I=x[1],R=jT.setMetaData({props:r,state:{first:c,last:f,page:v,numItemsInViewport:y,numToleratedItems:E,loading:S,loaderArr:T}}).ptm,O=qk.useRef(null),A=qk.useRef(null),N=qk.useRef(null),P=qk.useRef(null),L=qk.useRef(s?{top:0,left:0}:0),M=qk.useRef(null),D=qk.useRef(null),j=qk.useRef({}),F=qk.useRef({}),V=qk.useRef(null),Z=qk.useRef(null),G=qk.useRef(null),W=qk.useRef(null),U=qk.useRef(!1),X=qk.useRef(null),B=DT(XC({listener:function(e){return oe()},when:!r.disabled}),1)[0],H=DT(ZC({target:"window",type:"orientationchange",listener:function(e){return oe()},when:!r.disabled}),1)[0],Y=function(){return O},z=function(e){return Math.floor((e+4*E)/(r.step||1))},K=function(e){return!r.step||v!==z(e)},J=function(e){L.current=s?{top:0,left:0}:0,O.current&&O.current.scrollTo(e)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n=ee().numToleratedItems,i=ne(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<=(arguments.length>1?arguments[1]:void 0)?0:e},u=function(e,t,n){return e*t+n},d=function(){return J({left:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,behavior:t})},f=s?{rows:0,cols:0}:0,p=!1;s?(d(u((f={rows:o(e[0],n[0]),cols:o(e[1],n[1])}).cols,r.itemSize[1],i.left),u(f.rows,r.itemSize[0],i.top)),p=c.rows!==f.rows||c.cols!==f.cols):(f=o(e,n),a?d(u(f,r.itemSize,i.left),0):d(0,u(f,r.itemSize,i.top)),p=c!==f),U.current=p,l(f)},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(t){var i=$(),o=i.first,u=i.viewport,c=function(){return J({left:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,behavior:n})},l="to-end"===t;if("to-start"===t){if(s)u.first.rows-o.rows>e[0]?c(u.first.cols*r.itemSize[1],(u.first.rows-1)*r.itemSize[0]):u.first.cols-o.cols>e[1]&&c((u.first.cols-1)*r.itemSize[1],u.first.rows*r.itemSize[0]);else if(u.first-o>e){var d=(u.first-1)*r.itemSize;a?c(d,0):c(0,d)}}else if(l)if(s)u.last.rows-o.rows<=e[0]+1?c(u.first.cols*r.itemSize[1],(u.first.rows+1)*r.itemSize[0]):u.last.cols-o.cols<=e[1]+1&&c((u.first.cols+1)*r.itemSize[1],u.first.rows*r.itemSize[0]);else if(u.last-o<=e+1){var f=(u.first+1)*r.itemSize;a?c(f,0):c(0,f)}}else Q(e,n)},$=function(){var e=function(e,t){return Math.floor(e/(t||e))},t=c,n=0;if(O.current){var i=O.current,o=i.scrollTop,u=i.scrollLeft;if(s)n={rows:(t={rows:e(o,r.itemSize[0]),cols:e(u,r.itemSize[1])}).rows+y.rows,cols:t.cols+y.cols};else n=(t=e(a?u:o,r.itemSize))+y}return{first:c,last:f,viewport:{first:t,last:n}}},ee=function(){var e=ne(),t=O.current?O.current.offsetWidth-e.left:0,n=O.current?O.current.offsetHeight-e.top:0,i=function(e,t){return Math.ceil(e/(t||e))},o=function(e){return Math.ceil(e/2)},u=s?{rows:i(n,r.itemSize[0]),cols:i(t,r.itemSize[1])}:i(a?t:n,r.itemSize);return{numItemsInViewport:u,numToleratedItems:E||(s?[o(u.rows),o(u.cols)]:o(u))}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return r.items?Math.min(t?(r.columns||r.items[0]).length:r.items.length,e):0},ne=function(){if(A.current){var e=getComputedStyle(A.current),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),i=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:n,top:r,bottom:i,x:t+n,y:r+i}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},re=function(e){var t=e.target,n=ne(),i=function(e,t){return e?e>t?e-t:e:0},o=function(e,t){return Math.floor(e/(t||e))},u=function(e,t,n,r,i,o){return e<=i?i:o?n-r-i:t+i-1},l=function(e,t,n,r,i,o,a){return e<=o?0:Math.max(0,a?e<t?n:e-o:e>t?n:e-2*o)},d=function(e,t,n,r,i,o){var a=t+r+2*i;return e>=i&&(a+=i+1),te(a,o)},p=i(t.scrollTop,n.top),h=i(t.scrollLeft,n.left),v=s?{rows:0,cols:0}:0,m=f,g=!1,b=L.current;if(s){var w=L.current.top<=p,k=L.current.left<=h;if(!r.appendOnly||r.appendOnly&&(w||k)){var _={rows:o(p,r.itemSize[0]),cols:o(h,r.itemSize[1])},S={rows:u(_.rows,c.rows,f.rows,y.rows,E[0],w),cols:u(_.cols,c.cols,f.cols,y.cols,E[1],k)};v={rows:l(_.rows,S.rows,c.rows,f.rows,y.rows,E[0],w),cols:l(_.cols,S.cols,c.cols,f.cols,y.cols,E[1],k)},m={rows:d(_.rows,v.rows,f.rows,y.rows,E[0]),cols:d(_.cols,v.cols,f.cols,y.cols,E[1],!0)},g=v.rows!==c.rows||m.rows!==f.rows||v.cols!==c.cols||m.cols!==f.cols||U.current,b={top:p,left:h}}}else{var C=a?h:p,x=L.current<=C;if(!r.appendOnly||r.appendOnly&&x){var T=o(C,r.itemSize);m=d(T,v=l(T,u(T,c,f,y,E,x),c,0,0,E,x),0,y,E),g=v!==c||m!==f||U.current,b=C}}return{first:v,last:m,isRangeChanged:g,scrollPos:b}},ie=function(e){var t=re(e),n=t.first,i=t.last,o=t.isRangeChanged,u=t.scrollPos;if(o){var d={first:n,last:i};if(function(e){if(A.current&&!r.appendOnly){var t=e?e.first:c,n=function(e,t){return e*t},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;P.current&&(P.current.style.top="-".concat(t,"px")),j.current=VT(VT({},j.current),{transform:"translate3d(".concat(e,"px, ").concat(t,"px, 0)")})};if(s)i(n(t.cols,r.itemSize[1]),n(t.rows,r.itemSize[0]));else{var o=n(t,r.itemSize);a?i(o,0):i(0,o)}}}(d),l(n),p(i),L.current=u,r.onScrollIndexChange&&r.onScrollIndexChange(d),r.lazy&&K(n)){var f={first:r.step?Math.min(z(n)*r.step,r.items.length-r.step):n,last:Math.min(r.step?(z(n)+1)*r.step:i,r.items.length)};(!X.current||X.current.first!==f.first||X.current.last!==f.last)&&r.onLazyLoad&&r.onLazyLoad(f),X.current=f}}},oe=function(){D.current&&clearTimeout(D.current),D.current=setTimeout((function(){if(O.current){var e=[YS.getWidth(O.current),YS.getHeight(O.current)],t=e[0],n=e[1],i=t!==V.current,u=n!==Z.current;(s?i||u:a?i:!!o&&u)&&(k(r.numToleratedItems),V.current=t,Z.current=n,G.current=YS.getWidth(A.current),W.current=YS.getHeight(A.current))}}),r.resizeDelay)},ae=function(e){var t=(r.items||[]).length,n=s?c.rows+e:c+e;return{index:n,count:t,first:0===n,last:n===t-1,even:n%2===0,odd:n%2!==0,props:r}},se=function(e,t){var n=T.length;return VT({index:e,count:n,first:0===e,last:e===n-1,even:e%2===0,odd:e%2!==0,props:r},t)},ue=function(){var e=r.items;return e&&!S?s?e.slice(r.appendOnly?0:c.rows,f.rows).map((function(e){return r.columns?e:e.slice(r.appendOnly?0:c.cols,f.cols)})):a&&r.columns?e:e.slice(r.appendOnly?0:c,f):[]},ce=function(){var e;O.current&&YS.isVisible(O.current)&&(e=A.current,A.current=e||A.current||YS.findSingle(O.current,".p-virtualscroller-content"),le(),B(),H(),V.current=YS.getWidth(O.current),Z.current=YS.getHeight(O.current),G.current=YS.getWidth(A.current),W.current=YS.getHeight(A.current))},le=function(){r.disabled||(function(){if(O.current){var e=O.current.parentElement,t=r.scrollWidth||"".concat(O.current.offsetWidth||e.offsetWidth,"px"),n=r.scrollHeight||"".concat(O.current.offsetHeight||e.offsetHeight,"px"),i=function(e,t){return O.current.style[e]=t};s||a?(i("height",n),i("width",t)):i("height",n)}}(),function(){var e=ee(),t=e.numItemsInViewport,n=e.numToleratedItems,i=function(e,t,n){return te(e+t+(e<n?2:3)*n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])},o=s?{rows:i(c.rows,t.rows,n[0]),cols:i(c.cols,t.cols,n[1],!0)}:i(c,t,n);b(t),k(n),p(o),r.showLoader&&I(s?Array.from({length:t.rows}).map((function(){return Array.from({length:t.cols})})):Array.from({length:t})),r.lazy&&Promise.resolve().then((function(){X.current={first:r.step?s?{rows:0,cols:c.cols}:0:c,last:Math.min(r.step?r.step:o,r.items.length)},r.onLazyLoad&&r.onLazyLoad(X.current)}))}(),function(){var e=r.items;if(e){var t=ne(),n=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return F.current=VT(VT({},F.current),LT({},"".concat(e),(t||[]).length*n+r+"px"))};s?(n("height",e,r.itemSize[0],t.y),n("width",r.columns||e[1],r.itemSize[1],t.x)):a?n("width",r.columns||e,r.itemSize,t.x):n("height",e,r.itemSize,t.y)}}())};WC((function(){ce()})),HC((function(){le()}),[r.itemSize,r.scrollHeight,r.scrollWidth]),HC((function(){r.numToleratedItems!==E&&k(r.numToleratedItems)}),[r.numToleratedItems]),HC((function(){r.numToleratedItems===E&&le()}),[E]),HC((function(){i.items&&i.items.length===(r.items||[]).length||le();var e=S;r.lazy&&i.loading!==r.loading&&r.loading!==S&&(C(r.loading),e=r.loading),function(e){r.autoSize&&!e&&Promise.resolve().then((function(){if(A.current){A.current.style.minHeight=A.current.style.minWidth="auto",A.current.style.position="relative",O.current.style.contain="none";var e=[YS.getWidth(O.current),YS.getHeight(O.current)],t=e[0],n=e[1];(s||a)&&(O.current.style.width=(t<V.current?t:r.scrollWidth||V.current)+"px"),(s||o)&&(O.current.style.height=(n<Z.current?n:r.scrollHeight||Z.current)+"px"),A.current.style.minHeight=A.current.style.minWidth="",A.current.style.position="",O.current.style.contain=""}}))}(e)})),HC((function(){L.current=s?{top:0,left:0}:0}),[r.orientation]),qk.useImperativeHandle(t,(function(){return{props:r,getElementRef:Y,scrollTo:J,scrollToIndex:Q,scrollInView:q,getRenderedRange:$}}));var de=function(e,t){var n=ae(t),i=KS.getJSXElement(r.itemTemplate,e,n);return qk.createElement(qk.Fragment,{key:n.index},i)};if(r.disabled){var fe=KS.getJSXElement(r.contentTemplate,{items:r.items,rows:r.items,columns:r.columns});return qk.createElement(qk.Fragment,null,r.children,fe)}var pe=VS("p-virtualscroller",{"p-virtualscroller-inline":r.inline,"p-virtualscroller-both p-both-scroll":s,"p-virtualscroller-horizontal p-horizontal-scroll":a},r.className),he=function(){var e="p-virtualscroller-loading-icon",t=rC({className:e},R("loadingIcon")),n=r.loadingIcon||qk.createElement(bx,AT({},t,{spin:!0})),i=QS.getJSXIcon(n,VT({},t),{props:r});if(!r.loaderDisabled&&r.showLoader&&S){var o=VS("p-virtualscroller-loader",{"p-component-overlay":!r.loadingTemplate}),a=i;if(r.loadingTemplate)a=T.map((function(e,t){return function(e){var t=se(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=KS.getJSXElement(r.loadingTemplate,t);return qk.createElement(qk.Fragment,{key:e},n)}(t,s&&{numCols:y.cols})}));else if(r.loaderIconTemplate){var u={iconClassName:e,element:a,props:r};a=KS.getJSXElement(r.loaderIconTemplate,u)}var c=rC({className:o},R("loader"));return qk.createElement("div",c,a)}return null}(),ve=function(){var e=ue().map(de),t=VS("p-virtualscroller-content",{"p-virtualscroller-loading":S}),n=rC({ref:A,style:j.current,className:t},R("content")),i=qk.createElement("div",n,e);if(r.contentTemplate){var u={style:j.current,className:t,spacerStyle:F.current,contentRef:function(e){return A.current=KS.getRefElement(e)},spacerRef:function(e){return N.current=KS.getRefElement(e)},stickyRef:function(e){return P.current=KS.getRefElement(e)},items:ue(),getItemOptions:function(e){return ae(e)},children:e,element:i,props:r,loading:S,getLoaderOptions:function(e,t){return se(e,t)},loadingTemplate:r.loadingTemplate,itemSize:r.itemSize,rows:S?r.loaderDisabled?T:[]:ue(),columns:r.columns&&s||a?S&&r.loaderDisabled?s?T[0]:T:r.columns.slice(s?c.cols:c,s?f.cols:f):r.columns,vertical:o,horizontal:a,both:s};return KS.getJSXElement(r.contentTemplate,u)}return i}(),me=function(){if(r.showSpacer){var e=rC({ref:N,style:F.current,className:"p-virtualscroller-spacer"},R("spacer"));return qk.createElement("div",e)}return null}(),ge=rC({ref:O,className:pe,tabIndex:r.tabIndex,style:r.style,onScroll:function(e){return t=e,r.onScroll&&r.onScroll(t),void(r.delay?(M.current&&clearTimeout(M.current),K(c)&&(!S&&r.showLoader&&(re(t).isRangeChanged||r.step&&K(c))&&C(!0),M.current=setTimeout((function(){ie(t),!S||!r.showLoader||r.lazy&&void 0!==r.loading||(C(!1),m(z(c)))}),r.delay))):ie(t));var t}},jT.getOtherProps(r),R("root"));return qk.createElement("div",ge,ve,me,he)})));function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GT.apply(this,arguments)}function WT(e){return WT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WT(e)}function UT(e){var t=function(e,t){if("object"!==WT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==WT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===WT(t)?t:String(t)}function XT(e,t,n){return(t=UT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return BT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ZT.displayName="VirtualScroller";var YT=OC.extend({defaultProps:{__TYPE:"Dropdown",appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,children:void 0,className:null,clearIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterIcon:null,filterInputAutoFocus:!0,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,id:null,inputId:null,inputRef:null,itemTemplate:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null,valueTemplate:null,virtualScrollerOptions:null}}),zT=qk.memo((function(e){var t,n=VS("p-dropdown-item",{"p-highlight":e.selected,"p-disabled":e.disabled,"p-dropdown-item-empty":!e.label||0===e.label.length},e.option&&e.option.className),r=e.template?KS.getJSXElement(e.template,e.option):e.label,i=rC({className:n,style:e.style,onClick:function(t){return n=t,void(e.onClick&&e.onClick({originalEvent:n,option:e.option}));var n},"aria-label":e.label,role:"option","aria-selected":e.selected,key:e.label},(t="item",e.ptm(t,{context:{selected:e.selected,disabled:e.disabled}})));return qk.createElement("li",i,r,qk.createElement(wx,null))}));function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KT(Object(n),!0).forEach((function(t){XT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}zT.displayName="DropdownItem";var QT=qk.memo(qk.forwardRef((function(e,t){var n=e.ptm,r=qk.useContext(_C);qk.useRef(null);var i=qk.useRef(null),o=!(e.visibleOptions&&e.visibleOptions.length)&&e.hasFilter,a={filter:function(e){return c(e)},reset:function(){return e.resetFilter()}},s=function(){e.onEnter((function(){if(e.virtualScrollerRef.current){var t=e.getSelectedOptionIndex();-1!==t&&setTimeout((function(){return e.virtualScrollerRef.current.scrollToIndex(t)}),0)}}))},u=function(){e.onEntered((function(){e.filter&&e.filterInputAutoFocus&&YS.focus(i.current,!1)}))},c=function(t){e.virtualScrollerRef.current&&e.virtualScrollerRef.current.scrollToIndex(0),e.onFilterInputChange&&e.onFilterInputChange(t)},l=function(t,r){var i=KS.getJSXElement(t,e)||wC(r?"emptyFilterMessage":"emptyMessage"),o=rC({className:"p-dropdown-empty-message"},n("emptyMessage"));return qk.createElement("li",o,i)},d=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={height:i.props?i.props.itemSize:void 0};if(e.optionGroupLabel){var a=e.optionGroupTemplate?KS.getJSXElement(e.optionGroupTemplate,t,r):e.getOptionGroupLabel(t),s=function(t,r){return e.getOptionGroupChildren(t).map((function(t,i){var o=e.getOptionLabel(t),a=i+"_"+e.getOptionRenderKey(t),s=e.isOptionDisabled(t);return qk.createElement(zT,{key:a,label:o,option:t,style:r,template:e.itemTemplate,selected:e.isSelected(t),disabled:s,onClick:e.onOptionClick,ptm:n})}))}(t,o),u=r+"_"+e.getOptionGroupRenderKey(t),c=rC({className:"p-dropdown-item-group",style:o},n("itemGroup"));return qk.createElement(qk.Fragment,{key:u},qk.createElement("li",c,a),s)}var l=e.getOptionLabel(t),d=r+"_"+e.getOptionRenderKey(t),f=e.isOptionDisabled(t);return qk.createElement(zT,{key:d,label:l,option:t,style:o,template:e.itemTemplate,selected:e.isSelected(t),disabled:f,onClick:e.onOptionClick,ptm:n})},f=function(){if(e.filter){var t=function(){if(e.showFilterClear&&e.filterValue){var t=rC({className:"p-dropdown-filter-clear-icon","aria-label":wC("clear"),onClick:function(){return e.onFilterClearIconClick((function(){return YS.focus(i.current)}))}},n("clearIcon")),r=e.filterClearIcon||qk.createElement(Kx,t);return QS.getJSXIcon(r,JT({},t),{props:e})}return null}(),r=VS("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!t}),o=rC({className:"p-dropdown-filter-icon"},n("filterIcon")),s=e.filterIcon||qk.createElement(OT,o),u=QS.getJSXIcon(s,JT({},o),{props:e}),l=rC({className:r},n("filterContainer")),d=rC({ref:i,type:"text",autoComplete:"off",className:"p-dropdown-filter p-inputtext p-component",placeholder:e.filterPlaceholder,onKeyDown:e.onFilterInputKeyDown,onChange:function(e){return c(e)},value:e.filterValue},n("filterInput")),f=qk.createElement("div",l,qk.createElement("input",d),t,u);if(e.filterTemplate){var p={className:r,element:f,filterOptions:a,filterInputKeyDown:e.onFilterInputKeyDown,filterInputChange:c,filterIconClassName:"p-dropdown-filter-icon",clearIcon:t,props:e};f=KS.getJSXElement(e.filterTemplate,p)}var h=rC({className:"p-dropdown-header"},n("header"));return qk.createElement("div",h,f)}return null},p=function(){if(e.virtualScrollerOptions){var t=JT(JT({},e.virtualScrollerOptions),{style:JT(JT({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),className:VS("p-dropdown-items-wrapper",e.virtualScrollerOptions.className),items:e.visibleOptions,autoSize:!0,onLazyLoad:function(t){return e.virtualScrollerOptions.onLazyLoad(JT(JT({},t),{filter:e.filterValue}))},itemTemplate:function(e,t){return e&&d(e,t.index,t)},contentTemplate:function(t){var r=VS("p-dropdown-items",t.className),i=e.hasFilter?e.emptyFilterMessage:e.emptyMessage,a=o?l(i):t.children,s=rC({ref:t.contentRef,style:t.style,className:r,role:"listbox"},n("list"));return qk.createElement("ul",s,a)}});return qk.createElement(ZT,GT({ref:e.virtualScrollerRef},t,{pt:n("virtualScroller")}))}var r=KS.isNotEmpty(e.visibleOptions)?e.visibleOptions.map(d):e.hasFilter?l(e.emptyFilterMessage,!0):l(e.emptyMessage),i=rC({className:"p-dropdown-items-wrapper",style:{maxHeight:e.scrollHeight||"auto"}},n("wrapper")),a=rC({className:"p-dropdown-items",role:"listbox"},n("list"));return qk.createElement("div",i,qk.createElement("ul",a,r))},h=function(){var i=VS("p-dropdown-panel p-component",e.panelClassName,{"p-input-filled":r&&"filled"===r.inputStyle||"filled"===SC.inputStyle,"p-ripple-disabled":r&&!1===r.ripple||!1===SC.ripple}),o=f(),a=p(),c=function(){if(e.panelFooterTemplate){var t=KS.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),r=rC({className:"p-dropdown-footer"},n("footer"));return qk.createElement("div",r,t)}return null}(),l=rC({ref:t,className:i,style:e.panelStyle,onClick:e.onClick},n("panel"));return qk.createElement(ET,{nodeRef:t,classNames:"p-connected-overlay",in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:s,onEntering:e.onEntering,onEntered:u,onExit:e.onExit,onExited:e.onExited},qk.createElement("div",l,o,a,c))}();return qk.createElement(JC,{element:h,appendTo:e.appendTo})})));function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qT(Object(n),!0).forEach((function(t){XT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return tI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function tI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}QT.displayName="DropdownPanel";var nI=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=YT.getProps(e,n),i=HT(qk.useState(""),2),o=i[0],a=i[1],s=HT(qk.useState(!1),2),u=s[0],c=s[1],l=HT(qk.useState(!1),2),d=l[0],f=l[1],p=YT.setMetaData({props:r,state:{filter:o,focused:u,overlayVisible:d}}).ptm,h=qk.useRef(null),v=qk.useRef(null),m=qk.useRef(r.inputRef),g=qk.useRef(r.focusInputRef),y=qk.useRef(null),b=qk.useRef(null),w=qk.useRef(null),E=qk.useRef(null),k=r.virtualScrollerOptions&&r.virtualScrollerOptions.lazy,_=KS.isNotEmpty(o),S=r.appendTo||n&&n.appendTo||SC.appendTo,C=HT(BC({target:h,overlay:v,listener:function(e,t){var n=t.type;t.valid&&("outside"===n?!I(e)&&q():q())},when:d}),2),x=C[0],T=C[1],I=function(e){return YS.hasClass(e.target,"p-dropdown-clear-icon")||YS.hasClass(e.target,"p-dropdown-filter-clear-icon")},R=function(e){r.showOnFocus&&!d&&Q(),c(!0),r.onFocus&&r.onFocus(e)},O=function(e){c(!1),r.onBlur&&setTimeout((function(){var t=m.current?m.current.value:void 0;r.onBlur({originalEvent:e.originalEvent,value:t,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:r.name,id:r.id,value:t}})}),200)},A=function(e){switch(e.which){case 40:P(e);break;case 38:N(e);break;case 32:case 13:d?q():Q(),e.preventDefault();break;case 27:case 9:q();break;default:F(e)}},N=function(e){if(oe){var t=D(z());t&&Y({originalEvent:e,option:t})}e.preventDefault()},P=function(e){if(oe)if(!d&&e.altKey)Q();else{var t=L(z());t&&Y({originalEvent:e,option:t})}e.preventDefault()},L=function e(t){if(r.optionGroupLabel){var n=-1===t?0:t.group,i=-1===t?-1:t.option,o=M(ie(oe[n]),i);return o||(n+1!==oe.length?e({group:n+1,option:-1}):null)}return M(oe,t)},M=function e(t,n){var r=n+1;if(r===t.length)return null;var i=t[r];return re(i)?e(r):i},D=function e(t){if(-1===t)return null;if(r.optionGroupLabel){var n=t.group,i=t.option,o=j(ie(oe[n]),i);return o||(n>0?e({group:n-1,option:ie(oe[n-1]).length}):null)}return j(oe,t)},j=function(e,t){var n=t-1;if(n<0)return null;var r=e[n];return re(r)?D(n):r},F=function(e){b.current&&clearTimeout(b.current);var t=e.key;if("Shift"!==t&&"Control"!==t&&"Alt"!==t){if(E.current===t?w.current=t:w.current=w.current?w.current+t:t,E.current=t,w.current){var n=z(),i=r.optionGroupLabel?G(n):V(n+1);i&&Y({originalEvent:e,option:i})}b.current=setTimeout((function(){w.current=null}),250)}},V=function(e){return w.current?Z(e,oe.length)||Z(0,e):null},Z=function(e,t){for(var n=e;n<t;n++){var r=oe[n];if(W(r))return r}return null},G=function(e){for(var t=-1===e?{group:0,option:-1}:e,n=t.group;n<oe.length;n++)for(var r=ie(oe[n]),i=t.group===n?t.option+1:0;i<r.length;i++)if(W(r[i]))return r[i];for(var o=0;o<=t.group;o++)for(var a=ie(oe[o]),s=0;s<(t.group===o?t.option:a.length);s++)if(W(a[s]))return a[s];return null},W=function(e){var t=te(e);return!!t&&(t=t.toLocaleLowerCase(r.filterLocale)).startsWith(w.current.toLocaleLowerCase(r.filterLocale))},U=function(e){r.onChange&&r.onChange({originalEvent:e.originalEvent,value:e.target.value,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:r.name,id:r.id,value:e.target.value}})},X=function(e){c(!0),q(),r.onFocus&&r.onFocus(e)},B=function(e){a(""),r.onFilter&&r.onFilter({filter:""}),e&&e()},H=function(e){r.onChange&&r.onChange({originalEvent:e,value:void 0,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:r.name,id:r.id,value:void 0}}),ee()},Y=function(e){if(ae!==e.option){ee(e.option);var t=ne(e.option);r.onChange&&r.onChange({originalEvent:e.originalEvent,value:t,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:r.name,id:r.id,value:t}})}},z=function(e){if(e=e||oe,null!=r.value&&e){if(!r.optionGroupLabel)return J(r.value,e);for(var t=0;t<e.length;t++){var n=J(r.value,ie(e[t]));if(-1!==n)return{group:t,option:n}}}return-1},K=function(){return r.optionValue?null:r.dataKey},J=function(e,t){var n=K();return t.findIndex((function(t){return KS.equals(e,ne(t),n)}))},Q=function(){f(!0)},q=function(){f(!1)},$=function(){YS.alignOverlay(v.current,m.current.parentElement,r.appendTo||n&&n.appendTo||SC.appendTo)},ee=function(e){m.current&&(m.current.value=e?te(e):r.value||"")},te=function(e){return r.optionLabel?KS.resolveFieldData(e,r.optionLabel):e&&void 0!==e.label?e.label:e},ne=function(e){return r.optionValue?KS.resolveFieldData(e,r.optionValue):e&&void 0!==e.value?e.value:e},re=function(e){return r.optionDisabled?KS.isFunction(r.optionDisabled)?r.optionDisabled(e):KS.resolveFieldData(e,r.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled},ie=function(e){return KS.resolveFieldData(e,r.optionGroupChildren)};qk.useImperativeHandle(t,(function(){return{props:r,show:Q,hide:q,focus:function(){return YS.focus(g.current)},getElement:function(){return h.current},getOverlay:function(){return v.current},getInput:function(){return m.current},getFocusInput:function(){return g.current},getVirtualScroller:function(){return y.current}}})),qk.useEffect((function(){KS.combinedRefs(m,r.inputRef),KS.combinedRefs(g,r.focusInputRef)}),[m,r.inputRef,g,r.focusInputRef]),WC((function(){r.autoFocus&&YS.focus(g.current,r.autoFocus)})),HC((function(){d&&r.value&&function(){var e=YS.findSingle(v.current,"li.p-highlight");e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest",inline:"nearest"})}()}),[d,r.value]),HC((function(){d&&o&&r.filter&&$()}),[d,o,r.filter]),HC((function(){!o||r.options&&0!==r.options.length||a(""),function(){if(r.editable&&m.current){var e=(ae?te(ae):null)||r.value||"";m.current.value=e}}(),m.current&&(m.current.selectedIndex=1)})),VC((function(){sC.clear(v.current)}));var oe=function(){if(_&&!k){var e=o.trim().toLocaleLowerCase(r.filterLocale),t=r.filterBy?r.filterBy.split(","):[r.optionLabel||"label"];if(r.optionGroupLabel){var n,i=[],a=eI(r.options);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=fC.filter(ie(s),t,e,r.filterMatchMode,r.filterLocale);u&&u.length&&i.push($T($T({},s),XT({},"".concat(r.optionGroupChildren),u)))}}catch(c){a.e(c)}finally{a.f()}return i}return fC.filter(r.options,t,e,r.filterMatchMode,r.filterLocale)}return r.options}(),ae=function(){var e=z(r.options);return-1!==e?r.optionGroupLabel?ie(r.options[e.group])[e.option]:r.options[e]:null}(),se=KS.isNotEmpty(r.tooltip),ue=YT.getOtherProps(r),ce=KS.reduceKeys(ue,YS.ARIA_PROPS),le=VS("p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-focus":u,"p-dropdown-clearable":r.showClear&&!r.disabled,"p-inputwrapper-filled":KS.isNotEmpty(r.value),"p-inputwrapper-focus":u||d},r.className),de=function(){var e={value:"",label:r.placeholder};if(ae){var t=ne(ae);e={value:"object"===WT(t)?r.options.findIndex((function(e){return e===t})):t,label:te(ae)}}var n=rC({className:"p-hidden-accessible p-dropdown-hidden-select"},p("hiddenSelectedMessage")),i=rC({ref:m,required:r.required,defaultValue:e.value,name:r.name,tabIndex:-1,"aria-hidden":"true"},p("select")),o=rC({value:e.value},p("option"));return qk.createElement("div",n,qk.createElement("select",i,qk.createElement("option",o,e.label)))}(),fe=function(){var e=rC({className:"p-hidden-accessible"},p("hiddenSelectedMessage")),t=rC($T({ref:g,id:r.inputId,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:R,onBlur:O,onKeyDown:A,disabled:r.disabled,tabIndex:r.tabIndex},ce),p("input"));return qk.createElement("div",e,qk.createElement("input",t))}(),pe=function(){var e=KS.isNotEmpty(ae)?te(ae):null;if(r.editable){var t=e||r.value||"",n=rC($T({ref:m,type:"text",defaultValue:t,className:"p-dropdown-label p-inputtext",disabled:r.disabled,placeholder:r.placeholder,maxLength:r.maxLength,onInput:U,onFocus:X,onBlur:O,"aria-haspopup":"listbox"},ce),p("input"));return qk.createElement("input",n)}var i=VS("p-dropdown-label p-inputtext",{"p-placeholder":null===e&&r.placeholder,"p-dropdown-label-empty":null===e&&!r.placeholder}),o=r.valueTemplate?KS.getJSXElement(r.valueTemplate,ae,r):e||r.placeholder||"empty",a=rC({ref:m,className:i},p("input"));return qk.createElement("span",a,o)}(),he=function(){var e=rC({className:VS("p-dropdown-trigger-icon p-clickable")},p("dropdownIcon")),t=r.dropdownIcon||qk.createElement(Yx,e),n=QS.getJSXIcon(t,$T({},e),{props:r}),i=r.placeholder||r.ariaLabel,o=rC({className:"p-dropdown-trigger",role:"button","aria-haspopup":"listbox","aria-expanded":d,"aria-label":i},p("trigger"));return qk.createElement("div",o,n)}(),ve=function(){if(null!=r.value&&r.showClear&&!r.disabled){var e=rC({className:VS("p-dropdown-clear-icon p-clickable"),onPointerUp:H},p("clearIcon")),t=r.clearIcon||qk.createElement(Kx,e);return QS.getJSXIcon(t,$T({},e),{props:r})}return null}(),me=rC({id:r.id,ref:h,className:le,style:r.style,onClick:function(e){return t=e,void(r.disabled||(r.onClick&&r.onClick(t),t.defaultPrevented||YS.hasClass(t.target,"p-dropdown-clear-icon")||"INPUT"===t.target.tagName||v.current&&v.current&&v.current.contains(t.target)||(YS.focus(g.current),d?q():Q())));var t},onMouseDown:r.onMouseDown,onContextMenu:r.onContextMenu},ue,p("root"));return qk.createElement(qk.Fragment,null,qk.createElement("div",me,fe,de,pe,ve,he,qk.createElement(QT,GT({ref:v,visibleOptions:oe,virtualScrollerRef:y},r,{appendTo:S,onClick:function(e){Jx.emit("overlay-click",{originalEvent:e,target:h.current})},onOptionClick:function(e){e.option.disabled||(Y(e),YS.focus(g.current)),q()},filterValue:o,hasFilter:_,onFilterClearIconClick:function(e){B(e)},resetFilter:B,onFilterInputKeyDown:function(e){switch(e.which){case 40:P(e);break;case 38:N(e);break;case 13:case 27:q(),e.preventDefault()}},onFilterInputChange:function(e){var t=e.target.value;a(t),r.onFilter&&r.onFilter({originalEvent:e,filter:t})},getOptionLabel:te,getOptionRenderKey:function(e){return r.dataKey?KS.resolveFieldData(e,r.dataKey):te(e)},isOptionDisabled:re,getOptionGroupChildren:ie,getOptionGroupLabel:function(e){return KS.resolveFieldData(e,r.optionGroupLabel)},getOptionGroupRenderKey:function(e){return KS.resolveFieldData(e,r.optionGroupLabel)},isSelected:function(e){return KS.equals(r.value,ne(e),K())},getSelectedOptionIndex:z,in:d,onEnter:function(e){sC.set("overlay",v.current,n&&n.autoZIndex||SC.autoZIndex,n&&n.zIndex.overlay||SC.zIndex.overlay),$(),e&&e()},onEntered:function(e){e&&e(),x(),r.onShow&&r.onShow()},onExit:function(){T()},onExited:function(){r.filter&&r.resetFilterOnHide&&B(),sC.clear(v.current),r.onHide&&r.onHide()},ptm:p}))),se&&qk.createElement(ix,GT({target:h,content:r.tooltip},r.tooltipOptions,{pt:p("tooltip")})))})));function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rI.apply(this,arguments)}nI.displayName="Dropdown";var iI=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",rI({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"}))})));function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(this,arguments)}function aI(e){return aI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aI(e)}function sI(e){var t=function(e,t){if("object"!==aI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aI(t)?t:String(t)}function uI(e,t,n){return(t=sI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lI(e,t){if(e){if("string"===typeof e)return cI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cI(e,t):void 0}}function dI(e){return function(e){if(Array.isArray(e))return cI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||lI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}iI.displayName="AngleUpIcon";var pI=OC.extend({defaultProps:{__TYPE:"InputNumber",allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:null,disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:null,inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null,children:void 0}});function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(n),!0).forEach((function(t){uI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mI=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=pI.getProps(e,n),i=fI(qk.useState(!1),2),o=i[0],a=i[1],s=pI.setMetaData({props:r,state:{focused:o}}).ptm,u=qk.useRef(null),c=qk.useRef(null),l=qk.useRef(null),d=qk.useRef(null),f=qk.useRef(null),p=qk.useRef(null),h=qk.useRef(null),v=qk.useRef(null),m=qk.useRef(null),g=qk.useRef(null),y=qk.useRef(null),b=qk.useRef(null),w=qk.useRef(null),E=qk.useRef(null),k=qk.useRef(null),_=qk.useRef(null),S=qk.useRef(null),C=r.locale||n&&n.locale||SC.locale,x=r.showButtons&&"stacked"===r.buttonLayout,T=r.showButtons&&"horizontal"===r.buttonLayout,I=r.showButtons&&"vertical"===r.buttonLayout,R=r.inputMode||("decimal"!==r.mode||r.minFractionDigits?"decimal":"numeric"),O=function(){return{localeMatcher:r.localeMatcher,style:r.mode,currency:r.currency,currencyDisplay:r.currencyDisplay,useGrouping:r.useGrouping,minimumFractionDigits:r.minFractionDigits,maximumFractionDigits:r.maxFractionDigits}},A=function(){f.current=new Intl.NumberFormat(C,O());var e=dI(new Intl.NumberFormat(C,{useGrouping:!1}).format(9876543210)).reverse(),t=new Map(e.map((function(e,t){return[e,t]})));g.current=new RegExp("[".concat(e.join(""),"]"),"g"),y.current=L(),b.current=M(),w.current=D(),E.current=P(),k.current=F(),_.current=j(),S.current=function(e){return t.get(e)}},N=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},P=function(){var e=new Intl.NumberFormat(C,vI(vI({},O()),{},{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(w.current,"").trim().replace(g.current,""),"]"),"g")},L=function(){var e=new Intl.NumberFormat(C,{useGrouping:!0});return p.current=e.format(1e6).trim().replace(g.current,"").charAt(0),new RegExp("[".concat(p.current,"]"),"g")},M=function(){var e=new Intl.NumberFormat(C,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(g.current,""),"]"),"g")},D=function(){if(r.currency){var e=new Intl.NumberFormat(C,{style:"currency",currency:r.currency,currencyDisplay:r.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(g.current,"").replace(y.current,""),"]"),"g")}return new RegExp("[]","g")},j=function(){if(r.prefix)h.current=r.prefix;else{var e=new Intl.NumberFormat(C,{style:r.mode,currency:r.currency,currencyDisplay:r.currencyDisplay});h.current=e.format(1).split("1")[0]}return new RegExp("".concat(N(h.current||"")),"g")},F=function(){if(r.suffix)v.current=r.suffix;else{var e=new Intl.NumberFormat(C,{style:r.mode,currency:r.currency,currencyDisplay:r.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});v.current=e.format(1).split("1")[1]}return new RegExp("".concat(N(v.current||"")),"g")},V=function(e){if(null!=e){if("-"===e)return e;if(r.format){var t=new Intl.NumberFormat(C,O()).format(e);return r.prefix&&(t=r.prefix+t),r.suffix&&(t+=r.suffix),t}return e.toString()}return""},Z=function(e){var t=e.replace(k.current,"").replace(_.current,"").trim().replace(/\s/g,"").replace(w.current,"").replace(y.current,"").replace(b.current,"-").replace(E.current,".").replace(g.current,S.current);if(t){if("-"===t)return t;var n=+t;return isNaN(n)?null:n}return null},G=function e(t,n,r){var i=n||500;Se(),l.current=setTimeout((function(){e(t,40,r)}),i),W(t,r)},W=function(e,t){if(c.current){var n=r.step*t,i=Z(c.current.value)||0,o=he(i+n);if(r.maxLength&&r.maxLength<V(o).length)return;fe(e,i,o),!YS.isTouchDevice()&&me(o,null,"spin"),Ee(e,o)}},U=function(){r.disabled||r.readOnly||Se()},X=function(){r.disabled||r.readOnly||Se()},B=function(){r.disabled||r.readOnly||Se()},H=function(){r.disabled||r.readOnly||Se()},Y=function(){r.disabled||r.readOnly||Se()},z=function(){r.disabled||r.readOnly||Se()},K=function(e){r.disabled||r.readOnly||(m.current&&(e.target.value=d.current),m.current=!1)},J=function(e){if(!r.disabled&&!r.readOnly)if(d.current=e.target.value,e.shiftKey||e.altKey)m.current=!0;else{var t=e.target.selectionStart,n=e.target.selectionEnd,i=e.target.value,o=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:W(e,1),e.preventDefault();break;case 40:W(e,-1),e.preventDefault();break;case 37:ue(i.charAt(t-1))||e.preventDefault();break;case 39:ue(i.charAt(t))||e.preventDefault();break;case 13:case 9:o=he(Z(i)),c.current.value=V(o),c.current.setAttribute("aria-valuenow",o),Ee(e,o);break;case 8:if(e.preventDefault(),t===n){var a=i.charAt(t-1),s=ne(i),u=s.decimalCharIndex,l=s.decimalCharIndexWithoutPrefix;if(ue(a)){var f=we(i);if(y.current.test(a))y.current.lastIndex=0,o=i.slice(0,t-2)+i.slice(t-1);else if(E.current.test(a))E.current.lastIndex=0,f?c.current.setSelectionRange(t-1,t-1):o=i.slice(0,t-1)+i.slice(t);else if(u>0&&t>u){var p=te()&&(r.minFractionDigits||0)<f?"":"0";o=i.slice(0,t-1)+p+i.slice(t)}else 1===l?(o=i.slice(0,t-1)+"0"+i.slice(t),o=Z(o)>0?o:""):o=i.slice(0,t-1)+i.slice(t)}le(e,o,null,"delete-single")}else o=oe(i,t,n),le(e,o,null,"delete-range");break;case 46:if(e.preventDefault(),t===n){var h=i.charAt(t),v=ne(i),g=v.decimalCharIndex,b=v.decimalCharIndexWithoutPrefix;if(ue(h)){var w=we(i);if(y.current.test(h))y.current.lastIndex=0,o=i.slice(0,t)+i.slice(t+2);else if(E.current.test(h))E.current.lastIndex=0,w?c.current.setSelectionRange(t+1,t+1):o=i.slice(0,t)+i.slice(t+1);else if(g>0&&t>g){var k=te()&&(r.minFractionDigits||0)<w?"":"0";o=i.slice(0,t)+k+i.slice(t+1)}else 1===b?(o=i.slice(0,t)+"0"+i.slice(t+1),o=Z(o)>0?o:""):o=i.slice(0,t)+i.slice(t+1)}le(e,o,null,"delete-back-single")}else o=oe(i,t,n),le(e,o,null,"delete-range")}r.onKeyDown&&r.onKeyDown(e)}},Q=function(e){if(!r.disabled&&!r.readOnly){var t=e.which||e.keyCode;13!==t&&e.preventDefault();var n=String.fromCharCode(t),i=ee(n),o=$(n);(48<=t&&t<=57||o||i)&&re(e,n,{isDecimalSign:i,isMinusSign:o})}},q=function(e){if(e.preventDefault(),!r.disabled&&!r.readOnly){var t=(e.clipboardData||window.clipboardData).getData("Text");if(t){var n=Z(t);null!=n&&re(e,n.toString())}}},$=function(e){return!(!b.current.test(e)&&"-"!==e)&&(b.current.lastIndex=0,!0)},ee=function(e){return!!E.current.test(e)&&(E.current.lastIndex=0,!0)},te=function(){return"decimal"===r.mode},ne=function(e){var t=e.search(E.current);E.current.lastIndex=0;var n=e.replace(_.current,"").trim().replace(/\s/g,"").replace(w.current,"").search(E.current);return E.current.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:n}},re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},i=t.search(b.current);if(b.current.lastIndex=0,null===r.min||r.min<0||-1===i){var o,a=c.current.selectionStart,s=c.current.selectionEnd,u=c.current.value.trim(),l=function(e){var t=e.search(E.current);E.current.lastIndex=0;var n=e.search(b.current);b.current.lastIndex=0;var r=e.search(k.current);k.current.lastIndex=0;var i=e.search(w.current);return w.current.lastIndex=0,{decimalCharIndex:t,minusCharIndex:n,suffixCharIndex:r,currencyCharIndex:i}}(u),d=l.decimalCharIndex,p=l.minusCharIndex,h=l.suffixCharIndex,v=l.currencyCharIndex;if(n.isMinusSign)0===a&&(o=u,-1!==p&&0===s||(o=ie(u,t,0,s)),le(e,o,t,"insert"));else if(n.isDecimalSign)d>0&&a===d?le(e,u,t,"insert"):(d>a&&d<s||-1===d&&r.maxFractionDigits)&&(o=ie(u,t,a,s),le(e,o,t,"insert"));else{var m=f.current.resolvedOptions().maximumFractionDigits,g=a!==s?"range-insert":"insert";if(d>0&&a>d){if(a+t.length-(d+1)<=m){var y=v>=a?v-1:h>=a?h:u.length;o=u.slice(0,a)+t+u.slice(a+t.length,y)+u.slice(y),le(e,o,t,g)}}else o=ie(u,t,a,s),le(e,o,t,g)}}},ie=function(e,t,n,r){if(2===("."===t?t:t.split(".")).length){var i=e.slice(n,r).search(E.current);return E.current.lastIndex=0,i>0?e.slice(0,n)+V(t)+e.slice(r):e||V(t)}if(r-n===e.length)return V(t);if(0===n){var o=KS.isLetter(e[r])?r-1:r;return t+e.slice(o)}return r===e.length?e.slice(0,n)+t:e.slice(0,n)+t+e.slice(r)},oe=function(e,t,n){return n-t===e.length?"":0===t?e.slice(n):n===e.length?e.slice(0,t):e.slice(0,t)+e.slice(n)},ae=function(){var e=c.current.selectionStart,t=c.current.value,n=t.length,r=null,i=(h.current||"").length;e-=i;var o=(t=t.replace(_.current,"")).charAt(e);if(ue(o))return e+i;for(var a=e-1;a>=0;){if(o=t.charAt(a),ue(o)){r=a+i;break}a--}if(null!==r)c.current.setSelectionRange(r+1,r+1);else{for(a=e;a<n;){if(o=t.charAt(a),ue(o)){r=a+i;break}a++}null!==r&&c.current.setSelectionRange(r,r)}return r||0},se=function(){ae()},ue=function(e){return!(1!==e.length||!(g.current.test(e)||E.current.test(e)||y.current.test(e)||b.current.test(e)))&&(ce(),!0)},ce=function(){g.current.lastIndex=0,E.current.lastIndex=0,y.current.lastIndex=0,b.current.lastIndex=0},le=function(e,t,n,r){var i=c.current.value,o=null;null!=t&&(o=de(Z(t)),me(o,n,r,t),fe(e,i,o))},de=function(e){return e||r.allowEmpty?e:r.min||0},fe=function(e,t,n){r.onChange&&pe(t,n)&&r.onChange({originalEvent:e,value:n})},pe=function(e,t){return null===t&&null!==e||null!=t&&t!==("string"===typeof e?Z(e):e)},he=function(e){return"-"===e?null:ve(e)},ve=function(e){return KS.isEmpty(e)?null:null!==r.min&&e<r.min?r.min:null!==r.max&&e>r.max?r.max:e},me=function(e,t,n,i){t=t||"";var o=c.current,a=o.value,s=V(e),u=a.length;if(s!==i&&(s=be(s,i)),0===u){o.value=s,o.setSelectionRange(0,0);var l=ae()+t.length;o.setSelectionRange(l,l)}else{var d=o.selectionStart,f=o.selectionEnd;if(r.maxLength&&r.maxLength<s.length)return;o.value=s;var h=s.length;if("range-insert"===n){var v=Z((a||"").slice(0,d)),m=(null!==v?v.toString():"").split("").join("(".concat(p.current,")?")),g=new RegExp(m,"g");g.test(s);var b=t.split("").join("(".concat(p.current,")?")),w=new RegExp(b,"g");w.test(s.slice(g.lastIndex)),f=g.lastIndex+w.lastIndex,o.setSelectionRange(f,f)}else if(h===u)"insert"===n||"delete-back-single"===n?o.setSelectionRange(f+1,f+1):"delete-single"===n?o.setSelectionRange(f-1,f-1):"delete-range"!==n&&"spin"!==n||o.setSelectionRange(f,f);else if("delete-back-single"===n){var E=a.charAt(f-1),k=a.charAt(f),_=u-h,S=y.current.test(k);S&&1===_?f+=1:!S&&ue(E)&&(f+=-1*_+1),y.current.lastIndex=0,o.setSelectionRange(f,f)}else if("-"===a&&"insert"===n){o.setSelectionRange(0,0);var C=ae()+t.length+1;o.setSelectionRange(C,C)}else f+=h-u,o.setSelectionRange(f,f)}o.setAttribute("aria-valuenow",e)},ge=function(e){e=de(e);var t=c.current,n=t.value,r=ye(e);n!==r&&(t.value=r,t.setAttribute("aria-valuenow",e))},ye=function(e){return V(de(e))},be=function(e,t){if(e&&t){var n=t.search(E.current);return E.current.lastIndex=0,-1!==n?e.split(E.current)[0]+t.slice(n):e}return e},we=function(e){if(e){var t=e.split(E.current);if(2===t.length)return t[1].replace(k.current,"").trim().replace(/\s/g,"").replace(w.current,"").length}return 0},Ee=function(e,t){r.onValueChange&&r.onValueChange({originalEvent:e,value:t,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:r.name,id:r.id,value:t}})},ke=function(e){if(a(!0),r.onFocus&&r.onFocus(e),(r.suffix||r.currency||r.prefix)&&c.current){var t=ae();c.current.setSelectionRange(t,t)}},_e=function(e){if(a(!1),c.current){var t=c.current.value;if(pe(t,r.value)){var n=he(Z(t));ge(n),Ee(e,n)}}r.onBlur&&r.onBlur(e)},Se=function(){l.current&&clearInterval(l.current)},Ce=function(){ge(ve(r.value));var e=he(r.value);null!==r.value&&r.value!==e&&Ee(null,e)},xe=function(){return f.current};qk.useImperativeHandle(t,(function(){return{props:r,focus:function(){return YS.focus(c.current)},getFormatter:xe,getElement:function(){return u.current},getInput:function(){return c.current}}})),qk.useEffect((function(){KS.combinedRefs(c,r.inputRef)}),[c,r.inputRef]),WC((function(){A();var e=he(r.value);null!==r.value&&r.value!==e&&Ee(null,e)})),HC((function(){A(),Ce()}),[r.locale,r.localeMatcher,r.mode,r.currency,r.currencyDisplay,r.useGrouping,r.minFractionDigits,r.maxFractionDigits,r.suffix,r.prefix]),HC((function(){Ce()}),[r.value]);var Te=function(){var e=VS("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":r.disabled},r.incrementButtonClassName),t=rC({className:"p-button-icon"},s("incrementIconProps")),n=r.incrementButtonIcon||qk.createElement(iI,t),i=QS.getJSXIcon(n,vI({},t),{props:r}),o=rC({type:"button",className:e,onPointerLeave:X,onPointerDown:function(e){return t=e,void(r.disabled||r.readOnly||(r.autoFocus&&YS.focus(c.current,r.autoFocus),G(t,null,1)));var t},onPointerUp:U,onKeyDown:function(e){return t=e,void(r.disabled||r.readOnly||32!==t.keyCode&&13!==t.keyCode||G(t,null,1));var t},onKeyUp:B,disabled:r.disabled,tabIndex:-1},s("incrementButton"));return qk.createElement("button",o,i,qk.createElement(wx,null))},Ie=function(){var e=VS("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":r.disabled},r.decrementButtonClassName),t=rC({className:"p-button-icon"},s("decrementIconProps")),n=r.decrementButtonIcon||qk.createElement(Px,t),i=QS.getJSXIcon(n,vI({},t),{props:r}),o=rC({type:"button",className:e,onPointerLeave:Y,onPointerDown:function(e){return t=e,void(r.disabled||r.readOnly||(r.autoFocus&&YS.focus(c.current,r.autoFocus),G(t,null,-1)));var t},onPointerUp:H,onKeyDown:function(e){return t=e,void(r.disabled||r.readOnly||32!==t.keyCode&&13!==t.keyCode||G(t,null,-1));var t},onKeyUp:z,disabled:r.disabled,tabIndex:-1},s("decrementButton"));return qk.createElement("button",o,i,qk.createElement(wx,null))},Re=KS.isNotEmpty(r.tooltip),Oe=pI.getOtherProps(r),Ae=KS.reduceKeys(Oe,YS.DATA_PROPS),Ne=KS.reduceKeys(Oe,YS.ARIA_PROPS),Pe=VS("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":null!=r.value&&r.value.toString().length>0,"p-inputwrapper-focus":o,"p-inputnumber-buttons-stacked":x,"p-inputnumber-buttons-horizontal":T,"p-inputnumber-buttons-vertical":I},r.className),Le=function(){var e=VS("p-inputnumber-input",r.inputClassName),t=ye(r.value);return qk.createElement(sx,oI({ref:c,id:r.inputId,style:r.inputStyle,role:"spinbutton",className:e,defaultValue:t,type:r.type,size:r.size,tabIndex:r.tabIndex,inputMode:R,maxLength:r.maxLength,disabled:r.disabled,required:r.required,pattern:r.pattern,placeholder:r.placeholder,readOnly:r.readOnly,name:r.name,autoFocus:r.autoFocus,onKeyDown:J,onKeyPress:Q,onInput:K,onClick:se,onBlur:_e,onFocus:ke,onPaste:q,min:r.min,max:r.max,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.value},Ne,Ae,{pt:s("input")}))}(),Me=function(){var e=r.showButtons&&Te(),t=r.showButtons&&Ie(),n=rC({className:"p-inputnumber-button-group"},s("buttonGroup"));return x?qk.createElement("span",n,e,t):qk.createElement(qk.Fragment,null,e,t)}(),De=rC({id:r.id,ref:u,className:Pe,style:r.style},Oe,s("root"));return qk.createElement(qk.Fragment,null,qk.createElement("span",De,Le,Me),Re&&qk.createElement(ix,oI({target:u,content:r.tooltip},r.tooltipOptions,{pt:s("tooltip")})))})));function gI(){return gI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gI.apply(this,arguments)}mI.displayName="InputNumber";var yI=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",gI({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"}))})));function bI(){return bI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bI.apply(this,arguments)}yI.displayName="CalendarIcon";var wI=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",bI({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"}))})));function EI(){return EI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EI.apply(this,arguments)}wI.displayName="ChevronLeftIcon";var kI=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",EI({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))})));function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(this,arguments)}kI.displayName="ChevronRightIcon";var SI=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",_I({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"}))})));function CI(){return CI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CI.apply(this,arguments)}function xI(e){return xI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xI(e)}function TI(e){var t=function(e,t){if("object"!==xI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xI(t)?t:String(t)}function II(e,t,n){return(t=TI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OI(e,t){if(e){if("string"===typeof e)return RI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RI(e,t):void 0}}function AI(e){return function(e){if(Array.isArray(e))return RI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||OI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}SI.displayName="ChevronUpIcon";var PI=OC.extend({defaultProps:{__TYPE:"Calendar",appendTo:null,ariaLabelledBy:null,autoZIndex:!0,autoFocus:!1,baseZIndex:0,className:null,clearButtonClassName:"p-button-secondary",dateFormat:null,dateTemplate:null,decadeTemplate:null,decrementIcon:null,disabled:!1,disabledDates:null,disabledDays:null,footerTemplate:null,formatDateTime:null,headerTemplate:null,hideOnDateTimeSelect:!1,hourFormat:"24",icon:null,iconPos:"right",id:null,incrementIcon:null,inline:!1,inputClassName:null,inputId:null,inputMode:"none",inputRef:null,inputStyle:null,keepInvalid:!1,locale:null,mask:null,maxDate:null,maxDateCount:null,minDate:null,monthNavigator:!1,monthNavigatorTemplate:null,name:null,nextIcon:null,numberOfMonths:1,onBlur:null,onChange:null,onClearButtonClick:null,onFocus:null,onHide:null,onInput:null,onMonthChange:null,onSelect:null,onShow:null,onTodayButtonClick:null,onViewDateChange:null,onVisibleChange:null,panelClassName:null,panelStyle:null,parseDateTime:null,placeholder:null,prevIcon:null,readOnlyInput:!1,required:!1,selectOtherMonths:!1,selectionMode:"single",shortYearCutoff:"+10",showButtonBar:!1,showIcon:!1,showMillisec:!1,showMinMaxRange:!1,showOnFocus:!0,showOtherMonths:!0,showSeconds:!1,showTime:!1,showWeek:!1,stepHour:1,stepMillisec:1,stepMinute:1,stepSecond:1,style:null,tabIndex:null,timeOnly:!1,todayButtonClassName:"p-button-secondary",tooltip:null,tooltipOptions:null,touchUI:!1,transitionOptions:null,value:null,view:"date",viewDate:null,visible:!1,yearNavigator:!1,yearNavigatorTemplate:null,yearRange:null,children:void 0}}),LI=qk.forwardRef((function(e,t){var n=function(){var n=rC({ref:t,className:e.className,style:e.style,onClick:e.onClick,onMouseUp:e.onMouseUp},e.ptm("panel"));return qk.createElement(ET,{nodeRef:t,classNames:"p-connected-overlay",in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},qk.createElement("div",n,e.children))}();return e.inline?n:qk.createElement(JC,{element:n,appendTo:e.appendTo})}));function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MI(Object(n),!0).forEach((function(t){II(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return FI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function FI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}LI.displayName="CalendarPanel";var VI=qk.memo(qk.forwardRef((function(e,t){var n,r=qk.useContext(_C),i=PI.getProps(e,r),o=NI(qk.useState(!1),2),a=o[0],s=o[1],u=NI(qk.useState(!1),2),c=u[0],l=u[1],d=NI(qk.useState(null),2),f=d[0],p=d[1],h=PI.setMetaData({props:i,state:{focused:a,overlayVisible:c,viewDate:f}}).ptm,v=qk.useRef(null),m=qk.useRef(null),g=qk.useRef(i.inputRef),y=qk.useRef(null),b=qk.useRef(!1),w=qk.useRef(!1),E=qk.useRef(null),k=qk.useRef(!1),_=qk.useRef(null),S=qk.useRef(null),C=qk.useRef(null),x=qk.useRef(!1),T=qk.useRef(!1),I=NI(qk.useState("date"),2),R=I[0],O=I[1],A=NI(qk.useState(null),2),N=A[0],P=A[1],L=NI(qk.useState(null),2),M=L[0],D=L[1],j=NI(qk.useState([]),2),F=j[0],V=j[1],Z=FC(i.value),G=i.inline||(i.onVisibleChange?i.visible:c),W=oC(),U=NI(BC({target:v,overlay:m,listener:function(e,t){var n=t.type;t.valid&&("outside"===n?!x.current&&!rt(e.target)&&Qe("outside"):Qe()),x.current=!1},when:!(i.touchUI||i.inline)&&G}),2),X=U[0],B=U[1],H=function(){return i.dateFormat||wC("dateFormat",i.locale)},Y=function(e){b.current?(s(!0),b.current=!1):(i.showOnFocus&&!G&&Je(),s(!0),i.onFocus&&i.onFocus(e))},z=function(e){s(!1),!i.keepInvalid&&Tt(i.value),i.onBlur&&i.onBlur(e)},K=function(e){switch(w.current=!0,e.which){case 27:Qe();break;case 9:G&&ie(e),i.touchUI&&et()}},J=function(e){w.current&&(w.current=!1,Q(e,e.target.value),i.onInput&&i.onInput(e))},Q=function(e,t){try{var n=At(t);$(n)&&(Ke(e,n),We(e,n.length?n[0]:n))}catch(o){var r=i.keepInvalid?t:null;Ke(e,r)}},q=function(){!i.inline&&g.current&&(b.current=!0,YS.focus(g.current))},$=function(e){var t=!0;return Et()?ft(e.getDate(),e.getMonth(),e.getFullYear(),!1)&&pt(e)||(t=!1):e.every((function(e){return ft(e.getDate(),e.getMonth(),e.getFullYear(),!1)&&pt(e)}))&&kt()&&(t=e.length>1&&e[1]>e[0]),t},ee=function(){G?Qe():Je()},te=function(e){y.current={backward:!0,button:!0},ae(e)},ne=function(e){y.current={backward:!1,button:!0},se(e)},re=function(e){switch(e.which){case 9:ie(e);break;case 27:Qe(null,q),e.preventDefault()}},ie=function(e){e.preventDefault();var t=YS.getFocusableElements(m.current);if(t&&t.length>0)if(document.activeElement){var n=t.indexOf(document.activeElement);e.shiftKey?-1===n||0===n?t[t.length-1].focus():t[n-1].focus():-1===n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()},oe=function(){var e;if("month"===i.view){var t=YS.find(m.current,".p-monthpicker .p-monthpicker-month"),n=YS.findSingle(m.current,".p-monthpicker .p-monthpicker-month.p-highlight");t.forEach((function(e){return e.tabIndex=-1})),e=n||t[0]}else{if(!(e=YS.findSingle(m.current,"span.p-highlight")))e=YS.findSingle(m.current,"td.p-datepicker-today span:not(.p-disabled)")||YS.findSingle(m.current,".p-datepicker-calendar td span:not(.p-disabled)")}e&&(e.tabIndex="0")},ae=function(e){if(i.disabled)e.preventDefault();else{var t=Pe(Ae());if(t.setDate(1),"date"===R)0===t.getMonth()?(t.setMonth(11),t.setFullYear(ce()),P(11)):(t.setMonth(t.getMonth()-1),P((function(e){return e-1})));else if("month"===R){var n=t.getFullYear()-1;if(i.yearNavigator){var r=parseInt(i.yearRange.split(":")[0],10);n<r&&(n=r)}t.setFullYear(n)}"month"===R?t.setFullYear(ce()):"year"===R&&t.setFullYear(He()),We(e,t),e.preventDefault()}},se=function(e){if(i.disabled)e.preventDefault();else{var t=Pe(Ae());if(t.setDate(1),"date"===R)11===t.getMonth()?(t.setMonth(0),t.setFullYear(le()),P(0)):(t.setMonth(t.getMonth()+1),P((function(e){return e+1})));else if("month"===R){var n=t.getFullYear()+1;if(i.yearNavigator){var r=parseInt(i.yearRange.split(":")[1],10);n>r&&(n=r)}t.setFullYear(n)}"month"===R?t.setFullYear(le()):"year"===R&&t.setFullYear(Ye()),We(e,t),e.preventDefault()}},ue=function(e,t){for(var n=e;n<=t;n++)F.push(n);V([])},ce=function(){var e=M-1;if(D(e),i.yearNavigator&&e<F[0]){var t=F[F.length-1]-F[0];ue(F[0]-t,F[F.length-1]-t)}return e},le=function(){var e=M+1;if(D(e),i.yearNavigator&&e.current>F[F.length-1]){var t=F[F.length-1]-F[0];ue(F[0]+t,F[F.length-1]+t)}return e},de=function(e,t){var n=Ae(),r=Pe(n);r.setMonth(parseInt(t,10)),We(e,r)},fe=function(e,t){var n=Ae(),r=Pe(n);r.setFullYear(parseInt(t,10)),We(e,r)},pe=function(e){var t=new Date,n={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),today:!0,selectable:!0},r={hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()};We(e,t),Xe(e,n,r),i.onTodayButtonClick&&i.onTodayButtonClick(e)},he=function(e){Ke(e,null),Tt(null),Qe(),i.onClearButtonClick&&i.onClearButtonClick(e)},ve=function(e){i.inline||Jx.emit("overlay-click",{originalEvent:e,target:v.current})},me=function(e,t,n){i.disabled||(be(e,null,t,n),e.preventDefault())},ge=function(){i.disabled||we()},ye=function(){i.disabled||we()},be=function e(t,n,r,i){switch(we(),E.current=setTimeout((function(){e(t,100,r,i)}),n||500),r){case 0:1===i?Ee(t):ke(t);break;case 1:1===i?Se(t):Ce(t);break;case 2:1===i?xe(t):Te(t);break;case 3:1===i?Ie(t):Re(t)}},we=function(){E.current&&clearTimeout(E.current)},Ee=function(e){var t=Ne(),n=t.getHours()+i.stepHour;De(n=n>=24?n-24:n,t)&&(i.maxDate&&i.maxDate.toDateString()===t.toDateString()&&i.maxDate.getHours()===n&&(i.maxDate.getMinutes()<t.getMinutes()||i.maxDate.getMinutes()===t.getMinutes())?i.maxDate.getSeconds()<t.getSeconds()?i.maxDate.getMilliseconds()<t.getMilliseconds()?Ge(e,n,i.maxDate.getMinutes(),i.maxDate.getSeconds(),i.maxDate.getMilliseconds()):Ge(e,n,i.maxDate.getMinutes(),i.maxDate.getSeconds(),t.getMilliseconds()):Ge(e,n,i.maxDate.getMinutes(),t.getSeconds(),t.getMilliseconds()):Ge(e,n,t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e.preventDefault()},ke=function(e){var t=Ne(),n=t.getHours()-i.stepHour;De(n=n<0?n+24:n,t)&&(i.minDate&&i.minDate.toDateString()===t.toDateString()&&i.minDate.getHours()===n&&(i.minDate.getMinutes()>t.getMinutes()||i.minDate.getMinutes()===t.getMinutes())?i.minDate.getSeconds()>t.getSeconds()?i.minDate.getMilliseconds()>t.getMilliseconds()?Ge(e,n,i.minDate.getMinutes(),i.minDate.getSeconds(),i.minDate.getMilliseconds()):Ge(e,n,i.minDate.getMinutes(),i.minDate.getSeconds(),t.getMilliseconds()):Ge(e,n,i.minDate.getMinutes(),t.getSeconds(),t.getMilliseconds()):Ge(e,n,t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e.preventDefault()},_e=function(e,t){return i.stepMinute<=1?t?e+t:e:t||e%(t=i.stepMinute)!==0?Math.floor((e+t)/t)*t:e},Se=function(e){var t=Ne(),n=t.getMinutes(),r=_e(n,i.stepMinute);je(r=r>59?r-60:r,t)&&(i.maxDate&&i.maxDate.toDateString()===t.toDateString()&&i.maxDate.getMinutes()===r&&i.maxDate.getSeconds()<t.getSeconds()?i.maxDate.getMilliseconds()<t.getMilliseconds()?Ge(e,t.getHours(),r,i.maxDate.getSeconds(),i.maxDate.getMilliseconds()):Ge(e,t.getHours(),r,i.maxDate.getSeconds(),t.getMilliseconds()):Ge(e,t.getHours(),r,t.getSeconds(),t.getMilliseconds())),e.preventDefault()},Ce=function(e){var t=Ne(),n=t.getMinutes(),r=_e(n,-i.stepMinute);je(r=r<0?r+60:r,t)&&(i.minDate&&i.minDate.toDateString()===t.toDateString()&&i.minDate.getMinutes()===r&&i.minDate.getSeconds()>t.getSeconds()?i.minDate.getMilliseconds()>t.getMilliseconds()?Ge(e,t.getHours(),r,i.minDate.getSeconds(),i.minDate.getMilliseconds()):Ge(e,t.getHours(),r,i.minDate.getSeconds(),t.getMilliseconds()):Ge(e,t.getHours(),r,t.getSeconds(),t.getMilliseconds())),e.preventDefault()},xe=function(e){var t=Ne(),n=t.getSeconds()+i.stepSecond;Fe(n=n>59?n-60:n,t)&&(i.maxDate&&i.maxDate.toDateString()===t.toDateString()&&i.maxDate.getSeconds()===n&&i.maxDate.getMilliseconds()<t.getMilliseconds()?Ge(e,t.getHours(),t.getMinutes(),n,i.maxDate.getMilliseconds()):Ge(e,t.getHours(),t.getMinutes(),n,t.getMilliseconds())),e.preventDefault()},Te=function(e){var t=Ne(),n=t.getSeconds()-i.stepSecond;Fe(n=n<0?n+60:n,t)&&(i.minDate&&i.minDate.toDateString()===t.toDateString()&&i.minDate.getSeconds()===n&&i.minDate.getMilliseconds()>t.getMilliseconds()?Ge(e,t.getHours(),t.getMinutes(),n,i.minDate.getMilliseconds()):Ge(e,t.getHours(),t.getMinutes(),n,t.getMilliseconds())),e.preventDefault()},Ie=function(e){var t=Ne(),n=t.getMilliseconds()+i.stepMillisec;Ve(n=n>999?n-1e3:n,t)&&Ge(e,t.getHours(),t.getMinutes(),t.getSeconds(),n),e.preventDefault()},Re=function(e){var t=Ne(),n=t.getMilliseconds()-i.stepMillisec;Ve(n=n<0?n+999:n,t)&&Ge(e,t.getHours(),t.getMinutes(),t.getSeconds(),n),e.preventDefault()},Oe=function(e){var t=Ne(),n=t.getHours(),r=n>=12?n-12:n+12;De(Me(r,!(n>11)),t)&&Ge(e,r,t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.preventDefault()},Ae=function(e){var t=i.value,n=e||(i.onViewDateChange?i.viewDate:f);return Array.isArray(t)&&(t=t[0]),n&&Le(n)?n:t&&Le(t)?t:new Date},Ne=function(){if(Et())return i.value&&i.value instanceof Date?Pe(i.value):Ae();if(_t()){if(i.value&&i.value.length)return Pe(i.value[i.value.length-1])}else if(kt()&&i.value&&i.value.length){var e=Pe(i.value[0]);return Pe(i.value[1])||e}return new Date},Pe=function(e){return Le(e)?new Date(e.valueOf()):e},Le=function(e){return e instanceof Date&&!isNaN(e)},Me=function(e,t){return"12"==i.hourFormat?12===e?t?12:0:t?e+12:e:e},De=function(e,t){var n=!0,r=t?t.toDateString():null;return i.minDate&&r&&i.minDate.toDateString()===r&&i.minDate.getHours()>e&&(n=!1),i.maxDate&&r&&i.maxDate.toDateString()===r&&i.maxDate.getHours()<e&&(n=!1),n},je=function(e,t){var n=!0,r=t?t.toDateString():null;return i.minDate&&r&&i.minDate.toDateString()===r&&t.getHours()===i.minDate.getHours()&&i.minDate.getMinutes()>e&&(n=!1),i.maxDate&&r&&i.maxDate.toDateString()===r&&t.getHours()===i.maxDate.getHours()&&i.maxDate.getMinutes()<e&&(n=!1),n},Fe=function(e,t){var n=!0,r=t?t.toDateString():null;return i.minDate&&r&&i.minDate.toDateString()===r&&t.getHours()===i.minDate.getHours()&&t.getMinutes()===i.minDate.getMinutes()&&i.minDate.getSeconds()>e&&(n=!1),i.maxDate&&r&&i.maxDate.toDateString()===r&&t.getHours()===i.maxDate.getHours()&&t.getMinutes()===i.maxDate.getMinutes()&&i.maxDate.getSeconds()<e&&(n=!1),n},Ve=function(e,t){var n=!0,r=t?t.toDateString():null;return i.minDate&&r&&i.minDate.toDateString()===r&&t.getHours()===i.minDate.getHours()&&t.getSeconds()===i.minDate.getSeconds()&&t.getMinutes()===i.minDate.getMinutes()&&i.minDate.getMilliseconds()>e&&(n=!1),i.maxDate&&r&&i.maxDate.toDateString()===r&&t.getHours()===i.maxDate.getHours()&&t.getSeconds()===i.maxDate.getSeconds()&&t.getMinutes()===i.maxDate.getMinutes()&&i.maxDate.getMilliseconds()<e&&(n=!1),n},Ze=function(e){if(i.yearNavigator){var t=e.getFullYear(),n=i.yearRange?parseInt(i.yearRange.split(":")[0],10):null,r=i.yearRange?parseInt(i.yearRange.split(":")[1],10):null,o=i.minDate&&null!=n?Math.max(i.minDate.getFullYear(),n):i.minDate||n,a=i.maxDate&&null!=r?Math.min(i.maxDate.getFullYear(),r):i.maxDate||r;o&&o>t&&(t=o),a&&a<t&&(t=a),e.setFullYear(t)}if(i.monthNavigator&&"month"!==i.view){var s=e.getMonth(),u=parseInt(Dt(e)&&Math.max(i.minDate.getMonth(),s).toString()||jt(e)&&Math.min(i.maxDate.getMonth(),s).toString()||s);e.setMonth(u)}},Ge=function(e,t,n,r,o){var a=Ne();if(a.setHours(t),a.setMinutes(n),a.setSeconds(r),a.setMilliseconds(o),_t())if(i.value&&i.value.length){var s=AI(i.value);s[s.length-1]=a,a=s}else a=[a];else if(kt())if(i.value&&i.value.length){var u=i.value[0];a=i.value[1]?[u,a]:[a,null]}else a=[a,null];Ke(e,a),i.onSelect&&i.onSelect({originalEvent:e,value:a}),Tt(a)},We=function(e,t){Ze(t),i.onViewDateChange?i.onViewDateChange({originalEvent:e,value:t}):(k.current=!0,p(t)),P(t.getMonth()),D(t.getFullYear())},Ue=function(e,t,n){if(e)if(1===i.numberOfMonths||0===t)y.current={backward:!0},ae(n);else{var r=m.current.children[t-1],o=YS.find(r,".p-datepicker-calendar td span:not(.p-disabled)"),a=o[o.length-1];a.tabIndex="0",a.focus()}else if(1===i.numberOfMonths||t===i.numberOfMonths-1)y.current={backward:!1},se(n);else{var s=m.current.children[t+1],u=YS.findSingle(s,".p-datepicker-calendar td span:not(.p-disabled)");u.tabIndex="0",u.focus()}},Xe=function(e,t,n){if(!i.disabled&&t.selectable){if(YS.find(m.current,".p-datepicker-calendar td span:not(.p-disabled)").forEach((function(e){return e.tabIndex=-1})),e.currentTarget.focus(),_t())if(ht(t)){var r=i.value.filter((function(e,n){return!bt(e,t)}));Ke(e,r),Tt(r)}else(!i.maxDateCount||!i.value||i.maxDateCount>i.value.length)&&Be(e,t,n);else Be(e,t,n);i.inline||!Et()||i.showTime&&!i.hideOnDateTimeSelect||(setTimeout((function(){Qe("dateselect")}),100),_.current&&et()),e.preventDefault()}else e.preventDefault()},Be=function(e,t,n){var r=new Date(t.year,t.month,t.day);!function(e,t){if(i.showTime){var n,r,o,a;if(t)n=t.hours,r=t.minutes,o=t.seconds,a=t.milliseconds;else{var s=Ne(),u=[s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()];n=u[0],r=u[1],o=u[2],a=u[3]}e.setHours(n),e.setMinutes(r),e.setSeconds(o),e.setMilliseconds(a)}}(r,n),i.minDate&&i.minDate>r&&(r=i.minDate),i.maxDate&&i.maxDate<r&&(r=i.maxDate);var o=r;if(Et())Ke(e,r);else if(_t())o=i.value?[].concat(AI(i.value),[r]):[r],Ke(e,o);else if(kt())if(i.value&&i.value.length){var a=i.value[0],s=i.value[1];s?(a=r,s=null):r.getTime()>=a.getTime()?s=r:(s=a,a=r),Ke(e,o=[a,s])}else Ke(e,o=[r,null]);i.onSelect&&i.onSelect({originalEvent:e,value:r}),Tt(o)},He=function(){var e=M-10;return D(e),e},Ye=function(){var e=M+10;return D(e),e},ze=function(e){O("month"),e.preventDefault()},Ke=function(e,t){if(i.onChange){var n=Pe(t);k.current=!0,i.onChange({originalEvent:e,value:n,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:i.name,id:i.id,value:n}})}},Je=function(e){i.onVisibleChange?i.onVisibleChange({visible:!0,type:e}):(l(!0),S.current=function(e){nt(e)||(x.current=!0)},Jx.on("overlay-click",S.current))},Qe=function(e,t){var n=function(){k.current=!1,b.current=!1,x.current=!1,t&&t(),Jx.off("overlay-click",S.current),S.current=null};i.touchUI&&et(),i.onVisibleChange?i.onVisibleChange({visible:!1,type:e,callback:n}):(l(!1),n())},qe=function(){i.touchUI?$e():m&&m.current&&g&&g.current&&(YS.alignOverlay(m.current,g.current,i.appendTo||r&&r.appendTo||SC.appendTo),"self"===i.appendTo||i.inline?YS.relativePosition(m.current,g.current):("date"===R?(m.current.style.width=YS.getOuterWidth(m.current)+"px",m.current.style.minWidth=YS.getOuterWidth(g.current)+"px"):m.current.style.width=YS.getOuterWidth(g.current)+"px",YS.absolutePosition(m.current,g.current)))},$e=function(){_.current||(_.current=document.createElement("div"),_.current.style.zIndex=String(sC.get(m.current)-1),YS.addMultipleClasses(_.current,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay-enter"),C.current=function(){et(),Qe()},_.current.addEventListener("click",C.current),document.body.appendChild(_.current),YS.addClass(document.body,"p-overflow-hidden"))},et=function(){_.current&&(YS.addClass(_.current,"p-component-overlay-leave"),_.current.addEventListener("animationend",(function(){tt()})))},tt=function(){_.current&&(_.current.removeEventListener("click",C.current),C.current=null,document.body.removeChild(_.current),_.current=null);for(var e,t=document.body.children,n=0;n<t.length;n++){var r=t[n];if(YS.hasClass(r,"p-datepicker-mask-scrollblocker")){e=!0;break}}e||YS.removeClass(document.body,"p-overflow-hidden")},nt=function(e){return v.current&&!(v.current.isSameNode(e.target)||rt(e.target)||v.current.contains(e.target)||m.current&&m.current.contains(e.target))},rt=function(e){return YS.hasClass(e,"p-datepicker-prev")||YS.hasClass(e,"p-datepicker-prev-icon")||YS.hasClass(e,"p-datepicker-next")||YS.hasClass(e,"p-datepicker-next-icon")},it=function(e,t){return 32-ot(new Date(t,e,32)).getDate()},ot=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},at=function(e,t){var n,r;return 0===e?(n=11,r=t-1):(n=e-1,r=t),{month:n,year:r}},st=function(e,t){var n,r;return 11===e?(n=0,r=t+1):(n=e+1,r=t),{month:n,year:r}},ut=function(){var e=wC("firstDayOfWeek",i.locale);return e>0?7-e:0},ct=function(e,t){for(var n=[],r=0;r<i.numberOfMonths;r++){var o=e+r,a=t;o>11&&(o=o%11-1,a=t+1),n.push(lt(o,a))}return n},lt=function(e,t){for(var n=[],r=function(e,t){var n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(t);var r=n.getDay()+ut();return r>=7?r-7:r}(e,t),o=it(e,t),a=function(e,t){var n=at(e,t);return it(n.month,n.year)}(e,t),s=1,u=new Date,c=[],l=Math.ceil((o+r)/7),d=0;d<l;d++){var f=[];if(0===d){for(var p=a-r+1;p<=a;p++){var h=at(e,t);f.push({day:p,month:h.month,year:h.year,otherMonth:!0,today:St(u,p,h.month,h.year),selectable:ft(p,h.month,h.year,!0)})}for(var v=7-f.length,m=0;m<v;m++)f.push({day:s,month:e,year:t,today:St(u,s,e,t),selectable:ft(s,e,t,!1)}),s++}else for(var g=0;g<7;g++){if(s>o){var y=st(e,t);f.push({day:s-o,month:y.month,year:y.year,otherMonth:!0,today:St(u,s-o,y.month,y.year),selectable:ft(s-o,y.month,y.year,!0)})}else f.push({day:s,month:e,year:t,today:St(u,s,e,t),selectable:ft(s,e,t,!1)});s++}i.showWeek&&c.push(dt(new Date(f[0].year,f[0].month,f[0].day))),n.push(f)}return{month:e,year:t,dates:n,weekNumbers:c}},dt=function(e){var t=Pe(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1},ft=function(e,t,n,r){var o=!0,a=!0,s=!0,u=!0,c=!0;return i.minDate&&(i.minDate.getFullYear()>n||i.minDate.getFullYear()===n&&(t>-1&&i.minDate.getMonth()>t||t>-1&&i.minDate.getMonth()===t&&e>0&&i.minDate.getDate()>e))&&(o=!1),i.maxDate&&(i.maxDate.getFullYear()<n||i.maxDate.getFullYear()===n&&(t>-1&&i.maxDate.getMonth()<t||t>-1&&i.maxDate.getMonth()===t&&e>0&&i.maxDate.getDate()<e))&&(a=!1),i.disabledDates&&(s=!Ct(e,t,n)),i.disabledDays&&"month"!==R&&(u=!xt(e,t,n)),!1===i.selectOtherMonths&&r&&(c=!1),o&&a&&s&&u&&c},pt=function(e){var t=!0,n=!0;return i.minDate&&i.minDate.toDateString()===e.toDateString()&&(i.minDate.getHours()>e.getHours()||i.minDate.getHours()===e.getHours()&&(i.minDate.getMinutes()>e.getMinutes()||i.minDate.getMinutes()===e.getMinutes()&&(i.minDate.getSeconds()>e.getSeconds()||i.minDate.getSeconds()===e.getSeconds()&&i.minDate.getMilliseconds()>e.getMilliseconds())))&&(t=!1),i.maxDate&&i.maxDate.toDateString()===e.toDateString()&&(i.maxDate.getHours()<e.getHours()||i.maxDate.getHours()===e.getHours()&&(i.maxDate.getMinutes()<e.getMinutes()||i.maxDate.getMinutes()===e.getMinutes()&&(i.maxDate.getSeconds()<e.getSeconds()||i.maxDate.getSeconds()===e.getSeconds()&&i.maxDate.getMilliseconds()<e.getMilliseconds())))&&(n=!1),t&&n},ht=function(e){if(!i.value)return!1;if(Et())return bt(i.value,e);if(_t()){var t,n=!1,r=jI(i.value);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n=bt(o,e))break}}catch(a){r.e(a)}finally{r.f()}return n}return kt()?i.value[1]?bt(i.value[0],e)||bt(i.value[1],e)||wt(i.value[0],i.value[1],e):bt(i.value[0],e):void 0},vt=function(){return null!=i.value&&"string"!==typeof i.value},mt=function(e){if(vt()){var t=kt()?i.value[0]:i.value;return!_t()&&(t.getMonth()===e&&t.getFullYear()===M)}return!1},gt=function(e){if(vt()){var t=kt()?i.value[0]:i.value;return!(_t()||!vt())&&t.getFullYear()===e}return!1},yt=function(){return i.numberOfMonths>1||i.disabled},bt=function(e,t){return!!(e&&e instanceof Date)&&(e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year)},wt=function(e,t,n){if(e&&t){var r=new Date(n.year,n.month,n.day);return e.getTime()<=r.getTime()&&t.getTime()>=r.getTime()}return!1},Et=function(){return"single"===i.selectionMode},kt=function(){return"range"===i.selectionMode},_t=function(){return"multiple"===i.selectionMode},St=function(e,t,n,r){return e.getDate()===t&&e.getMonth()===n&&e.getFullYear()===r},Ct=function(e,t,n){return!!i.disabledDates&&i.disabledDates.some((function(r){return r.getFullYear()===n&&r.getMonth()===t&&r.getDate()===e}))},xt=function(e,t,n){if(i.disabledDays){var r=new Date(n,t,e).getDay();return-1!==i.disabledDays.indexOf(r)}return!1},Tt=function(e){if(g.current){var t="";if(e)try{if(Et())t=Le(e)?It(e):i.keepInvalid?e:"";else if(_t())for(var n=0;n<e.length;n++){var r=e[n];t+=Le(r)?It(r):"",n!==e.length-1&&(t+=", ")}else if(kt()&&e&&e.length){var o=e[0],a=e[1];t=Le(o)?It(o):"",a&&(t+=Le(a)?" - "+It(a):"")}}catch(s){t=e}g.current.value=t}},It=function(e){if(i.formatDateTime)return i.formatDateTime(e);var t=null;return e&&(i.timeOnly?t=Ot(e):(t=Rt(e,H()),i.showTime&&(t+=" "+Ot(e)))),t},Rt=function(e,t){if(!e)return"";var n,r=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},o=function(e,t,n){var i=""+t;if(r(e))for(;i.length<n;)i="0"+i;return i},a=function(e,t,n,i){return r(e)?i[t]:n[t]},s="",u=!1,c=kC(i.locale),l=c.dayNamesShort,d=c.dayNames,f=c.monthNamesShort,p=c.monthNames;if(e)for(n=0;n<t.length;n++)if(u)"'"!==t.charAt(n)||r("'")?s+=t.charAt(n):u=!1;else switch(t.charAt(n)){case"d":s+=o("d",e.getDate(),2);break;case"D":s+=a("D",e.getDay(),l,d);break;case"o":s+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":s+=o("m",e.getMonth()+1,2);break;case"M":s+=a("M",e.getMonth(),f,p);break;case"y":s+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":s+=e.getTime();break;case"!":s+=1e4*e.getTime()+ticksTo1970;break;case"'":r("'")?s+="'":u=!0;break;default:s+=t.charAt(n)}return s},Ot=function(e){if(!e)return"";var t="",n=e.getHours(),r=e.getMinutes(),o=e.getSeconds(),a=e.getMilliseconds();return"12"===i.hourFormat&&n>11&&12!==n&&(n-=12),"12"===i.hourFormat?t+=0===n?12:n<10?"0"+n:n:t+=n<10?"0"+n:n,t+=":",t+=r<10?"0"+r:r,i.showSeconds&&(t+=":",t+=o<10?"0"+o:o),i.showMillisec&&(t+=".",t+=a<100?(a<10?"00":"0")+a:a),"12"===i.hourFormat&&(t+=e.getHours()>11?" PM":" AM"),t},At=function(e){if(!e||0===e.trim().length)return null;var t;if(Et())t=Nt(e);else if(_t()){t=[];var n,r=jI(e.split(","));try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(Nt(i.trim()))}}catch(s){r.e(s)}finally{r.f()}}else if(kt()){var o=e.split(" - ");t=[];for(var a=0;a<o.length;a++)t[a]=Nt(o[a].trim())}return t},Nt=function(e){if(i.parseDateTime)return i.parseDateTime(e);var t,n=e.split(" ");return i.timeOnly?(t=new Date,Pt(t,n[0],n[1])):i.showTime?(t=Mt(n[0],H()),Pt(t,n[1],n[2])):t=Mt(e,H()),t},Pt=function(e,t,n){if("12"===i.hourFormat&&"PM"!==n&&"AM"!==n)throw new Error("Invalid Time");var r=Lt(t,n);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second),e.setMilliseconds(r.millisecond)},Lt=function(e,t){var n=(e=i.showMillisec?e.replace(".",":"):e).split(":"),r=i.showSeconds?3:2;if(r=i.showMillisec?r+1:r,n.length!==r||2!==n[0].length||2!==n[1].length||i.showSeconds&&2!==n[2].length||i.showMillisec&&3!==n[3].length)throw new Error("Invalid time");var o=parseInt(n[0],10),a=parseInt(n[1],10),s=i.showSeconds?parseInt(n[2],10):null,u=i.showMillisec?parseInt(n[3],10):null;if(isNaN(o)||isNaN(a)||o>23||a>59||"12"===i.hourFormat&&o>12||i.showSeconds&&(isNaN(s)||s>59)||i.showMillisec&&(isNaN(s)||s>1e3))throw new Error("Invalid time");return"12"===i.hourFormat&&12!==o&&"PM"===t&&(o+=12),{hour:o,minute:a,second:s,millisecond:u}},Mt=function(e,t){if(null==t||null==e)throw new Error("Invalid arguments");if(""===(e="object"===xI(e)?e.toString():e+""))return null;var n,r,o,a,s=0,u="string"!==typeof i.shortYearCutoff?i.shortYearCutoff:(new Date).getFullYear()%100+parseInt(i.shortYearCutoff,10),c=-1,l=-1,d=-1,f=-1,p=!1,h=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},v=function(t){var n=h(t),r="@"===t?14:"!"===t?20:"y"===t&&n?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?r:1)+","+r+"}"),o=e.substring(s).match(i);if(!o)throw new Error("Missing number at position "+s);return s+=o[0].length,parseInt(o[0],10)},m=function(t,n,r){for(var i=-1,o=h(t)?r:n,a=[],u=0;u<o.length;u++)a.push([u,o[u]]);a.sort((function(e,t){return-(e[1].length-t[1].length)}));for(var c=0;c<a.length;c++){var l=a[c][1];if(e.substr(s,l.length).toLowerCase()===l.toLowerCase()){i=a[c][0],s+=l.length;break}}if(-1!==i)return i+1;throw new Error("Unknown name at position "+s)},g=function(){if(e.charAt(s)!==t.charAt(n))throw new Error("Unexpected literal at position "+s);s++};"month"===i.view&&(d=1);var y=kC(i.locale),b=y.dayNamesShort,w=y.dayNames,E=y.monthNamesShort,k=y.monthNames;for(n=0;n<t.length;n++)if(p)"'"!==t.charAt(n)||h("'")?g():p=!1;else switch(t.charAt(n)){case"d":d=v("d");break;case"D":m("D",b,w);break;case"o":f=v("o");break;case"m":l=v("m");break;case"M":l=m("M",E,k);break;case"y":c=v("y");break;case"@":c=(a=new Date(v("@"))).getFullYear(),l=a.getMonth()+1,d=a.getDate();break;case"!":c=(a=new Date((v("!")-ticksTo1970)/1e4)).getFullYear(),l=a.getMonth()+1,d=a.getDate();break;case"'":h("'")?g():p=!0;break;default:g()}if(s<e.length&&(o=e.substr(s),!/^\s+/.test(o)))throw new Error("Extra/unparsed characters found in date: "+o);if(-1===c?c=(new Date).getFullYear():c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=u?0:-100)),f>-1)for(l=1,d=f;;){if(d<=(r=it(c,l-1)))break;l++,d-=r}if((a=ot(new Date(c,l-1,d))).getFullYear()!==c||a.getMonth()+1!==l||a.getDate()!==d)throw new Error("Invalid date");return a},Dt=function(e){return i.minDate&&i.minDate.getFullYear()===e.getFullYear()},jt=function(e){return i.maxDate&&i.maxDate.getFullYear()===e.getFullYear()};qk.useEffect((function(){KS.combinedRefs(g,i.inputRef)}),[g,i.inputRef]),WC((function(){var e=Ae(i.viewDate);Ze(e),p(e),P(e.getMonth()),D(e.getFullYear()),O(i.view),i.inline&&(m&&m.current.setAttribute(W,""),i.disabled||(oe(),1===i.numberOfMonths&&(m.current.style.width=YS.getOuterWidth(m.current)+"px"))),i.value&&(Tt(i.value),Ft(i.value)),i.autoFocus&&setTimeout((function(){return YS.focus(g.current,i.autoFocus)}),200)})),HC((function(){var e=null;return i.mask&&(e=eC(g.current,{mask:i.mask,readOnly:i.readOnlyInput||i.disabled,onChange:function(e){!T.current&&Q(e.originalEvent,e.value),T.current=!1},onBlur:function(){T.current=!0}}).unbindEvents),function(){i.mask&&e&&e()}}),[i.mask]),HC((function(){O(i.view)}),[i.view]),HC((function(){i.onViewDateChange||k.current||Ft(i.value)}),[i.onViewDateChange,i.value]),HC((function(){var e=i.value;if(Z!==e&&(Tt(e),!G&&e)){var t=e;if(_t())e.length&&(t=e[e.length-1]);else if(kt()&&e.length){var n=e[0];t=e[1]||n}t instanceof Date&&(Ze(t),p(t),P(t.getMonth()),D(t.getFullYear()))}}),[i.value,G]),HC((function(){Tt(i.value)}),[i.dateFormat,i.hourFormat,i.timeOnly,i.showSeconds,i.showMillisec,i.showTime]),HC((function(){m.current&&(function(e){if(e&&i.showMinMaxRange&&"date"===i.view&&m.current){var t=YS.findSingle(m.current,".p-datepicker-prev"),n=YS.findSingle(m.current,".p-datepicker-next");if(i.disabled)return YS.addClass(t,"p-disabled"),void YS.addClass(n,"p-disabled");if(i.minDate){var r=Pe(e);0===r.getMonth()?(r.setMonth(11,1),r.setFullYear(r.getFullYear()-1)):r.setMonth(r.getMonth(),1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),i.minDate>r?YS.addClass(t,"p-disabled"):YS.removeClass(t,"p-disabled")}if(i.maxDate){var o=Pe(e);11===o.getMonth()?(o.setMonth(0,1),o.setFullYear(o.getFullYear()+1)):o.setMonth(o.getMonth()+1,1),o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setSeconds(-1),i.maxDate<o?YS.addClass(n,"p-disabled"):YS.removeClass(n,"p-disabled")}}}(f),function(){if(y.current){if(y.current.button)oe(),y.current.backward?YS.findSingle(m.current,".p-datepicker-prev").focus():YS.findSingle(m.current,".p-datepicker-next").focus();else{var e;if(y.current.backward){var t=YS.find(m.current,".p-datepicker-calendar td span:not(.p-disabled)");e=t[t.length-1]}else e=YS.findSingle(m.current,".p-datepicker-calendar td span:not(.p-disabled)");e&&(e.tabIndex="0",e.focus())}y.current=null}else oe()}())})),VC((function(){_.current&&(et(),_.current=null),sC.clear(m.current)})),qk.useImperativeHandle(t,(function(){return{props:i,show:Je,hide:Qe,getCurrentDateTime:Ne,getViewDate:Ae,updateViewDate:We,focus:function(){return YS.focus(g.current)},getElement:function(){return v.current},getOverlay:function(){return m.current},getInput:function(){return g.current}}}));var Ft=function(e){Array.isArray(e)&&(e=e[0]);var t=Z;if(Array.isArray(t)&&(t=t[0]),!t&&e||e&&e instanceof Date&&e.getTime()!==t.getTime()){var n=i.viewDate&&Le(i.viewDate)?i.viewDate:e&&Le(e)?e:new Date;Ze(n),p(n),k.current=!0}},Vt=function(e){var t=e?{onClick:te,onKeyDown:function(e){return re(e)}}:{style:{visibility:"hidden"}},n=rC({className:"p-datepicker-prev-icon"},h("previousIcon")),r=i.prevIcon||qk.createElement(wI,n),o=QS.getJSXIcon(r,DI({},n),{props:i}),a=rC(DI({type:"button",className:"p-datepicker-prev"},t),h("previousButton"));return qk.createElement("button",a,o,qk.createElement(wx,null))},Zt=function(e){var t=e?{onClick:ne,onKeyDown:function(e){return re(e)}}:{style:{visibility:"hidden"}},n=rC({className:"p-datepicker-next-icon"},h("nextIcon")),r=i.nextIcon||qk.createElement(kI,n),o=QS.getJSXIcon(r,DI({},n),{props:i}),a=rC(DI({type:"button",className:"p-datepicker-next"},t),h("nextButton"));return qk.createElement("button",a,o,qk.createElement(wx,null))},Gt=function(e){if(i.yearNavigator){for(var t=[],n=i.yearRange.split(":"),r=parseInt(n[0],10),o=parseInt(n[1],10),a=r;a<=o;a++)t.push(a);var s=Ae().getFullYear(),u=t.filter((function(e){return!(i.minDate&&i.minDate.getFullYear()>e)&&!(i.maxDate&&i.maxDate.getFullYear()<e)})),c=rC({className:"p-datepicker-year",onChange:function(e){return fe(e,e.target.value)},value:s},h("select")),l=qk.createElement("select",c,u.map((function(e){var t=rC({value:e},h("option"));return qk.createElement("option",CI({},t,{key:e}),e)})));if(i.yearNavigatorTemplate){var d=u.map((function(e,t){return{label:e,value:e,index:t}})),f={onChange:fe,className:"p-datepicker-year",value:s,names:u,options:d,element:l,props:i};return KS.getJSXElement(i.yearNavigatorTemplate,f)}return l}var p=i.numberOfMonths>1?e:M,v=rC({className:"p-datepicker-year p-link",onClick:function(e){return t=e,O("year"),void t.preventDefault();var t},disabled:yt()},h("yearTitle"));return"year"!==R&&qk.createElement("button",v,p)},Wt=function(){var e=Kt(),t=rC({className:"p-datepicker-decade"},h("decadeTitle"));if("year"===R){var n=rC(h("decadeTitleText"));return qk.createElement("span",t,i.decadeTemplate?i.decadeTemplate(e):qk.createElement("span",n,"".concat(Kt()[0]," - ").concat(Kt()[Kt().length-1])))}return null},Ut=function(e){var t=function(e){var t=wC("monthNames",i.locale);if(i.monthNavigator&&"month"!==i.view){var n=Ae(),r=n.getMonth(),o=t.map((function(e,t){return(!Dt(n)||t>=i.minDate.getMonth())&&(!jt(n)||t<=i.maxDate.getMonth())?{label:e,value:t,index:t}:null})).filter((function(e){return!!e})),a=o.map((function(e){return e.label})),s=rC({className:"p-datepicker-month",onChange:function(e){return de(e,e.target.value)},value:r},h("select")),u=qk.createElement("select",s,o.map((function(e){var t=rC({value:e.value},h("option"));return qk.createElement("option",CI({},t,{key:e.label}),e.label)})));if(i.monthNavigatorTemplate){var c={onChange:de,className:"p-datepicker-month",value:r,names:a,options:o,element:u,props:i};return KS.getJSXElement(i.monthNavigatorTemplate,c)}return u}var l=rC({className:"p-datepicker-month p-link",onClick:ze,disabled:yt()},h("monthTitle"));return"date"===R&&qk.createElement("button",l,t[e])}(e.month),n=Gt(e.year),r=Wt(),o=rC({className:"p-datepicker-title"},h("title"));return qk.createElement("div",o,t,n,r)},Xt=function(e,t,n){var r=i.dateTemplate?i.dateTemplate(e):e.day;return qk.createElement("span",{className:t,onClick:function(t){return Xe(t,e)},onKeyDown:function(t){return function(e,t,n){var r=e.currentTarget,i=r.parentElement;switch(e.which){case 40:r.tabIndex="-1";var o=YS.index(i),a=i.parentElement.nextElementSibling;if(a){var s=a.children[o].children[0];YS.hasClass(s,"p-disabled")?(y.current={backward:!1},se(e)):(a.children[o].children[0].tabIndex="0",a.children[o].children[0].focus())}else y.current={backward:!1},se(e);e.preventDefault();break;case 38:r.tabIndex="-1";var u=YS.index(i),c=i.parentElement.previousElementSibling;if(c){var l=c.children[u].children[0];YS.hasClass(l,"p-disabled")?(y.current={backward:!0},ae(e)):(l.tabIndex="0",l.focus())}else y.current={backward:!0},ae(e);e.preventDefault();break;case 37:r.tabIndex="-1";var d=i.previousElementSibling;if(d){var f=d.children[0];YS.hasClass(f,"p-disabled")?Ue(!0,n,e):(f.tabIndex="0",f.focus())}else Ue(!0,n,e);e.preventDefault();break;case 39:r.tabIndex="-1";var p=i.nextElementSibling;if(p){var h=p.children[0];YS.hasClass(h,"p-disabled")?Ue(!1,n,e):(h.tabIndex="0",h.focus())}else Ue(!1,n,e);e.preventDefault();break;case 13:Xe(e,t),e.preventDefault();break;case 27:Qe(null,q),e.preventDefault();break;case 9:ie(e)}}(t,e,n)}},r,qk.createElement(wx,null))},Bt=function(e,t){var n=rC(h("tableBodyRowProps"));return e.dates.map((function(r,o){return qk.createElement("tr",CI({},n,{key:o}),function(e,t,n){var r=e.map((function(e){var t=ht(e),r=VS({"p-datepicker-other-month":e.otherMonth,"p-datepicker-today":e.today}),o=VS({"p-highlight":t,"p-disabled":!e.selectable}),a=e.otherMonth&&!i.showOtherMonths?null:Xt(e,o,n),s=rC({className:r},h("day"));return qk.createElement("td",CI({},s,{key:e.day}),a)}));if(i.showWeek){var o=rC({className:"p-datepicker-weeknumber"},h("weekNumber")),a=rC({className:"p-disabled"},h("weekLabelContainer"));return[qk.createElement("td",CI({},o,{key:"wn"+t}),qk.createElement("span",a,t))].concat(AI(r))}return r}(r,e.weekNumbers[o],t))}))},Ht=function(e,t,n){var r=function(e){var t=rC(h("weekDay")),n=rC({scope:"col"},h(h("tableHeaderCell"))),r=e.map((function(e,r){return qk.createElement("th",CI({},n,{key:"".concat(e,"-").concat(r)}),qk.createElement("span",t,e))}));if(i.showWeek){var o=rC({scope:"col",className:"p-datepicker-weekheader p-disabled"},h("weekHeader")),a=rC(h("weekLabel"));return[qk.createElement("th",CI({},o,{key:"wn"}),qk.createElement("span",a,wC("weekHeader",i.locale)))].concat(AI(r))}return r}(t),o=Bt(e,n),a=rC({className:"p-datepicker-calendar-container",key:oC("calendar_container_")},h("container")),s=rC({className:"p-datepicker-calendar"},h("table")),u=rC(h("tableHeader")),c=rC(h("tableHeaderRow")),l=rC(h("tableBody"));return"date"===R&&qk.createElement("div",a,qk.createElement("table",s,qk.createElement("thead",u,qk.createElement("tr",c,r)),qk.createElement("tbody",l,o)))},Yt=function(e,t){var n=function(){for(var e=[],t=kC(i.locale),n=t.firstDayOfWeek,r=t.dayNamesMin,o=0;o<7;o++)e.push(r[n]),n=6===n?0:++n;return e}(),r=Vt(0===t),o=Zt(1===i.numberOfMonths||t===i.numberOfMonths-1),a=Ut(e),s=Ht(e,n,t),u=i.headerTemplate?i.headerTemplate():null,c=e.month+"-"+e.year,l=rC({className:"p-datepicker-group"},h("group")),d=rC({className:"p-datepicker-header",key:t},h("header"));return qk.createElement("div",CI({},l,{key:c}),qk.createElement("div",d,u,r,a,o),s)},zt=function(){var e=Ae(),t=function(e){var t=e.map(Yt);return qk.createElement("div",{className:"p-datepicker-group-container"},t)}(ct(e.getMonth(),e.getFullYear()));return t},Kt=function(){for(var e=[],t=M-M%10,n=0;n<10;n++)e.push(t+n);return e},Jt=rC(h("incrementIcon")),Qt=rC(h("decrementIcon")),qt=QS.getJSXIcon(i.incrementIcon||qk.createElement(SI,Jt),DI({},Jt),{props:i}),$t=QS.getJSXIcon(i.decrementIcon||qk.createElement(Yx,Qt),DI({},Qt),{props:i}),en=function(e){var t=rC({className:"p-separator"},h("separatorContainer")),n=rC(h("separator"));return qk.createElement("div",t,qk.createElement("span",n,e))},tn=VS("p-calendar p-component p-inputwrapper",i.className,(II(n={},"p-calendar-w-btn p-calendar-w-btn-".concat(i.iconPos),i.showIcon),II(n,"p-calendar-disabled",i.disabled),II(n,"p-calendar-timeonly",i.timeOnly),II(n,"p-inputwrapper-filled",i.value||YS.hasClass(g.current,"p-filled")&&""!==g.current.value),II(n,"p-inputwrapper-focus",a),n)),nn=VS("p-datepicker p-component",i.panelClassName,{"p-datepicker-inline":i.inline,"p-disabled":i.disabled,"p-datepicker-timeonly":i.timeOnly,"p-datepicker-multiple-month":i.numberOfMonths>1,"p-datepicker-monthpicker":"month"===R,"p-datepicker-touch-ui":i.touchUI,"p-input-filled":r&&"filled"===r.inputStyle||"filled"===SC.inputStyle,"p-ripple-disabled":r&&!1===r.ripple||!1===SC.ripple}),rn=function(){var e=i.inline?null:qk.createElement(sx,{ref:g,id:i.inputId,name:i.name,type:"text",className:i.inputClassName,style:i.inputStyle,readOnly:i.readOnlyInput,disabled:i.disabled,required:i.required,autoComplete:"off",placeholder:i.placeholder,tabIndex:i.tabIndex,onInput:J,onFocus:Y,onBlur:z,onKeyDown:K,"aria-labelledby":i.ariaLabelledBy,inputMode:i.inputMode,tooltip:i.tooltip,tooltipOptions:i.tooltipOptions,pt:h("input")}),t=i.showIcon?qk.createElement(Tx,{type:"button",icon:i.icon||qk.createElement(yI,null),onClick:ee,tabIndex:"-1",disabled:i.disabled,className:"p-datepicker-trigger",pt:h("dropdownButton")}):null;return"left"===i.iconPos?qk.createElement(qk.Fragment,null,t,e):qk.createElement(qk.Fragment,null,e,t)}(),on=i.timeOnly?null:"date"===i.view?zt():function(){var e=Vt(!0),t=Zt(!0),n=Gt(Ae().getFullYear()),r=Wt(),i=rC({className:"p-datepicker-group-container"},h("groupContainer")),o=rC({className:"p-datepicker-group"},h("group")),a=rC({className:"p-datepicker-header"},h("header")),s=rC({className:"p-datepicker-title"},h("title"));return qk.createElement(qk.Fragment,null,qk.createElement("div",i,qk.createElement("div",o,qk.createElement("div",a,e,qk.createElement("div",s,n,r),t))))}(),an=function(){if((i.showTime||i.timeOnly)&&"date"===R){var e=rC({className:"p-timepicker"},h("timePicker"));return qk.createElement("div",e,function(){var e=Ne(),t=_e(e.getMinutes()),n=e.getHours();n=t>59?n+1:n,"12"===i.hourFormat&&(0===n?n=12:n>11&&12!==n&&(n-=12));var r=rC(h("hour")),o=n<10?"0"+n:n,a=rC({className:"p-hour-picker"},h("hourPicker")),s=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,0,1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("incrementButton")),u=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,0,-1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("decrementButton"));return qk.createElement("div",a,qk.createElement("button",s,qt,qk.createElement(wx,null)),qk.createElement("span",r,o),qk.createElement("button",u,$t,qk.createElement(wx,null)))}(),en(":"),function(){var e=Ne(),t=_e(e.getMinutes());t=t>59?t-60:t;var n=rC(h("minute")),r=t<10?"0"+t:t,i=rC({className:"p-minute-picker"},h("minutePicker")),o=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,1,1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("incrementButton")),a=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,1,-1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("decrementButton"));return qk.createElement("div",i,qk.createElement("button",o,qt,qk.createElement(wx,null)),qk.createElement("span",n,r),qk.createElement("button",a,$t,qk.createElement(wx,null)))}(),i.showSeconds&&en(":"),function(){if(i.showSeconds){var e=Ne(),t=rC(h("second")),n=e.getSeconds(),r=n<10?"0"+n:n,o=rC({className:"p-second-picker"},h("secondPicker")),a=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,2,1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("incrementButton")),s=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,2,-1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("decrementButton"));return qk.createElement("div",o,qk.createElement("button",a,qt,qk.createElement(wx,null)),qk.createElement("span",t,r),qk.createElement("button",s,$t,qk.createElement(wx,null)))}return null}(),i.showMillisec&&en("."),function(){if(i.showMillisec){var e=Ne(),t=rC(h("millisecond")),n=e.getMilliseconds(),r=n<100?(n<10?"00":"0")+n:n,o=rC({className:"p-millisecond-picker"},h("millisecond")),a=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,3,1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("incrementButton")),s=rC({type:"button",className:"p-link",onMouseDown:function(e){return me(e,3,-1)},onMouseUp:ge,onMouseLeave:ye,onKeyDown:function(e){return re(e)}},h("decrementButton"));return qk.createElement("div",o,qk.createElement("button",a,qt,qk.createElement(wx,null)),qk.createElement("span",t,r),qk.createElement("button",s,$t,qk.createElement(wx,null)))}return null}(),"12"===i.hourFormat&&en(":"),function(){if("12"===i.hourFormat){var e=Ne().getHours()>11?"PM":"AM",t=rC(h("ampm")),n=rC({className:"p-ampm-picker"},h("ampmPicker")),r=rC({type:"button",className:"p-link",onClick:function(e){return Oe(e)}},h("incrementButton")),o=rC({type:"button",className:"p-link",onClick:function(e){return Oe(e)}},h("decrementButton"));return qk.createElement("div",n,qk.createElement("button",r,qt,qk.createElement(wx,null)),qk.createElement("span",t,e),qk.createElement("button",o,$t,qk.createElement(wx,null)))}return null}())}return null}(),sn=function(){if(i.showButtonBar){var e=VS("p-button-text",i.todayButtonClassName),t=VS("p-button-text",i.clearButtonClassName),n=kC(i.locale),r=n.today,o=n.clear,a=rC({className:"p-datepicker-buttonbar"},h("buttonbar"));return qk.createElement("div",a,qk.createElement(Tx,{type:"button",label:r,onClick:pe,onKeyDown:function(e){return re(e)},className:e,pt:h("todayButton")}),qk.createElement(Tx,{type:"button",label:o,onClick:he,onKeyDown:function(e){return re(e)},className:t,pt:h("clearButton")}))}return null}(),un=function(){if(i.footerTemplate){var e=i.footerTemplate(),t=rC({className:"p-datepicker-footer"},h("footer"));return qk.createElement("div",t,e)}return null}(),cn=function(){if("month"===R){var e=rC({className:"p-monthpicker"},h("monthPicker"));return qk.createElement("div",e,function(){for(var e=[],t=wC("monthNamesShort",i.locale),n=0;n<=11;n++)e.push(t[n]);return e}().map((function(e,t){var n=rC({className:VS("p-monthpicker-month",{"p-highlight":mt(t),"p-disabled":!ft(0,t,M)}),onClick:function(e){return function(e,t){if("month"===i.view)Xe(e,{year:M,month:t,day:1,selectable:!0}),e.preventDefault();else{P(t),ct(t,M);var n=Pe(Ne());n.setDate(1),n.setMonth(t),n.setYear(M),p(n),O("date"),i.onMonthChange&&i.onMonthChange({month:t+1,year:M})}}(e,t)}},h("month"));return qk.createElement("span",CI({},n,{key:"month".concat(t+1)}),e)})))}return null}(),ln=function(){if("year"===R){var e=rC({className:"p-yearpicker"},h("yearPicker"));return qk.createElement("div",e,Kt().map((function(e,t){var n=rC({className:VS("p-yearpicker-year",{"p-highlight":gt(e),"p-disabled":!ft(0,-1,e)}),onClick:function(t){return function(e,t){"year"===i.view?Xe(e,{year:t,month:0,day:1,selectable:!0}):(D(t),O("month"),i.onMonthChange&&i.onMonthChange({month:N+1,year:t}))}(t,e)}},h("year"));return qk.createElement("span",CI({},n,{key:"year".concat(t+1)}),e)})))}return null}(),dn=rC({ref:v,id:i.id,className:tn,style:i.style},PI.getOtherProps(i),h("root"));return qk.createElement("span",dn,rn,qk.createElement(LI,{ref:m,className:nn,style:i.panelStyle,appendTo:i.appendTo,inline:i.inline,onClick:ve,onMouseUp:function(e){ve(e)},in:G,onEnter:function(){if(i.autoZIndex){var e=i.touchUI?"modal":"overlay";sC.set(e,m.current,r&&r.autoZIndex||SC.autoZIndex,i.baseZIndex||r&&r.zIndex[e]||SC.zIndex[e])}qe()},onEntered:function(){X(),i.onShow&&i.onShow()},onExit:function(){B()},onExited:function(){sC.clear(m.current),i.onHide&&i.onHide()},transitionOptions:i.transitionOptions,ptm:h},on,an,cn,ln,sn,un))})));VI.displayName="Calendar";var ZI=function(e){return e.games.creatGame},GI=function(e){return e.games.bookableDates},WI=function(e){return e.games.loading},UI=function(e){return e.games.errors},XI=function(e){return e.games},BI=function(e){var t=e.showTimeAvailability,n=PS(),r=LS(ZI),i=r.numberOfPlayers,o=r.map,a=r.gameType,s=r.startTime,u=r.duration,c=r.credits,l=r.endTime,d=r.gameStartDate,p=r.gameEndDate,h=r.playersArray;(0,qk.useEffect)((function(){!function(){var e=[],t=h.map((function(e){if(e.botId.length>1&&e.botName.length>1)return e})).filter(Boolean);i<1&&(e=e.concat("NumberOfPlayers")),o.length<1&&(e=e.concat("Map")),a.length<1&&(e=e.concat("GameType")),p<1&&(e=e.concat("StartDate")),d<1&&(e=e.concat("EndDate")),u<1&&(e=e.concat("Duration")),c<1&&(e=e.concat("Credits")),t.length<i&&(e=e.concat("playersArray")),n(Tk(e))}()}),[i,o,a,s,u,c,l,d,p,h]);var v=function(e,t){n(wk(he(he({},r),{},f({},e,t))))},m=function(e,t){n(wk(he(he({},r),{},f({},e,t))))};return(0,b_.jsxs)("div",{className:"flex flex-column p-2 h-full md:max-w-max border-1",children:[(0,b_.jsxs)("span",{className:"p-float-label mt-4",children:[(0,b_.jsx)(nI,{value:r.map,onChange:function(e){return v("map",e.value)},options:ck,placeholder:"Select a Map",className:"w-full md:w-14rem",id:"game-map"}),(0,b_.jsx)("label",{htmlFor:"game-map",children:"Map"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4",children:[(0,b_.jsx)(nI,{value:r.numberOfPlayers.toString(),onChange:function(e){return n(Ek(parseInt(e.value)))},options:dk,className:"w-full md:w-14rem",id:"number-of-players",defaultValue:1}),(0,b_.jsx)("label",{htmlFor:"number-of-players",children:"Number Of Players"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4",children:[(0,b_.jsx)(nI,{value:r.gameType,onChange:function(e){return v("gameType",e.value)},options:lk,className:"w-full md:w-14rem",id:"game-type"}),(0,b_.jsx)("label",{htmlFor:"game-type",children:"Game Type"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4",children:[(0,b_.jsx)(VI,{dateFormat:"dd/mm/y",showIcon:!0,inputId:"game-date-calendar",value:new Date(r.gameStartDate),onChange:function(e){var t,i;return function(e){var t=new Date(e);t.setUTCDate(t.getDate()),t.setUTCHours(0),t.setUTCMinutes(0),t.setFullYear(t.getFullYear()),n(wk(he(he({},r),{},{gameStartDate:new Date(t).getTime(),gameEndDate:new Date(t).getTime()})))}(null!==(t=null===(i=e.value)||void 0===i?void 0:i.toString())&&void 0!==t?t:"")},className:"w-14rem"}),(0,b_.jsx)("label",{htmlFor:"game-date-calendar",children:"Start TIme and Date"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4 ",children:[(0,b_.jsx)(mI,{readOnly:!0,size:17,value:r.duration,onValueChange:function(e){var t;return m("credits",null!==(t=e.value)&&void 0!==t?t:0)},id:"game-duration",max:100,min:0,step:5}),(0,b_.jsx)(Tx,{icon:"pi pi-calendar-times",onClick:function(){return t()}}),(0,b_.jsx)("label",{htmlFor:"game-duration",children:"Duration"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4 ",children:[(0,b_.jsx)(mI,{size:17,value:r.credits,onValueChange:function(e){var t;return m("credits",null!==(t=e.value)&&void 0!==t?t:0)},showButtons:!0,id:"game-credits",max:100,min:0,step:5}),(0,b_.jsx)("label",{htmlFor:"game-credits",children:"Credits"})]})]})},HI=function(){var e=PS(),t=LS(ZI),n=function(e){var n=t.playersArray.map((function(e){return e.botId}));return hk.filter((function(r){return!n.includes(r.id)||r.id===t.playersArray[e].botId}))};return(0,b_.jsx)("div",{className:" flex flex-column align-items-center border-1 w-full p-2 lg:w-30rem overflow-x-hidden ",children:t.playersArray.map((function(r,i){return(0,b_.jsxs)(NC,{className:"w-full surface-ground m-2",children:[(0,b_.jsx)("label",{htmlFor:"player-list-dropdown",children:r.playerId}),(0,b_.jsx)("span",{className:"p-float-label mt-1",children:(0,b_.jsx)(nI,{value:t.playersArray[i].botId,onChange:function(t){return function(t,n){var r,i,o=null!==(r=null===(i=hk.find((function(e){return e.id===t.value})))||void 0===i?void 0:i.name)&&void 0!==r?r:"";e(kk({botId:t.value,botName:o,player:n}))}(t,r)},placeholder:"Assign Bot",id:"player-list-dropdown",options:n(i),optionLabel:"name",optionValue:"id",name:t.playersArray[i].botName})})]},i)}))})};function YI(){return YI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YI.apply(this,arguments)}function zI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return zI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JI(e){return JI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JI(e)}function QI(e){var t=function(e,t){if("object"!==JI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===JI(t)?t:String(t)}function qI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QI(r.key),r)}}var $I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===JI(e)&&t&&"object"===JI(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==JI(e)&&"object"==JI(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===JI(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===JI(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&qI(t.prototype,n),r&&qI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),eR=0;var tR=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=KI(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){$I.isEmpty(i)&&o(function(){return eR++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(eR)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",YI({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function nR(){return nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nR.apply(this,arguments)}function rR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return rR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oR(e){return oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oR(e)}function aR(e){var t=function(e,t){if("object"!==oR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oR(t)?t:String(t)}function sR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aR(r.key),r)}}tR.displayName="WindowMaximizeIcon";var uR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===oR(e)&&t&&"object"===oR(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==oR(e)&&"object"==oR(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===oR(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===oR(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&sR(t.prototype,n),r&&sR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cR=0;var lR=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=iR(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){uR.isEmpty(i)&&o(function(){return cR++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(cR)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",nR({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function dR(e){return dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dR(e)}function fR(e){var t=function(e,t){if("object"!==dR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dR(t)?t:String(t)}function pR(e,t,n){return(t=fR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vR(e,t){if(e){if("string"===typeof e)return hR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hR(e,t):void 0}}function mR(e){return function(e){if(Array.isArray(e))return hR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||vR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}lR.displayName="WindowMinimizeIcon";var yR=OC.extend({defaultProps:{__TYPE:"Dialog",appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeIcon:null,closeOnEscape:!0,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximizeIcon:null,maximized:!1,minX:0,minY:0,minimizeIcon:null,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,style:null,transitionOptions:null,visible:!1,children:void 0}});function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wR=qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=yR.getProps(e,n),i=r.id?r.id:oC(),o=gR(qk.useState(i),2),a=o[0];o[1];var s=gR(qk.useState(!1),2),u=s[0],c=s[1],l=gR(qk.useState(!1),2),d=l[0],f=l[1],p=gR(qk.useState(r.maximized),2),h=p[0],v=p[1],m=qk.useRef(null),g=qk.useRef(null),y=qk.useRef(null),b=qk.useRef(null),w=qk.useRef(null),E=qk.useRef(null),k=qk.useRef(null),_=qk.useRef(!1),S=qk.useRef(!1),C=qk.useRef(null),x=qk.useRef(null),T=qk.useRef(null),I=qk.useRef(i),R=r.onMaximize?r.maximized:h,O=yR.setMetaData({props:r,state:{id:a,maximized:R,containerVisible:u}}).ptm,A=gR(ZC({type:"keydown",listener:function(e){return J(e)}}),2),N=A[0],P=A[1],L=gR(ZC({type:"mousemove",target:function(){return window.document},listener:function(e){return ne(e)}}),2),M=L[0],D=L[1],j=gR(ZC({type:"mouseup",target:function(){return window.document},listener:function(e){return re(e)}}),2),F=j[0],V=j[1],Z=gR(ZC({type:"mousemove",target:function(){return window.document},listener:function(e){return q(e)}}),2),G=Z[0],W=Z[1],U=gR(ZC({type:"mouseup",target:function(){return window.document},listener:function(e){return $(e)}}),2),X=U[0],B=U[1],H=function(e){r.onHide(),e.preventDefault()},Y=function(e){y.current=e.target,r.onPointerDown&&r.onPointerDown(e)},z=function(e){r.dismissableMask&&r.modal&&g.current===e.target&&!y.current&&H(e),r.onMaskClick&&r.onMaskClick(e),y.current=null},K=function(e){r.onMaximize?r.onMaximize({originalEvent:e,maximized:!R}):v((function(e){return!e})),e.preventDefault()},J=function(e){var t=e.currentTarget;if(t&&t.primeDialogParams){var n=t.primeDialogParams,i=n.length,o=n[i-1]?n[i-1].id:void 0;if(o===a){var s=document.getElementById(o);if(r.closable&&r.closeOnEscape&&"Escape"===e.key)H(e),e.stopImmediatePropagation(),n.splice(i-1,1);else if("Tab"===e.key){e.preventDefault();var u=YS.getFocusableElements(s);if(u&&u.length>0)if(document.activeElement){var c=u.indexOf(document.activeElement);e.shiftKey?-1===c||0===c?u[u.length-1].focus():u[c-1].focus():-1===c||c===u.length-1?u[0].focus():u[c+1].focus()}else u[0].focus()}}}},Q=function(e){YS.hasClass(e.target,"p-dialog-header-icon")||YS.hasClass(e.target.parentElement,"p-dialog-header-icon")||r.draggable&&(_.current=!0,C.current=e.pageX,x.current=e.pageY,m.current.style.margin="0",YS.addClass(document.body,"p-unselectable-text"),r.onDragStart&&r.onDragStart(e))},q=function(e){if(_.current){var t=YS.getOuterWidth(m.current),n=YS.getOuterHeight(m.current),i=e.pageX-C.current,o=e.pageY-x.current,a=m.current.getBoundingClientRect(),s=a.left+i,u=a.top+o,c=YS.getViewport();m.current.style.position="fixed",r.keepInViewport?(s>=r.minX&&s+t<c.width&&(C.current=e.pageX,m.current.style.left=s+"px"),u>=r.minY&&u+n<c.height&&(x.current=e.pageY,m.current.style.top=u+"px")):(C.current=e.pageX,m.current.style.left=s+"px",x.current=e.pageY,m.current.style.top=u+"px"),r.onDrag&&r.onDrag(e)}},$=function(e){_.current&&(_.current=!1,YS.removeClass(document.body,"p-unselectable-text"),r.onDragEnd&&r.onDragEnd(e))},ee=function(e){r.resizable&&(S.current=!0,C.current=e.pageX,x.current=e.pageY,YS.addClass(document.body,"p-unselectable-text"),r.onResizeStart&&r.onResizeStart(e))},te=function(e,t,n){!n&&(n=YS.getViewport());var r=parseInt(e);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(e)?r*(n[t]/100):r},ne=function(e){if(S.current){var t=e.pageX-C.current,n=e.pageY-x.current,i=YS.getOuterWidth(m.current),o=YS.getOuterHeight(m.current),a=m.current.getBoundingClientRect(),s=YS.getViewport(),u=!parseInt(m.current.style.top)||!parseInt(m.current.style.left),c=te(m.current.style.minWidth,"width",s),l=te(m.current.style.minHeight,"height",s),d=i+t,f=o+n;u&&(d+=t,f+=n),(!c||d>c)&&a.left+d<s.width&&(m.current.style.width=d+"px"),(!l||f>l)&&a.top+f<s.height&&(m.current.style.height=f+"px"),C.current=e.pageX,x.current=e.pageY,r.onResize&&r.onResize(e)}},re=function(e){S.current&&(S.current=!1,YS.removeClass(document.body,"p-unselectable-text"),r.onResizeEnd&&r.onResizeEnd(e))},ie=function(){m.current.style.position="",m.current.style.left="",m.current.style.top="",m.current.style.margin=""},oe=function(){m.current.setAttribute(I.current,"")},ae=function(){r.onShow&&r.onShow(),r.focusOnShow&&function(){var e=document.activeElement;!(e&&m.current&&m.current.contains(e))&&r.closable&&r.showHeader&&k.current.focus()}(),ce()},se=function(){r.modal&&YS.addClass(g.current,"p-component-overlay-leave"),r.blockScroll&&YS.removeClass(document.body,"p-overflow-hidden")},ue=function(){_.current=!1,sC.clear(g.current),c(!1),le()},ce=function(){de(),(r.blockScroll||r.maximizable&&R)&&YS.addClass(document.body,"p-overflow-hidden")},le=function(){fe();var e=r.maximizable&&R;r.modal?(document.primeDialogParams&&document.primeDialogParams.some((function(e){return e.hasBlockScroll}))||e)&&YS.removeClass(document.body,"p-overflow-hidden"):(r.blockScroll||e)&&YS.removeClass(document.body,"p-overflow-hidden")},de=function(){r.draggable&&(G(),X()),r.resizable&&(M(),F()),N();var e={id:a,hasBlockScroll:r.blockScroll};document.primeDialogParams=document.primeDialogParams?[].concat(mR(document.primeDialogParams),[e]):[e]},fe=function(){W(),B(),D(),V(),P(),document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter((function(e){return e.id!==a}))};WC((function(){r.visible&&c(!0),r.breakpoints&&function(){T.current=YS.createInlineStyle(n&&n.nonce||SC.nonce);var e="";for(var t in r.breakpoints)e+="\n                @media screen and (max-width: ".concat(t,") {\n                    .p-dialog[").concat(I.current,"] {\n                        width: ").concat(r.breakpoints[t]," !important;\n                    }\n                }\n            ");T.current.innerHTML=e}()})),HC((function(){r.visible&&!u&&c(!0),r.visible!==d&&u&&f(r.visible)})),HC((function(){u&&(sC.set("modal",g.current,n&&n.autoZIndex||SC.autoZIndex,r.baseZIndex||n&&n.zIndex.modal||SC.zIndex.modal),f(!0))}),[u]),HC((function(){r.blockScroll||YS[R&&d?"addClass":"removeClass"](document.body,"p-overflow-hidden")}),[r.maximized,h,d]),VC((function(){le(),YS.removeInlineStyle(T.current),sC.clear(g.current)})),qk.useImperativeHandle(t,(function(){return{props:r,resetPosition:ie,getElement:function(){return m.current},getMask:function(){return g.current},getContent:function(){return b.current},getHeader:function(){return w.current},getFooter:function(){return E.current},getCloseButton:function(){return k.current}}}));var pe=function(){if(r.closable){var e=r.ariaCloseIconLabel||wC("close"),t=rC({className:"p-dialog-header-close-icon","aria-hidden":!0},O("closeButtonIcon")),n=r.closeIcon||qk.createElement(Kx,t),i=QS.getJSXIcon(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bR(Object(n),!0).forEach((function(t){pR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),{props:r}),o=rC({ref:k,type:"button",className:"p-dialog-header-icon p-dialog-header-close p-link","aria-label":e,onClick:H},O("closeButton"));return qk.createElement("button",o,i,qk.createElement(wx,null))}return null},he=function(){if(r.showHeader){var e=pe(),t=function(){var e,t=rC({className:"p-dialog-header-maximize-icon"},O("maximizableIcon"));e=R?r.minimizeIcon||qk.createElement(lR,t):r.maximizeIcon||qk.createElement(tR,t);var n=QS.getJSXIcon(e,t,{props:r});if(r.maximizable){var i=rC({type:"button",className:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:K},O("maximizableButton"));return qk.createElement("button",i,n,qk.createElement(wx,null))}return null}(),n=KS.getJSXElement(r.icons,r),i=KS.getJSXElement(r.header,r),o=a+"_header",s=VS("p-dialog-header",r.headerClassName),u=rC({ref:w,style:r.headerStyle,className:s,onMouseDown:Q},O("header")),c=rC({id:o,className:"p-dialog-title"},O("headerTitle")),l=rC({className:"p-dialog-header-icons"},O("headerIcons"));return qk.createElement("div",u,qk.createElement("div",c,i),qk.createElement("div",l,n,t,e))}return null},ve=function(){var e=VS("p-dialog p-component",r.className,{"p-dialog-rtl":r.rtl,"p-dialog-maximized":R,"p-dialog-default":!R,"p-input-filled":n&&"filled"===n.inputStyle||"filled"===SC.inputStyle,"p-ripple-disabled":n&&!1===n.ripple||!1===SC.ripple}),t=VS("p-dialog-mask",function(){var e=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find((function(e){return e===r.position||e.replace("-","")===r.position}));return e?"p-dialog-".concat(e):""}(),{"p-component-overlay p-component-overlay-enter":r.modal,"p-dialog-visible":u,"p-dialog-draggable":r.draggable,"p-dialog-resizable":r.resizable},r.maskClassName),i=he(),o=function(){var e=VS("p-dialog-content",r.contentClassName),t=rC({id:a+"_content",ref:b,style:r.contentStyle,className:e},O("content"));return qk.createElement("div",t,r.children)}(),s=function(){var e=KS.getJSXElement(r.footer,r),t=rC({ref:E,className:"p-dialog-footer"},O("footer"));return e&&qk.createElement("div",t,e)}(),c=r.resizable?qk.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:ee}):null,l=a+"_header",f=a+"_content",p={enter:"center"===r.position?150:300,exit:"center"===r.position?150:300},h=rC({ref:g,style:r.maskStyle,className:t,onPointerUp:z},O("mask")),v=rC({ref:m,id:a,className:e,style:r.style,onClick:r.onClick,role:"dialog","aria-labelledby":l,"aria-describedby":f,"aria-modal":r.modal,onPointerDown:Y},yR.getOtherProps(r),O("root"));return qk.createElement("div",h,qk.createElement(ET,{nodeRef:m,classNames:"p-dialog",timeout:p,in:d,options:r.transitionOptions,unmountOnExit:!0,onEnter:oe,onEntered:ae,onExiting:se,onExited:ue},qk.createElement("div",v,i,o,s,c)))};return u&&function(){var e=ve();return qk.createElement(JC,{element:e,appendTo:r.appendTo,visible:!0})}()}));wR.displayName="Dialog";var ER=function(e){var t=e.visible,n=e.startDate,r=e.saveDuration,i=e.closeDialog,o=PS(),a=LS(GI),s=y((0,qk.useState)(null),2),u=s[0],c=s[1],l=y((0,qk.useState)(n.toDateString()),2),d=l[0],f=l[1],p=y((0,qk.useState)(null),2),h=p[0],v=p[1],m=y((0,qk.useState)(rk),2),g=m[0],b=m[1],w=y((0,qk.useState)(null),2),E=w[0],k=w[1],_=y((0,qk.useState)(0),2),S=_[0],C=_[1],x=ik;(0,qk.useEffect)((function(){o(Sk({startDate:n}))}),[]);var T=function(e){v(e),u&&k(g.slice(g.indexOf(u),g.indexOf(e)+1)),C(function(e,t){if(e&&t){var n=rk.indexOf(e);return 15*(rk.indexOf(t)-n)}}(u,e))},I=function(e){c(e);var t=rk.indexOf(e),n=rk.slice(t,function(e){for(var t,n=e+1;n<rk.length;n++)if(x.includes(rk[n])){t=n;break}return t}(t));b(n),k([e])},R=function(e){return u?u&&h?(c(null),v(null),b(rk),k(null),void C(0)):void T(e):I(e)},O=function(e){if(u||!(e>0)){var t=new Date(d);t.setDate(t.getDate()+e),f(t.toDateString())}},A=function(){if(!n||!d.length||!S||void 0===S)return!0},N=function(){var e,t,o,a,s=n,c=new Date(d);s.setUTCHours(parseInt(null!==(e=null===u||void 0===u?void 0:u.substring(0,2))&&void 0!==e?e:"0")),s.setUTCMinutes(parseInt(null!==(t=null===u||void 0===u?void 0:u.substring(3,5))&&void 0!==t?t:"0")),s.setUTCSeconds(0),c.setUTCHours(parseInt(null!==(o=null===h||void 0===h?void 0:h.substring(0,2))&&void 0!==o?o:"0")),c.setUTCMinutes(parseInt(null!==(a=null===h||void 0===h?void 0:h.substring(3,5))&&void 0!==a?a:"0")),c.setUTCSeconds(0),c.setTime(c.setTime(s.getTime()+(S?6e4*S:0))),r({startDate:s,gameEndDate:c,duration:null!==S&&void 0!==S?S:0}),i()};return(0,b_.jsx)(wR,{visible:t,header:(0,b_.jsxs)("div",{className:"w-full",children:[(0,b_.jsx)(Tx,{label:"Save",disabled:A(),onClick:N}),(0,b_.jsxs)("table",{className:"w-full",children:[(0,b_.jsx)("thead",{children:(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("th",{children:"Start Date"}),(0,b_.jsx)("th",{children:"End Date"})]})}),(0,b_.jsxs)("tbody",{children:[(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{className:"w-4 text-center",children:n.toDateString()}),(0,b_.jsx)("td",{className:"w-4 text-center",children:d})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{className:"text-center"}),(0,b_.jsxs)("td",{className:"text-center",children:[(0,b_.jsx)(Tx,{disabled:n.toDateString()===d,onClick:function(){return O(-1)},label:"<"}),(0,b_.jsx)(Tx,{disabled:!u,label:">",onClick:function(){return O(1)}})]})]})]})]}),(0,b_.jsxs)("table",{className:"pt-5",children:[(0,b_.jsx)("thead",{children:(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{className:"",children:"Start Time "}),(0,b_.jsx)("td",{className:"pl-6",children:"End Time "}),(0,b_.jsx)("td",{className:"pl-6",children:" Duration "})]})}),(0,b_.jsx)("tbody",{children:(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{className:"pl-1 text-center",children:null!==u&&void 0!==u?u:"------------"}),(0,b_.jsx)("td",{className:"pl-1 text-center",children:null!==h&&void 0!==h?h:"-----------"}),(0,b_.jsxs)("td",{className:"pl-6",children:[" ",S]})]})})]})]}),onHide:i,style:{width:"40vw"},children:(0,b_.jsx)("div",{className:"flex flex-column",children:a.map((function(e){return(0,b_.jsxs)("div",{className:"flex flex-column",children:["".concat(e.date.toDateString()),rk.map((function(t){return(0,b_.jsx)(Tx,{className:"mt-1 time-button ".concat(null!==E&&void 0!==E&&E.includes(t)?"bg-primary-reverse":""),label:t,disabled:e.bookedSlots.includes(t)||!(null!==g&&void 0!==g&&g.includes(t)),onClick:function(e){return R(t)}})}))]})}))})})},kR=function(){var e,t=PS(),n=LS(ZI),r=LS(WI),i=LS(UI),o=null===(e=fk.find((function(e){return e.mapName===n.map})))||void 0===e?void 0:e.mapUrl;return(0,b_.jsx)("div",{className:"flex flex-column p-2 h-full w-full border-1 align-items-center",children:(0,b_.jsxs)("div",{className:"",children:[(0,b_.jsx)("img",{src:"".concat(null!==o&&void 0!==o?o:""),alt:"mapimage"}),(0,b_.jsx)("table",{children:(0,b_.jsxs)("tbody",{children:[(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"No Of Players:"}),(0,b_.jsx)("td",{children:"".concat(n.numberOfPlayers)})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"Game Type"}),(0,b_.jsxs)("td",{children:[" ","".concat(n.gameType)]})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"Start Date"}),(0,b_.jsxs)("td",{children:[" ","".concat(new Date(n.gameStartDate).toUTCString())]})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"End Date"}),(0,b_.jsxs)("td",{children:[" ","".concat(new Date(n.gameEndDate).toUTCString())]})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"Start Time"}),(0,b_.jsxs)("td",{children:[" ","".concat(new Date(n.startTime).getUTCHours(),":").concat(new Date(n.startTime).getUTCMinutes())]})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"End Time"}),(0,b_.jsxs)("td",{children:[" ","".concat(new Date(n.endTime).getUTCHours(),":").concat(new Date(n.endTime).getUTCMinutes())]})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"Duration"}),(0,b_.jsxs)("td",{children:[" ","".concat(n.duration," Minutes")]})]}),(0,b_.jsxs)("tr",{children:[(0,b_.jsx)("td",{children:"Credits"}),(0,b_.jsx)("td",{children:"".concat(n.credits)})]})]})}),(0,b_.jsx)(Tx,{label:"Save Game to Databsase",onClick:function(){t(Ck(n))},loading:r,disabled:i.length>0})]})})};function _R(e,t){var n=Object.create(null);return e&&qk.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,qk.isValidElement)(e)?t(e):e}(e)})),n}function SR(e,t,n){return null!=n[t]?n[t]:e.props[t]}function CR(e,t,n){var r=_R(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,qk.isValidElement)(a)){var s=o in t,u=o in r,c=t[o],l=(0,qk.isValidElement)(c)&&!c.props.in;!u||s&&!l?u||!s||l?u&&s&&(0,qk.isValidElement)(c)&&(i[o]=(0,qk.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:SR(a,"exit",e),enter:SR(a,"enter",e)})):i[o]=(0,qk.cloneElement)(a,{in:!1}):i[o]=(0,qk.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:SR(a,"exit",e),enter:SR(a,"enter",e)})}})),i}var xR=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},TR=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(b(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}$x(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,_R(n.children,(function(e){return(0,qk.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:SR(e,"appear",n),enter:SR(e,"enter",n),exit:SR(e,"exit",n)})}))):CR(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=_R(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Qx({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=qx(e,["component","childFactory"]),i=this.state.contextValue,o=xR(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?qk.createElement(nT.Provider,{value:i},o):qk.createElement(nT.Provider,{value:i},qk.createElement(t,r,o))},t}(qk.Component);TR.propTypes={},TR.defaultProps={component:"div",childFactory:function(e){return e}};var IR=TR;function RR(){return RR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RR.apply(this,arguments)}var OR=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",RR({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))})));function AR(){return AR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AR.apply(this,arguments)}function NR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return NR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LR(e){return LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LR(e)}function MR(e){var t=function(e,t){if("object"!==LR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==LR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===LR(t)?t:String(t)}function DR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MR(r.key),r)}}OR.displayName="CheckIcon";var jR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===LR(e)&&t&&"object"===LR(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==LR(e)&&"object"==LR(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===LR(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===LR(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&DR(t.prototype,n),r&&DR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),FR=0;var VR=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=PR(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){jR.isEmpty(i)&&o(function(){return FR++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(FR)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",AR({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"}),qk.createElement("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"}),qk.createElement("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function ZR(){return ZR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZR.apply(this,arguments)}function GR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return GR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UR(e){return UR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UR(e)}function XR(e){var t=function(e,t){if("object"!==UR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===UR(t)?t:String(t)}function BR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XR(r.key),r)}}VR.displayName="ExclamationTriangleIcon";var HR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===UR(e)&&t&&"object"===UR(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==UR(e)&&"object"==UR(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===UR(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===UR(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&BR(t.prototype,n),r&&BR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),YR=0;var zR=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=WR(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){HR.isEmpty(i)&&o(function(){return YR++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(YR)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",ZR({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function KR(){return KR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KR.apply(this,arguments)}function JR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return JR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qR(e){return qR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qR(e)}function $R(e){var t=function(e,t){if("object"!==qR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qR(t)?t:String(t)}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$R(r.key),r)}}zR.displayName="InfoCircleIcon";var tO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===qR(e)&&t&&"object"===qR(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==qR(e)&&"object"==qR(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===qR(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===qR(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&eO(t.prototype,n),r&&eO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),nO=0;var rO=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=QR(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){tO.isEmpty(i)&&o(function(){return nO++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(nO)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",KR({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function iO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oO(e,t){if(e){if("string"===typeof e)return iO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iO(e,t):void 0}}function aO(e){return function(e){if(Array.isArray(e))return iO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||oO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}rO.displayName="TimesCircleIcon";var uO=OC.extend({defaultProps:{__TYPE:"Toast",id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null,children:void 0}});function cO(e){return cO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cO(e)}function lO(e){var t=function(e,t){if("object"!==cO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cO(t)?t:String(t)}function dO(e,t,n){return(t=lO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lO(r.key),r)}}function pO(e,t,n){return t&&fO(e.prototype,t),n&&fO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var hO=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),vO=pO((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));dO(vO,"ripple",!1),dO(vO,"inputStyle","outlined"),dO(vO,"locale","en"),dO(vO,"appendTo",null),dO(vO,"cssTransition",!0),dO(vO,"autoZIndex",!0),dO(vO,"hideOverlaysOnDocumentScrolling",!1),dO(vO,"nonce",null),dO(vO,"nullSortOrder",1),dO(vO,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),dO(vO,"pt",void 0),dO(vO,"filterMatchModeOptions",{text:[hO.STARTS_WITH,hO.CONTAINS,hO.NOT_CONTAINS,hO.ENDS_WITH,hO.EQUALS,hO.NOT_EQUALS],numeric:[hO.EQUALS,hO.NOT_EQUALS,hO.LESS_THAN,hO.LESS_THAN_OR_EQUAL_TO,hO.GREATER_THAN,hO.GREATER_THAN_OR_EQUAL_TO],date:[hO.DATE_IS,hO.DATE_IS_NOT,hO.DATE_BEFORE,hO.DATE_AFTER]}),dO(vO,"changeTheme",(function(e,t,n,r){var i,o=document.getElementById(n),a=o.cloneNode(!0),s=o.getAttribute("href").replace(e,t);a.setAttribute("id",n+"-clone"),a.setAttribute("href",s),a.addEventListener("load",(function(){o.remove(),a.setAttribute("id",n),r&&r()})),null===(i=o.parentNode)||void 0===i||i.insertBefore(a,o.nextSibling)}));var mO={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function gO(e,t){var n=t||vO.locale;try{return function(e){var t=e||vO.locale;return mO[t]}(n)[e]}catch(r){throw new Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function yO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yO(Object(n),!0).forEach((function(t){dO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wO=qk.memo(qk.forwardRef((function(e,t){var n=e.messageInfo,r=e.metaData,i=e.ptCallbacks,o=i.ptm,a=i.ptmo,s=e.index,u=n.message,c=u.severity,l=u.content,d=u.summary,f=u.detail,p=u.closable,h=u.life,v=u.sticky,m=u.className,g=u.style,y=u.contentClassName,b=u.contentStyle,w=u.icon,E=u.closeIcon,k=u.pt,_={index:s},S=bO(bO({},r),_),C=sO(qk.useState(!1),2),x=C[0],T=C[1],I=sO(GC((function(){R()}),h||3e3,!v&&!x),1)[0],R=function(){I(),e.onClose&&e.onClose(n)},O=function(t){!e.onClick||YS.hasClass(t.target,"p-toast-icon-close")||YS.hasClass(t.target,"p-toast-icon-close-icon")||e.onClick(n.message)},A=VS("p-toast-message",dO({},"p-toast-message-".concat(c),c),m),N=VS("p-toast-message-content",y),P=function(){if(n){var t=KS.getJSXElement(l,{message:n.message,onClick:O,onClose:R}),r=rC({className:"p-toast-message-icon"},o("icon",S),a(k,"icon",_)),i=w;if(!w)switch(c){case"info":i=qk.createElement(zR,r);break;case"warn":i=qk.createElement(VR,r);break;case"error":i=qk.createElement(rO,r);break;case"success":i=qk.createElement(OR,r)}var s=QS.getJSXIcon(i,bO({},r),{props:e}),u=rC({className:"p-toast-message-text"},o("text",S),a(k,"text",_)),p=rC({className:"p-toast-summary"},o("summary",S),a(k,"summary",_)),h=rC({className:"p-toast-detail"},o("detail",S),a(k,"detail",_));return t||qk.createElement(qk.Fragment,null,s,qk.createElement("div",u,qk.createElement("span",p,d),f&&qk.createElement("div",h,f)))}return null}(),L=function(){var t=rC({className:"p-toast-icon-close-icon"},o("buttonicon",S),a(k,"buttonicon",_)),n=E||qk.createElement(Kx,t),r=QS.getJSXIcon(n,bO({},t),{props:e}),i=e.ariaCloseLabel||gO("close"),s=rC({type:"button",className:"p-toast-icon-close p-link",onClick:R,"aria-label":i},o("button",S),a(k,"button",_));return!1!==p?qk.createElement("div",null,qk.createElement("button",s,r,qk.createElement(wx,null))):null}(),M=rC({ref:t,className:A,style:g,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:O,onMouseEnter:function(t){e.onMouseEnter&&e.onMouseEnter(t),t.defaultPrevented||v||(I(),T(!0))},onMouseLeave:function(t){e.onMouseLeave&&e.onMouseLeave(t),t.defaultPrevented||v||T(!1)}},o("message",S),a(k,"root",_)),D=rC({className:N,style:b},o("content",S),a(k,"content",_));return qk.createElement("div",M,qk.createElement("div",D,P,L))})));wO.displayName="ToastMessage";var EO=0,kO=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=uO.getProps(e,n),i=sO(qk.useState([]),2),o=i[0],a=i[1],s=qk.useRef(null),u={props:r,state:{messages:o}},c=uO.setMetaData(u),l=function(e){e&&a((function(t){return d(t,e,!0)}))},d=function(e,t,n){var r;if(Array.isArray(t)){var i=t.reduce((function(e,t){return e.push({_pId:EO++,message:t}),e}),[]);r=n&&e?[].concat(aO(e),aO(i)):i}else{var o={_pId:EO++,message:t};r=n&&e?[].concat(aO(e),[o]):[o]}return r},f=function(){sC.clear(s.current),a([])},p=function(e){a((function(t){return d(t,e,!1)}))},h=function(e){a((function(t){return t.filter((function(t){return t._pId!==e._pId}))})),r.onRemove&&r.onRemove(e.message)},v=function(e){h(e)},m=function(){r.onShow&&r.onShow()},g=function(){1===o.length&&sC.clear(s.current),r.onHide&&r.onHide()};HC((function(){sC.set("toast",s.current,n&&n.autoZIndex||SC.autoZIndex,r.baseZIndex||n&&n.zIndex.toast||SC.zIndex.toast)}),[o,r.baseZIndex]),VC((function(){sC.clear(s.current)})),qk.useImperativeHandle(t,(function(){return{props:r,show:l,replace:p,remove:h,clear:f,getElement:function(){return s.current}}}));var y=function(){var e=VS("p-toast p-component p-toast-"+r.position,r.className,{"p-input-filled":n&&"filled"===n.inputStyle||"filled"===SC.inputStyle,"p-ripple-disabled":n&&!1===n.ripple||!1===SC.ripple}),t=rC({ref:s,id:r.id,className:e,style:r.style},uO.getOtherProps(r),c.ptm("root"));return qk.createElement("div",t,qk.createElement(IR,null,o&&o.map((function(e,t){var n=qk.createRef();return qk.createElement(ET,{nodeRef:n,key:e._pId,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:m,onExited:g,options:r.transitionOptions},qk.createElement(wO,{ref:n,messageInfo:e,index:t,onClick:r.onClick,onClose:v,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,closeIcon:r.closeIcon,ptCallbacks:c,metaData:u}))}))))}();return qk.createElement(JC,{element:y,appendTo:r.appendTo})})));kO.displayName="Toast";var _O=function(e){return e.toast.errorMessage},SO=function(e){return e.toast.successMessage},CO=function(e){return e.toast.infoMessage},xO=function(e){return e.toast.warnMessage},TO=function(){var e=(0,qk.useRef)(null),t=LS(_O),n=LS(xO),r=LS(CO),i=LS(SO);return(0,qk.useEffect)((function(){null!=e.current&&t.length>1&&e.current.show({severity:"error",detail:"".concat(t)})}),[t]),(0,qk.useEffect)((function(){null!=e.current&&n.length>1&&e.current.show({severity:"warn",detail:"".concat(n)})}),[n]),(0,qk.useEffect)((function(){null!=e.current&&r.length>1&&e.current.show({severity:"info",detail:"".concat(r)})}),[r]),(0,qk.useEffect)((function(){null!=e.current&&i.length>1&&e.current.show({severity:"success",detail:"".concat(i)})}),[i]),(0,b_.jsx)("div",{children:(0,b_.jsx)(kO,{ref:e,position:"top-right"})})};function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(this,arguments)}function RO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return RO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AO(e){return AO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AO(e)}function NO(e){var t=function(e,t){if("object"!==AO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===AO(t)?t:String(t)}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NO(r.key),r)}}var LO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===AO(e)&&t&&"object"===AO(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==AO(e)&&"object"==AO(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===AO(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===AO(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&PO(t.prototype,n),r&&PO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),MO=0;var DO=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=OO(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){LO.isEmpty(i)&&o(function(){return MO++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(MO)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",IO({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function jO(){return jO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jO.apply(this,arguments)}function FO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return FO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZO(e){return ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZO(e)}function GO(e){var t=function(e,t){if("object"!==ZO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ZO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ZO(t)?t:String(t)}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GO(r.key),r)}}DO.displayName="ArrowDownIcon";var UO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===ZO(e)&&t&&"object"===ZO(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==ZO(e)&&"object"==ZO(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===ZO(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===ZO(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&WO(t.prototype,n),r&&WO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),XO=0;var BO=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=VO(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){UO.isEmpty(i)&&o(function(){return XO++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(XO)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",jO({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function HO(){return HO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HO.apply(this,arguments)}BO.displayName="ArrowUpIcon";var YO=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",HO({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"}))})));function zO(){return zO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zO.apply(this,arguments)}YO.displayName="AngleDoubleLeftIcon";var KO=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",zO({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"}))})));function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(this,arguments)}KO.displayName="AngleDoubleRightIcon";var QO=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e);return qk.createElement("svg",JO({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"}))})));function qO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return qO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eA(e){return eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(e)}function tA(e){var t=function(e,t){if("object"!==eA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eA(t)?t:String(t)}function nA(e,t,n){return(t=tA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}QO.displayName="AngleLeftIcon";var rA=OC.extend({defaultProps:{__TYPE:"Paginator",totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})",children:void 0}}),iA=OC.extend({defaultProps:{__TYPE:"CurrentPageReport",pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null,children:void 0}}),oA=OC.extend({defaultProps:{__TYPE:"FirstPageLink",disabled:!1,onClick:null,template:null,firstPageLinkIcon:null,children:void 0}}),aA=OC.extend({defaultProps:{__TYPE:"JumpToPageInput",page:null,rows:null,pageCount:null,disabled:!1,template:null,onChange:null,children:void 0}}),sA=OC.extend({defaultProps:{__TYPE:"LastPageLink",disabled:!1,onClick:null,template:null,lastPageLinkIcon:null,children:void 0}}),uA=OC.extend({defaultProps:{__TYPE:"NextPageLink",disabled:!1,onClick:null,template:null,nextPageLinkIcon:null,children:void 0}}),cA=OC.extend({defaultProps:{__TYPE:"PageLinks",value:null,page:null,rows:null,pageCount:null,links:null,template:null,children:void 0}}),lA=OC.extend({defaultProps:{__TYPE:"PrevPageLink",disabled:!1,onClick:null,template:null,prevPageLinkIcon:null,children:void 0}}),dA=OC.extend({defaultProps:{__TYPE:"RowsPerPageDropdown",options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null,disabled:!1,children:void 0}});function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fA(Object(n),!0).forEach((function(t){nA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hA=qk.memo((function(e){var t=qk.useContext(_C),n=iA.getProps(e,t),r={currentPage:n.page+1,totalPages:n.pageCount,first:Math.min(n.first+1,n.totalRecords),last:Math.min(n.first+n.rows,n.totalRecords),rows:n.rows,totalRecords:n.totalRecords},i=n.reportTemplate.replace("{currentPage}",r.currentPage).replace("{totalPages}",r.totalPages).replace("{first}",r.first).replace("{last}",r.last).replace("{rows}",r.rows).replace("{totalRecords}",r.totalRecords),o=rC({className:"p-paginator-current"},n.ptm("current")),a=qk.createElement("span",o,i);if(n.template){var s=pA(pA({},r),{className:"p-paginator-current",element:a,props:n});return KS.getJSXElement(n.template,s)}return a}));function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}hA.displayName="CurrentPageReport";var mA=qk.memo((function(e){var t=qk.useContext(_C),n=oA.getProps(e,t),r=function(e){return n.ptm(e,{context:{disabled:n.disabled}})},i=VS("p-paginator-first p-paginator-element p-link",{"p-disabled":n.disabled}),o="p-paginator-icon",a=rC({className:o},r("firstPageIcon")),s=n.firstPageLinkIcon||qk.createElement(YO,a),u=QS.getJSXIcon(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vA(Object(n),!0).forEach((function(t){nA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a),{props:n}),c=rC({type:"button",className:i,onClick:n.onClick,disabled:n.disabled,"aria-label":EC("firstPageLabel")},r("firstPageButton")),l=qk.createElement("button",c,u,qk.createElement(wx,null));if(n.template){var d={onClick:n.onClick,className:i,iconClassName:o,disabled:n.disabled,element:l,props:n};return KS.getJSXElement(n.template,d)}return l}));mA.displayName="FirstPageLink";var gA=qk.memo((function(e){var t=qk.useContext(_C),n=aA.getProps(e,t),r=function(e){n.onChange&&n.onChange(n.rows*(e.value-1),n.rows)},i=n.pageCount>0?n.page+1:0,o=qk.createElement(mI,{value:i,onChange:r,className:"p-paginator-page-input",disabled:n.disabled,pt:n.ptm("JTPInput")});if(n.template){var a={value:i,onChange:r,disabled:n.disabled,className:"p-paginator-page-input",element:o,props:n};return KS.getJSXElement(n.template,a)}return o}));function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}gA.displayName="JumpToPageInput";var bA=qk.memo((function(e){var t=qk.useContext(_C),n=sA.getProps(e,t),r=function(e){return n.ptm(e,{context:{disabled:n.disabled}})},i=VS("p-paginator-last p-paginator-element p-link",{"p-disabled":n.disabled}),o="p-paginator-icon",a=rC({className:o},r("lastPageIcon")),s=n.lastPageLinkIcon||qk.createElement(KO,a),u=QS.getJSXIcon(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yA(Object(n),!0).forEach((function(t){nA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a),{props:n}),c=rC({type:"button",className:i,onClick:n.onClick,disabled:n.disabled,"aria-label":EC("lastPageLabel")},r("lastPageButton")),l=qk.createElement("button",c,u,qk.createElement(wx,null));if(n.template){var d={onClick:n.onClick,className:i,iconClassName:o,disabled:n.disabled,element:l,props:n};return KS.getJSXElement(n.template,d)}return l}));function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}bA.displayName="LastPageLink";var EA=qk.memo((function(e){var t=qk.useContext(_C),n=uA.getProps(e,t),r=function(e){return n.ptm(e,{context:{disabled:n.disabled}})},i=VS("p-paginator-next p-paginator-element p-link",{"p-disabled":n.disabled}),o="p-paginator-icon",a=rC({className:o},r("nextPageIcon")),s=n.nextPageLinkIcon||qk.createElement(Ax,a),u=QS.getJSXIcon(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wA(Object(n),!0).forEach((function(t){nA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a),{props:n}),c=rC({type:"button",className:i,onClick:n.onClick,disabled:n.disabled,"aria-label":EC("nextPageLabel")},r("nextPageButton")),l=qk.createElement("button",c,u,qk.createElement(wx,null));if(n.template){var d={onClick:n.onClick,className:i,iconClassName:o,disabled:n.disabled,element:l,nextPageLinkIcon:u,props:n};return KS.getJSXElement(n.template,d)}return l}));EA.displayName="NextPageLink";var kA=qk.memo((function(e){var t,n=qk.useContext(_C),r=cA.getProps(e,n),i=function(e,t){r.onClick&&r.onClick({originalEvent:e,value:t}),e.preventDefault()};if(r.value){var o=r.value[0],a=r.value[r.value.length-1];t=r.value.map((function(e){var t=VS("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":e===o,"p-paginator-page-end":e===a,"p-highlight":e-1===r.page}),n=rC({type:"button",onClick:function(t){return i(t,e)},className:t,disabled:r.disabled,"aria-label":EC("pageLabel")},function(e,t){return r.ptm(t,{context:{active:e-1===r.page}})}(e,"pageButton")),s=qk.createElement("button",n,e,qk.createElement(wx,null));if(r.template){var u={onClick:function(t){return i(t,e)},className:t,view:{startPage:o-1,endPage:a-1},page:e-1,currentPage:r.page,totalPages:r.pageCount,element:s,props:r};s=KS.getJSXElement(r.template,u)}return qk.createElement(qk.Fragment,{key:e},s)}))}var s=rC({className:"p-paginator-pages"},r.ptm("pages"));return qk.createElement("span",s,t)}));function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}kA.displayName="PageLinks";var SA=qk.memo((function(e){var t=qk.useContext(_C),n=lA.getProps(e,t),r=function(e){return n.ptm(e,{context:{disabled:n.disabled}})},i=VS("p-paginator-prev p-paginator-element p-link",{"p-disabled":n.disabled}),o="p-paginator-icon",a=rC({className:o},r("prevPageIcon")),s=n.prevPageLinkIcon||qk.createElement(QO,a),u=QS.getJSXIcon(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_A(Object(n),!0).forEach((function(t){nA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a),{props:n}),c=rC({type:"button",className:i,onClick:n.onClick,disabled:n.disabled,"aria-label":EC("previousPageLabel")},r("prevPageButton")),l=qk.createElement("button",c,u,qk.createElement(wx,null));if(n.template){var d={onClick:n.onClick,className:i,iconClassName:o,disabled:n.disabled,element:l,props:n};return KS.getJSXElement(n.template,d)}return l}));SA.displayName="PrevPageLink";var CA=qk.memo((function(e){var t=qk.useContext(_C),n=dA.getProps(e,t),r=n.options&&n.options.length>0,i=r?n.options.map((function(e){return{label:String(e),value:e}})):[],o=wC("choose"),a=r?qk.createElement(nI,{value:n.value,options:i,onChange:n.onChange,appendTo:n.appendTo,disabled:n.disabled,placeholder:o,"aria-label":o,pt:n.ptm("RPPDropdown")}):null;if(n.template){var s={value:n.value,options:i,onChange:n.onChange,appendTo:n.appendTo,currentPage:n.page,totalPages:n.pageCount,totalRecords:n.totalRecords,disabled:n.disabled,element:a,props:n};return KS.getJSXElement(n.template,s)}return a}));CA.displayName="RowsPerPageDropdown";var xA=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=rA.getProps(e,n),i=rA.setMetaData({props:r}).ptm,o=qk.useRef(null),a=Math.floor(r.first/r.rows),s=Math.ceil(r.totalRecords/r.rows),u=0===a,c=a===s-1,l=0===s,d=function(){for(var e=[],t=function(){var e=s,t=Math.min(r.pageLinkSize,e),n=Math.max(0,Math.ceil(a-t/2)),i=Math.min(e-1,n+t-1),o=r.pageLinkSize-(i-n+1);return[n=Math.max(0,n-o),i]}(),n=t[0],i=t[1],o=n;o<=i;o++)e.push(o+1);return e},f=function(e,t){var n=s,i=Math.floor(e/t);if(i>=0&&i<n){var o={first:e,rows:t,page:i,pageCount:n};r.onPageChange&&r.onPageChange(o)}},p=function(e){f(0,r.rows),e.preventDefault()},h=function(e){f(r.first-r.rows,r.rows),e.preventDefault()},v=function(e){f((e.value-1)*r.rows,r.rows)},m=function(e){f(r.first+r.rows,r.rows),e.preventDefault()},g=function(e){f((s-1)*r.rows,r.rows),e.preventDefault()},y=function(e){var t=e.value;f(0,t)};qk.useImperativeHandle(t,(function(){return{props:r,getElement:function(){return o.current}}})),HC((function(){a>0&&r.first>=r.totalRecords&&f((s-1)*r.rows,r.rows)}),[r.totalRecords]);var b=function(e,t){var n;switch(e){case"FirstPageLink":n=qk.createElement(mA,{key:e,onClick:p,disabled:u||l,template:t,firstPageLinkIcon:r.firstPageLinkIcon,ptm:i});break;case"PrevPageLink":n=qk.createElement(SA,{key:e,onClick:h,disabled:u||l,template:t,prevPageLinkIcon:r.prevPageLinkIcon,ptm:i});break;case"NextPageLink":n=qk.createElement(EA,{key:e,onClick:m,disabled:c||l,template:t,nextPageLinkIcon:r.nextPageLinkIcon,ptm:i});break;case"LastPageLink":n=qk.createElement(bA,{key:e,onClick:g,disabled:c||l,template:t,lastPageLinkIcon:r.lastPageLinkIcon,ptm:i});break;case"PageLinks":n=qk.createElement(kA,{key:e,value:d(),page:a,rows:r.rows,pageCount:s,onClick:v,template:t,ptm:i});break;case"RowsPerPageDropdown":n=qk.createElement(CA,{key:e,value:r.rows,page:a,pageCount:s,totalRecords:r.totalRecords,options:r.rowsPerPageOptions,onChange:y,appendTo:r.dropdownAppendTo,template:t,disabled:l,ptm:i});break;case"CurrentPageReport":n=qk.createElement(hA,{reportTemplate:r.currentPageReportTemplate,key:e,page:a,pageCount:s,first:r.first,rows:r.rows,totalRecords:r.totalRecords,template:t,ptm:i});break;case"JumpToPageInput":n=qk.createElement(gA,{key:e,rows:r.rows,page:a,pageCount:s,onChange:f,disabled:l,template:t,ptm:i});break;default:n=null}return n};if(!r.alwaysShow&&s<=1)return null;var w=VS("p-paginator p-component",r.className),E=KS.getJSXElement(r.leftContent,r),k=KS.getJSXElement(r.rightContent,r),_=function(){var e=r.template;return e?"object"===eA(e)?e.layout?e.layout.split(" ").map((function(t){var n=t.trim();return b(n,e[n])})):Object.entries(e).map((function(e){var t=$O(e,2),n=t[0],r=t[1];return b(n,r)})):e.split(" ").map((function(e){return b(e.trim())})):null}(),S=rC({className:"p-paginator-left-content"},i("left")),C=E&&qk.createElement("div",S,E),x=rC({className:"p-paginator-right-content"},i("end")),T=k&&qk.createElement("div",x,k),I=rC({ref:o,className:w,style:r.style},rA.getOtherProps(r),i("root"));return qk.createElement("div",I,C,_,T)})));function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TA.apply(this,arguments)}function IA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return IA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OA(e){return OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OA(e)}function AA(e){var t=function(e,t){if("object"!==OA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==OA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===OA(t)?t:String(t)}function NA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AA(r.key),r)}}xA.displayName="Paginator";var PA=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===OA(e)&&t&&"object"===OA(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==OA(e)&&"object"==OA(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===OA(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===OA(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&NA(t.prototype,n),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),LA=0;var MA=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=RA(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){PA.isEmpty(i)&&o(function(){return LA++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(LA)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",TA({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DA.apply(this,arguments)}function jA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return jA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VA(e){return VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(e)}function ZA(e){var t=function(e,t){if("object"!==VA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VA(t)?t:String(t)}function GA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZA(r.key),r)}}MA.displayName="PencilIcon";var WA=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===VA(e)&&t&&"object"===VA(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==VA(e)&&"object"==VA(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===VA(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===VA(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&GA(t.prototype,n),r&&GA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),UA=0;var XA=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=FA(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){WA.isEmpty(i)&&o(function(){return UA++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(UA)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",DA({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function BA(){return BA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BA.apply(this,arguments)}function HA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return HA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zA(e){return zA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(e)}function KA(e){var t=function(e,t){if("object"!==zA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zA(t)?t:String(t)}function JA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KA(r.key),r)}}XA.displayName="FilterIcon";var QA=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===zA(e)&&t&&"object"===zA(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==zA(e)&&"object"==zA(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===zA(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===zA(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&JA(t.prototype,n),r&&JA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qA=0;var $A=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=YA(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){QA.isEmpty(i)&&o(function(){return qA++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(qA)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",BA({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eN.apply(this,arguments)}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return tN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(e){return rN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rN(e)}function iN(e){var t=function(e,t){if("object"!==rN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rN(t)?t:String(t)}function oN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iN(r.key),r)}}$A.displayName="FilterSlashIcon";var aN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===rN(e)&&t&&"object"===rN(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==rN(e)&&"object"==rN(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===rN(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===rN(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&oN(t.prototype,n),r&&oN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),sN=0;var uN=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=nN(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){aN.isEmpty(i)&&o(function(){return sN++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(sN)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",eN({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(this,arguments)}function lN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return lN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fN(e){return fN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fN(e)}function pN(e){var t=function(e,t){if("object"!==fN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fN(t)?t:String(t)}function hN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pN(r.key),r)}}uN.displayName="PlusIcon";var vN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===fN(e)&&t&&"object"===fN(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==fN(e)&&"object"==fN(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===fN(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===fN(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&hN(t.prototype,n),r&&hN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mN=0;var gN=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=dN(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){vN.isEmpty(i)&&o(function(){return mN++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(mN)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",cN({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yN.apply(this,arguments)}function bN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return bN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EN(e){return EN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EN(e)}function kN(e){var t=function(e,t){if("object"!==EN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==EN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===EN(t)?t:String(t)}function _N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kN(r.key),r)}}gN.displayName="TrashIcon";var SN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===EN(e)&&t&&"object"===EN(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==EN(e)&&"object"==EN(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===EN(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===EN(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&_N(t.prototype,n),r&&_N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),CN=0;var xN=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=wN(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){SN.isEmpty(i)&&o(function(){return CN++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(CN)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",yN({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"}),qk.createElement("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"}),qk.createElement("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"}),qk.createElement("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TN.apply(this,arguments)}function IN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return IN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function AN(e){var t=function(e,t){if("object"!==ON(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ON(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ON(t)?t:String(t)}function NN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AN(r.key),r)}}xN.displayName="SortAltIcon";var PN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===ON(e)&&t&&"object"===ON(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==ON(e)&&"object"==ON(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===ON(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===ON(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&NN(t.prototype,n),r&&NN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),LN=0;var MN=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=RN(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){PN.isEmpty(i)&&o(function(){return LN++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(LN)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",TN({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M2.59836 13.2009C2.44634 13.2009 2.29432 13.1449 2.1743 13.0248L0.174024 11.0246C-0.0580081 10.7925 -0.0580081 10.4085 0.174024 10.1764C0.406057 9.94441 0.79011 9.94441 1.02214 10.1764L2.59836 11.7527L4.17458 10.1764C4.40662 9.94441 4.79067 9.94441 5.0227 10.1764C5.25473 10.4085 5.25473 10.7925 5.0227 11.0246L3.02242 13.0248C2.90241 13.1449 2.75038 13.2009 2.59836 13.2009Z",fill:"currentColor"}),qk.createElement("path",{d:"M2.59836 13.2009C2.27032 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92641 13.2009 2.59836 13.2009Z",fill:"currentColor"}),qk.createElement("path",{d:"M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z",fill:"currentColor"}),qk.createElement("path",{d:"M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z",fill:"currentColor"}),qk.createElement("path",{d:"M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z",fill:"currentColor"}),qk.createElement("path",{d:"M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN.apply(this,arguments)}function jN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return jN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VN(e){return VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(e)}function ZN(e){var t=function(e,t){if("object"!==VN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VN(t)?t:String(t)}function GN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZN(r.key),r)}}MN.displayName="SortAmountDownIcon";var WN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===VN(e)&&t&&"object"===VN(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==VN(e)&&"object"==VN(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===VN(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===VN(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&GN(t.prototype,n),r&&GN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),UN=0;var XN=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=FN(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){WN.isEmpty(i)&&o(function(){return UN++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(UN)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",DN({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{d:"M4.59864 3.99958C4.44662 3.99958 4.2946 3.94357 4.17458 3.82356L2.59836 2.24734L1.02214 3.82356C0.79011 4.05559 0.406057 4.05559 0.174024 3.82356C-0.0580081 3.59152 -0.0580081 3.20747 0.174024 2.97544L2.1743 0.97516C2.40634 0.743127 2.79039 0.743127 3.02242 0.97516L5.0227 2.97544C5.25473 3.20747 5.25473 3.59152 5.0227 3.82356C4.90268 3.94357 4.75066 3.99958 4.59864 3.99958Z",fill:"currentColor"}),qk.createElement("path",{d:"M2.59841 13.2009C2.27036 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92646 13.2009 2.59841 13.2009Z",fill:"currentColor"}),qk.createElement("path",{d:"M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z",fill:"currentColor"}),qk.createElement("path",{d:"M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z",fill:"currentColor"}),qk.createElement("path",{d:"M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z",fill:"currentColor"}),qk.createElement("path",{d:"M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BN.apply(this,arguments)}function HN(e){return HN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HN(e)}function YN(e){var t=function(e,t){if("object"!==HN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==HN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===HN(t)?t:String(t)}function zN(e,t,n){return(t=YN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JN(e,t){if(e){if("string"===typeof e)return KN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KN(e,t):void 0}}function QN(e){return function(e){if(Array.isArray(e))return KN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||JN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}XN.displayName="SortAmountUpAltIcon";var $N=OC.extend({defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:null,rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(e,t){return KS.getComponentProp(e,t,$N.defaultProps)},getCProps:function(e){return KS.getComponentProps(e,$N.defaultProps)},getCOtherProps:function(e){return KS.getComponentDiffProps(e,$N.defaultProps)}}),eP=OC.extend({defaultProps:{__TYPE:"DataTable",alwaysShowPaginator:!0,breakpoint:"960px",cellClassName:null,cellSelection:!1,checkIcon:null,className:null,collapsedRowIcon:null,columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:null,editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:null,expandedRows:null,exportFilename:"download",exportFunction:null,filterClearIcon:null,filterDelay:300,filterDisplay:"menu",filterIcon:null,filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:uC.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:null,metaKeySelection:!0,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderIndicatorDownIcon:null,reorderIndicatorUpIcon:null,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"scroll",rowClassName:null,rowEditValidator:null,rowEditorCancelIcon:null,rowEditorInitIcon:null,rowEditorSaveIcon:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showHeaders:!0,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortIcon:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null,children:void 0}});function tP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var rP=qk.memo((function(e){var t=qN(qk.useState(!1),2),n=t[0],r=t[1],i=function(t){return e.ptCallbacks.ptmo($N.getCProp(e.column,"pt"),t,{props:$N.getCProps(e.column),parent:e.metaData,context:{checked:e.checked,disabled:e.disabled},state:{focused:n}})},o=function(t){e.disabled||(r(!0),e.onChange(t))},a=VS("p-checkbox p-component",{"p-checkbox-focused":n,"p-disabled":e.disabled}),s=VS("p-checkbox-box p-component",{"p-highlight":e.checked,"p-focus":n}),u=rC({className:"p-checkbox-icon"},i("checkboxIcon")),c=e.checked?e.checkIcon||qk.createElement(OR,u):null,l=QS.getJSXIcon(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u),{props:e}),d=e.disabled?null:"0",f=rC({className:a,onClick:function(e){return o(e)}},i("checkboxWrapper")),p=rC({className:s,role:"checkbox","aria-checked":e.checked,tabIndex:d,onKeyDown:function(e){var t;"Space"!==(t=e).code&&" "!==t.key||(o(t),t.preventDefault())},onFocus:function(e){r(!0)},onBlur:function(e){r(!1)},"aria-label":e.ariaLabel},i("checkbox"));return qk.createElement("div",f,qk.createElement("div",p,l))}));rP.displayName="RowCheckbox";var iP=qk.memo((function(e){var t=qN(qk.useState(!1),2),n=t[0],r=t[1],i=qk.useRef(null),o=function(t){return e.ptCallbacks.ptmo($N.getCProp(e.column,"pt"),t,{props:$N.getCProps(e.column),parent:e.metaData,context:{checked:e.checked,disabled:e.disabled},state:{focused:n}})},a=function(t){e.disabled||(e.onChange(t),YS.focus(i.current))},s=VS("p-radiobutton p-component",{"p-radiobutton-focused":n,"p-disabled":e.disabled}),u=VS("p-radiobutton-box p-component",{"p-highlight":e.checked,"p-focus":n}),c="".concat(e.tableSelector,"_dt_radio"),l=rC({className:s},o("radiobuttonWrapper")),d=rC({className:"p-hidden-accessible"},o("hiddenInputWrapper")),f=rC({name:c,ref:i,type:"radio",checked:e.checked,onFocus:function(e){r(!0)},onBlur:function(e){r(!1)},onChange:function(e){a(e)},onKeyDown:function(e){var t;"Space"!==(t=e).code&&" "!==t.key||(a(t),t.preventDefault())},"aria-label":e.ariaLabel},o("hiddenInput")),p=rC({className:u,onClick:function(e){return a(e)},role:"radio","aria-checked":e.checked},o("radiobutton")),h=rC({className:"p-radiobutton-icon"},o("radiobuttonIcon"));return qk.createElement("div",l,qk.createElement("div",d,qk.createElement("input",f)),qk.createElement("div",p,qk.createElement("div",h)))}));function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}iP.displayName="RowRadioButton";var sP=qk.memo((function(e){var t=qN(qk.useState(e.editing),2),n=t[0],r=t[1],i=qN(qk.useState(e.rowData),2),o=i[0],a=i[1],s=qN(qk.useState({}),2),u=s[0],c=s[1],l=qk.useRef(null),d=qk.useRef(null),f=qk.useRef(null),p=qk.useRef(!1),h=qk.useRef(null),v=qk.useRef(null),m=function(t){return $N.getCProp(e.column,t)},g=function(t){var r,i=(r=e.column,$N.getCProps(r));return e.ptCallbacks.ptmo(m("pt"),t,{props:i,parent:e.metaData,state:{styleObject:u,editing:n,editingRowData:o}})},y=m("field")||"field_".concat(e.index),b=e.dataKey&&e.rowData&&e.rowData[e.dataKey]||e.rowIndex,w=ZC({type:"click",listener:function(e){!p.current&&x(e.target)&&P(e,!0),p.current=!1},options:!0}),E=qN(w,2),k=E[0],_=E[1];"row"===e.editMode&&e.editing!==n&&r(e.editing);var S=function(){return!!e.selection&&(e.selection instanceof Array?N(e.selection)>-1:C(e.selection))},C=function(t){return t&&(t.rowIndex===e.rowIndex||(n=t.rowData,"equals"===e.compareSelectionBy?n===e.rowData:KS.equals(n,e.rowData,e.dataKey)))&&(t.field===y||t.cellIndex===e.index);var n},x=function(e){return l.current&&!(l.current.isSameNode(e)||l.current.contains(e))},T=function(t){return e.virtualScrollerOptions?e.virtualScrollerOptions[t]:null},I=function(){return{value:O(),field:y,rowData:e.rowData,rowIndex:e.rowIndex,cellIndex:e.index,selected:S(),column:e.column,props:e}},R=function(e){return aP({originalEvent:e},I())},O=function(t){return KS.resolveFieldData(t||e.rowData,y)},A=function(){return e.editingMeta&&e.editingMeta[b]?e.editingMeta[b].data:e.rowData},N=function(e){return(e||[]).findIndex((function(e){return C(e)}))},P=function(e,t){var n=R(e),i=o,a=O(i),s=aP(aP({},n),{},{newRowData:i,newValue:a}),u=m("onCellEditCancel"),c=m("cellEditValidator"),l=m("onCellEditComplete");!t&&u&&u(s);var d=!0;c&&(d=c(s)),d?(t&&l&&l(s),function(e){var t=R(e),n=m("onBeforeCellEditHide");n&&n(t),setTimeout((function(){r(!1),_(),Jx.off("overlay-click",f.current),f.current=null,p.current=!1}),1)}(e)):e.preventDefault()},L=function e(t){var n=t.nextElementSibling;return n?YS.hasClass(n,"p-selectable-cell")?n:e(n):null},M=function e(t){var n=t.previousElementSibling;return n?YS.hasClass(n,"p-selectable-cell")?n:e(n):null},D=function t(n){var r=n.parentElement.nextElementSibling,i=r?r.children[e.index]:null;return r&&i?YS.hasClass(r,"p-selectable-row")&&YS.hasClass(i,"p-selectable-cell")?i:t(i):null},j=function t(n){var r=n.parentElement.previousElementSibling,i=r?r.children[e.index]:null;return r&&i?YS.hasClass(r,"p-selectable-row")&&YS.hasClass(i,"p-selectable-cell")?i:t(i):null},F=function(t,n){t&&n&&(t.tabIndex=-1,n.tabIndex=e.tabIndex)},V=function(){clearTimeout(v.current),v.current=setTimeout((function(){var t="row"===e.editMode?YS.findSingle(l.current,".p-row-editor-init"):null;t&&t.focus()}),1)},Z=function(e){var t=aP({},o);t[y]=e,a(t);var n=A();n&&(n[y]=e)},G=function(t){var i=R(t);if("row"!==e.editMode&&m("editor")&&!n&&(e.selectOnEdit||!e.selectOnEdit&&e.selected)){p.current=!0;var o=m("onBeforeCellEditShow"),a=m("onCellEditInit"),s=m("cellEditValidatorEvent");if(o){if(!1===o(i))return;if(t&&t.defaultPrevented)return}setTimeout((function(){if(r(!0),a){if(!1===a(i))return;if(t&&t.defaultPrevented)return}"click"===s&&(k(),f.current=function(e){x(e.target)||(p.current=!0)},Jx.on("overlay-click",f.current))}),1)}e.allowCellSelection&&e.onClick&&e.onClick(i)},W=function(t){if("row"!==e.editMode&&(13!==t.which&&9!==t.which||P(t,!0),27===t.which&&P(t,!1)),e.allowCellSelection){var n=t.target,r=t.currentTarget;switch(t.which){case 37:var i=M(r);i&&(F(r,i),i.focus()),t.preventDefault();break;case 39:var o=L(r);o&&(F(r,o),o.focus()),t.preventDefault();break;case 38:var a=j(r);a&&(F(r,a),a.focus()),t.preventDefault();break;case 40:var s=D(r);s&&(F(r,s),s.focus()),t.preventDefault();break;case 13:YS.isClickable(n)||(G(t),t.preventDefault());break;case 32:YS.isClickable(n)||n.readOnly||(G(t),t.preventDefault())}}},U=function(t){e.onRadioChange({originalEvent:t,data:e.rowData,index:e.rowIndex})},X=function(t){e.onCheckboxChange({originalEvent:t,data:e.rowData,index:e.rowIndex})},B=function(t){e.onRowToggle({originalEvent:t,data:e.rowData}),t.preventDefault()},H=function(t){e.onRowEditInit({originalEvent:t,data:e.rowData,newData:A(),field:y,index:e.rowIndex})},Y=function(t){e.onRowEditSave({originalEvent:t,data:e.rowData,newData:A(),field:y,index:e.rowIndex}),V()},z=function(t){e.onRowEditCancel({originalEvent:t,data:e.rowData,newData:A(),field:y,index:e.rowIndex}),V()};qk.useEffect((function(){m("frozen")&&function(){if(m("frozen")){var e=aP({},u);if("right"===m("alignFrozen")){var t=0,n=l.current&&l.current.nextElementSibling;n&&(t=YS.getOuterWidth(n)+parseFloat(n.style.right||0)),e.right=t+"px"}else{var r=0,i=l.current&&l.current.previousElementSibling;i&&(r=YS.getOuterWidth(i)+parseFloat(i.style.left||0)),e.left=r+"px"}(u.left!==e.left||u.right!==e.right)&&c(e)}}(),"cell"!==e.editMode&&"row"!==e.editMode||(clearTimeout(h.current),h.current=setTimeout((function(){if(n){var t="cell"===e.editMode?YS.getFirstFocusableElement(l.current,":not(.p-cell-editor-key-helper)"):YS.findSingle(l.current,".p-row-editor-save");t&&t.focus()}d.current&&(d.current.tabIndex=n?-1:0)}),1))})),HC((function(){"cell"!==e.editMode&&"row"!==e.editMode||a(A())}),[e.editingMeta]),qk.useEffect((function(){if("cell"===e.editMode||"row"===e.editMode){var t=aP(aP({},R()),{},{editing:n,editingKey:b});e.onEditingMetaChange(t)}}),[n]),VC((function(){f.current&&(Jx.off("overlay-click",f.current),f.current=null)}));return T("loading")?function(){var t=T("getLoaderOptions")(e.rowIndex,{cellIndex:e.index,cellFirst:0===e.index,cellLast:e.index===T("columns").length-1,cellEven:e.index%2===0,cellOdd:e.index%2!==0,column:e.column,field:y}),n=KS.getJSXElement(T("loadingTemplate"),t),r=rC(g("bodyCell"));return qk.createElement("td",r,n)}():function(){var t,r,i=e.allowCellSelection&&S(),a="row"===e.editMode,s=function(t){return e.allowCellSelection?t?0:0===e.rowIndex&&0===e.index?e.tabIndex:-1:null}(i),c=m("selectionMode"),f=m("rowReorder"),h=m("rowEditor"),v=m("header"),b=m("body"),w=m("editor"),E=m("frozen"),k=m("align"),_=O(),C={column:e.column,field:y,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps},x=KS.getPropValue(m("expander"),e.rowData,C),T=KS.getPropValue(e.cellClassName,_,C),A=VS(KS.getPropValue(m("bodyClassName"),e.rowData,C),m("className"),T,zN({"p-selection-column":null!==c,"p-editable-column":w,"p-cell-editing":w&&n,"p-frozen-column":E,"p-selectable-cell":e.allowCellSelection&&e.isSelectable({data:I(),index:e.rowIndex}),"p-highlight":i},"p-align-".concat(k),!!k)),N=function(){var e=m("bodyStyle"),t=m("style");return m("frozen")?Object.assign({},t,e,u):Object.assign({},t,e)}(),L=rC({className:"p-column-title"},m("columnTitle")),M="stack"===e.responsiveLayout&&qk.createElement("span",L,KS.getJSXElement(v,{props:e.tableProps}));if(c){var D,j=!e.showSelectionElement||e.showSelectionElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps});if(j){var F=e.selectionAriaLabel||e.tableProps.dataKey,V=KS.resolveFieldData(e.rowData,F);D="".concat(e.selected?EC("unselectLabel"):EC("selectLabel")," ").concat(V)}t=j&&qk.createElement(qk.Fragment,null,"single"===c&&qk.createElement(iP,{column:e.column,checked:e.selected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:U,tabIndex:e.tabIndex,tableSelector:e.tableSelector,ariaLabel:D,ptCallbacks:e.ptCallbacks,metaData:e.metaData}),"multiple"===c&&qk.createElement(rP,{column:e.column,checked:e.selected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:X,tabIndex:e.tabIndex,ariaLabel:D,checkIcon:e.checkIcon,ptCallbacks:e.ptCallbacks,metaData:e.metaData}))}else if(f){var K=!e.showRowReorderElement||e.showRowReorderElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}),J=rC({className:"p-datatable-reorderablerow-handle"},m("rowReorderIcon")),Q=m("rowReorderIcon")||qk.createElement(Rx,J);t=K&&QS.getJSXIcon(Q,aP({},J),{props:e})}else if(x){var q=rC({className:"p-row-toggler-icon","aria-hidden":!0},m("rowTogglerIcon")),$=e.expanded?e.expandedRowIcon||qk.createElement(Yx,q):e.collapsedRowIcon||qk.createElement(kI,q),ee=QS.getJSXIcon($,aP({},q),{props:e}),te="".concat(e.tableSelector,"_content_").concat(e.rowIndex,"_expanded"),ne=e.selectionAriaLabel||e.tableProps.dataKey,re=KS.resolveFieldData(e.rowData,ne),ie="".concat(e.expanded?EC("collapseLabel"):EC("expandLabel")," ").concat(re),oe={onClick:B,className:"p-row-toggler p-link"},ae=rC(aP(aP({},oe),{},{type:"button","aria-expanded":e.expanded,"aria-controls":te,tabIndex:e.tabIndex,"aria-label":ie}),g("rowToggler"));t=qk.createElement("button",ae,ee,qk.createElement(wx,null)),b&&(oe.element=t,t=KS.getJSXElement(b,e.rowData,{column:e.column,field:y,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,expander:oe}))}else if(a&&h){var se={},ue=rC({className:"p-row-editor-save-icon"},m("rowEditorSaveIconProps")),ce=rC({className:"p-row-editor-cancel-icon"},m("rowEditorCancelIconProps")),le=rC({className:"p-row-editor-init-icon"},m("rowEditorInitIconProps")),de=QS.getJSXIcon(e.rowEditorSaveIcon||qk.createElement(OR,ue),aP({},ue),{props:e}),fe=QS.getJSXIcon(e.rowEditorCancelIcon||qk.createElement(Kx,ce),aP({},ce),{props:e}),pe=QS.getJSXIcon(e.rowEditorInitIcon||qk.createElement(MA,le),aP({},le),{props:e});if(n){var he=rC({type:"button",name:"row-save",onClick:(se={editing:!0,onSaveClick:Y,saveClassName:"p-row-editor-save p-link",onCancelClick:z,cancelClassName:"p-row-editor-cancel p-link"}).onSaveClick,className:se.saveClassName,tabIndex:e.tabIndex},g("rowEditorSaveButtonProps")),ve=rC({type:"button",name:"row-cancel",onClick:se.onCancelClick,className:se.cancelClassName,tabIndex:e.tabIndex},g("rowEditorCancelButtonProps"));t=qk.createElement(qk.Fragment,null,qk.createElement("button",he,de,qk.createElement(wx,null)),qk.createElement("button",ve,fe,qk.createElement(wx,null)))}else{var me=rC({type:"button",name:"row-edit",onClick:(se={editing:!1,onInitClick:H,initClassName:"p-row-editor-init p-link"}).onInitClick,className:se.initClassName,tabIndex:e.tabIndex},g("rowEditorInitButtonProps"));t=qk.createElement("button",me,pe,qk.createElement(wx,null))}b&&(se.element=t,t=KS.getJSXElement(b,e.rowData,{column:e.column,field:y,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,rowEditor:se}))}else t=!b||n&&w?w&&n?KS.getJSXElement(w,{rowData:o,value:O(o),column:e.column,field:y,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,editorCallback:Z}):_:b?KS.getJSXElement(b,e.rowData,{column:e.column,field:y,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps}):_;if(t="boolean"==typeof t?t.toString():t,!a&&w){var ge=rC({tabIndex:"0",ref:d,className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(e){G(e)}},g("editorKeyHelperLabel")),ye=rC(g("editorKeyHelper"));r=qk.createElement("a",ge,qk.createElement("span",ye))}var be=rC({ref:l,style:N,className:A,rowSpan:e.rowSpan,tabIndex:s,role:"cell",onClick:function(e){return G(e)},onKeyDown:function(e){return W(e)},onBlur:function(t){return r=t,p.current=!1,void("row"!==e.editMode&&n&&"blur"===m("cellEditValidatorEvent")&&P(r,!0));var r},onMouseDown:function(t){return function(t){var n=R(t);e.onMouseDown&&e.onMouseDown(n)}(t)},onMouseUp:function(t){return function(t){var n=R(t);e.onMouseUp&&e.onMouseUp(n)}(t)}},g("bodyCell"),g("root"));return qk.createElement("td",be,r,M,t)}()}));function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}sP.displayName="BodyCell";var cP=qk.memo((function(e){var t=qN(qk.useState(!1),2),n=t[0],r=t[1],i=e.onRowEditChange?e.editing:n,o=function(e,t){return $N.getCProp(e,t)},a=function(){return e.selectionMode&&"single"!==e.selectionModeInColumn&&"multiple"!==e.selectionModeInColumn},s=function(t){var n=o(t,"field");return!(!e.groupRowsBy||!n)&&(Array.isArray(e.groupRowsBy)?e.groupRowsBy.indexOf(n)>-1:e.groupRowsBy===n)},u=function(t,n){return(t||[]).findIndex((function(t){return r=n,i=t,"equals"===e.compareSelectionBy?r===i:KS.equals(r,i,e.dataKey);var r,i}))},c=function(t,n){t&&n&&(t.tabIndex=-1,n.tabIndex=e.tabIndex)},l=function e(t){var n=t.nextElementSibling;return n?YS.hasClass(n,"p-selectable-row")?n:e(n):null},d=function e(t){var n=t.previousElementSibling;return n?YS.hasClass(n,"p-selectable-row")?n:e(n):null},f=function(t){e.onRowClick({originalEvent:t,data:e.rowData,index:e.rowIndex})},p=function(t){if(a()&&!e.allowCellSelection){var n=t.target,r=t.currentTarget;switch(t.which){case 40:var i=l(r);i&&(c(r,i),i.focus()),t.preventDefault();break;case 38:var o=d(r);o&&(c(r,o),o.focus()),t.preventDefault();break;case 13:YS.isClickable(n)||(f(t),t.preventDefault());break;case 32:YS.isClickable(n)||n.readOnly||(f(t),t.preventDefault())}}},h=function(t,n){if(e.onRowEditChange){var i,o=e.dataKey,a=t.originalEvent,s=t.data,c=t.index,l=t.newData;if(o){var d=String(KS.resolveFieldData(s,o));if(i=e.editingRows?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.editingRows):{},n)i[d]=!0;else delete i[d],delete i[String(KS.resolveFieldData(l,o))]}else{var f=u(e.editingRows,s);i=e.editingRows?QN(e.editingRows):[],-1!==f?i=i.filter((function(e,t){return t!==f})):i.push(s)}e.onRowEditChange({originalEvent:a,data:i,index:c})}else r(n)},v=function(t){var n=t.originalEvent;e.onRowEditInit&&e.onRowEditInit({originalEvent:n,data:e.rowData,index:e.rowIndex}),h(t,!0),n.preventDefault()},m=function(t){var n=t.originalEvent,r=t.newData,i=!e.rowEditValidator||e.rowEditValidator(r,{props:e.tableProps});e.onRowEditSave&&e.onRowEditSave({originalEvent:n,data:e.rowData,index:e.rowIndex,valid:i}),i&&(e.onRowEditComplete&&e.onRowEditComplete(t),h(t,!1)),n.preventDefault()},g=function(t){var n=t.originalEvent;e.onRowEditCancel&&e.onRowEditCancel({originalEvent:n,data:e.rowData,index:e.rowIndex}),h(t,!1),n.preventDefault()},y=VS(KS.getPropValue(e.rowClassName,e.rowData,{props:e.tableProps}),{"p-highlight":!e.allowCellSelection&&e.selected||e.contextMenuSelected,"p-highlight-contextmenu":e.contextMenuSelected,"p-selectable-row":e.allowRowSelection&&e.isSelectable({data:e.rowData,index:e.rowIndex}),"p-row-odd":e.rowIndex%2!==0}),b={height:e.virtualScrollerOptions?e.virtualScrollerOptions.itemSize:void 0},w=e.columns.map((function(t,n){if(function(t,n,r){if(o(n,"hidden"))return!1;if(e.rowGroupMode&&"rowspan"===e.rowGroupMode&&s(n)){var i=t[r-1];if(i)return KS.resolveFieldData(t[r],o(n,"field"))!==KS.resolveFieldData(i,o(n,"field"))}return!0}(e.value,t,e.index)){var r="".concat(e.rowIndex,"_").concat(o(t,"columnKey")||o(t,"field"),"_").concat(n),a="rowspan"===e.rowGroupMode?function(e,t,n){if(s(t)){for(var r=KS.resolveFieldData(e[n],o(t,"field")),i=r,a=0;r===i;){a++;var u=e[++n];if(!u)break;i=KS.resolveFieldData(u,o(t,"field"))}return 1===a?null:a}return null}(e.value,t,e.index):null;return qk.createElement(sP,{key:r,allowCellSelection:e.allowCellSelection,cellClassName:e.cellClassName,checkIcon:e.checkIcon,collapsedRowIcon:e.collapsedRowIcon,column:t,compareSelectionBy:e.compareSelectionBy,dataKey:e.dataKey,editMode:e.editMode,editing:i,editingMeta:e.editingMeta,expanded:e.expanded,expandedRowIcon:e.expandedRowIcon,frozenRow:e.frozenRow,index:n,isSelectable:e.isSelectable,onCheckboxChange:e.onCheckboxChange,onClick:e.onCellClick,onEditingMetaChange:e.onEditingMetaChange,onMouseDown:e.onCellMouseDown,onMouseUp:e.onCellMouseUp,onRadioChange:e.onRadioChange,onRowEditCancel:g,onRowEditInit:v,onRowEditSave:m,onRowToggle:e.onRowToggle,responsiveLayout:e.responsiveLayout,rowData:e.rowData,rowEditorCancelIcon:e.rowEditorCancelIcon,rowEditorInitIcon:e.rowEditorInitIcon,rowEditorSaveIcon:e.rowEditorSaveIcon,rowIndex:e.rowIndex,rowSpan:a,selectOnEdit:e.selectOnEdit,selected:e.selected,selection:e.selection,selectionAriaLabel:e.tableProps.selectionAriaLabel,showRowReorderElement:e.showRowReorderElement,showSelectionElement:e.showSelectionElement,tabIndex:e.tabIndex,tableProps:e.tableProps,tableSelector:e.tableSelector,value:e.value,virtualScrollerOptions:e.virtualScrollerOptions,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}return null})),E=rC({role:"row",tabIndex:a()&&!e.allowCellSelection?0===e.rowIndex?e.tabIndex:-1:null,className:y,style:b,onMouseDown:function(t){return n=t,void e.onRowMouseDown({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onMouseUp:function(t){return n=t,void e.onRowMouseUp({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onMouseEnter:function(t){return n=t,void e.onRowMouseEnter({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onMouseLeave:function(t){return n=t,void e.onRowMouseLeave({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onClick:function(e){return f(e)},onDoubleClick:function(t){return n=t,void e.onRowDoubleClick({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onContextMenu:function(t){return n=t,void e.onRowRightClick({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onTouchEnd:function(t){return n=t,void e.onRowTouchEnd(n);var n},onKeyDown:function(e){return p(e)},onDragStart:function(t){return n=t,void e.onRowDragStart({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onDragOver:function(t){return n=t,void e.onRowDragOver({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onDragLeave:function(t){return n=t,void e.onRowDragLeave({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onDragEnd:function(t){return n=t,void e.onRowDragEnd({originalEvent:n,data:e.rowData,index:e.rowIndex});var n},onDrop:function(t){return n=t,void e.onRowDrop({originalEvent:n,data:e.rowData,index:e.rowIndex});var n}},function(t){var r,i=(r=e.column,$N.getCProps(r));return e.ptCallbacks.ptmo(i,t,{props:i,parent:e.metaData,state:{editing:n}})}("row"));return qk.createElement("tr",E,w)}));function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}cP.displayName="BodyRow";var dP=qk.memo((function(e){var t=function(t){return e.ptCallbacks.ptmo($N.getCProp(e.column,"pt"),t,{props:$N.getCProps(e.column),parent:e.metaData})},n=rC({className:"p-row-toggler-icon","aria-hidden":!0},t("rowGroupTogglerIcon")),r=e.expanded?e.expandedRowIcon||qk.createElement(Yx,n):e.collapsedRowIcon||qk.createElement(kI,n),i=QS.getJSXIcon(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),{props:e}),o=e.expanded?EC("collapseLabel"):EC("expandLabel"),a=rC({type:"button",onClick:function(t){return n=t,void e.onClick({originalEvent:n,data:e.rowData});var n},className:"p-row-toggler p-link",tabIndex:e.tabIndex,"aria-label":o},t("rowGroupToggler"));return qk.createElement("button",a,i,qk.createElement(wx,null))}));dP.displayName="RowTogglerButton";var fP=["originalEvent"];function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vP=qk.memo(qk.forwardRef((function(e,t){var n=qN(qk.useState({}),2),r=n[0],i=n[1],o=function(t){var n,i=(n=e.column,$N.getCProps(n));return e.ptCallbacks.ptmo(i,t,{props:i,parent:e.metaData,state:{rowGroupHeaderStyleObject:r}})},a=qk.useRef(null),s=qk.useCallback((function(t){a.current=t,e.virtualScrollerContentRef&&e.virtualScrollerContentRef(t)}),[e]),u=qk.useRef(null),c=qk.useRef(null),l=qk.useRef(null),d=qk.useRef(null),f=qk.useRef(null),p=qk.useRef(null),h=qk.useRef(!1),v=qk.useRef(!1),m=qk.useRef(null),g=qk.useRef(null),y=e.rowGroupMode&&"subheader"===e.rowGroupMode,b="radiobutton"===e.selectionMode,w="checkbox"===e.selectionMode,E="single"===e.selectionModeInColumn,k="multiple"===e.selectionModeInColumn,_=function(t,n){return D()?(t.rowIndex===n.rowIndex||t.rowData===n.rowData)&&(t.field===n.field||t.cellIndex===n.cellIndex):"equals"===e.compareSelectionBy?t===n:KS.equals(t,n,e.dataKey)},S=function(){return"single"===e.selectionMode&&!k||!b&&E},C=function(){return"multiple"===e.selectionMode&&!E||k},x=function(t){return!(!t||!e.selection)&&(e.selection instanceof Array?Z(e.selection,t)>-1:_(t,e.selection))},T=function(t){return!e.isDataSelectable||e.isDataSelectable(t)},I=function(t){return e.dataKey===e.groupRowsBy?Object.keys(e.expandedRows).some((function(n){return KS.equals(n,KS.resolveFieldData(t,e.dataKey))})):e.expandedRows.some((function(n){return KS.equals(n,t,e.groupRowsBy)}))},R=function(t){return e.dragSelection&&C()&&!t.originalEvent.shiftKey},O=function(t){return!D()&&R(t)||e.reorderableRows},A=function(e){return D()&&R(e)},N=function(e){return!YS.isClickable(e.originalEvent.target)},P=function(t){return!h.current&&(!e.metaKeySelection||e.metaKeySelection&&(t.originalEvent.metaKey||t.originalEvent.ctrlKey))},L=function(e){return C()&&e.originalEvent.shiftKey&&null!==l.current},M=function(){return(e.selectionMode||e.selectionModeInColumn)&&!(b&&E)&&!(w&&k)},D=function(){return e.cellSelection&&!E&&!k},j=function(){return e.columns?e.columns.length:0},F=function(e,t){return $N.getCProp(e,t)},V=function(t,n){return(n=n||e.virtualScrollerOptions)?n[t]:null},Z=function(e,t){return(e||[]).findIndex((function(e){return _(t,e)}))},G=function(t){var n=t.originalEvent,r=t.data,i=t.index,o=t.toggleable,a=t.type;if(T({data:r,index:i})){var s=x(r),u=e.selection;s?o&&(u=null,z({originalEvent:n,data:r,type:a})):(u=r,Y({originalEvent:n,data:r,type:a})),J(n,!0),e.onSelectionChange&&u!==e.selection&&e.onSelectionChange({originalEvent:n,value:u,type:a})}},W=function(t){var n=t.originalEvent,r=t.data,i=t.index,o=t.toggleable,a=t.type;if(T({data:r,index:i})){var s=x(r),u=e.selection||[];if(s)if(o){var c=Z(u,r);u=e.selection.filter((function(e,t){return t!==c})),z({originalEvent:n,data:r,type:a})}else u.length&&(e.selection.forEach((function(e){return z({originalEvent:n,data:e,type:a})})),u=[r],Y({originalEvent:n,data:r,type:a}));else u=o&&C()?[].concat(QN(u),[r]):[r],Y({originalEvent:n,data:r,type:a});J(n,!0),e.onSelectionChange&&u!==e.selection&&e.onSelectionChange({originalEvent:n,value:u,type:a})}},U=function(t,n){YS.clearSelection(),f.current=D()?t.rowIndex:t.index;var r=X(t);e.onSelectionChange&&r!==e.selection&&e.onSelectionChange({originalEvent:t.originalEvent,value:r,type:n}),l.current=f.current,d.current=t.cellIndex,J(t.originalEvent,!1)},X=function(t){var n,r;return f.current>l.current?(n=l.current,r=f.current):f.current<l.current?(n=f.current,r=l.current):n=r=f.current,e.paginator&&(n=Math.max(n-e.first,0),r-=e.first),D()?H(t,n,r):B(t,n,r)},B=function(t,n,r){for(var i=e.value,o=[],a=n;a<=r;a++){var s=i[a];T({data:s,index:a})&&(o.push(s),Y({originalEvent:t.originalEvent,data:s,type:"row"}))}return o},H=function(t,n,r){var i,o,a=t.cellIndex;a>d.current?(i=d.current,o=a):a<d.current?(i=a,o=d.current):i=o=a;for(var s=e.value,u=[],c=n;c<=r;c++)for(var l=s[c],f=e.columns,p=e.paginator?c+e.first:c,h=i;h<=o;h++){var v=F(f[h],"field"),m={value:KS.resolveFieldData(l,v),field:v,rowData:l,rowIndex:p,cellIndex:h,selected:!0};T({data:m,index:c})&&(u.push(m),Y({originalEvent:t.originalEvent,data:m,type:"cell"}))}return u},Y=function(t){D()?e.onCellSelect&&e.onCellSelect(hP(hP({originalEvent:t.originalEvent},t.data),{},{type:t.type})):e.onRowSelect&&e.onRowSelect(t)},z=function(t){D()?e.onCellUnselect&&e.onCellUnselect(hP(hP({originalEvent:t.originalEvent},t.data),{},{type:t.type})):e.onRowUnselect&&e.onRowUnselect(t)},K=function(t){e.dragSelection&&!u.current&&(u.current=document.createElement("div"),YS.addClass(u.current,"p-datatable-drag-selection-helper"),c.current={x:t.clientX,y:t.clientY},u.current.style.top="".concat(t.pageY,"px"),u.current.style.left="".concat(t.pageX,"px"),be())},J=function(t,n){var r=t.currentTarget;if(!D()&&e.selectionAutoFocus)if(k){var i=YS.findSingle(r,"td.p-selection-column .p-checkbox-box");i&&i.focus()}else if(E){var o=YS.findSingle(r,'td.p-selection-column input[type="radio"]');o&&o.focus()}!n&&r&&r.focus()},Q=function(t,n){var r=t.currentTarget;if(YS.hasClass(r,"cell"===n?"p-selectable-cell":"p-selectable-row")){var i="cell"===n?"tr > td":"tr",o=YS.findSingle(a.current,"".concat(i,'[tabindex="').concat(e.tabIndex,'"]'));o&&r&&(o.tabIndex=-1,r.tabIndex=e.tabIndex)}},q=function(t){if(!D()&&N(t)){if(e.onRowClick&&e.onRowClick(t),M()){if(L(t))U(t,"row");else{var n=E||k||P(t);l.current=t.index,f.current=t.index,p.current=e.first,S()?G(hP(hP({},t),{},{toggleable:n,type:"row"})):W(hP(hP({},t),{},{toggleable:n,type:"row"}))}Q(t.originalEvent,"row")}else J(t.originalEvent);h.current=!1}},$=function(t){var n=t.originalEvent;YS.isClickable(n.target)||e.onRowDoubleClick&&e.onRowDoubleClick(t)},ee=function(t){(e.onContextMenu||e.onContextMenuSelectionChange)&&(YS.clearSelection(),e.onContextMenuSelectionChange&&e.onContextMenuSelectionChange({originalEvent:t.originalEvent,value:t.data}),e.onContextMenu&&e.onContextMenu({originalEvent:t.originalEvent,data:t.data}),t.originalEvent.preventDefault())},te=function(t){e.onRowMouseEnter&&e.onRowMouseEnter(t)},ne=function(t){e.onRowMouseLeave&&e.onRowMouseLeave(t)},re=function(){h.current=!0},ie=function(t){var n=t.originalEvent;YS.hasClass(n.target,"p-datatable-reorderablerow-handle")?n.currentTarget.draggable=!0:n.currentTarget.draggable=!1,O(t)&&(K(n),l.current=t.index,f.current=t.index,p.current=e.first)},oe=function(e){var t=e.index===l.current;O(e)&&!t&&U(e,"row")},ae=function(t){var n,r=e.dataKey;if(e.groupRowsBy?r===e.groupRowsBy:!!r){var i=String(KS.resolveFieldData(t.data,r));null!=(n=e.expandedRows?hP({},e.expandedRows):{})[i]?(delete n[i],e.onRowCollapse&&e.onRowCollapse({originalEvent:t,data:t.data})):(n[i]=!0,e.onRowExpand&&e.onRowExpand({originalEvent:t,data:t.data}))}else{var o=Z(e.expandedRows,t.data);n=e.expandedRows?QN(e.expandedRows):[],-1!==o?(n=n.filter((function(e,t){return t!==o})),e.onRowCollapse&&e.onRowCollapse({originalEvent:t,data:t.data})):(n.push(t.data),e.onRowExpand&&e.onRowExpand({originalEvent:t,data:t.data}))}e.onRowToggle&&e.onRowToggle({data:n})},se=function(e){var t=e.originalEvent,n=e.index;O(t)&&(v.current=!0,m.current=n,t.dataTransfer.setData("text","b"))},ue=function(e){var t=e.originalEvent,n=e.index;if(v.current&&m.current!==n){var r=t.currentTarget,i=YS.getOffset(r).top+YS.getWindowScrollTop(),o=t.pageY+window.scrollY,a=i+YS.getOuterHeight(r)/2,s=r.previousElementSibling;o<a?(YS.removeClass(r,"p-datatable-dragpoint-bottom"),g.current=n,s?YS.addClass(s,"p-datatable-dragpoint-bottom"):YS.addClass(r,"p-datatable-dragpoint-top")):(s?YS.removeClass(s,"p-datatable-dragpoint-bottom"):YS.addClass(r,"p-datatable-dragpoint-top"),g.current=n+1,YS.addClass(r,"p-datatable-dragpoint-bottom"))}t.preventDefault()},ce=function(e){var t=e.originalEvent.currentTarget,n=t.previousElementSibling;n&&YS.removeClass(n,"p-datatable-dragpoint-bottom"),YS.removeClass(t,"p-datatable-dragpoint-bottom"),YS.removeClass(t,"p-datatable-dragpoint-top")},le=function(e){var t=e.originalEvent;v.current=!1,m.current=null,g.current=null,t.currentTarget.draggable=!1},de=function(t){var n=t.originalEvent;if(null!=g.current){var r=m.current>g.current?g.current:0===g.current?0:g.current-1,i=QN(e.tableProps.value);KS.reorderArray(i,m.current,r),e.onRowReorder&&e.onRowReorder({originalEvent:n,value:i,dragIndex:m.current,dropIndex:r})}ce(t),le(t),n.preventDefault()},fe=function(e){G(hP(hP({},e),{},{toggleable:!0,type:"radio"}))},pe=function(e){W(hP(hP({},e),{},{toggleable:!0,type:"checkbox"}))},he=function(e){var t=c.current,n=t.x,r=t.y,i=e.clientX-n,o=e.clientY-r;o<0&&(u.current.style.top="".concat(e.pageY+5,"px")),i<0&&(u.current.style.left="".concat(e.pageX+5,"px")),u.current.style.height="".concat(Math.abs(o),"px"),u.current.style.width="".concat(Math.abs(i),"px"),e.preventDefault()},ve=function e(){u.current&&(u.current.remove(),u.current=null),document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",e)},me=function(t){if(N(t)){if(e.onCellClick&&e.onCellClick(t),D()){if(L(t))U(t,"cell");else{var n=P(t),r=t.originalEvent,i=tP(t,fP);l.current=t.rowIndex,f.current=t.rowIndex,p.current=e.first,d.current=t.cellIndex,S()?G({originalEvent:r,data:i,index:t.rowIndex,toggleable:n,type:"cell"}):W({originalEvent:r,data:i,index:t.rowIndex,toggleable:n,type:"cell"})}Q(t.originalEvent,"cell")}h.current=!1}},ge=function(t){A(t)&&(K(t.originalEvent),l.current=t.rowIndex,f.current=t.rowIndex,p.current=e.first,d.current=t.cellIndex)},ye=function(e){var t=e.rowIndex===l.current&&e.cellIndex===d.current;A(e)&&!t&&U(e,"cell")},be=function(){document.addEventListener("mousemove",he),document.addEventListener("mouseup",ve),document.body.appendChild(u.current)};qk.useEffect((function(){e.frozenRow&&(a.current.style.top=YS.getOuterHeight(a.current.previousElementSibling)+"px"),e.scrollable&&"subheader"===e.rowGroupMode&&function(){var e=YS.getOuterHeight(a.current.previousElementSibling)+"px";r.top!==e&&i({top:e})}()})),HC((function(){e.paginator&&C()&&(l.current=null)}),[e.first]),VC((function(){e.dragSelection&&ve()}));var we=function(t,n,i,a){if(y&&function(t,n,r){var i=KS.resolveFieldData(n,e.groupRowsBy),o=t[r-1];return!o||i!==KS.resolveFieldData(o,e.groupRowsBy)}(e.value,t,n-e.first)){var s=e.scrollable?{top:r.top}:null,u=e.expandableRowGroups&&qk.createElement(dP,{onClick:ae,rowData:t,expanded:i,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,ptCallbacks:e.ptCallbacks,metaData:e.metaData}),c={index:n,props:e.tableProps,customRendering:!1},l=KS.getJSXElement(e.rowGroupHeaderTemplate,t,c);if(!c.customRendering){var d=rC({colSpan:a},o("bodyCell"),o("root")),f=rC({className:"p-rowgroup-header-name"},o("rowgroupHeaderName"));l=qk.createElement("td",d,u,qk.createElement("span",f,l))}var p=rC({className:"p-rowgroup-header",style:s,role:"row"},o("rowgroupHeader"));return qk.createElement("tr",p,l)}return null},Ee=function(t,n,r,i){if(!e.expandableRowGroups||i){var o=!!(e.selectionMode||null!==e.selectionModeInColumn||e.columns&&e.columns.some((function(e){return e&&!!F(e,"selectionMode")})))&&x(t),a=function(t){return!(!t||!e.contextMenuSelection)&&_(t,e.contextMenuSelection)}(t),s=M(),u=D(),c=function(t){return!("row"!==e.editMode||!t||!e.editingRows)&&(e.dataKey?!!e.editingRows&&void 0!==e.editingRows[KS.resolveFieldData(t,e.dataKey)]:-1!==Z(e.editingRows,t))}(t);return qk.createElement(cP,{allowCellSelection:u,allowRowSelection:s,cellClassName:e.cellClassName,checkIcon:e.checkIcon,collapsedRowIcon:e.collapsedRowIcon,columns:e.columns,compareSelectionBy:e.compareSelectionBy,contextMenuSelected:a,dataKey:e.dataKey,editMode:e.editMode,editing:c,editingMeta:e.editingMeta,editingRows:e.editingRows,expanded:i,expandedRowIcon:e.expandedRowIcon,frozenRow:e.frozenRow,groupRowsBy:e.groupRowsBy,index:r,isSelectable:T,onCellClick:me,onCellMouseDown:ge,onCellMouseUp:ye,onCheckboxChange:pe,onEditingMetaChange:e.onEditingMetaChange,onRadioChange:fe,onRowClick:q,onRowDoubleClick:$,onRowDragEnd:le,onRowDragLeave:ce,onRowDragOver:ue,onRowDragStart:se,onRowDrop:de,onRowEditCancel:e.onRowEditCancel,onRowEditChange:e.onRowEditChange,onRowEditComplete:e.onRowEditComplete,onRowEditInit:e.onRowEditInit,onRowEditSave:e.onRowEditSave,onRowMouseDown:ie,onRowMouseEnter:te,onRowMouseLeave:ne,onRowMouseUp:oe,onRowRightClick:ee,onRowToggle:ae,onRowTouchEnd:re,responsiveLayout:e.responsiveLayout,rowClassName:e.rowClassName,rowData:t,rowEditValidator:e.rowEditValidator,rowEditorCancelIcon:e.rowEditorCancelIcon,rowEditorInitIcon:e.rowEditorInitIcon,rowEditorSaveIcon:e.rowEditorSaveIcon,rowGroupMode:e.rowGroupMode,rowIndex:n,selectOnEdit:e.selectOnEdit,selected:o,selection:e.selection,selectionMode:e.selectionMode,selectionModeInColumn:e.selectionModeInColumn,showRowReorderElement:e.showRowReorderElement,showSelectionElement:e.showSelectionElement,tabIndex:e.tabIndex,tableProps:e.tableProps,tableSelector:e.tableSelector,value:e.value,virtualScrollerOptions:e.virtualScrollerOptions,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}},ke=function(t,n,r,i){if(y&&function(t,n,r,i){if(e.expandableRowGroups&&!i)return!1;var o=KS.resolveFieldData(n,e.groupRowsBy),a=t[r+1];return!a||o!==KS.resolveFieldData(a,e.groupRowsBy)}(e.value,t,n-e.first,r)){var a=KS.getJSXElement(e.rowGroupFooterTemplate,t,{index:n,colSpan:i,props:e.tableProps}),s=rC({className:"p-rowgroup-footer",role:"row"},o("rowgroupFooter"));return qk.createElement("tr",s,a)}return null},_e=e.empty?function(){if(!e.loading){var t=j(),n=KS.getJSXElement(e.emptyMessage,{props:e.tableProps,frozen:e.frozenRow})||wC("emptyMessage"),r=rC({className:"p-datatable-emptymessage",role:"row"},o("emptyMessage")),i=rC({colSpan:t,role:"cell"},o("bodyCell"),o("root"));return qk.createElement("tr",r,qk.createElement("td",i,n))}return null}():e.value&&e.value.map((function(t,n){var r=V("getItemOptions")?V("getItemOptions")(n).index:e.first+n,i=function(t,n){return e.dataKey?KS.resolveFieldData(t,e.dataKey):n}(t,r),a=function(t){if(t&&e.expandedRows){if(y&&e.expandableRowGroups)return I(t);if(e.dataKey){var n=KS.resolveFieldData(t,e.dataKey),r=!1;return e.expandedRows&&(r=Array.isArray(e.expandedRows)?e.expandedRows.some((function(t){return KS.resolveFieldData(t,e.dataKey)===n})):void 0!==e.expandedRows[n]),r}return-1!==Z(e.expandedRows,t)}return!1}(t),s=j(),u=we(t,r,a,s),c=Ee(t,r,n,a),l=function(t,n,r,i){if(r&&(!y||!e.expandableRowGroups)){var a="".concat(e.tableSelector,"_content_").concat(n,"_expanded"),s={index:n,customRendering:!1},u=KS.getJSXElement(e.rowExpansionTemplate,t,s);if(!s.customRendering){var c=rC({colSpan:i,role:"cell"},o("bodyCell"),o("root"));u=qk.createElement("td",c,u)}var l=rC({id:a,className:"p-datatable-row-expansion",role:"row"},o("rowExpansion"));return qk.createElement("tr",l,u)}return null}(t,r,a,s),d=ke(t,r,a,s);return qk.createElement(qk.Fragment,{key:i},u,c,l,d)})),Se="p-datatable-virtualscroller-spacer"===e.className?"virtualScrollerSpacer":"tbody",Ce=rC({ref:s,style:e.style,className:e.className},o(Se));return qk.createElement("tbody",Ce,_e)})));vP.displayName="TableBody";var mP=OC.extend({defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(e,t){return KS.getComponentProp(e,t,mP.defaultProps)},getCProps:function(e){return KS.getComponentProps(e,mP.defaultProps)}}),gP=OC.extend({defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getCProp:function(e,t){return KS.getComponentProp(e,t,gP.defaultProps)}});function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bP=qk.memo((function(e){var t=qN(qk.useState({}),2),n=t[0],r=t[1],i=qk.useRef(null),o=function(t){return e.ptCallbacks.ptmo($N.getCProp(e.column,"pt"),t,{props:$N.getCProps(e.column),parent:e.metaData,state:{styleObject:n}})},a=function(t){return $N.getCProp(e.column,t)},s=function(){if(a("frozen")){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);if("right"===a("alignFrozen")){var t=0,o=i.current.nextElementSibling;o&&(t=YS.getOuterWidth(o)+parseFloat(o.style.right||0)),e.right=t+"px"}else{var s=0,u=i.current.previousElementSibling;u&&(s=YS.getOuterWidth(u)+parseFloat(u.style.left||0)),e.left=s+"px"}!(n.left===e.left&&n.right===e.right)&&r(e)}};qk.useEffect((function(){a("frozen")&&s()}));var u=function(){var e=a("footerStyle"),t=a("style");return a("frozen")?Object.assign({},t,e,n):Object.assign({},t,e)}(),c=a("align"),l=a("colSpan"),d=a("rowSpan"),f=VS(a("footerClassName"),a("className"),zN({"p-frozen-column":a("frozen")},"p-align-".concat(c),!!c)),p=KS.getJSXElement(a("footer"),{props:e.tableProps}),h=rC({ref:i,style:u,className:f,role:"cell",colSpan:l,rowSpan:d},o("footerCell"),o("root"));return qk.createElement("td",h,p)}));bP.displayName="FooterCell";var wP=qk.memo((function(e){var t=function(t,n){var r=function(e){return mP.getCProps(e)}(t);return e.ptCallbacks.ptmo(mP.getCProp(t,"pt"),n,{props:r,parent:e.metaData})},n=function(e,t){return $N.getCProp(e,t)},r=function(t){return qk.Children.map(t,(function(t,r){var i=!t||!n(t,"hidden"),o=t&&(n(t,"columnKey")||n(t,"field"))||r;return i&&qk.createElement(bP,{key:o,tableProps:e.tableProps,column:t,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}))};if(e.footerColumnGroup||e.columns&&e.columns.some((function(e){return e&&n(e,"footer")}))){var i=function(){if(e.footerColumnGroup)return qk.Children.toArray(mP.getCProp(e.footerColumnGroup,"children")).map((function(e,n){var i=rC({role:"row"},t(e,"root"));return qk.createElement("tr",BN({},i,{key:n}),function(e){var t=qk.Children.toArray(gP.getCProp(e,"children"));return r(t)}(e))}));var n=rC({role:"row"},e.ptCallbacks.ptm("footerRow"));return qk.createElement("tr",n,r(e.columns))}(),o=rC({className:"p-datatable-tfoot"},e.ptCallbacks.ptm("tfoot"),(e.ptCallbacks.ptmo(mP.getCProp(e.footerColumnGroup,"pt")),{props:e.footerColumnGroup?e.ptCallbacks.ptmo(mP.getCProps(e.footerColumnGroup)):void 0,parent:e.metaData}));return qk.createElement("tfoot",o,i)}return null}));function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}wP.displayName="TableFooter";var _P=qk.memo((function(e){var t=qN(qk.useState(!1),2),n=t[0],r=t[1],i=qk.useRef(null),o=qk.useRef(null),a=qk.useRef(!1),s=qk.useRef(null),u=function(t){return $N.getCProp(e.column,t)},c=function(){return $N.getCProps(e.column)},l=qk.useContext(_C),d=function(t){return e.ptCallbacks.ptmo(c(),t,{props:c(),parent:e.metaData,state:{overlayVisible:n}})},f=u("filterField")||u("field"),p=e.filters[f],h=e.filtersStore&&e.filtersStore[f],v=qN(BC({target:o,overlay:i,listener:function(e,t){var n=t.type;t.valid&&("outside"===n?!a.current&&!k(e.target)&&P():P()),a.current=!1},when:n}),2),m=v[0],g=v[1],y=function(e){return KS.isEmpty(e)},b=function(e){return p&&p.matchMode===e},w=function(){return u("filterMatchModeOptions")||l&&l.filterMatchModeOptions[S()].map((function(e){return{label:wC(e),value:e}}))||SC.filterMatchModeOptions[S()].map((function(e){return{label:wC(e),value:e}}))},E=function(){return"boolean"!==u("dataType")&&u("showFilterMatchModes")&&w()&&u("showFilterMenuOptions")},k=function(e){return o.current&&(o.current.isSameNode(e)||o.current.contains(e))},_=function(){if(h)return h.operator?{matchMode:h.constraints[0].matchMode,operator:h.operator}:{matchMode:h.matchMode}},S=function(){var e=u("dataType"),t=u("filterMatchMode"),n=function(e){return l&&l.filterMatchModeOptions[e].some((function(e){return e===t}))||SC.filterMatchModeOptions[e].some((function(e){return e===t}))};return"custom"!==t||n(e)?t&&Object.keys(l&&l.filterMatchModeOptions||SC.filterMatchModeOptions).find((function(e){return n(e)}))||e:(l&&l.filterMatchModeOptions[e].push(uC.CUSTOM)||SC.filterMatchModeOptions[e].push(uC.CUSTOM),e)},C=function(){var t=u("onFilterClear"),n=_(),r=kP({},e.filters);r[f].operator?(r[f].constraints.splice(1),r[f].operator=n.operator,r[f].constraints[0]={value:null,matchMode:n.matchMode}):(r[f].value=null,r[f].matchMode=n.matchMode),t&&t(),e.onFilterChange(r),e.onFilterApply(),P()},x=function(){var t=u("onFilterApplyClick");t&&t({field:f,constraints:p}),e.onFilterApply(),P()},T=function(t){var n=u("onFilterMatchModeChange"),r=kP({},e.filters);r[f].matchMode=t,n&&n({field:f,matchMode:t}),e.onFilterChange(r),e.onFilterApply(),P()},I=function(e,t,n){var r=e.target;switch(e.key){case"ArrowDown":var i=A(r);i&&(r.removeAttribute("tabindex"),i.tabIndex=0,i.focus()),e.preventDefault();break;case"ArrowUp":var o=N(r);o&&(r.removeAttribute("tabindex"),o.tabIndex=0,o.focus()),e.preventDefault();break;case"Enter":n?C():T(t.value),e.preventDefault()}},R=function(t){var n=u("onFilterOperatorChange"),r=t.value,i=kP({},e.filters);i[f].operator=r,e.onFilterChange(i),n&&n({field:f,operator:r}),u("showApplyButton")||e.onFilterApply()},O=function(){var t=u("onFilterConstraintAdd"),n=_(),r=kP({},e.filters),i={value:null,matchMode:n.matchMode};r[f].constraints.push(i),t&&t({field:f,constraint:i}),e.onFilterChange(r),u("showApplyButton")||e.onFilterApply()},A=function e(t){var n=t.nextElementSibling;return n?YS.hasClass(n,"p-column-filter-separator")?e(n):n:t.parentElement.firstElementChild},N=function e(t){var n=t.previousElementSibling;return n?YS.hasClass(n,"p-column-filter-separator")?e(n):n:t.parentElement.lastElementChild},P=function(){r(!1)},L=function(){sC.set("overlay",i.current,l&&l.autoZIndex||SC.autoZIndex,l&&l.zIndex.overlay||SC.zIndex.overlay),YS.alignOverlay(i.current,o.current,l&&l.appendTo||SC.appendTo,!1),s.current=function(e){var t;t=e.target,(k(t)||!i.current||i.current.isSameNode(t)||i.current.contains(t))&&(a.current=!0)},Jx.on("overlay-click",s.current)},M=function(){m()},D=function(){F()},j=function(){sC.clear(i.current)},F=function(){g(),Jx.off("overlay-click",s.current),s.current=null,a.current=!1},V=function(){return p?p.constraints||[p]:[]},Z=function(){return wC("clear")},G=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=kP({},e.filters),i=r[f];"menu"===e.display&&i&&i.operator?r[f].constraints[n].value=t:r[f].value=t,e.onFilterChange(r)},W=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n&&G(n[0],n[1]),e.onFilterApply()};HC((function(){"menu"===e.display&&n&&YS.alignOverlay(i.current,o.current,l&&l.appendTo||SC.appendTo,!1)})),VC((function(){s.current&&(Jx.off("overlay-click",s.current),s.current=null),i.current&&(sC.clear(i.current),F())}));var U=function(t,n){var r=t?t.value:null;return u("filterElement")?KS.getJSXElement(u("filterElement"),{field:f,index:n,filterModel:t,value:r,filterApplyCallback:W,filterCallback:G}):qk.createElement(sx,{type:u("filterType"),value:r||"",onChange:function(t){return function(t,n){var r=kP({},e.filters),i=t.target.value;"menu"===e.display?r[f].constraints[n].value=i:r[f].value=i,e.onFilterChange(r),u("showApplyButton")&&"row"!==e.display||e.onFilterApply()}(t,n)},onKeyDown:function(t){"Enter"===t.key&&(u("showApplyButton")&&"menu"!==e.display||x())},className:"p-column-filter",placeholder:u("filterPlaceholder"),maxLength:u("filterMaxLength")})},X=function(){if(E()){var e=w(),t=wC("noFilter"),n=rC({className:"p-column-filter-separator"},d("filterSeparator")),r=rC({className:"p-column-filter-row-item",onClick:function(e){return C()},onKeyDown:function(e){return I(e,null,!0)}},d("filterRowItem")),i=rC({className:"p-column-filter-row-items"},d("filterRowItems"));return qk.createElement("ul",i,e.map((function(e,t){var n=e.value,r=e.label,i=rC({className:VS("p-column-filter-row-item",{"p-highlight":b(n)}),onClick:function(){return T(n)},onKeyDown:function(t){return I(t,e)},tabIndex:0===t?0:null},d("filterRowItem"));return qk.createElement("li",BN({},i,{key:r}),r)})),qk.createElement("li",n),qk.createElement("li",r,t))}return null},B=function(){if(u("showFilterOperator")&&p&&p.operator&&u("showFilterMenuOptions")){var e=[{label:wC("matchAll"),value:cC.AND},{label:wC("matchAny"),value:cC.OR}],t=p.operator,n=rC({className:"p-column-filter-operator"},d("filterOperator"));return qk.createElement("div",n,qk.createElement(nI,{options:e,value:t,onChange:R,className:"p-column-filter-operator-dropdown",pt:d("filterOperatorDropdown")}))}return null},H=function(t,n){if(E()){var r=w();return qk.createElement(nI,{options:r,value:t.matchMode,onChange:function(t){return function(t,n){var r=u("onFilterMatchModeChange"),i=kP({},e.filters);i[f].constraints[n].matchMode=t,e.onFilterChange(i),r&&r({field:f,matchMode:t,index:n}),u("showApplyButton")||e.onFilterApply()}(t.value,n)},className:"p-column-filter-matchmode-dropdown",pt:d("filterMatchModeDropdown")})}return null},Y=function(t){if(V().length>1){var n=wC("removeRule");return qk.createElement(Tx,{type:"button",icon:e.filterRemoveIcon||qk.createElement(gN,null),className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return function(t){var n=u("onFilterConstraintRemove"),r=kP({},e.filters),i=r[f].constraints.splice(t,1);n&&n({field:f,constraint:i}),e.onFilterChange(r),u("showApplyButton")||e.onFilterApply()}(t)},label:n,pt:d("filterRemoveButton")})}return null},z=function(){var t=V(),n=rC({className:"p-column-filter-constraints"},d("filterConstraints")),r=rC({className:"p-column-filter-constraint"},d("filterConstraint"));return qk.createElement("div",n,t.map((function(t,n){var i=H(t,n),o=function(t,n){return"menu"===e.display?U(t,n):null}(t,n),a=Y(n),s=rC(d("filterRemove"));return qk.createElement("div",BN({},r,{key:n}),i,o,qk.createElement("div",s,a))})))},K=function(){if(u("showAddButton")&&p&&p.operator&&V()&&V().length<u("maxConstraints")&&u("showFilterMenuOptions")){var t=wC("addRule"),n=rC({className:"p-column-filter-add-rule"},d("filterAddRule"));return qk.createElement("div",n,qk.createElement(Tx,{type:"button",label:t,icon:e.filterAddIcon||qk.createElement(uN,null),className:"p-column-filter-add-button p-button-text p-button-sm",onClick:O,pt:d("filterAddRuleButton")}))}return null},J=function(){if(u("showApplyButton")){if(!u("filterApply")){var e=wC("apply");return qk.createElement(Tx,{type:"button",className:"p-button-sm",onClick:x,label:e,pt:d("filterApplyButton")})}return KS.getJSXElement(u("filterApply"),{field:f,filterModel:p,filterApplyCallback:x})}return null},Q=function(){var e=function(){if(u("showClearButton")){if(!u("filterClear")){var e=Z();return qk.createElement(Tx,{type:"button",className:"p-button-outlined p-button-sm",onClick:C,label:e,pt:d("filterClearButton")})}return KS.getJSXElement(u("filterClear"),{field:f,filterModel:p,filterClearCallback:C})}return null}(),t=J(),n=rC({className:"p-column-filter-buttonbar"},d("filterButtonBar"));return qk.createElement("div",n,e,t)},q=VS("p-column-filter p-fluid",{"p-column-filter-row":"row"===e.display,"p-column-filter-menu":"menu"===e.display}),$=function(){if("row"===e.display){var t=U(p,0),n=rC({className:"p-fluid p-column-filter-element"},d("filterInput"));return qk.createElement("div",n,t)}return null}(),ee=function(){if(u("showFilterMenu")&&("row"!==e.display||"boolean"!==u("dataType"))){var t=rC({"aria-hidden":!0},d("filterIcon")),a=e.filterIcon||qk.createElement(XA,t),s=QS.getJSXIcon(a,kP({},t),{props:e}),c=VS("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":n,"p-column-filter-menu-button-active":!(!h||!p)&&(h.operator?!y(p.constraints[0].value):!y(p.value))}),l=wC("filter"),f=rC({ref:o,type:"button",className:c,"aria-haspopup":!0,"aria-expanded":n,onClick:function(e){r((function(e){return!e}))},onKeyDown:function(e){return function(e){switch(e.key){case"Escape":case"Tab":P();break;case"ArrowDown":if(n){var t=YS.getFirstFocusableElement(i.current);t&&t.focus(),e.preventDefault()}else e.altKey&&(r(!0),e.preventDefault())}}(e)},"aria-label":l},d("filterMenuButton"));return qk.createElement("button",f,s,qk.createElement(wx,null))}return null}(),te=function(){var t=rC({"aria-hidden":!0},d("filterClearIcon")),n=e.filterClearIcon||qk.createElement($A,t),r=QS.getJSXIcon(n,kP({},t),{props:e});if(u("showClearButton")&&"row"===e.display){var i=rC({className:VS("p-column-filter-clear-button p-link",{"p-hidden-space":!(p&&!y(p.value))}),type:"button",onClick:function(e){return C()},"aria-label":Z()},d("headerFilterClearButton"));return qk.createElement("button",i,r,qk.createElement(wx,null))}return null}(),ne=function(){var t=u("filterMenuStyle"),r=VS("p-column-filter-overlay p-component p-fluid",u("filterMenuClassName"),{"p-column-filter-overlay-menu":"menu"===e.display,"p-input-filled":l&&"filled"===l.inputStyle||"filled"===SC.inputStyle,"p-ripple-disabled":l&&!1===l.ripple||!1===SC.ripple}),s=KS.getJSXElement(u("filterHeader"),{field:f,filterModel:p,filterApplyCallback:W}),c=KS.getJSXElement(u("filterFooter"),{field:f,filterModel:p,filterApplyCallback:W}),h="row"===e.display?X():function(){var e=B(),t=z(),n=K(),r=Q();return qk.createElement(qk.Fragment,null,e,t,n,r)}(),v=rC({ref:i,style:t,className:r,onKeyDown:function(e){"Escape"===e.key&&(P(),o.current&&o.current.focus())},onClick:function(e){return t=e,a.current=!0,void Jx.emit("overlay-click",{originalEvent:t,target:i.current});var t},onMouseDown:function(e){a.current=!0}},d("filterOverlay"));return qk.createElement(JC,null,qk.createElement(ET,{nodeRef:i,classNames:"p-connected-overlay",in:n,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:L,onEntered:M,onExit:D,onExited:j},qk.createElement("div",v,s,h,c)))}(),re=rC({className:q},d("columnFilter"));return qk.createElement("div",re,$,ee,te,ne)}));function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}_P.displayName="ColumnFilter";var CP=qk.memo((function(e){var t=qN(qk.useState(!1),2),n=t[0],r=t[1],i=function(t){return e.ptCallbacks.ptmo($N.getCProp(e.column,"pt"),t,{props:$N.getCProps(e.column),parent:e.metaData,context:{checked:e.checked,disabled:e.disabled},state:{focused:n}})},o=function(t){e.disabled||(r(!0),e.onChange({originalEvent:t,checked:!e.checked}))},a=VS("p-checkbox-box p-component",{"p-highlight":e.checked,"p-disabled":e.disabled,"p-focus":n}),s=rC({className:"p-checkbox-icon"},i("headerCheckboxIcon")),u=e.checked?e.checkIcon||qk.createElement(OR,s):null,c=QS.getJSXIcon(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s),{props:e}),l=e.disabled?null:0,d=rC({className:"p-checkbox p-component",onClick:function(e){return o(e)}},i("headerCheckboxWrapper")),f=rC({className:a,role:"checkbox","aria-checked":e.checked,tabIndex:l,onFocus:function(e){r(!0)},onBlur:function(e){r(!1)},onKeyDown:function(e){var t;"Space"!==(t=e).code&&" "!==t.key||(o(t),t.preventDefault())}},i("headerCheckbox"));return qk.createElement("div",d,qk.createElement("div",f,c))}));function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}CP.displayName="HeaderCheckbox";var IP=qk.memo((function(e){var t=qN(qk.useState({}),2),n=t[0],r=t[1],i=qk.useRef(null),o=FC(e.column),a=e.metaData,s=e.ptCallbacks,u={index:e.index},c=TP(TP({},a),u),l=function(t){return s.ptmo($N.getCProp(e.column,"pt"),t,{props:$N.getCProps(e.column),parent:c,state:{styleObject:n}})},d=function(){return!f("sortable")||f("sortable")&&(e.allSortableDisabled||f("sortableDisabled"))},f=function(){return e.column?"string"===typeof(arguments.length<=0?void 0:arguments[0])?$N.getCProp(e.column,arguments.length<=0?void 0:arguments[0]):$N.getCProp((arguments.length<=0?void 0:arguments[0])||e.column,arguments.length<=1?void 0:arguments[1]):null},p=function(){var t=!1,n=0,r=-1;return"single"===e.sortMode?n=(t=e.sortField&&(e.sortField===f("field")||e.sortField===f("sortField")))?e.sortOrder:0:"multiple"===e.sortMode&&(r=e.multiSortMeta.findIndex((function(e){return e.field===f("field")||e.field===f("sortField")})))>-1&&(t=!0,n=e.multiSortMeta[r].order),{sorted:t,sortOrder:n,metaIndex:r}},h=function(t){if(!d()){var n=t.target;(YS.hasClass(n,"p-sortable-column")||YS.hasClass(n,"p-column-title")||YS.hasClass(n,"p-column-header-content")||YS.hasClass(n,"p-sortable-column-icon")||YS.hasClass(n.parentElement,"p-sortable-column-icon"))&&(YS.clearSelection(),e.onSortChange({originalEvent:t,column:e.column,sortableDisabledFields:e.sortableDisabledFields}))}};qk.useEffect((function(){f("frozen")&&function(){if(f("frozen")){var e=TP({},n);if("right"===f("alignFrozen")){var t=0,o=i.current.nextElementSibling;o&&(t=YS.getOuterWidth(o)+parseFloat(o.style.right||0)),e.right=t+"px"}else{var a=0,s=i.current.previousElementSibling;s&&(a=YS.getOuterWidth(s)+parseFloat(s.style.left||0)),e.left=a+"px"}var u=i.current.parentElement.nextElementSibling;if(u){var c=YS.index(i.current);u.children[c].style.left=e.left,u.children[c].style.right=e.right}(n.left!==e.left||n.right!==e.right)&&r(e)}}(),function(t){f(t,"sortableDisabled")===f("sortableDisabled")&&f(t,"sortable")===f("sortable")||e.onSortableChange()}(o)}));var v=function(){if(e.resizableColumns&&!f("frozen")){var t=rC({className:"p-column-resizer",onMouseDown:function(t){return n=t,void e.onColumnResizeStart({originalEvent:n,column:e.column});var n},onClick:function(t){return n=t,void(e.onColumnResizerClick&&(e.onColumnResizerClick({originalEvent:n,element:n.currentTarget.parentElement,column:e.column}),n.preventDefault()));var n},onDoubleClick:function(t){return n=t,void(e.onColumnResizerDoubleClick&&(e.onColumnResizerDoubleClick({originalEvent:n,element:n.currentTarget.parentElement,column:e.column}),n.preventDefault()));var n}},l("columnResizer"));return qk.createElement("span",t)}return null},m=function(t){var n=t.metaIndex;if(-1!==n&&e.multiSortMeta&&e.multiSortMeta.length>1){var r=e.groupRowsBy&&e.groupRowsBy===e.groupRowSortField?n:n+1,i=rC({className:"p-sortable-column-badge"},l("sortBadge"),l("root"));return qk.createElement("span",i,r)}return null},g=function(t){var n=function(){var t=KS.getJSXElement(f("header"),{props:e.tableProps}),n=rC({className:"p-column-title"},l("headerTitle"));return qk.createElement("span",n,t)}(),r=function(t){var n=t.sorted,r=t.sortOrder;if(f("sortable")){var i=rC({className:"p-sortable-column-icon"},l("sortIcon")),o=rC(l("sort")),a=n?r<0?qk.createElement(MN,i):qk.createElement(XN,i):qk.createElement(xN,i),s=QS.getJSXIcon(e.sortIcon||a,TP({},i),{props:e,sorted:n,sortOrder:r});return qk.createElement("span",o,s)}return null}(t),i=m(t),o=function(){if(e.showSelectAll&&"multiple"===f("selectionMode")&&"row"!==e.filterDisplay){var t=e.allRowsSelected(e.value);return qk.createElement(CP,{checked:t,onChange:e.onColumnCheckboxChange,disabled:e.empty,ptCallbacks:s,metaData:a})}return null}(),u="menu"===e.filterDisplay&&f("filter")?qk.createElement(_P,{display:"menu",column:e.column,filters:e.filters,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply,filtersStore:e.filtersStore,filterIcon:e.filterIcon,filterClearIcon:e.filterClearIcon,ptCallbacks:s,metaData:a}):null,c=rC({className:"p-column-header-content"},l("headerContent"));return qk.createElement("div",c,n,r,i,o,u)},y=function(){var t=d(),r=p(),o=function(){var e=f("headerStyle"),t=f("style");return f("frozen")?Object.assign({},t,e,n):Object.assign({},t,e)}(),a=f("alignHeader")||f("align"),s=f("frozen"),u=VS(f("headerClassName"),f("className"),zN({"p-sortable-column":f("sortable"),"p-resizable-column":e.resizableColumns&&f("resizeable"),"p-highlight":r.sorted,"p-frozen-column":s,"p-selection-column":f("selectionMode"),"p-sortable-disabled":f("sortable")&&t,"p-reorderable-column":e.reorderableColumns&&f("reorderable")&&!s},"p-align-".concat(a),!!a)),c=f("sortable")&&!t?e.tabIndex:null,m=f("colSpan"),y=f("rowSpan"),b=function(e){var t=e.sorted,n=e.sortOrder;return f("sortable")?t&&n<0?"descending":t&&n>0?"ascending":"none":null}(r),w=f("headerTooltip"),E=KS.isNotEmpty(w),k=f("headerTooltipOptions"),_=v(),S=g(r),C=rC({ref:i,className:u,style:o,role:"columnheader",onClick:function(e){return h(e)},onKeyDown:function(e){var t;"Enter"===(t=e).key&&t.currentTarget===i.current&&YS.hasClass(t.currentTarget,"p-sortable-column")&&(h(t),t.preventDefault())},onMouseDown:function(t){return n=t,void e.onColumnMouseDown({originalEvent:n,column:e.column});var n},onDragStart:function(t){return n=t,void e.onColumnDragStart({originalEvent:n,column:e.column});var n},onDragOver:function(t){return n=t,void e.onColumnDragOver({originalEvent:n,column:e.column});var n},onDragLeave:function(t){return n=t,void e.onColumnDragLeave({originalEvent:n,column:e.column});var n},onDrop:function(t){return n=t,void e.onColumnDrop({originalEvent:n,column:e.column});var n},tabIndex:c,colSpan:m,rowSpan:y,"aria-sort":b},l("headerCell"),l("root"));return qk.createElement(qk.Fragment,null,qk.createElement("th",C,_,S),E&&qk.createElement(ix,BN({target:i,content:w},k,{pt:l("tooltip")})))}();return y}));function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}IP.displayName="HeaderCell";var AP=qk.memo((function(e){var t=qN(qk.useState([]),2),n=t[0],r=t[1],i=qN(qk.useState(!1),2),o=i[0],a=i[1],s="single"===e.sortMode,u="multiple"===e.sortMode,c=s&&o,l=function(e,t){return $N.getCProp(e,t)},d=function(t,r){var i=function(e){return $N.getCProps(e)}(t);return e.ptCallbacks.ptmo(i,r,{props:i,parent:e.metaData,state:{sortableDisabledFields:n,allSortableDisabled:o}})},f=function(t,n){var r=function(e){return mP.getCProps(e)}(t);return e.ptCallbacks.ptmo(r,n,{props:r,parent:e.metaData})},p=function(){if(s||u&&e.onSortChange){var t=[],n=!1;e.columns.forEach((function(r){l(r,"sortableDisabled")&&(t.push(l(r,"sortField")||l(r,"field")),!n&&function(t){return null!==e.sortField&&(l(t,"field")===e.sortField||l(t,"sortField")===e.sortField)}(r)&&(n=!0))})),r(t),a(n)}},h=function(){p()},v=function(t){e.onColumnCheckboxChange(t,e.value)};WC((function(){p()}));var m=function(t){return qk.Children.map(t,(function(t,r){var i=!t||!l(t,"hidden"),o=t&&(l(t,"columnKey")||l(t,"field"))||r;return i&&qk.createElement(IP,{allRowsSelected:e.allRowsSelected,allSortableDisabled:c,column:t,index:r,empty:e.empty,filterClearIcon:e.filterClearIcon,filterDisplay:e.filterDisplay,filterIcon:e.filterIcon,filters:e.filters,filtersStore:e.filtersStore,groupRowSortField:e.groupRowSortField,groupRowsBy:e.groupRowsBy,key:o,multiSortMeta:e.multiSortMeta,onColumnCheckboxChange:v,onColumnDragLeave:e.onColumnDragLeave,onColumnDragOver:e.onColumnDragOver,onColumnDragStart:e.onColumnDragStart,onColumnDrop:e.onColumnDrop,onColumnMouseDown:e.onColumnMouseDown,onColumnResizeStart:e.onColumnResizeStart,onColumnResizerClick:e.onColumnResizerClick,onColumnResizerDoubleClick:e.onColumnResizerDoubleClick,onFilterApply:e.onFilterApply,onFilterChange:e.onFilterChange,onSortChange:e.onSortChange,onSortableChange:h,reorderableColumns:e.reorderableColumns,resizableColumns:e.resizableColumns,showSelectAll:e.showSelectAll,sortField:e.sortField,sortIcon:e.sortIcon,sortMode:e.sortMode,sortOrder:e.sortOrder,sortableDisabledFields:n,tabIndex:e.tabIndex,tableProps:e.tableProps,value:e.value,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}))},g=function(){return qk.Children.map(e.columns,(function(t,n){if(!l(t,"hidden")){var r=$N.getCProps(t),i=r.filterHeaderStyle,o=r.style,a=r.filterHeaderClassName,s=r.className,u=r.frozen,c=r.columnKey,f=r.field,p=r.selectionMode,h=r.filter,m=OP(OP({},i||{}),o||{}),g=VS("p-filter-column",a,s,{"p-frozen-column":u}),y=c||f||n,b=function(t){if(e.showSelectAll&&"multiple"===t){var n=e.allRowsSelected(e.value);return qk.createElement(CP,{checked:n,onChange:v,disabled:e.empty,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}return null}(p),w=function(t,n){return n?qk.createElement(_P,{display:"row",column:t,filters:e.filters,filtersStore:e.filtersStore,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply,ptCallbacks:e.ptCallbacks,metaData:e.metaData}):null}(t,h),E=rC({style:m,className:g,key:y},d(t,"headerCell"),d(t,"root"));return qk.createElement("th",E,b,w)}return null}))},y=function(){if(e.headerColumnGroup)return qk.Children.toArray(mP.getCProp(e.headerColumnGroup,"children")).map((function(e,t){var n=rC({role:"row"},f(e,"root"));return qk.createElement("tr",BN({},n,{key:t}),function(e){var t=qk.Children.toArray(gP.getCProp(e,"children"));return m(t)}(e))}));var t=rC({role:"row"},e.ptCallbacks.ptm("headerRow")),n=qk.createElement("tr",t,m(e.columns)),r="row"===e.filterDisplay&&qk.createElement("tr",t,g());return qk.createElement(qk.Fragment,null,n,r)}(),b=rC({className:"p-datatable-thead"},e.ptCallbacks.ptm("thead"),(e.ptCallbacks.ptmo(mP.getCProp(e.headerColumnGroup,"pt")),{props:e.headerColumnGroup?e.ptCallbacks.ptmo(mP.getCProps(e.headerColumnGroup)):void 0,parent:e.metaData,state:{sortableDisabledFields:n,allSortableDisabled:o}}));return qk.createElement("thead",b,y)}));function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(n),!0).forEach((function(t){zN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}AP.displayName="TableHeader";var LP=qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=eP.getProps(e,n),i=qN(qk.useState(r.first),2),o=i[0],a=i[1],s=qN(qk.useState(r.rows),2),u=s[0],c=s[1],l=qN(qk.useState(r.sortField),2),d=l[0],f=l[1],p=qN(qk.useState(r.sortOrder),2),h=p[0],v=p[1],m=qN(qk.useState(r.multiSortMeta),2),g=m[0],y=m[1],b=qN(qk.useState(r.filters),2),w=b[0],E=b[1],k=qN(qk.useState([]),2),_=k[0],S=k[1],C=qN(qk.useState(null),2),x=C[0],T=C[1],I=qN(qk.useState({}),2),R=I[0],O=I[1],A=qN(qk.useState(r.rows),2),N=A[0],P=A[1],L=qN(qk.useState({}),2),M=L[0],D=L[1],j={props:r,state:{first:o,rows:u,sortField:d,sortOrder:h,multiSortMeta:g,filters:w,columnOrder:_,groupRowsSortMeta:x,editingMeta:R,d_rows:N,d_filters:M}},F=eP.setMetaData(j),V=qk.useRef(""),Z=qk.useRef(null),G=qk.useRef(null),W=qk.useRef(null),U=qk.useRef(null),X=qk.useRef(null),B=qk.useRef(null),H=qk.useRef(null),Y=qk.useRef(null),z=qk.useRef(null),K=qk.useRef(null),J=qk.useRef(null),Q=qk.useRef(null),q=qk.useRef(null),$=qk.useRef(null),ee=qk.useRef(null),te=qk.useRef(null),ne=qk.useRef(null),re=qk.useRef(null),ie=qk.useRef(null),oe=qk.useRef(null),ae=qk.useRef(!1),se=qk.useRef(null),ue=qk.useRef(!1),ce=qk.useRef(null),le=qk.useRef(null),de=qk.useRef(null);r.rows===N||r.onPage||(c(r.rows),P(r.rows));var fe=qN(ZC({type:"mousemove",listener:function(e){ae.current&&He(e)}}),2),pe=fe[0],he=fe[1],ve=qN(ZC({type:"mouseup",listener:function(){ae.current&&(ae.current=!1,Ye())}}),2),me=ve[0],ge=ve[1],ye=function(){return"custom"===r.stateStorage},be=function(){return null!=r.stateKey||ye()},we=function(){return KS.isEmpty(r.virtualScrollerOptions)||!r.scrollable},Ee=function(e,t){return"equals"===r.compareSelectionBy?e===t:KS.equals(e,t,r.dataKey)},ke=function(){return r.onPage?r.first:o},_e=function(){return r.onPage?r.rows:u},Se=function(){return r.onSort?r.sortField:d},Ce=function(){return r.onSort?r.sortOrder:h},xe=function(){return(r.onSort?r.multiSortMeta:g)||[]},Te=function(){return r.onFilter?r.filters:w},Ie=function(e,t){return $N.getCProp(e,t)},Re=function(e){var t=qk.Children.toArray(r.children);if(!t)return null;if(!e&&r.reorderableColumns&&_){var n=_.reduce((function(e,n){var r=Ge(t,n);return r&&e.push(r),e}),[]);return[].concat(QN(n),QN(t.filter((function(e){return n.indexOf(e)<0}))))}return t},Oe=function(){switch(r.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(r.stateStorage+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},Ae=function(){var e={};r.paginator&&(e.first=ke(),e.rows=_e());var t=Se();t&&(e.sortField=t,e.sortOrder=Ce());var n=xe();if(n&&(e.multiSortMeta=n),(KS.isNotEmpty(Te())||r.globalFilter)&&(e.filters=Te()),r.resizableColumns&&De(e),r.reorderableColumns&&(e.columnOrder=_),r.expandedRows&&(e.expandedRows=r.expandedRows),r.selection&&r.onSelectionChange&&(e.selection=r.selection),ye())r.customSaveState&&r.customSaveState(e);else{var i=Oe();KS.isNotEmpty(e)&&i.setItem(r.stateKey,JSON.stringify(e))}r.onStateSave&&r.onStateSave(e)},Ne=function(){var e=Oe();e&&r.stateKey&&e.removeItem(r.stateKey)},Pe=function(){var e={};if(ye())r.customRestoreState&&(e=r.customRestoreState());else{var t=Oe().getItem(r.stateKey),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;t&&(e=JSON.parse(t,(function(e,t){return"string"===typeof t&&n.test(t)?new Date(t):t})))}Me(e)},Le=function(e){Me(e)},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(KS.isNotEmpty(e)){if(r.paginator)if(r.onPage){r.onPage(Ct(function(e,t){var n=We(xt()),r=Math.ceil(n/t)||1;return{first:e,rows:t,page:Math.floor(e/t),pageCount:r}}(e.first,e.rows)))}else a(e.first),c(e.rows);e.sortField&&(r.onSort?r.onSort(Ct({sortField:e.sortField,sortOrder:e.sortOrder})):(f(e.sortField),v(e.sortOrder))),e.multiSortMeta&&(r.onSort?r.onSort(Ct({multiSortMeta:e.multiSortMeta})):y(e.multiSortMeta)),e.filters&&(D(yt(e.filters)),r.onFilter?r.onFilter(Ct({filters:e.filters})):E(yt(e.filters))),r.resizableColumns&&(ne.current=e.columnWidths,re.current=e.tableWidth,je()),r.reorderableColumns&&S(e.columnOrder),e.expandedRows&&r.onRowToggle&&r.onRowToggle({data:e.expandedRows}),e.selection&&r.onSelectionChange&&r.onSelectionChange({value:e.selection}),r.onStateRestore&&r.onStateRestore(e)}},De=function(e){var t=[];YS.find(Z.current,".p-datatable-thead > tr > th").forEach((function(e){return t.push(YS.getOuterWidth(e))})),e.columnWidths=t.join(","),"expand"===r.columnResizeMode&&(e.tableWidth=YS.getOuterWidth(G.current)+"px")},je=function(){if(ne.current){var e=ne.current.split(",");if("expand"===r.columnResizeMode&&re.current&&(G.current.style.width=re.current,G.current.style.minWidth=re.current,Z.current.style.width=re.current),KS.isNotEmpty(e)){rt();var t="",n=".p-datatable[".concat(V.current,"] > .p-datatable-wrapper ").concat(we()?"":"> .p-virtualscroller"," > .p-datatable-table");e.forEach((function(e,r){var i="width: ".concat(e,"px !important; max-width: ").concat(e,"px !important");t+="\n                        ".concat(n," > .p-datatable-thead > tr > th:nth-child(").concat(r+1,"),\n                        ").concat(n," > .p-datatable-tbody > tr > td:nth-child(").concat(r+1,"),\n                        ").concat(n," > .p-datatable-tfoot > tr > td:nth-child(").concat(r+1,") {\n                            ").concat(i,"\n                        }\n                    ")})),ee.current.innerHTML=t}}},Fe=function(e){if("TH"===e.nodeName)return e;for(var t=e.parentElement;"TH"!==t.nodeName&&(t=t.parentElement););return t},Ve=function(e){return r.showSelectionElement||r.isDataSelectable?e.filter((function(e,t){var n=!0;return r.showSelectionElement&&(n=r.showSelectionElement({rowIndex:t,props:r})),r.isDataSelectable&&n&&(n=r.isDataSelectable({data:e,index:t})),n})):e},Ze=function(e){if(r.onSelectAllChange)return r.selectAll;var t=r.selectionPageOnly?Tt(e):e,n=KS.isNotEmpty(r.frozenValue)?[].concat(QN(r.frozenValue),QN(t)):t,i=Ve(n);return KS.isNotEmpty(i)&&r.selection&&i.every((function(e){return r.selection.some((function(t){return Ee(t,e)}))}))},Ge=function(e,t){return KS.isNotEmpty(e)?e.find((function(e){return Ie(e,"columnKey")===t||Ie(e,"field")===t})):null},We=function(e){return r.lazy?r.totalRecords:e?e.length:0},Ue=function(e){var t=e.rowData,n=e.field,r=e.editingKey;e.rowIndex;var i=e.editing,o=PP({},R),a=o[r];if(i)!a&&(a=o[r]={data:PP({},t),fields:[]}),a.fields.push(n);else if(a){var s=a.fields.filter((function(e){return e!==n}));s.length?a.fields=s:delete o[r]}O(o)},Xe=function(){r.editMode&&KS.isNotEmpty(R)&&O({})},Be=function(e){var t=e.originalEvent,n=e.column,r=YS.getOffset(Z.current).left;ie.current=n,oe.current=t.currentTarget.parentElement,ae.current=!0,se.current=t.pageX-r+Z.current.scrollLeft,Ke()},He=function(e){var t=YS.getOffset(Z.current).left;YS.addClass(Z.current,"p-unselectable-text"),J.current.style.height=Z.current.offsetHeight+"px",J.current.style.top="0px",J.current.style.left=e.pageX-t+Z.current.scrollLeft+"px",J.current.style.display="block"},Ye=function(){var e=J.current.offsetLeft-se.current,t=oe.current.offsetWidth,n=t+e,i=oe.current.style.minWidth||15;if(t+e>parseInt(i,10)){if("fit"===r.columnResizeMode){var o=oe.current.nextElementSibling.offsetWidth-e;n>15&&o>15&&ze(n,o)}else if("expand"===r.columnResizeMode){var a=G.current.offsetWidth+e+"px",s=function(e){e&&(e.style.width=e.style.minWidth=a)};ze(n),s(G.current),we()||(s(U.current),s(X.current),W.current&&s(YS.findSingle(W.current,".p-virtualscroller-content")))}r.onColumnResizeEnd&&r.onColumnResizeEnd({element:oe.current,column:ie.current,delta:e}),be()&&Ae()}J.current.style.display="none",ie.current=null,oe.current=null,YS.removeClass(Z.current,"p-unselectable-text"),Je()},ze=function(e,t){var n=[],r=YS.index(oe.current);YS.find(G.current,".p-datatable-thead > tr > th").forEach((function(e){return n.push(YS.getOuterWidth(e))})),at(),rt();var i="",o=".p-datatable[".concat(V.current,"] > .p-datatable-wrapper ").concat(we()?"":"> .p-virtualscroller"," > .p-datatable-table");n.forEach((function(n,a){var s=a===r?e:t&&a===r+1?t:n,u="width: ".concat(s,"px !important; max-width: ").concat(s,"px !important");i+="\n                ".concat(o," > .p-datatable-thead > tr > th:nth-child(").concat(a+1,"),\n                ").concat(o," > .p-datatable-tbody > tr > td:nth-child(").concat(a+1,"),\n                ").concat(o," > .p-datatable-tfoot > tr > td:nth-child(").concat(a+1,") {\n                    ").concat(u,"\n                }\n            ")})),ee.current.innerHTML=i},Ke=function(){pe(),me()},Je=function(){he(),ge()},Qe=function(e){YS.clearSelection();var t=e.originalEvent,n=e.column;r.reorderableColumns&&!1!==Ie(n,"reorderable")&&!Ie(n,"frozen")&&("INPUT"===t.target.nodeName||"TEXTAREA"===t.target.nodeName||YS.hasClass(t.target,"p-column-resizer")?t.currentTarget.draggable=!1:t.currentTarget.draggable=!0)},qe=function(e,t){if(r.onSelectAllChange)r.onSelectAllChange(e);else{var n=e.originalEvent,i=e.checked,o=r.selectionPageOnly?Tt(t):t,a=r.selectionPageOnly&&r.selection?r.selection.filter((function(e){return!o.some((function(t){return Ee(e,t)}))})):[];i?(a=KS.isNotEmpty(r.frozenValue)?[].concat(QN(a),QN(r.frozenValue),QN(o)):[].concat(QN(a),QN(o)),a=Ve(a),r.onAllRowsSelect&&r.onAllRowsSelect({originalEvent:n,data:a,type:"all"})):r.onAllRowsUnselect&&r.onAllRowsUnselect({originalEvent:n,data:a,type:"all"}),r.onSelectionChange&&r.onSelectionChange({originalEvent:n,value:a,type:"all"})}},$e=function(e){var t=e.originalEvent,n=e.column;ae.current?t.preventDefault():r.reorderableColumns&&(z.current=YS.getHiddenElementOuterWidth(H.current),K.current=YS.getHiddenElementOuterHeight(H.current),q.current=n,Q.current=Fe(t.currentTarget),t.dataTransfer.setData("text","b"))},et=function(e){var t=e.originalEvent,n=e.column,i=Fe(t.currentTarget);if(r.reorderableColumns&&Q.current&&i&&!Ie(n,"frozen")&&(t.preventDefault(),Q.current!==i)){var o=YS.getOffset(Z.current),a=YS.getOffset(i),s=a.left-o.left,u=a.left+i.offsetWidth/2;H.current.style.top=a.top-o.top-(K.current-1)+"px",Y.current.style.top=a.top-o.top+i.offsetHeight+"px",t.pageX>u?(H.current.style.left=s+i.offsetWidth-Math.ceil(z.current/2)+"px",Y.current.style.left=s+i.offsetWidth-Math.ceil(z.current/2)+"px",$.current=1):(H.current.style.left=s-Math.ceil(z.current/2)+"px",Y.current.style.left=s-Math.ceil(z.current/2)+"px",$.current=-1),H.current.style.display="block",Y.current.style.display="block"}},tt=function(e){var t=e.originalEvent;r.reorderableColumns&&Q.current&&(t.preventDefault(),H.current.style.display="none",Y.current.style.display="none")},nt=function(e){var t=e.originalEvent,n=e.column;if(t.preventDefault(),Q.current){var i=YS.index(Q.current),o=YS.index(Fe(t.currentTarget)),a=i!==o;if(a&&(o-i===1&&-1===$.current||i-o===1&&1===$.current)&&(a=!1),a){var s=Re(),u=function(e,t){return Ie(e,"columnKey")||Ie(t,"columnKey")?KS.equals(e.props,t.props,"columnKey"):KS.equals(e.props,t.props,"field")},c=s.findIndex((function(e){return u(e,q.current)})),l=s.findIndex((function(e){return u(e,n)}));l<c&&1===$.current&&l++,l>c&&-1===$.current&&l--,KS.reorderArray(s,c,l);var d=s.reduce((function(e,t){return e.push(Ie(t,"columnKey")||Ie(t,"field")),e}),[]);S(d),r.onColReorder&&r.onColReorder({originalEvent:t,dragIndex:c,dropIndex:l,columns:s})}H.current.style.display="none",Y.current.style.display="none",Q.current.draggable=!1,Q.current=null,q.current=null,$.current=null}},rt=function(){ee.current=YS.createInlineStyle(n&&n.nonce||SC.nonce)},it=function(){if(!te.current){te.current=YS.createInlineStyle(n&&n.nonce||SC.nonce);var e=".p-datatable-wrapper ".concat(we()?"":"> .p-virtualscroller"," > .p-datatable-table"),t=".p-datatable[".concat(V.current,"] > ").concat(e),i=".p-datatable[".concat(V.current,"].p-datatable-gridlines > ").concat(e),o="\n@media screen and (max-width: ".concat(r.breakpoint,") {\n    ").concat(t," > .p-datatable-thead > tr > th,\n    ").concat(t," > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    ").concat(t," > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    ").concat(t," > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    ").concat(i," > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    ").concat(t," > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n");te.current.innerHTML=o}},ot=function(){te.current=YS.removeInlineStyle(te.current)},at=function(){ee.current=YS.removeInlineStyle(ee.current)},st=function(e){Xe(),r.onPage?r.onPage(Ct(e)):(a(e.first),c(e.rows)),r.onValueChange&&r.onValueChange(xt())},ut=function(e){Xe();var t,n,i=e.originalEvent,o=e.column,s=e.sortableDisabledFields,u=Ie(o,"sortField")||Ie(o,"field"),c=r.defaultSortOrder;if(ue.current=Ie(o,"sortable"),ce.current=Ie(o,"sortFunction"),le.current=u,"multiple"===r.sortMode){var l=i.metaKey||i.ctrlKey,d=(t=QN(xe())).find((function(e){return e.field===u}));c=d?ct(d.order):c;var p={field:u,order:c};c?(t=l?t:t.filter((function(e){return s.some((function(t){return t===e.field}))})),dt(p,t)):r.removableSort&&ft(p,t),n={multiSortMeta:t}}else c=Se()===u?ct(Ce()):c,r.removableSort&&(u=c?u:null),n={sortField:u,sortOrder:c};r.onSort?r.onSort(Ct(n)):(a(0),f(n.sortField),v(n.sortOrder),y(n.multiSortMeta)),r.onValueChange&&r.onValueChange(xt({sortField:u,sortOrder:c,multiSortMeta:t}))},ct=function(e){return r.removableSort?r.defaultSortOrder===e?-1*e:0:-1*e},lt=function(e,t,r){return KS.sort(e,t,r,n&&n.locale||SC.locale,n&&n.nullSortOrder||SC.nullSortOrder)},dt=function(e,t){var n=t.findIndex((function(t){return t.field===e.field}));n>=0?t[n]=e:t.push(e)},ft=function(e,t){var n=t.findIndex((function(t){return t.field===e.field}));n>=0&&t.splice(n,1),t=t.length>0?t:null},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r.groupRowsBy&&(x||t.length&&r.groupRowsBy===t[0].field)){var n=x,i=t[0];n||T(n=i),i.field!==n.field&&(t=[n].concat(QN(t)))}var o=QN(e);if(ue.current&&ce.current){var a=t.find((function(e){return e.field===le.current})),s=le.current,u=a?a.order:r.defaultSortOrder;o=ce.current({data:e,field:s,order:u,multiSortMeta:t})}else o.sort((function(e,n){return ht(e,n,t,0)}));return o},ht=function e(t,r,i,o){if(i&&i[o]){var a=KS.resolveFieldData(t,i[o].field),s=KS.resolveFieldData(r,i[o].field);return 0===KS.compare(a,s,n&&n.locale||SC.locale)?i.length-1>o?e(t,r,i,o+1):0:lt(a,s,i[o].order)}},vt=function(e){Xe(),D(e)},mt=function(e){clearTimeout(de.current),de.current=setTimeout((function(){var t=yt(e||M);r.onFilter?r.onFilter(Ct({filters:t})):(a(0),E(t)),r.onValueChange&&r.onValueChange(xt({filters:t}))}),r.filterDelay)},gt=function(e,t,n,i){var o=n.value,a="custom"===n.matchMode?"custom_".concat(e):n.matchMode||uC.STARTS_WITH,s=KS.resolveFieldData(t,e),u=fC.filters[a];return KS.isFunction(u)&&u(s,o,r.filterLocale,i)},yt=function(e){e=e||r.filters;var t={};if(e)Object.entries(e).forEach((function(e){var n=qN(e,2),r=n[0],i=n[1];t[r]=i.operator?{operator:i.operator,constraints:i.constraints.map((function(e){return PP({},e)}))}:PP({},i)}));else{var i=Re();t=i.reduce((function(e,t){var i=Ie(t,"filterField")||Ie(t,"field"),o=Ie(t,"filterFunction"),a=Ie(t,"dataType"),s={value:null,matchMode:Ie(t,"filterMatchMode")||(n&&n.filterMatchModeOptions[a]||SC.filterMatchModeOptions[a]?n&&n.filterMatchModeOptions[a][0]||SC.filterMatchModeOptions[a][0]:uC.STARTS_WITH)};return o&&fC.register("custom_".concat(i),(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.apply(void 0,n.concat([{column:t}]))})),e[i]="menu"===r.filterDisplay?{operator:cC.AND,constraints:[s]}:s,e}),{})}return t},bt=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=PP({},M),a=o[t],s=a&&a.operator?a.constraints[i]:a;s=a?{value:e,matchMode:n||s.matchMode}:{value:e,matchMode:n},"menu"===r.filterDisplay&&a&&a.operator?o[t].constraints[i]=s:o[t]=s,D(o),mt(o)},wt=function(){P(r.rows),D(yt(r.filters)),T(null),O({}),r.onPage||(a(r.first),c(r.rows)),r.onSort||(f(r.sortField),v(r.sortOrder),y(r.multiSortMeta)),r.onFilter||E(r.filters),kt()},Et=function(){W.current&&(we()?W.current:YS.findSingle(W.current,".p-virtualscroller")).scrollTo(0,0)},kt=function(){var e=Re(!0),t=[];e&&(t=e.reduce((function(e,t){return e.push(Ie(t,"columnKey")||Ie(t,"field")),e}),[])),S(t)},_t=function(e){var t,n="\ufeff",i=Re();t=e&&e.selectionOnly?r.selection||[]:[].concat(QN(r.frozenValue||[]),QN(xt()||[])),i.forEach((function(e,t){var o=[Ie(e,"field"),Ie(e,"header"),Ie(e,"exportHeader"),Ie(e,"exportable")],a=o[0];if(o[3]&&a){var s=String(o[2]||o[1]||a).replace(/"/g,'""').replace(/\n/g,"\u2028");n+='"'+s+'"',t<i.length-1&&(n+=r.csvSeparator)}})),t.forEach((function(e){n+="\n",i.forEach((function(t,o){var a=[Ie(t,"field"),Ie(t,"exportField"),Ie(t,"exportable")],s=a[1]||a[0];if(a[2]&&s){var u=KS.resolveFieldData(e,s);u=null!=u?r.exportFunction?r.exportFunction({data:u,field:s,rowData:e,column:t}):String(u).replace(/"/g,'""').replace(/\n/g,"\u2028"):"",n+='"'+u+'"',o<i.length-1&&(n+=r.csvSeparator)}}))})),YS.exportCSV(n,r.exportFilename)},St=function(){"row"!==r.editMode&&document.body.click()},Ct=function(e){return PP({first:ke(),rows:_e(),sortField:Se(),sortOrder:Ce(),multiSortMeta:xe(),filters:Te()},e)},xt=function(e){var t=r.value||[];if(!r.lazy&&t&&t.length){var n=e&&e.filters||Te(),i=e&&e.sortField||Se(),o=e&&e.sortOrder||Ce(),a=e&&e.multiSortMeta||xe(),s=Re().find((function(e){return Ie(e,"field")===i}));s&&(ue.current=Ie(s,"sortable"),ce.current=Ie(s,"sortFunction")),(KS.isNotEmpty(n)||r.globalFilter)&&(t=function(e,t){if(e){t=t||{};var n,i=Re(),o=[],a=t.global||r.globalFilter;a&&(n=r.globalFilterFields||i.filter((function(e){return!Ie(e,"excludeGlobalFilter")})).map((function(e){return Ie(e,"filterField")||Ie(e,"field")})));for(var s=0;s<e.length;s++){var u=!0,c=!1,l=!1;for(var d in t)if("null"!==d&&Object.prototype.hasOwnProperty.call(t,d)&&"global"!==d){l=!0;var f=d,p=t[f];if(p.operator)for(var h=0;h<p.constraints.length;h++){var v=p.constraints[h];if(u=gt(f,e[s],v,h),p.operator===cC.OR&&u||p.operator===cC.AND&&!u)break}else u=gt(f,e[s],p,0);if(!u)break}if(a&&!c&&n)for(var m=0;m<n.length;m++){var g=n[m],y=t.global?t.global.matchMode:r.globalFilterMatchMode,b=t.global?t.global.value:r.globalFilter;if(c=fC.filters[y](KS.resolveFieldData(e[s],g),b,r.filterLocale))break}(a?l?l&&u&&c:c:l&&u)&&o.push(e[s])}return o.length===r.value.length&&(o=e),o}}(t,n)),(i||KS.isNotEmpty(a))&&("single"===r.sortMode?t=function(e,t,n){if(r.groupRowsBy&&r.groupRowsBy===r.sortField){var i=[{field:r.sortField,order:r.sortOrder||r.defaultSortOrder}];return r.sortField!==t&&i.push({field:t,order:n}),pt(e,i)}var o=QN(e);return ue.current&&ce.current?o=ce.current({data:e,field:t,order:n}):o.sort((function(e,r){var i=KS.resolveFieldData(e,t),o=KS.resolveFieldData(r,t);return lt(i,o,n)})),o}(t,i,o):"multiple"===r.sortMode&&(t=pt(t,a)))}return t},Tt=function(e){if(e&&r.paginator){var t=r.lazy?0:ke();return e.slice(t,t+_e())}return e};WC((function(){V.current=oC(),D(yt(r.filters)),be()&&(Pe(),r.resizableColumns&&je())})),HC((function(){return Z.current.setAttribute(V.current,""),"stack"!==r.responsiveLayout||r.scrollable||it(),function(){ot()}}),[r.breakpoint]),HC((function(){var e=yt(r.filters);E(e),D(yt(r.filters)),r.onValueChange&&r.onValueChange(xt({filters:e}))}),[r.filters]),HC((function(){be()&&Ae()})),HC((function(){ot(),"stack"!==r.responsiveLayout||r.scrollable||it()}),[r.responsiveLayout,r.scrollable]),HC((function(){r.globalFilter?bt(r.globalFilter,"global",r.globalFilterMatchMode):E(r.filters)}),[r.globalFilter,r.globalFilterMatchMode]),VC((function(){Je(),at(),ot()})),qk.useImperativeHandle(t,(function(){return{props:r,clearState:Ne,closeEditingCell:St,exportCSV:_t,filter:bt,reset:wt,resetColumnOrder:kt,resetScroll:Et,restoreColumnWidths:je,restoreState:Pe,restoreTableState:Le,saveState:Ae,getElement:function(){return Z.current},getTable:function(){return G.current},getVirtualScroller:function(){return B.current}}}));var It=function(e,t,n){if(!1===r.showHeaders)return null;var i=Se(),o=Ce(),a=QN(xe()),s="single"===r.sortMode?r.sortField:x?x.field:null,u=M,c=!r.onFilter&&r.filters||Te(),l=e.items,d=e.props,f=e.columns,p=n||d.lazy?l:d.items;return qk.createElement(AP,{value:p,tableProps:r,columns:f,tabIndex:r.tabIndex,empty:t,headerColumnGroup:r.headerColumnGroup,resizableColumns:r.resizableColumns,onColumnResizeStart:Be,onColumnResizerClick:r.onColumnResizerClick,onColumnResizerDoubleClick:r.onColumnResizerDoubleClick,sortMode:r.sortMode,sortField:i,sortIcon:r.sortIcon,sortOrder:o,multiSortMeta:a,groupRowsBy:r.groupRowsBy,groupRowSortField:s,onSortChange:ut,filterDisplay:r.filterDisplay,filters:u,filtersStore:c,filterIcon:r.filterIcon,filterClearIcon:r.filterClearIcon,onFilterChange:vt,onFilterApply:mt,showSelectAll:r.showSelectAll,allRowsSelected:Ze,onColumnCheckboxChange:qe,onColumnMouseDown:Qe,onColumnDragStart:$e,onColumnDragOver:et,onColumnDragLeave:tt,onColumnDrop:nt,rowGroupMode:r.rowGroupMode,reorderableColumns:r.reorderableColumns,ptCallbacks:F,metaData:j})},Rt=function(e,t){var n=VS("p-paginator-"+e,r.paginatorClassName);return qk.createElement(xA,{first:ke(),rows:_e(),pageLinkSize:r.pageLinkSize,className:n,onPageChange:st,template:r.paginatorTemplate,totalRecords:t,rowsPerPageOptions:r.rowsPerPageOptions,currentPageReportTemplate:r.currentPageReportTemplate,leftContent:r.paginatorLeft,rightContent:r.paginatorRight,alwaysShow:r.alwaysShowPaginator,dropdownAppendTo:r.paginatorDropdownAppendTo,pt:F.ptm("paginator")})},Ot=xt(),At=Re(),Nt=We(Ot),Pt=KS.isEmpty(Ot),Lt=function(e){if(e){var t=e.find((function(e){return!!Ie(e,"selectionMode")}));return t?Ie(t,"selectionMode"):null}return null}(At),Mt=r.selectionMode||Lt,Dt=VS("p-datatable p-component",{"p-datatable-hoverable-rows":r.rowHover,"p-datatable-selectable":Mt&&!r.cellSelection,"p-datatable-selectable-cell":Mt&&r.cellSelection,"p-datatable-resizable":r.resizableColumns,"p-datatable-resizable-fit":r.resizableColumns&&"fit"===r.columnResizeMode,"p-datatable-scrollable":r.scrollable,"p-datatable-flex-scrollable":r.scrollable&&"flex"===r.scrollHeight,"p-datatable-responsive-stack":"stack"===r.responsiveLayout,"p-datatable-responsive-scroll":"scroll"===r.responsiveLayout,"p-datatable-striped":r.stripedRows,"p-datatable-gridlines":r.showGridlines,"p-datatable-grouped-header":null!=r.headerColumnGroup,"p-datatable-grouped-footer":null!=r.footerColumnGroup,"p-datatable-sm":"small"===r.size,"p-datatable-lg":"large"===r.size},r.className),jt=function(){if(r.loading){var e=rC({className:"p-datatable-loading-icon"},F.ptm("loadingIcon")),t=r.loadingIcon||qk.createElement(bx,BN({},e,{spin:!0})),n=QS.getJSXIcon(t,PP({},e),{props:r}),i=rC({className:"p-datatable-loading-overlay p-component-overlay"},F.ptm("loadingOverlay"));return qk.createElement("div",i,n)}return null}(),Ft=function(){if(r.header){var e=KS.getJSXElement(r.header,{props:r}),t=rC({className:"p-datatable-header"},F.ptm("header"));return qk.createElement("div",t,e)}return null}(),Vt=function(e){return r.paginator&&"bottom"!==r.paginatorPosition?Rt("top",e):null}(Nt),Zt=function(e,t,n,i){if(t){var o=we(),a=r.virtualScrollerOptions||{},s=rC({ref:W,className:"p-datatable-wrapper",style:{maxHeight:o?r.scrollHeight:null}},F.ptm("wrapper"));return qk.createElement("div",s,qk.createElement(ZT,BN({ref:B},a,{items:e,columns:t,style:PP(PP({},a.style),{height:"flex"!==r.scrollHeight?r.scrollHeight:void 0}),scrollHeight:"flex"!==r.scrollHeight?void 0:"100%",disabled:o,loaderDisabled:!0,inline:!0,autoSize:!0,pt:F.ptm("virtualScroller"),showSpacer:!1,contentTemplate:function(e){var t=VS("p-datatable-table",{"p-datatable-scrollable-table":r.scrollable,"p-datatable-resizable-table":r.resizableColumns,"p-datatable-resizable-table-fit":r.resizableColumns&&"fit"===r.columnResizeMode},r.tableClassName),a=It(e,i,o),s=function(e,t,n,i){var o=ke(),a=e.rows,s=e.columns,u=e.contentRef,c=e.style,l=e.className,d=e.spacerStyle,f=e.itemSize,p=KS.isNotEmpty(r.frozenValue)&&qk.createElement(vP,{ref:X,cellClassName:r.cellClassName,cellSelection:r.cellSelection,checkIcon:r.checkIcon,className:"p-datatable-tbody p-datatable-frozen-tbody",collapsedRowIcon:r.collapsedRowIcon,columns:s,compareSelectionBy:r.compareSelectionBy,contextMenuSelection:r.contextMenuSelection,dataKey:r.dataKey,dragSelection:r.dragSelection,editMode:r.editMode,editingMeta:R,editingRows:r.editingRows,emptyMessage:r.emptyMessage,expandableRowGroups:r.expandableRowGroups,expandedRowIcon:r.expandedRowIcon,expandedRows:r.expandedRows,first:o,frozenRow:!0,groupRowsBy:r.groupRowsBy,isDataSelectable:r.isDataSelectable,isVirtualScrollerDisabled:!0,lazy:r.lazy,loading:r.loading,metaKeySelection:r.metaKeySelection,onCellClick:r.onCellClick,onCellSelect:r.onCellSelect,onCellUnselect:r.onCellUnselect,onContextMenu:r.onContextMenu,onContextMenuSelectionChange:r.onContextMenuSelectionChange,onEditingMetaChange:Ue,onRowClick:r.onRowClick,onRowCollapse:r.onRowCollapse,onRowDoubleClick:r.onRowDoubleClick,onRowEditCancel:r.onRowEditCancel,onRowEditChange:r.onRowEditChange,onRowEditComplete:r.onRowEditComplete,onRowEditInit:r.onRowEditInit,onRowEditSave:r.onRowEditSave,onRowExpand:r.onRowExpand,onRowMouseEnter:r.onRowMouseEnter,onRowMouseLeave:r.onRowMouseLeave,onRowReorder:r.onRowReorder,onRowSelect:r.onRowSelect,onRowToggle:r.onRowToggle,onRowUnselect:r.onRowUnselect,onSelectionChange:r.onSelectionChange,paginator:r.paginator,reorderableRows:r.reorderableRows,responsiveLayout:r.responsiveLayout,rowClassName:r.rowClassName,rowEditValidator:r.rowEditValidator,rowEditorCancelIcon:r.rowEditorCancelIcon,rowEditorInitIcon:r.rowEditorInitIcon,rowEditorSaveIcon:r.rowEditorSaveIcon,rowExpansionTemplate:r.rowExpansionTemplate,rowGroupFooterTemplate:r.rowGroupFooterTemplate,rowGroupHeaderTemplate:r.rowGroupHeaderTemplate,rowGroupMode:r.rowGroupMode,scrollable:r.scrollable,selectOnEdit:r.selectOnEdit,selection:r.selection,selectionAutoFocus:r.selectionAutoFocus,selectionMode:r.selectionMode,selectionModeInColumn:t,showRowReorderElement:r.showRowReorderElement,showSelectionElement:r.showSelectionElement,tabIndex:r.tabIndex,tableProps:r,tableSelector:V.current,value:r.frozenValue,virtualScrollerOptions:e,ptCallbacks:F,metaData:j}),h=qk.createElement(vP,{ref:U,value:Tt(a),style:c,className:VS("p-datatable-tbody",l),empty:n,frozenRow:!1,tableProps:r,tableSelector:V.current,columns:s,selectionModeInColumn:t,first:o,editingMeta:R,onEditingMetaChange:Ue,tabIndex:r.tabIndex,onRowClick:r.onRowClick,onRowDoubleClick:r.onRowDoubleClick,onRowMouseEnter:r.onRowMouseEnter,onRowMouseLeave:r.onRowMouseLeave,onCellClick:r.onCellClick,selection:r.selection,onSelectionChange:r.onSelectionChange,lazy:r.lazy,paginator:r.paginator,onCellSelect:r.onCellSelect,onCellUnselect:r.onCellUnselect,onRowSelect:r.onRowSelect,onRowUnselect:r.onRowUnselect,dragSelection:r.dragSelection,onContextMenu:r.onContextMenu,onContextMenuSelectionChange:r.onContextMenuSelectionChange,metaKeySelection:r.metaKeySelection,selectionMode:r.selectionMode,cellSelection:r.cellSelection,contextMenuSelection:r.contextMenuSelection,dataKey:r.dataKey,expandedRows:r.expandedRows,onRowCollapse:r.onRowCollapse,onRowExpand:r.onRowExpand,onRowToggle:r.onRowToggle,editMode:r.editMode,editingRows:r.editingRows,onRowReorder:r.onRowReorder,reorderableRows:r.reorderableRows,scrollable:r.scrollable,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,expandableRowGroups:r.expandableRowGroups,loading:r.loading,emptyMessage:r.emptyMessage,rowGroupHeaderTemplate:r.rowGroupHeaderTemplate,rowExpansionTemplate:r.rowExpansionTemplate,rowGroupFooterTemplate:r.rowGroupFooterTemplate,onRowEditChange:r.onRowEditChange,compareSelectionBy:r.compareSelectionBy,selectOnEdit:r.selectOnEdit,onRowEditInit:r.onRowEditInit,rowEditValidator:r.rowEditValidator,onRowEditSave:r.onRowEditSave,onRowEditComplete:r.onRowEditComplete,onRowEditCancel:r.onRowEditCancel,cellClassName:r.cellClassName,responsiveLayout:r.responsiveLayout,selectionAutoFocus:r.selectionAutoFocus,isDataSelectable:r.isDataSelectable,showSelectionElement:r.showSelectionElement,showRowReorderElement:r.showRowReorderElement,expandedRowIcon:r.expandedRowIcon,collapsedRowIcon:r.collapsedRowIcon,checkIcon:r.checkIcon,rowClassName:r.rowClassName,virtualScrollerContentRef:u,virtualScrollerOptions:e,isVirtualScrollerDisabled:i,ptCallbacks:F,metaData:j}),v=KS.isNotEmpty(d)?qk.createElement(vP,{style:{height:"calc(".concat(d.height," - ").concat(a.length*f,"px)")},className:"p-datatable-virtualscroller-spacer",ptCallbacks:F,metaData:j}):null;return qk.createElement(qk.Fragment,null,p,h,v)}(e,n,i,o),u=function(e){var t=e.columns;return qk.createElement(wP,{tableProps:r,columns:t,footerColumnGroup:r.footerColumnGroup,ptCallbacks:F,metaData:j})}(e),c=rC({ref:function(t){G.current=t,e.spacerRef&&e.spacerRef(t)},className:t,style:r.tableStyle,role:"table"},F.ptm("table"));return qk.createElement("table",c,a,s,u)}})))}}(Ot,At,Lt,Pt),Gt=function(e){return r.paginator&&"top"!==r.paginatorPosition?Rt("bottom",e):null}(Nt),Wt=function(){if(r.footer){var e=KS.getJSXElement(r.footer,{props:r}),t=rC({className:"p-datatable-footer"},F.ptm("footer"));return qk.createElement("div",t,e)}return null}(),Ut=function(){if(r.resizableColumns){var e=rC({ref:J,className:"p-column-resizer-helper",style:{display:"none"}},F.ptm("resizeHelper"));return qk.createElement("div",e)}return null}(),Xt=function(){if(r.reorderableColumns){var e={position:"absolute",display:"none"},t=rC({className:"p-datatable-reorder-indicator-up",style:PP({},e)},F.ptm("reorderIndicatorUp")),n=rC(F.ptm("reorderIndicatorUpIcon")),i=QS.getJSXIcon(r.reorderIndicatorUpIcon||qk.createElement(DO,n),PP({},n),{props:r}),o=rC({className:"p-datatable-reorder-indicator-down",style:PP({},e)},F.ptm("reorderIndicatorDown")),a=rC(F.ptm("reorderIndicatorDownIcon")),s=QS.getJSXIcon(r.reorderIndicatorDownIcon||qk.createElement(BO,a),PP({},a),{props:r});return qk.createElement(qk.Fragment,null,qk.createElement("span",BN({ref:H},t),i),qk.createElement("span",BN({ref:Y},o),s))}return null}(),Bt=rC({ref:Z,id:r.id,className:Dt,style:r.style,"data-scrollselectors":".p-datatable-wrapper"},eP.getOtherProps(r),F.ptm("root"));return qk.createElement("div",Bt,jt,Ft,Vt,Zt,Gt,Wt,Ut,Xt)}));LP.displayName="DataTable";var MP=function(){};MP.displayName="Column";var DP=function(e){var t=e.games,n=e.showEditPage;return(0,b_.jsx)("div",{className:"card",children:(0,b_.jsxs)(LP,{value:t,tableStyle:{minWidth:"50rem"},children:[(0,b_.jsx)(MP,{field:"id",header:"GameId"}),(0,b_.jsx)(MP,{field:"gameType",header:"Type"}),(0,b_.jsx)(MP,{field:"map",header:"map"}),(0,b_.jsx)(MP,{field:"numberOfPlayers",header:"No Of Players"}),(0,b_.jsx)(MP,{field:"gameStartDate",header:"Start Date",body:function(e){var t=new Date(e.gameStartDate);return"".concat(t.toDateString().substring(0,10))}}),(0,b_.jsx)(MP,{field:"gameEndDate",header:" End Date",body:function(e){var t=new Date(e.gameStartDate);return"".concat(t.toDateString().substring(0,10))}}),(0,b_.jsx)(MP,{field:"startTime",header:"Start Time",body:function(e){return"".concat(new Date(e.startTime).toTimeString())}}),(0,b_.jsx)(MP,{field:"duration",header:"Duration"}),(0,b_.jsx)(MP,{field:"credits",header:"Credits"}),(0,b_.jsx)(MP,{header:"Edit",body:function(e){return(0,b_.jsx)(Tx,{onClick:function(){return n(e)},children:"Edit"})},children:" "})]})})},jP=function(e){var t=e.onHide,n=e.visible;return(0,b_.jsx)(wR,{visible:n,onHide:t,children:"EditGames Dialog"})},FP=function(e){return e.botz.createTankBot},VP=function(e){return e.botz.tankBotzArray},ZP=function(){var e=PS(),t=LS(FP);return(0,b_.jsxs)("div",{className:"flex flex-row",children:[(0,b_.jsxs)("div",{className:"surface-border border-1 max-w-max p-3",children:[(0,b_.jsxs)("span",{className:"p-float-label mt-4 ",children:[(0,b_.jsx)(sx,{size:17,value:t.botName,onChange:function(n){return e(jk(he(he({},t),{},{botName:n.target.value})))},id:"tank-bot-name",max:100,min:0,step:5}),(0,b_.jsx)("label",{htmlFor:"tank-bot-name",children:"Bot Name"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4 ",children:[(0,b_.jsx)(sx,{size:17,value:t.botId,onChange:function(n){return e(jk(he(he({},t),{},{botId:n.target.value})))},id:"tank-bot-id",max:100,min:0,step:5}),(0,b_.jsx)("label",{htmlFor:"tank-bot-name",children:"Bot Id"})]}),(0,b_.jsxs)("span",{className:"p-float-label mt-4 ",children:[(0,b_.jsx)(sx,{size:17,value:t.password,onChange:function(n){return e(jk(he(he({},t),{},{password:n.target.value})))},id:"driver-cockpit-id",max:100,min:0,step:5}),(0,b_.jsx)("label",{htmlFor:"driver-cockpit-id",children:"Password"})]})]}),(0,b_.jsxs)("div",{className:"flex flex-column",children:[(0,b_.jsx)(IL,{buttonName:"uplooad bot image",fileName:"botId"+t.botId,OnUrlSave:function(n){return e(jk(he(he({},t),{},{mainPhotoUrl:n})))}}),(0,b_.jsx)("div",{children:(0,b_.jsx)(Tx,{onClick:function(){var n=function(e){var t=[];return e.botName.length||(t=t.concat("botName")),e.botId.length||(t=t.concat("botId")),e.password.length<1&&(t=t.concat("password")),e.mainPhotoUrl.length||(t=t.concat("mainPhotoUrl")),t}(t);if(n.length)return e(Pk(n.join()));e(Vk(t))},size:"small",children:"Create Bot"})})]}),(0,b_.jsx)("img",{height:300,src:t.mainPhotoUrl,alt:"uploaded bot preview"})]})};function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GP.apply(this,arguments)}function WP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return WP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WP(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XP(e){return XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XP(e)}function BP(e){var t=function(e,t){if("object"!==XP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==XP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===XP(t)?t:String(t)}function HP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BP(r.key),r)}}var YP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===XP(e)&&t&&"object"===XP(t)?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==XP(e)&&"object"==XP(t)){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!==u)return!1;if(s&&u)return e.getTime()===t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!==l)return!1;if(c&&l)return e.toString()===t.toString();var d=Object.keys(e);if((r=d.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;for(n=r;0!==n--;)if(i=d[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(t,n){if(t&&Object.keys(t).length&&n){if(this.isFunction(n))return n(t);if(e.isNotEmpty(t[n]))return t[n];if(-1===n.indexOf("."))return t[n];for(var r=n.split("."),i=t,o=0,a=r.length;o<a;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isLetter",value:function(e){return e&&(e.toUpperCase()!=e.toLowerCase()||e.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r=(this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0))===t;return r}return!1}},{key:"getRefElement",value:function(e){return e?"object"===XP(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"convertToFlatCase",value:function(e){return this.isNotEmpty(e)&&"string"===typeof e?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===XP(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"sort",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=e.compare(t,n,i,r),s=r;return(e.isEmpty(t)||e.isEmpty(n))&&(s=1===o?r:o),s*a}},{key:"compare",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.isEmpty(t),a=e.isEmpty(n);return o&&a?0:o?i:a?-i:"string"===typeof t&&"string"===typeof n?t.localeCompare(n,r,{numeric:!0}):t<n?-1:t>n?1:0}}],(n=null)&&HP(t.prototype,n),r&&HP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),zP=0;var KP=qk.memo(qk.forwardRef((function(e,t){var n=lx.getPTI(e),r=UP(qk.useState(e.id),2),i=r[0],o=r[1];return qk.useEffect((function(){YP.isEmpty(i)&&o(function(){return zP++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(zP)}("pr_icon_clip_"))}),[i]),qk.createElement("svg",GP({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),qk.createElement("g",{clipPath:"url(#".concat(i,")")},qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z",fill:"currentColor"})),qk.createElement("defs",null,qk.createElement("clipPath",{id:i},qk.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function JP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QP(e,t){if(e){if("string"===typeof e)return JP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JP(e,t):void 0}}function qP(e){return function(e){if(Array.isArray(e))return JP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||QP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||QP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}KP.displayName="UploadIcon";var eL=OC.extend({defaultProps:{__TYPE:"Messages",id:null,className:null,style:null,transitionOptions:null,onRemove:null,onClick:null,children:void 0}});function tL(e){return tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tL(e)}function nL(e){var t=function(e,t){if("object"!==tL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tL(t)?t:String(t)}function rL(e,t,n){return(t=nL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iL(Object(n),!0).forEach((function(t){rL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aL=qk.memo(qk.forwardRef((function(e,t){var n=e.message,r=e.metaData,i=e.ptCallbacks,o=i.ptm,a=i.ptmo,s=e.index,u=n.message,c=u.severity,l=u.content,d=u.summary,f=u.detail,p=u.closable,h=u.life,v=u.sticky,m=u.className,g=u.style,y=u.contentClassName,b=u.contentStyle,w=u.icon,E=u.closeIcon,k=u.pt,_={index:s},S=oL(oL({},r),_),C=$P(GC((function(){x(null)}),h||3e3,!v),1)[0],x=function(t){C(),e.onClose&&e.onClose(e.message),t&&(t.preventDefault(),t.stopPropagation())},T=VS("p-message p-component",rL({},"p-message-".concat(c),c),m),I=VS("p-message-wrapper",y),R=function(){if(!1!==p){var t=wC("close"),n=rC({className:{className:"p-message-close-icon","aria-hidden":!0}},o("buttonicon",S),a(k,"buttonicon",_)),r=E||qk.createElement(Kx,n),i=QS.getJSXIcon(r,oL({},n),{props:e}),s=rC({type:"button",className:"p-message-close p-link","aria-label":t,onClick:x},o("button",S),a(k,"button",_));return qk.createElement("button",s,i,qk.createElement(wx,null))}return null}(),O=function(){if(e.message){var t=rC({className:"p-message-icon"},o("icon",S),a(k,"icon",_)),n=w;if(!w)switch(c){case"info":n=qk.createElement(zR,t);break;case"warn":n=qk.createElement(VR,t);break;case"error":n=qk.createElement(rO,t);break;case"success":n=qk.createElement(OR,t)}var r=QS.getJSXIcon(n,oL({},t),{props:e}),i=rC({className:"p-message-summary"},o("summary",S),a(k,"summary",_)),s=rC({className:"p-message-detail"},o("detail",S),a(k,"detail",_));return l||qk.createElement(qk.Fragment,null,r,qk.createElement("span",i,d),qk.createElement("span",s,f))}return null}(),A=rC({className:I,style:b},o("wrapper",S),a(k,"wrapper",_)),N=rC({ref:t,className:T,style:g,onClick:function(){e.onClick&&e.onClick(e.message)}},o("root",S),a(k,"root",_));return qk.createElement("div",N,qk.createElement("div",A,O,R))})));aL.displayName="UIMessage";var sL=0,uL=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=eL.getProps(e,n),i=$P(qk.useState([]),2),o=i[0],a=i[1],s=qk.useRef(null),u={props:r,state:{messages:o}},c=eL.setMetaData(u),l=function(e){e&&a((function(t){return d(t,e,!0)}))},d=function(e,t,n){var r;if(Array.isArray(t)){var i=t.reduce((function(e,t){return e.push({_pId:sL++,message:t}),e}),[]);r=n&&e?[].concat(qP(e),qP(i)):i}else{var o={_pId:sL++,message:t};r=n&&e?[].concat(qP(e),[o]):[o]}return r},f=function(){a([])},p=function(e){a((function(t){return d(t,e,!1)}))},h=function(e){a((function(t){return t.filter((function(t){return t._pId!==e._pId}))})),r.onRemove&&r.onRemove(e.message)},v=function(e){h(e)};qk.useImperativeHandle(t,(function(){return{props:r,show:l,replace:p,remove:h,clear:f,getElement:function(){return s.current}}}));var m=rC({id:r.id,ref:s,className:r.className,style:r.style},eL.getOtherProps(r),c.ptm("root"));return qk.createElement("div",m,qk.createElement(IR,null,o&&o.map((function(e,t){var n=qk.createRef();return qk.createElement(ET,{nodeRef:n,key:e._pId,classNames:"p-message",unmountOnExit:!0,timeout:{enter:300,exit:300},options:r.transitionOptions},qk.createElement(aL,{ref:n,message:e,onClick:r.onClick,onClose:v,ptCallbacks:c,metaData:u,index:t}))}))))})));uL.displayName="Messages";var cL=OC.extend({defaultProps:{__TYPE:"ProgressBar",id:null,value:null,showValue:!0,unit:"%",style:null,className:null,mode:"determinate",displayValueTemplate:null,color:null,children:void 0}}),lL=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=cL.getProps(e,n),i=cL.setMetaData({props:r}).ptm,o=qk.useRef(null);if(qk.useImperativeHandle(t,(function(){return{props:r,getElement:function(){return o.current}}})),"determinate"===r.mode)return function(){var e=VS("p-progressbar p-component p-progressbar-determinate",r.className),t=r.showValue&&null!=r.value?r.displayValueTemplate?r.displayValueTemplate(r.value):r.value+r.unit:null,n=rC({id:r.id,ref:o,className:e,style:r.style,role:"progressbar","aria-valuemin":"0","aria-valuenow":r.value,"aria-valuemax":"100"},cL.getOtherProps(r),i("root")),a=rC({className:"p-progressbar-value p-progressbar-value-animate",style:{width:r.value+"%",display:"flex",backgroundColor:r.color}},i("value")),s=rC({className:"p-progressbar-label"},i("label"));return qk.createElement("div",n,qk.createElement("div",a,null!=r.value&&0!==r.value&&r.showValue&&qk.createElement("div",s,t)))}();if("indeterminate"===r.mode)return function(){var e=VS("p-progressbar p-component p-progressbar-indeterminate",r.className),t=rC({id:r.id,ref:o,className:e,style:r.style,role:"progressbar"},cL.getOtherProps(r),i("root")),n=rC({className:"p-progressbar-indeterminate-container"},i("indeterminateContainer")),a=rC({className:"p-progressbar-value p-progressbar-value-animate",style:{backgroundColor:r.color}},i("value"));return qk.createElement("div",t,qk.createElement("div",n,qk.createElement("div",a)))}();throw new Error(r.mode+" is not a valid mode for the ProgressBar. Valid values are 'determinate' and 'indeterminate'")})));function dL(e){return dL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dL(e)}function fL(e){var t=function(e,t){if("object"!==dL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dL(t)?t:String(t)}function pL(e,t,n){return(t=fL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hL(){return hL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hL.apply(this,arguments)}function vL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mL(e,t){if(e){if("string"===typeof e)return vL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vL(e,t):void 0}}function gL(e){return function(e){if(Array.isArray(e))return vL(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yL(e){throw new TypeError('"'+e+'" is read-only')}function bL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||mL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}lL.displayName="ProgressBar";var wL=OC.extend({defaultProps:{__TYPE:"Badge",value:null,severity:null,size:null,style:null,className:null,children:void 0}}),EL=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=wL.getProps(e,n),i=wL.setMetaData({props:r}).ptm,o=qk.useRef(null),a=VS("p-badge p-component",pL({"p-badge-no-gutter":KS.isNotEmpty(r.value)&&1===String(r.value).length,"p-badge-dot":KS.isEmpty(r.value),"p-badge-lg":"large"===r.size,"p-badge-xl":"xlarge"===r.size},"p-badge-".concat(r.severity),null!==r.severity),r.className);qk.useImperativeHandle(t,(function(){return{props:r,getElement:function(){return o.current}}}));var s=rC({ref:o,style:r.style,className:a},wL.getOtherProps(r),i("root"));return qk.createElement("span",s,r.value)})));EL.displayName="Badge";var kL=OC.extend({defaultProps:{__TYPE:"FileUpload",id:null,name:null,url:null,mode:"advanced",multiple:!1,accept:null,removeIcon:null,disabled:!1,auto:!1,maxFileSize:null,invalidFileSizeMessageSummary:"{0}: Invalid file size, ",invalidFileSizeMessageDetail:"maximum upload size is {0}.",style:null,className:null,withCredentials:!1,previewWidth:50,chooseLabel:null,uploadLabel:null,cancelLabel:null,chooseOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},uploadOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},cancelOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},customUpload:!1,headerClassName:null,headerStyle:null,contentClassName:null,contentStyle:null,headerTemplate:null,itemTemplate:null,emptyTemplate:null,progressBarTemplate:null,onBeforeUpload:null,onBeforeSend:null,onBeforeDrop:null,onBeforeSelect:null,onUpload:null,onError:null,onClear:null,onSelect:null,onProgress:null,onValidationFail:null,uploadHandler:null,onRemove:null,children:void 0}});function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_L(Object(n),!0).forEach((function(t){pL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CL(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return xL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xL(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TL=qk.memo(qk.forwardRef((function(e,t){var n=qk.useContext(_C),r=kL.getProps(e,n),i=bL(qk.useState([]),2),o=i[0],a=i[1],s=bL(qk.useState([]),2),u=s[0],c=s[1],l=bL(qk.useState(0),2),d=l[0],f=l[1],p=bL(qk.useState(!1),2),h=p[0],v=p[1],m=bL(qk.useState(!1),2),g=m[0],y=m[1],b=kL.setMetaData({props:r,state:{progress:d,uploading:g,uploadedFiles:o,files:u,focused:h}}).ptm,w=qk.useRef(null),E=qk.useRef(null),k=qk.useRef(null),_=qk.useRef(!1),S=qk.useRef(0),C=KS.isNotEmpty(u),x=KS.isNotEmpty(o),T=r.disabled||g,I=r.chooseLabel||r.chooseOptions.label||wC("choose"),R=r.uploadLabel||r.uploadOptions.label||wC("upload"),O=r.cancelLabel||r.cancelOptions.label||wC("cancel"),A=T||r.fileLimit&&r.fileLimit<=u.length+S,N=T||!C,P=T||!C,L=function(e){return/^image\//.test(e.type)},M=function(e,t){D();var n=gL(u),i=u[t];n.splice(t,1),c(n),r.onRemove&&r.onRemove({originalEvent:e,file:i})},D=function(){w.current&&(w.current.value="")},j=function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},F=function(e){if(!r.onBeforeSelect||!1!==r.onBeforeSelect({originalEvent:e,files:u}))if("drop"!==e.type&&Z()&&_.current)_.current=!1;else{var t=[];r.multiple&&(t=u?gL(u):[]);for(var n=e.dataTransfer?e.dataTransfer.files:e.target.files,i=0;i<n.length;i++){var o=n[i];!V(o)&&G(o)&&(L(o)&&(o.objectURL=window.URL.createObjectURL(o)),t.push(o))}c(t),KS.isNotEmpty(t)&&r.auto&&W(t),r.onSelect&&r.onSelect({originalEvent:e,files:t}),"drop"!==e.type&&Z()?w.current&&(_.current=!0,w.current.value=""):D(),"basic"===r.mode&&t.length>0&&(w.current.style.display="none")}},V=function(e){return u.some((function(t){return t.name+t.type+t.size===e.name+e.type+e.size}))},Z=function(){return!!window.MSInputMethodContext&&!!document.documentMode},G=function(e){if(r.maxFileSize&&e.size>r.maxFileSize){var t={severity:"error",summary:r.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:r.invalidFileSizeMessageDetail.replace("{0}",j(r.maxFileSize)),sticky:!0};return"advanced"===r.mode&&E.current.show(t),r.onValidationFail&&r.onValidationFail(e),!1}return!0},W=function(e){if((e=e||u)&&e.nativeEvent&&(e=u),r.customUpload)r.fileLimit&&(e.length,yL("uploadedFileCount")),r.uploadHandler&&r.uploadHandler({files:e,options:{clear:U,props:r}});else{y(!0);var t=new XMLHttpRequest,n=new FormData;r.onBeforeUpload&&r.onBeforeUpload({xhr:t,formData:n});var i,o=CL(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.append(r.name,s,s.name)}}catch(c){o.e(c)}finally{o.f()}t.upload.addEventListener("progress",(function(e){if(e.lengthComputable){var t=Math.round(100*e.loaded/e.total);f(t),r.onProgress&&r.onProgress({originalEvent:e,progress:t})}})),t.onreadystatechange=function(){4===t.readyState&&(f(0),y(!1),t.status>=200&&t.status<300?(r.fileLimit&&(e.length,yL("uploadedFileCount")),r.onUpload&&r.onUpload({xhr:t,files:e})):r.onError&&r.onError({xhr:t,files:e}),a((function(t){return[].concat(gL(t),gL(e))})),U())},t.open("POST",r.url,!0),r.onBeforeSend&&r.onBeforeSend({xhr:t,formData:n}),t.withCredentials=r.withCredentials,t.send(n)}},U=function(){c([]),a([]),y(!1),r.onClear&&r.onClear(),D()},X=function(){w.current.click()},B=function(){v(!0)},H=function(){v(!1)},Y=function(e){13===e.which&&X()},z=function(){!T&&C?W():w.current.click()};qk.useImperativeHandle(t,(function(){return{props:r,upload:W,clear:U,formatSize:j,onFileSelect:F,getInput:function(){return w.current},getContent:function(){return k.current},getFiles:function(){return u},setFiles:function(e){return c(e||[])},getUploadedFiles:function(){return o},setUploadedFiles:function(e){return a(e||[])}}}));var K=function(e,t,n){"warning"===t.severity?M(e,n):function(e,t){D();var n=gL(o),i=u[t];n.splice(t,1),a(n),r.onRemove&&r.onRemove({originalEvent:e,file:i})}(e,n)},J=function(e,t,n){var i=e.name+e.type+e.size,o=rC({role:"presentation",className:"p-fileupload-file-thumbnail",src:e.objectURL,width:r.previewWidth},b("thumbnail")),a=L(e)?qk.createElement("img",hL({},o,{alt:e.name})):null,s=rC(b("details")),u=rC(b("fileSize")),c=rC({className:"p-fileupload-filename"},b("fileName")),l=rC(b("actions")),d=qk.createElement("div",c,e.name),f=qk.createElement("div",u,j(e.size)),p=qk.createElement("div",s,qk.createElement("div",c," ",e.name),qk.createElement("span",u,j(e.size)),qk.createElement(EL,{className:"p-fileupload-file-badge",value:n.value,severity:n.severity,pt:b("badge")})),h=qk.createElement("div",l,qk.createElement(Tx,{type:"button",icon:r.removeIcon||qk.createElement(Kx,null),text:!0,rounded:!0,severity:"danger",onClick:function(e){return K(e,n,t)},disabled:T,pt:b("removeButton")})),v=qk.createElement(qk.Fragment,null,a,p,h);if(r.itemTemplate){var m={onRemove:function(e){return M(e,t)},previewElement:a,fileNameElement:d,sizeElement:f,removeElement:h,formatSize:j(e.size),element:v,index:t,props:r};v=KS.getJSXElement(r.itemTemplate,e,m)}var g=rC({key:i,className:"p-fileupload-row"},b("file"));return qk.createElement("div",g,v)};return"advanced"===r.mode?function(){var e,t,n,i,a,s=VS("p-fileupload p-fileupload-advanced p-component",r.className),c=VS("p-fileupload-buttonbar",r.headerClassName),l=VS("p-fileupload-content",r.contentClassName),f=function(){var e=r.chooseOptions,t=e.className,n=e.style,i=e.icon,o=e.iconOnly,a=VS("p-button p-fileupload-choose p-component",{"p-disabled":T,"p-focus":h,"p-button-icon-only":o},t),s=VS("p-button-icon p-clickable",{"p-button-icon-left":!o}),u=rC({className:"p-button-label p-clickable"},b("chooseButtonLabel")),c=o?qk.createElement("span",hL({},u,{dangerouslySetInnerHTML:{__html:"&nbsp;"}})):qk.createElement("span",u,I),l=rC({ref:w,type:"file",onChange:function(e){return F(e)},multiple:r.multiple,accept:r.accept,disabled:A},b("input")),d=qk.createElement("input",l),f=rC({className:s},b("chooseIcon")),p=i||qk.createElement(uN,f),v=QS.getJSXIcon(p,SL({},f),{props:r}),m=rC({className:a,style:n,onClick:X,onKeyDown:function(e){return Y(e)},onFocus:B,onBlur:H,tabIndex:0},b("chooseButton"));return qk.createElement("span",m,d,v,c,qk.createElement(wx,null))}(),p=!r.emptyTemplate||C||x?null:KS.getJSXElement(r.emptyTemplate,r);if(!r.auto){var v=r.uploadOptions,m=r.cancelOptions,g=v.iconOnly?"":R,y=m.iconOnly?"":O,_=rC({className:VS("p-button-icon p-c",{"p-button-icon-left":!v.iconOnly})},b("uploadIcon")),S=QS.getJSXIcon(v.icon||qk.createElement(KP,_),SL({},_),{props:r}),L=rC({className:VS("p-button-icon p-c",{"p-button-icon-left":!m.iconOnly})},b("cancelIcon")),M=QS.getJSXIcon(m.icon||qk.createElement(Kx,L),SL({},L),{props:r});e=qk.createElement(Tx,{type:"button",label:g,icon:S,onClick:W,disabled:N,style:v.style,className:v.className,pt:b("uploadButton")}),t=qk.createElement(Tx,{type:"button",label:y,icon:M,onClick:U,disabled:P,style:m.style,className:m.className,pt:b("cancelButton")})}C&&(n=function(){var e={severity:"warning",value:"Pending"},t=u.map((function(t,n){return J(t,n,e)}));return qk.createElement("div",null,t)}(),a=r.progressBarTemplate?KS.getJSXElement(r.progressBarTemplate,r):qk.createElement(lL,{value:d,showValue:!1,pt:b("progressbar")})),x&&(i=function(){var e={severity:"success",value:"Completed"},t=o&&o.map((function(t,n){return J(t,n,e)}));return qk.createElement("div",null,t)}());var D=rC({className:c,style:r.headerStyle},b("buttonbar")),j=qk.createElement("div",D,f,e,t);if(r.headerTemplate){var V={className:c,chooseButton:f,uploadButton:e,cancelButton:t,element:j,props:r};j=KS.getJSXElement(r.headerTemplate,V)}var Z=rC({id:r.id,className:s,style:r.style},kL.getOtherProps(r),b("root")),G=rC({ref:k,className:l,style:r.contentStyle,onDragEnter:function(e){return t=e,void(T||(t.dataTransfer.dropEffect="copy",t.stopPropagation(),t.preventDefault()));var t},onDragOver:function(e){return t=e,void(T||(t.dataTransfer.dropEffect="copy",YS.addClass(k.current,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault()));var t},onDragLeave:function(e){return t=e,void(T||(t.dataTransfer.dropEffect="copy",YS.removeClass(k.current,"p-fileupload-highlight")));var t},onDrop:function(e){return function(e){if(!r.disabled&&(YS.removeClass(k.current,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault(),!r.onBeforeDrop||!1!==r.onBeforeDrop(e))){var t=e.dataTransfer?e.dataTransfer.files:e.target.files;(r.multiple||KS.isEmpty(u)&&t&&1===t.length)&&F(e)}}(e)}},b("content"));return qk.createElement("div",Z,j,qk.createElement("div",G,a,qk.createElement(uL,{ref:E}),C?n:null,x?i:null,p))}():"basic"===r.mode?function(){var e=r.chooseOptions,t=VS("p-fileupload p-fileupload-basic p-component",r.className),n=VS("p-button p-component p-fileupload-choose",{"p-fileupload-choose-selected":C,"p-disabled":T,"p-focus":h},e.className),i=rC({className:"p-button-label p-clickable"},b("label")),o=e.iconOnly?qk.createElement("span",hL({},i,{dangerouslySetInnerHTML:{__html:"&nbsp;"}})):qk.createElement("span",i,I),a=r.auto?o:qk.createElement("span",i,C?u[0].name:o),s=rC({className:VS("p-button-icon",{"p-button-icon-left":!e.iconOnly})},b("chooseIcon")),c=e.icon?e.icon:e.icon||C&&!r.auto?!e.icon&&C&&!r.auto&&qk.createElement(KP,s):qk.createElement(uN,s),l=QS.getJSXIcon(c,SL({},s),{props:r,hasFiles:C}),d=rC({ref:w,type:"file",onChange:function(e){return F(e)},multiple:r.multiple,accept:r.accept,disabled:T},b("input")),f=!C&&qk.createElement("input",d),p=rC({className:t,style:r.style},kL.getOtherProps(r),b("root")),v=rC({className:n,style:e.style,tabIndex:0,onMouseUp:z,onKeyDown:function(e){return Y(e)},onFocus:B,onBlur:H},kL.getOtherProps(r),b("basicButton"));return qk.createElement("div",p,qk.createElement(uL,{ref:E,pt:b("message")}),qk.createElement("span",v,l,a,f,qk.createElement(wx,null)))}():void 0})));TL.displayName="FileUpload";var IL=function(e){var t,r=e.fileName,o=e.OnUrlSave,a=(t=r,Xb(ee(rw),t)),s=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jb(a,t.files[0]).then((function(e){Qb(e.ref).then((function(e){o(e)}))})).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b_.jsx)("div",{children:(0,b_.jsx)(TL,{uploadHandler:s,customUpload:!0,multiple:!0,name:r,accept:"image/*",maxFileSize:1e6,emptyTemplate:(0,b_.jsx)("p",{className:"m-0",children:"Drag and drop files to here to upload."})})})},RL=function(e){return e.tankBotSession},OL=__webpack_require__(3161),AL=function(e){var t=e.accessToken,n=e.sessionId,r=y((0,qk.useState)(null),2),i=r[0],o=r[1];var a=function(){i&&(i.on("streamCreated",(function(e){i.subscribe(e.stream,"subscriber",{width:"100%",height:"100%"})})),i.connect(t,(function(e){e&&function(e){e&&alert(e.message)}(e)})))};return(0,qk.useEffect)((function(){o(OL.initSession("47758991",n))}),[n]),(0,qk.useEffect)((function(){if(i)return a()}),[i]),(0,b_.jsx)("div",{className:" testname h-full",children:(0,b_.jsx)("div",{className:"subscriber h-full",id:"subscriber"})})},NL=Object.create(null);NL.open="0",NL.close="1",NL.ping="2",NL.pong="3",NL.message="4",NL.upgrade="5",NL.noop="6";var PL=Object.create(null);Object.keys(NL).forEach((function(e){PL[NL[e]]=e}));var LL,ML={type:"error",data:"parser error"},DL="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),jL="function"===typeof ArrayBuffer,FL=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},VL=function(e,t,n){var r=e.type,i=e.data;return DL&&i instanceof Blob?t?n(i):ZL(i,n):jL&&(i instanceof ArrayBuffer||FL(i))?t?n(i):ZL(new Blob([i]),n):n(NL[r]+(i||""))},ZL=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function GL(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}for(var WL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UL="undefined"===typeof Uint8Array?[]:new Uint8Array(256),XL=0;XL<64;XL++)UL[WL.charCodeAt(XL)]=XL;var BL,HL="function"===typeof ArrayBuffer,YL=function(e,t){if("string"!==typeof e)return{type:"message",data:KL(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:zL(e.substring(1),t)}:PL[n]?e.length>1?{type:PL[n],data:e.substring(1)}:{type:PL[n]}:ML},zL=function(e,t){if(HL){var n=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=UL[e.charCodeAt(t)],r=UL[e.charCodeAt(t+1)],i=UL[e.charCodeAt(t+2)],o=UL[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}(e);return KL(n,t)}return{base64:!0,data:e}},KL=function(e,t){return"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},JL=String.fromCharCode(30);function QL(){return new TransformStream({transform:function(e,t){!function(e,t){DL&&e.data instanceof Blob?e.data.arrayBuffer().then(GL).then(t):jL&&(e.data instanceof ArrayBuffer||FL(e.data))?t(GL(e.data)):VL(e,!1,(function(e){LL||(LL=new TextEncoder),t(LL.encode(e))}))}(e,(function(n){var r,i=n.length;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);var o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);var a=new DataView(r.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(i))}e.data&&"string"!==typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})}function qL(e){return e.reduce((function(e,t){return e+t.length}),0)}function $L(e,t){if(e[0].length===t)return e.shift();for(var n=new Uint8Array(t),r=0,i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function eM(e){if(e)return function(e){for(var t in eM.prototype)e[t]=eM.prototype[t];return e}(e)}eM.prototype.on=eM.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},eM.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},eM.prototype.off=eM.prototype.removeListener=eM.prototype.removeAllListeners=eM.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},eM.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},eM.prototype.emitReserved=eM.prototype.emit,eM.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},eM.prototype.hasListeners=function(e){return!!this.listeners(e).length};var tM="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function nM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var rM=tM.setTimeout,iM=tM.clearTimeout;function oM(e,t){t.useNativeTimers?(e.setTimeoutFn=rM.bind(tM),e.clearTimeoutFn=iM.bind(tM)):(e.setTimeoutFn=tM.setTimeout.bind(tM),e.clearTimeoutFn=tM.clearTimeout.bind(tM))}var aM,sM=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this,e)).description=r,o.context=i,o.type="TransportError",o}return v(n)}(x(Error)),uM=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).writable=!1,oM(b(r),e),r.opts=e,r.query=e.query,r.socket=e.socket,r}return v(n,[{key:"onError",value:function(e,t,r){return ht(k(n.prototype),"emitReserved",this).call(this,"error",new sM(e,t,r)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,ht(k(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=YL(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){ht(k(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",ht(k(n.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}},{key:"createUri",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}},{key:"_hostname",value:function(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(e){var t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}]),n}(eM),cM="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),lM=64,dM={},fM=0,pM=0;function hM(e){var t="";do{t=cM[e%lM]+t,e=Math.floor(e/lM)}while(e>0);return t}function vM(){var e=hM(+new Date);return e!==aM?(fM=0,aM=e):e+"."+hM(fM++)}for(;pM<lM;pM++)dM[cM[pM]]=pM;var mM=!1;try{mM="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(oG){}var gM=mM;function yM(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||gM))return new XMLHttpRequest}catch(n){}if(!t)try{return new(tM[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function bM(){}var wM=null!=new yM({xdomain:!1}).responseType,EM=function(e){E(n,e);var t=S(n);function n(e){var r;if(p(this,n),(r=t.call(this,e)).polling=!1,"undefined"!==typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||o!==e.port}var a=e&&e.forceBase64;return r.supportsBinary=wM&&!a,r.opts.withCredentials&&(r.cookieJar=void 0),r}return v(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(JL),r=[],i=0;i<n.length;i++){var o=YL(n[i],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),i=0;e.forEach((function(e,o){VL(e,!1,(function(e){r[o]=e,++i===n&&t(r.join(JL))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=vM()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new kM(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(uM),kM=function(e){E(n,e);var t=S(n);function n(e,r){var i;return p(this,n),oM(b(i=t.call(this)),r),i.opts=r,i.method=r.method||"GET",i.uri=e,i.data=void 0!==r.data?r.data:null,i.create(),i}return v(n,[{key:"create",value:function(){var e,t=this,r=nM(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;var i=this.xhr=new yM(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(var o in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}catch(a){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{i.setRequestHeader("Accept","*/*")}catch(a){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){var e;3===i.readyState&&(null===(e=t.opts.cookieJar)||void 0===e||e.parseCookies(i)),4===i.readyState&&(200===i.status||1223===i.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"===typeof i.status?i.status:0)}),0))},i.send(this.data)}catch(a){return void this.setTimeoutFn((function(){t.onError(a)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=bM,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(eM);if(kM.requestsCount=0,kM.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",_M);else if("function"===typeof addEventListener){addEventListener("onpagehide"in tM?"pagehide":"unload",_M,!1)}function _M(){for(var e in kM.requests)kM.requests.hasOwnProperty(e)&&kM.requests[e].abort()}var SM="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},CM=tM.WebSocket||tM.MozWebSocket,xM="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),TM=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return v(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=xM?{}:nM(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=xM?new CM(e,t,n):t?new CM(e,t):new CM(e)}catch(oG){return this.emitReserved("error",oG)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],i=r===e.length-1;VL(n,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(n){}i&&SM((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=vM()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},{key:"check",value:function(){return!!CM}}]),n}(uM),IM=function(e){E(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var e=this;"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((function(){e.onClose()})).catch((function(t){e.onError("webtransport error",t)})),this.transport.ready.then((function(){e.transport.createBidirectionalStream().then((function(t){var n=function(e,t){BL||(BL=new TextDecoder);var n=[],r=0,i=-1,o=!1;return new TransformStream({transform:function(a,s){for(n.push(a);;){if(0===r){if(qL(n)<1)break;var u=$L(n,1);o=128===(128&u[0]),i=127&u[0],r=i<126?3:126===i?1:2}else if(1===r){if(qL(n)<2)break;var c=$L(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(2===r){if(qL(n)<8)break;var l=$L(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){s.enqueue(ML);break}i=f*Math.pow(2,32)+d.getUint32(4),r=3}else{if(qL(n)<i)break;var p=$L(n,i);s.enqueue(YL(o?p:BL.decode(p),t)),r=0}if(0===i||i>e){s.enqueue(ML);break}}}})}(Number.MAX_SAFE_INTEGER,e.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=QL();i.readable.pipeTo(t.writable),e.writer=i.writable.getWriter();!function t(){r.read().then((function(n){var r=n.done,i=n.value;r||(e.onPacket(i),t())})).catch((function(e){}))}();var o={type:"open"};e.query.sid&&(o.data='{"sid":"'.concat(e.query.sid,'"}')),e.writer.write(o).then((function(){return e.onOpen()}))}))})))}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],i=r===e.length-1;t.writer.write(n).then((function(){i&&SM((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){var e;null===(e=this.transport)||void 0===e||e.close()}}]),n}(uM),RM={websocket:TM,webtransport:IM,polling:EM},OM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,AM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function NM(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=OM.exec(e||""),o={},a=14;a--;)o[AM[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}var PM=function(e){E(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p(this,n),(r=t.call(this)).binaryType="arraybuffer",r.writeBuffer=[],e&&"object"===typeof e&&(i=e,e=null),e?(e=NM(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=NM(i.host).host),oM(b(r),i),r.secure=null!=i.secure?i.secure:"undefined"!==typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=i.transports||["polling","websocket","webtransport"],r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"===typeof r.opts.query&&(r.opts.query=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&(r.beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r.beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return v(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new RM[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),i=!1;n.priorWebsocketSuccess=!1;var o=function(){i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){i||"closed"!==t.readyState&&(d(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var o=new Error("probe error");o.transport=r.name,t.emitReserved("upgradeError",o)}})))};function a(){i||(i=!0,d(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,a(),t.emitReserved("upgradeError",n)};function u(){s("transport closed")}function c(){s("socket closed")}function l(e){r&&e.name!==r.name&&a()}var d=function(){r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",u),t.off("close",c),t.off("upgrading",l)};r.once("open",o),r.once("error",s),r.once("close",u),this.once("close",c),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((function(){i||r.open()}),200):r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(eM);PM.protocol=4;PM.protocol;var LM="function"===typeof ArrayBuffer,MM=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},DM=Object.prototype.toString,jM="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===DM.call(Blob),FM="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===DM.call(File);function VM(e){return LM&&(e instanceof ArrayBuffer||MM(e))||jM&&e instanceof Blob||FM&&e instanceof File}function ZM(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(ZM(e[n]))return!0;return!1}if(VM(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ZM(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&ZM(e[i]))return!0;return!1}function GM(e){var t=[],n=e.data,r=e;return r.data=WM(n,t),r.attachments=t.length,{packet:r,buffers:t}}function WM(e,t){if(!e)return e;if(VM(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=WM(e[i],t);return r}if("object"===typeof e&&!(e instanceof Date)){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=WM(e[a],t));return o}return e}function UM(e,t){return e.data=XM(e.data,t),delete e.attachments,e}function XM(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=XM(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=XM(e[r],t));return e}var BM,HM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],YM=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(BM||(BM={}));var zM=function(){function e(t){p(this,e),this.replacer=t}return v(e,[{key:"encode",value:function(e){return e.type!==BM.EVENT&&e.type!==BM.ACK||!ZM(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===BM.EVENT?BM.BINARY_EVENT:BM.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==BM.BINARY_EVENT&&e.type!==BM.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=GM(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();function KM(e){return"[object Object]"===Object.prototype.toString.call(e)}var JM=function(e){E(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).reviver=e,r}return v(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(t=this.decodeString(e)).type===BM.BINARY_EVENT;r||t.type===BM.BINARY_ACK?(t.type=r?BM.EVENT:BM.ACK,this.reconstructor=new QM(t),0===t.attachments&&ht(k(n.prototype),"emitReserved",this).call(this,"decoded",t)):ht(k(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!VM(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,ht(k(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===BM[r.type])throw new Error("unknown packet type "+r.type);if(r.type===BM.BINARY_EVENT||r.type===BM.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(i,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var a=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var u=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}r.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var l=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case BM.CONNECT:return KM(t);case BM.DISCONNECT:return void 0===t;case BM.CONNECT_ERROR:return"string"===typeof t||KM(t);case BM.EVENT:case BM.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===HM.indexOf(t[0]));case BM.ACK:case BM.BINARY_ACK:return Array.isArray(t)}}}]),n}(eM),QM=function(){function e(t){p(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return v(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=UM(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function qM(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var $M=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),eD=function(e){E(n,e);var t=S(n);function n(e,r,i){var o;return p(this,n),(o=t.call(this)).connected=!1,o.recovered=!1,o.receiveBuffer=[],o.sendBuffer=[],o._queue=[],o._queueSeq=0,o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=r,i&&i.auth&&(o.auth=i.auth),o._opts=Object.assign({},i),o.io._autoConnect&&o.open(),o}return v(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[qM(e,"open",this.onopen.bind(this)),qM(e,"packet",this.onpacket.bind(this)),qM(e,"error",this.onerror.bind(this)),qM(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if($M.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;var i={type:BM.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var o=this.ids++,a=n.pop();this._registerAckCallback(o,a),i.id=o}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,r=this,i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==i){var o=this.io.setTimeoutFn((function(){delete r.acks[e];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===e&&r.sendBuffer.splice(n,1);t.call(r,new Error("operation has timed out"))}),i);this.acks[e]=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,[null].concat(n))}}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(n,i){r.push((function(e,t){return o?e?i(e):n(t):n(e)})),t.emit.apply(t,[e].concat(r))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"===typeof e[e.length-1]&&(t=e.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r===n._queue[0]){if(null!==e)r.tryCount>n._opts.retries&&(n._queue.shift(),t&&t(e));else if(n._queue.shift(),t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];t.apply(void 0,[null].concat(o))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:BM.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case BM.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case BM.EVENT:case BM.BINARY_EVENT:this.onevent(e);break;case BM.ACK:case BM.BINARY_ACK:this.onack(e);break;case BM.DISCONNECT:this.ondisconnect();break;case BM.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=l(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(oG){r.e(oG)}finally{r.f()}}ht(k(n.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t.packet({type:BM.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:BM.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=l(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(oG){n.e(oG)}finally{n.f()}}}}]),n}(eM);function tD(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}tD.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},tD.prototype.reset=function(){this.attempts=0},tD.prototype.setMin=function(e){this.ms=e},tD.prototype.setMax=function(e){this.max=e},tD.prototype.setJitter=function(e){this.jitter=e};var nD=function(t){E(r,t);var n=S(r);function r(t,i){var o,a;p(this,r),(o=n.call(this)).nsps={},o.subs=[],t&&"object"===typeof t&&(i=t,t=void 0),(i=i||{}).path=i.path||"/socket.io",o.opts=i,oM(b(o),i),o.reconnection(!1!==i.reconnection),o.reconnectionAttempts(i.reconnectionAttempts||1/0),o.reconnectionDelay(i.reconnectionDelay||1e3),o.reconnectionDelayMax(i.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(a=i.randomizationFactor)&&void 0!==a?a:.5),o.backoff=new tD({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==i.timeout?2e4:i.timeout),o._readyState="closed",o.uri=t;var s=i.parser||e;return o.encoder=new s.Encoder,o.decoder=new s.Decoder,o._autoConnect=!1!==i.autoConnect,o._autoConnect&&o.open(),o}return v(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new PM(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=qM(n,"open",(function(){r.onopen(),e&&e()})),o=function(n){t.cleanup(),t._readyState="closed",t.emitReserved("error",n),e?e(n):t.maybeReconnectOnOpen()},a=qM(n,"error",o);if(!1!==this._timeout){var s=this._timeout,u=this.setTimeoutFn((function(){i(),o(new Error("timeout")),n.close()}),s);this.opts.autoUnref&&u.unref(),this.subs.push((function(){t.clearTimeoutFn(u)}))}return this.subs.push(i),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(qM(e,"ping",this.onping.bind(this)),qM(e,"data",this.ondata.bind(this)),qM(e,"error",this.onerror.bind(this)),qM(e,"close",this.onclose.bind(this)),qM(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;SM((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new eD(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){e.clearTimeoutFn(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(eM),rD={};function iD(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=NM(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),i=r.source,o=r.id,a=r.path,s=rD[o]&&a in rD[o].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new nD(i,t):(rD[o]||(rD[o]=new nD(i,t)),n=rD[o]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(iD,{Manager:nD,Socket:eD,io:iD,connect:iD});var oD=v((function e(t){var n=this;p(this,e),this.socket=void 0,this.connect=function(e){n.socket=iD("https://rawbotz.com")},this.connectToBot=function(e,t){n.socket.emit("connect_to_bot",{token:e,botId:t})},this.registerUer=function(e){n.socket.on("connect",(function(){console.log("socket connected")}));var t={Action:"adduser",Username:e.displayName,UserId:e.uid,email:e.email,socketId:n.socket.id};n.socket.emit("registeruser",t)},this.sendChatMessage=function(e,t){n.socket.emit("add_chat_message",{userName:e,message:t})},this.sendControls=function(e,t,r){n.socket.connect||n.connect("sd"),n.socket.emit("send_bot_message",{controls:he({},e),token:t,botId:r})},this.socket=iD(""),this.socket.on("user_list",(function(e){console.log(e)})),this.socket.on("messages_list",(function(e){console.log(e)}))})),aD=new oD(""),sD=function(e){var t,n=e.botId,r=e.sessionId,i=PS(),o=LS(RL),a=null===(t=LS(ux).user)||void 0===t?void 0:t.idToken;(0,qk.useEffect)((function(){aD.connectToBot(null!==a&&void 0!==a?a:"",n),function(){if(!o.accessToken)i(Bk({botId:n,sessionId:r}))}()}),[o.accessToken]);return(0,b_.jsxs)("div",{className:"testclass card h-full",children:[(0,b_.jsx)(uD,{onControlsChange:function(e){aD.sendControls(e,null!==a&&void 0!==a?a:"",n)}}),o.accessToken&&o.sessionId&&(0,b_.jsx)(AL,{accessToken:o.accessToken,sessionId:o.sessionId})]})},uD=function(e){var t,n,r,i,o=y((0,qk.useState)(),2),a=o[0],s=o[1],u=y((0,qk.useState)(0),2),c=u[0],l=u[1],d=y((0,qk.useState)(!1),2),f=d[0],p=d[1],h=a?"control-pad-on":"control-pad-off",v=(0,qk.useRef)(null),m=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect(),g=null!==(n=null===m||void 0===m?void 0:m.left)&&void 0!==n?n:0,b=null!==(r=null===m||void 0===m?void 0:m.top)&&void 0!==r?r:0,w=(null!==(i=null===m||void 0===m?void 0:m.width)&&void 0!==i?i:0)/2,E=w/100,k=b+w,_=g+w,S=function(t,n){var r=function(e,t){return"forwardRight"===t||"backRight"===t?(e.clientX-_)/E:(_-e.clientX)/E}(t,n),i=function(e,t){return"forwardRight"===t||"forwardLeft"===t||"moveForward"===t?(k-e.clientY)/E:"backLeft"===t||"backRight"===t||"moveBack"===t?(e.clientY-k)/E:0}(t,n),o=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(i,2))),a=Math.round(180*Math.atan(i/r)/Math.PI);l(o),e.onControlsChange({direction:n,angle:a,speed:o})},C=function(e,t){a&&f&&S(e,t)},x=function(e,t){a&&(S(e,t),p(!0))},T=function(t){p(!1),e.onControlsChange({direction:"stop",angle:0,speed:0})};return(0,qk.useEffect)((function(){a||e.onControlsChange({direction:"stop",angle:0,speed:0})}),[a]),(0,b_.jsxs)("div",{ref:v,className:"controls-pad-container ".concat(h),onMouseLeave:function(){return s(!1)},children:[(0,b_.jsx)("div",{className:"controls-pad-forward ".concat(h),onPointerUp:T,onPointerDown:function(e){return x(e,"moveForward")},onPointerMove:function(e){return C(e,"moveForward")}}),(0,b_.jsx)("div",{className:"controls-pad-turn-up-right",onPointerUp:T,onPointerMove:function(e){return C(e,"forwardRight")},onPointerDown:function(e){return x(e,"forwardRight")}}),(0,b_.jsx)("div",{className:"controls-pad-spin-right ".concat(h),onPointerUp:T,onPointerMove:function(e){return C(e,"spinRight")},onPointerDown:function(e){return x(e,"spinRight")}}),c,(0,b_.jsx)("div",{className:"controls-pad-turn-down-right",onPointerUp:T,onPointerMove:function(e){return C(e,"backRight")},onPointerDown:function(e){return x(e,"backRight")}}),(0,b_.jsx)("div",{className:"controls-pad-back ".concat(h),onPointerUp:T,onPointerMove:function(e){return C(e,"moveBack")},onPointerDown:function(e){return x(e,"moveBack")}}),(0,b_.jsx)("div",{className:"controls-pad-turn-down-left",onPointerUp:T,onPointerMove:function(e){return C(e,"backLeft")},onPointerDown:function(e){return x(e,"backLeft")}}),(0,b_.jsx)("div",{className:"controls-pad-spin-left ".concat(h),onPointerUp:T,onPointerMove:function(e){return C(e,"spinLeft")},onPointerDown:function(e){return x(e,"spinLeft")}}),(0,b_.jsx)("div",{className:"controls-pad-turn-up-left",onPointerUp:T,onPointerMove:function(e){return C(e,"forwardLeft")},onPointerDown:function(e){return x(e,"forwardLeft")}}),(0,b_.jsx)("div",{className:"controls-pad-center ".concat(h),onClick:function(){return s(!a)}})]})},cD=function(){LS(ux),hS();return(0,b_.jsx)("div",{className:"flex flex-column align-items-center justify-content-center w-screen h-screen",children:(0,b_.jsx)(cx,{})})},lD=function(e,t){return function(e,t){if(!t){var n,r=null!==(n=ok.find((function(t){return t.date===e})))&&void 0!==n?n:{date:new Date("Thu May 11 2023"),bookedSlots:["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45"]};return[r]}for(var i=e,o=[e];i!==t;){var a=i.setDate(i.getDate()+1);o.push(new Date(a)),i=e}return o.map((function(e){return{date:e,bookedSlots:["23:00","23:15","23:30","23:45"]}}))}(e,null!==t&&void 0!==t?t:void 0)};function dD(e,t){return function(){return e.apply(t,arguments)}}var fD=Object.prototype.toString,pD=Object.getPrototypeOf,hD=function(e){return function(t){var n=fD.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),vD=function(e){return e=e.toLowerCase(),function(t){return hD(t)===e}},mD=function(e){return function(t){return typeof t===e}},gD=Array.isArray,yD=mD("undefined");var bD=vD("ArrayBuffer");var wD=mD("string"),ED=mD("function"),kD=mD("number"),_D=function(e){return null!==e&&"object"===typeof e},SD=function(e){if("object"!==hD(e))return!1;var t=pD(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CD=vD("Date"),xD=vD("File"),TD=vD("Blob"),ID=vD("FileList"),RD=vD("URLSearchParams");function OD(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,o=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),gD(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var a,s=o?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)a=s[n],t.call(null,e[a],a,e)}}function AD(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var ND="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,PD=function(e){return!yD(e)&&e!==ND};var LD,MD=(LD="undefined"!==typeof Uint8Array&&pD(Uint8Array),function(e){return LD&&e instanceof LD}),DD=vD("HTMLFormElement"),jD=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),FD=vD("RegExp"),VD=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};OD(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},ZD="abcdefghijklmnopqrstuvwxyz",GD="0123456789",WD={DIGIT:GD,ALPHA:ZD,ALPHA_DIGIT:ZD+ZD.toUpperCase()+GD};var UD=vD("AsyncFunction"),XD={isArray:gD,isArrayBuffer:bD,isBuffer:function(e){return null!==e&&!yD(e)&&null!==e.constructor&&!yD(e.constructor)&&ED(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||ED(e.append)&&("formdata"===(t=hD(e))||"object"===t&&ED(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&bD(e.buffer)},isString:wD,isNumber:kD,isBoolean:function(e){return!0===e||!1===e},isObject:_D,isPlainObject:SD,isUndefined:yD,isDate:CD,isFile:xD,isBlob:TD,isRegExp:FD,isFunction:ED,isStream:function(e){return _D(e)&&ED(e.pipe)},isURLSearchParams:RD,isTypedArray:MD,isFileList:ID,forEach:OD,merge:function e(){for(var t=(PD(this)&&this||{}).caseless,n={},r=function(r,i){var o=t&&AD(n,i)||i;SD(n[o])&&SD(r)?n[o]=e(n[o],r):SD(r)?n[o]=e({},r):gD(r)?n[o]=r.slice():n[o]=r},i=0,o=arguments.length;i<o;i++)arguments[i]&&OD(arguments[i],r);return n},extend:function(e,t,n){return OD(t,(function(t,r){n&&ED(t)?e[r]=dD(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,o,a,s={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&pD(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:hD,kindOfTest:vD,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(gD(e))return e;var t=e.length;if(!kD(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:DD,hasOwnProperty:jD,hasOwnProp:jD,reduceDescriptors:VD,freezeMethods:function(e){VD(e,(function(t,n){if(ED(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];ED(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return gD(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:AD,global:ND,isContextDefined:PD,ALPHABET:WD,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WD.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ED(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(_D(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=gD(n)?[]:{};return OD(n,(function(t,n){var o=e(t,r+1);!yD(o)&&(i[n]=o)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:UD,isThenable:function(e){return e&&(_D(e)||ED(e))&&ED(e.then)&&ED(e.catch)}};function BD(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}XD.inherits(BD,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:XD.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var HD=BD.prototype,YD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){YD[e]={value:e}})),Object.defineProperties(BD,YD),Object.defineProperty(HD,"isAxiosError",{value:!0}),BD.from=function(e,t,n,r,i,o){var a=Object.create(HD);return XD.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),BD.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var zD=BD;function KD(e){return XD.isPlainObject(e)||XD.isArray(e)}function JD(e){return XD.endsWith(e,"[]")?e.slice(0,-2):e}function QD(e,t,n){return e?e.concat(t).map((function(e,t){return e=JD(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var qD=XD.toFlatObject(XD,{},null,(function(e){return/^is[A-Z]/.test(e)}));var $D=function(e,t,n){if(!XD.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=XD.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!XD.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&XD.isSpecCompliantForm(t);if(!XD.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(XD.isDate(e))return e.toISOString();if(!s&&XD.isBlob(e))throw new zD("Blob is not supported. Use a Buffer instead.");return XD.isArrayBuffer(e)||XD.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(XD.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(XD.isArray(e)&&function(e){return XD.isArray(e)&&!e.some(KD)}(e)||(XD.isFileList(e)||XD.endsWith(n,"[]"))&&(s=XD.toArray(e)))return n=JD(n),s.forEach((function(e,r){!XD.isUndefined(e)&&null!==e&&t.append(!0===a?QD([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!KD(e)||(t.append(QD(i,n,o),u(e)),!1)}var l=[],d=Object.assign(qD,{defaultVisitor:c,convertValue:u,isVisitable:KD});if(!XD.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!XD.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),XD.forEach(n,(function(n,o){!0===(!(XD.isUndefined(n)||null===n)&&i.call(t,n,XD.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function ej(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function tj(e,t){this._pairs=[],e&&$D(e,this,t)}var nj=tj.prototype;nj.append=function(e,t){this._pairs.push([e,t])},nj.toString=function(e){var t=e?function(t){return e.call(this,t,ej)}:ej;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var rj=tj;function ij(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oj(e,t,n){if(!t)return e;var r,i=n&&n.encode||ij,o=n&&n.serialize;if(r=o?o(t,n):XD.isURLSearchParams(t)?t.toString():new rj(t,n).toString(i)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var aj=function(){function e(){p(this,e),this.handlers=[]}return v(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){XD.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),sj=aj,uj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cj={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:rj,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var lj=function(e){function t(e,n,r,i){var o=e[i++],a=Number.isFinite(+o),s=i>=e.length;return o=!o&&XD.isArray(r)?r.length:o,s?(XD.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&XD.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&XD.isArray(r[o])&&(r[o]=function(e){var t,n,r={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)r[n=i[t]]=e[n];return r}(r[o])),!a)}if(XD.isFormData(e)&&XD.isFunction(e.entries)){var n={};return XD.forEachEntry(e,(function(e,r){t(function(e){return XD.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},dj={"Content-Type":void 0};var fj={transitional:uj,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=XD.isObject(e);if(o&&XD.isHTMLForm(e)&&(e=new FormData(e)),XD.isFormData(e))return i&&i?JSON.stringify(lj(e)):e;if(XD.isArrayBuffer(e)||XD.isBuffer(e)||XD.isStream(e)||XD.isFile(e)||XD.isBlob(e))return e;if(XD.isArrayBufferView(e))return e.buffer;if(XD.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $D(e,new cj.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return cj.isNode&&XD.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=XD.isFileList(e))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return $D(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(XD.isString(e))try{return(t||JSON.parse)(e),XD.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||fj.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&XD.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i){if("SyntaxError"===o.name)throw zD.from(o,zD.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cj.classes.FormData,Blob:cj.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};XD.forEach(["delete","get","head"],(function(e){fj.headers[e]={}})),XD.forEach(["post","put","patch"],(function(e){fj.headers[e]=XD.merge(dj)}));var pj=fj,hj=XD.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vj=Symbol("internals");function mj(e){return e&&String(e).trim().toLowerCase()}function gj(e){return!1===e||null==e?e:XD.isArray(e)?e.map(gj):String(e)}function yj(e,t,n,r,i){return XD.isFunction(r)?r.call(this,t,n):(i&&(t=n),XD.isString(t)?XD.isString(r)?-1!==t.indexOf(r):XD.isRegExp(r)?r.test(t):void 0:void 0)}var bj=function(e,t){function n(e){p(this,n),e&&this.set(e)}return v(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=mj(t);if(!i)throw new Error("header name must be a non-empty string");var o=XD.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=gj(e))}var o=function(e,t){return XD.forEach(e,(function(e,n){return i(e,n,t)}))};return XD.isPlainObject(e)||e instanceof this.constructor?o(e,t):XD.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&hj[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=mj(e)){var n=XD.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(XD.isFunction(t))return t.call(this,r,n);if(XD.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=mj(e)){var n=XD.findKey(this,e);return!(!n||void 0===this[n]||t&&!yj(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=mj(e)){var i=XD.findKey(n,e);!i||t&&!yj(0,n[i],i,t)||(delete n[i],r=!0)}}return XD.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!yj(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return XD.forEach(this,(function(r,i){var o=XD.findKey(n,i);if(o)return t[o]=gj(r),void delete t[i];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();a!==i&&delete t[i],t[a]=gj(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return XD.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&XD.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=y(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[vj]=this[vj]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=mj(e);t[r]||(!function(e,t){var n=XD.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return XD.isArray(e)?e.forEach(r):r(e),this}}]),n}();bj.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),XD.freezeMethods(bj.prototype),XD.freezeMethods(bj);var wj=bj;function Ej(e,t){var n=this||pj,r=t||n,i=wj.from(r.headers),o=r.data;return XD.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function kj(e){return!(!e||!e.__CANCEL__)}function _j(e,t,n){zD.call(this,null==e?"canceled":e,zD.ERR_CANCELED,t,n),this.name="CanceledError"}XD.inherits(_j,zD,{__CANCEL__:!0});var Sj=_j;var Cj=cj.isStandardBrowserEnv?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),XD.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),XD.isString(r)&&a.push("path="+r),XD.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function xj(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Tj=cj.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=XD.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Ij=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[a];n||(n=u),r[o]=s,i[o]=u;for(var l=a,d=0;l!==o;)d+=r[l++],l%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),!(u-n<t)){var f=c&&u-c;return f?Math.round(1e3*d/f):void 0}}};function Rj(e,t){var n=0,r=Ij(50,250);return function(i){var o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,u=r(s);n=o;var c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Oj="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,o=wj.from(e.headers).normalize(),a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}XD.isFormData(i)&&(cj.isStandardBrowserEnv||cj.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+l))}var d=xj(e.baseURL,e.url);function f(){if(u){var r=wj.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new zD("Request failed with status code "+n.status,[zD.ERR_BAD_REQUEST,zD.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),oj(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new zD("Request aborted",zD.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new zD("Network Error",zD.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||uj;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new zD(t,r.clarifyTimeoutError?zD.ETIMEDOUT:zD.ECONNABORTED,e,u)),u=null},cj.isStandardBrowserEnv){var p=(e.withCredentials||Tj(d))&&e.xsrfCookieName&&Cj.read(e.xsrfCookieName);p&&o.set(e.xsrfHeaderName,p)}void 0===i&&o.setContentType(null),"setRequestHeader"in u&&XD.forEach(o.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),XD.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Rj(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Rj(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new Sj(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var h=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===cj.protocols.indexOf(h)?n(new zD("Unsupported protocol "+h+":",zD.ERR_BAD_REQUEST,e)):u.send(i||null)}))},Aj={http:null,xhr:Oj};XD.forEach(Aj,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Nj=function(e){for(var t,n,r=(e=XD.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=XD.isString(t)?Aj[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new zD("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(XD.hasOwnProp(Aj,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!XD.isFunction(n))throw new TypeError("adapter is not a function");return n};function Pj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sj(null,e)}function Lj(e){return Pj(e),e.headers=wj.from(e.headers),e.data=Ej.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nj(e.adapter||pj.adapter)(e).then((function(t){return Pj(e),t.data=Ej.call(e,e.transformResponse,t),t.headers=wj.from(t.headers),t}),(function(t){return kj(t)||(Pj(e),t&&t.response&&(t.response.data=Ej.call(e,e.transformResponse,t.response),t.response.headers=wj.from(t.response.headers))),Promise.reject(t)}))}var Mj=function(e){return e instanceof wj?e.toJSON():e};function Dj(e,t){t=t||{};var n={};function r(e,t,n){return XD.isPlainObject(e)&&XD.isPlainObject(t)?XD.merge.call({caseless:n},e,t):XD.isPlainObject(t)?XD.merge({},t):XD.isArray(t)?t.slice():t}function i(e,t,n){return XD.isUndefined(t)?XD.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!XD.isUndefined(t))return r(void 0,t)}function a(e,t){return XD.isUndefined(t)?XD.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return i(Mj(e),Mj(t),!0)}};return XD.forEach(Object.keys(Object.assign({},e,t)),(function(r){var o=u[r]||i,a=o(e[r],t[r],r);XD.isUndefined(a)&&o!==s||(n[r]=a)})),n}var jj="1.4.0",Fj={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Fj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Vj={};Fj.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new zD(r(i," has been removed"+(t?" in "+t:"")),zD.ERR_DEPRECATED);return t&&!Vj[i]&&(Vj[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var Zj={assertOptions:function(e,t,n){if("object"!==typeof e)throw new zD("options must be an object",zD.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new zD("option "+o+" must be "+u,zD.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new zD("Unknown option "+o,zD.ERR_BAD_OPTION)}},validators:Fj},Gj=Zj.validators,Wj=function(){function e(t){p(this,e),this.defaults=t,this.interceptors={request:new sj,response:new sj}}return v(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Dj(this.defaults,t),i=r.transitional,o=r.paramsSerializer,a=r.headers;void 0!==i&&Zj.assertOptions(i,{silentJSONParsing:Gj.transitional(Gj.boolean),forcedJSONParsing:Gj.transitional(Gj.boolean),clarifyTimeoutError:Gj.transitional(Gj.boolean)},!1),null!=o&&(XD.isFunction(o)?t.paramsSerializer={serialize:o}:Zj.assertOptions(o,{encode:Gj.function,serialize:Gj.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=a&&XD.merge(a.common,a[t.method]))&&XD.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=wj.concat(n,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var d,f=0;if(!u){var p=[Lj.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,l),d=p.length,c=Promise.resolve(t);f<d;)c=c.then(p[f++],p[f++]);return c}d=s.length;var h=t;for(f=0;f<d;){var v=s[f++],m=s[f++];try{h=v(h)}catch(g){m.call(this,g);break}}try{c=Lj.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,d=l.length;f<d;)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(e){return oj(xj((e=Dj(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();XD.forEach(["delete","get","head","options"],(function(e){Wj.prototype[e]=function(t,n){return this.request(Dj(n||{},{method:e,url:t,data:(n||{}).data}))}})),XD.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Dj(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Wj.prototype[e]=t(),Wj.prototype[e+"Form"]=t(!0)}));var Uj=Wj,Xj=function(){function e(t){if(p(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Sj(e,t,i),n(r.reason))}))}return v(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Bj=Xj;var Hj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hj).forEach((function(e){var t=y(e,2),n=t[0],r=t[1];Hj[r]=n}));var Yj=Hj;var zj=function e(t){var n=new Uj(t),r=dD(Uj.prototype.request,n);return XD.extend(r,Uj.prototype,n,{allOwnKeys:!0}),XD.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Dj(t,n))},r}(pj);zj.Axios=Uj,zj.CanceledError=Sj,zj.CancelToken=Bj,zj.isCancel=kj,zj.VERSION=jj,zj.toFormData=$D,zj.AxiosError=zD,zj.Cancel=zj.CanceledError,zj.all=function(e){return Promise.all(e)},zj.spread=function(e){return function(t){return e.apply(null,t)}},zj.isAxiosError=function(e){return XD.isObject(e)&&!0===e.isAxiosError},zj.mergeConfig=Dj,zj.AxiosHeaders=wj,zj.formToJSON=function(e){return lj(XD.isHTMLForm(e)?new FormData(e):e)},zj.HttpStatusCode=Yj,zj.default=zj;var Kj=zj,Jj="https://rawbotz.com/api",Qj=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kj.post("".concat(Jj,"/createtankbot"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qj=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kj.post("".concat(Jj,"/botconnect"),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$j=function(){var e=PS(),t=LS(XI),n=y((0,qk.useState)({showEditPage:!1,game:null}),2),r=n[0],i=n[1];(0,qk.useEffect)((function(){e(bk({fromDate:new Date(t.fromDate),toDate:new Date(t.toDate)}))}),[]),(0,qk.useEffect)((function(){return tG.unsubscribe()}),[]),(0,qk.useEffect)((function(){tG.resetlistener()}),[t.creatGame.gameStartDate]);return(0,b_.jsxs)(NC,{className:"h-full",children:[(0,b_.jsx)(VI,{value:new Date(t.fromDate),onChange:function(t){var n;return function(t){var n=new Date(null!==t&&void 0!==t?t:"");n.setUTCDate(n.getDate()),n.setUTCHours(0),n.setUTCMinutes(0),n.setFullYear(n.getFullYear()),e(Ik({fromDate:n}))}(null===(n=t.value)||void 0===n?void 0:n.toString())}}),(0,b_.jsx)(VI,{value:new Date(t.toDate),onChange:function(t){var n;return function(t){var n=new Date(null!==t&&void 0!==t?t:"");n.setUTCDate(n.getDate()),n.setUTCHours(0),n.setUTCMinutes(0),n.setFullYear(n.getFullYear()),e(Rk({toDate:n}))}(null===(n=t.value)||void 0===n?void 0:n.toString())}}),(0,b_.jsx)(DP,{games:t.games,showEditPage:function(e){i({showEditPage:!0,game:e})}}),r.showEditPage&&null!==r.game&&(0,b_.jsx)(jP,{game:r.game,visible:r.showEditPage,onHide:function(){return i({showEditPage:!1,game:null})}})]})},eF=function(){var e=PS(),t=LS(ZI),n=y((0,qk.useState)(!1),2),r=n[0],i=n[1];return(0,b_.jsxs)("div",{className:"flex flex-column align-content-center w-screen min-h-full border-4-red surface-card md:flex-row lg:flex-row lg:h-full",children:[(0,b_.jsx)(BI,{showTimeAvailability:function(){return i(!0)}}),(0,b_.jsx)(HI,{}),(0,b_.jsx)(kR,{}),(0,b_.jsx)(ER,{startDate:new Date(t.gameStartDate),visible:r,saveDuration:function(n){e(wk(he(he({},t),{},{duration:n.duration,startTime:n.startDate.getTime(),endTime:n.gameEndDate.getTime()})))},closeDialog:function(){return i(!1)}})]})};function tF(e){return tF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tF(e)}function nF(e){var t=function(e,t){if("object"!==tF(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tF(t)?t:String(t)}function rF(e,t,n){return(t=nF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iF=OC.extend({defaultProps:{__TYPE:"Tag",value:null,severity:null,rounded:!1,icon:null,style:null,className:null,children:void 0}});function oF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var aF=qk.forwardRef((function(e,t){var n,r=qk.useContext(_C),i=iF.getProps(e,r),o=iF.setMetaData({props:i}).ptm,a=qk.useRef(null),s=VS("p-tag p-component",(rF(n={},"p-tag-".concat(i.severity),null!==i.severity),rF(n,"p-tag-rounded",i.rounded),n),i.className),u=rC({className:"p-tag-icon"},o("icon")),c=QS.getJSXIcon(i.icon,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oF(Object(n),!0).forEach((function(t){rF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u),{props:i});qk.useImperativeHandle(t,(function(){return{props:i,getElement:function(){return a.current}}}));var l=rC({ref:a,className:s,style:i.style},iF.getOtherProps(i),o("root")),d=rC({className:"p-tag-value"},o("value"));return qk.createElement("span",l,c,qk.createElement("span",d,i.value),qk.createElement("span",null,i.children))}));aF.displayName="Tag";var sF=function(e){return"@@redux-saga/"+e},uF=sF("CANCEL_PROMISE"),cF=sF("CHANNEL_END"),lF=sF("IO"),dF=sF("MATCH"),fF=sF("MULTICAST"),pF=sF("SAGA_ACTION"),hF=sF("SELF_CANCELLATION"),vF=sF("TASK"),mF=sF("TASK_CANCEL"),gF=sF("TERMINATE"),yF=sF("LOCATION"),bF=function(e){return null===e||void 0===e},wF=function(e){return null!==e&&void 0!==e},EF=function(e){return"function"===typeof e},kF=function(e){return"string"===typeof e},_F=Array.isArray,SF=function(e){return e&&EF(e.then)},CF=function(e){return e&&EF(e.next)&&EF(e.throw)},xF=function e(t){return t&&(kF(t)||RF(t)||EF(t)||_F(t)&&t.every(e))},TF=function(e){return e&&EF(e.take)&&EF(e.close)},IF=function(e){return EF(e)&&e.hasOwnProperty("toString")},RF=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},OF=function(e){return TF(e)&&e[fF]},AF=function(e){return function(){return e}},NF=AF(!0),PF=function(){};var LF=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var MF=function(e,t){Qx(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function DF(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var jF=function(e){throw e},FF=function(e){return{value:e,done:!0}};function VF(e,t,n){void 0===t&&(t=jF),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:FF,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function ZF(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var GF=function(e){return Array.apply(null,new Array(e))},WF=function(e){return function(t){return e(Object.defineProperty(t,pF,{value:!0}))}},UF=function(e){return e===gF},XF=function(e){return e===mF},BF=function(e){return UF(e)||XF(e)};function HF(e,t){var n=Object.keys(e),r=n.length;var i,o=0,a=_F(e)?GF(r):{},s={};return n.forEach((function(e){var n=function(n,s){i||(s||BF(n)?(t.cancel(),t(n,s)):(a[e]=n,++o===r&&(i=!0,t(a))))};n.cancel=PF,s[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return s[e].cancel()})))},s}function YF(e){return{name:e.name||"anonymous",location:zF(e)}}function zF(e){return e[yF]}function KF(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,a=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},u=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)a(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=s,o=i=(i+1)%e;break;case 4:c=2*e,n=u(),r=n.length,i=n.length,o=0,n.length=c,e=c,a(s)}},take:s,flush:u}}var JF=function(e){return KF(e,4)},QF="TAKE",qF="PUT",$F="ALL",eV="RACE",tV="CALL",nV="CPS",rV="FORK",iV="JOIN",oV="CANCEL",aV="SELECT",sV="ACTION_CHANNEL",uV="CANCELLED",cV="FLUSH",lV="GET_CONTEXT",dV="SET_CONTEXT",fV=function(e,t){var n;return(n={})[lF]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function pV(e,t){return void 0===e&&(e="*"),xF(e)?(wF(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),fV(QF,{pattern:e})):OF(e)&&wF(t)&&xF(t)?fV(QF,{channel:e,pattern:t}):TF(e)?(wF(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),fV(QF,{channel:e})):void 0}function hV(e,t){return bF(t)&&(t=e,e=void 0),fV(qF,{channel:e,action:t})}function vV(e,t){var n,r=null;return EF(e)?n=e:(_F(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&kF(n)&&EF(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function mV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fV(tV,vV(e,n))}function gV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fV(rV,vV(e,n))}function yV(e){void 0===e&&(e=LF);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fV(aV,{selector:e,args:n})}function bV(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var wV=bV,EV=[],kV=0;function _V(e){try{xV(),e()}finally{TV()}}function SV(e){EV.push(e),kV||(xV(),IV())}function CV(e){try{return xV(),e()}finally{IV()}}function xV(){kV++}function TV(){kV--}function IV(){var e;for(TV();!kV&&void 0!==(e=EV.shift());)_V(e)}var RV=function(e){return function(t){return e.some((function(e){return LV(e)(t)}))}},OV=function(e){return function(t){return e(t)}},AV=function(e){return function(t){return t.type===String(e)}},NV=function(e){return function(t){return t.type===e}},PV=function(){return NF};function LV(e){var t="*"===e?PV:kF(e)?AV:_F(e)?RV:IF(e)?AV:EF(e)?OV:RF(e)?NV:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var MV={type:cF},DV=function(e){return e&&e.type===cF};function jV(e){void 0===e&&(e=JF());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(MV):e.isEmpty()?(n.push(r),r.cancel=function(){DF(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(MV):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(MV)}}}}}function FV(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},o=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(MV)}))};return(e={})[fF]=!0,e.put=function(e){if(!t)if(DV(e))o();else for(var i=n=r,a=0,s=i.length;a<s;a++){var u=i[a];u[dF](e)&&(u.cancel(),u(e))}},e.take=function(e,n){void 0===n&&(n=PV),t?e(MV):(e[dF]=n,i(),r.push(e),e.cancel=function(e){var t=!1;return function(){t||(t=!0,e())}}((function(){i(),DF(r,e)})))},e.close=o,e}(),t=e.put;return e.put=function(e){e[pF]?t(e):SV((function(){t(e)}))},e}var VV=0,ZV=1,GV=2,WV=3;function UV(e,t){var n=e[uF];EF(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var XV,BV=0,HV=function(){return++BV};function YV(e){e.isRunning()&&e.cancel()}var zV=((XV={})[QF]=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,o=t.pattern,a=t.maybe,s=function(e){e instanceof Error?n(e,!0):!DV(e)||a?n(e):n(gF)};try{i.take(s,wF(o)?LV(o):null)}catch(oG){return void n(oG,!0)}n.cancel=s.cancel},XV[qF]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;SV((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(a){return void n(a,!0)}o&&SF(t)?UV(t,n):n(t)}))},XV[$F]=function(e,t,n,r){var i=r.digestEffect,o=BV,a=Object.keys(t);if(0!==a.length){var s=HF(t,n);a.forEach((function(e){i(t[e],o,s[e],e)}))}else n(_F(t)?[]:{})},XV[eV]=function(e,t,n,r){var i=r.digestEffect,o=BV,a=Object.keys(t),s=_F(t)?GF(a.length):{},u={},c=!1;a.forEach((function(e){var t=function(t,r){c||(r||BF(t)?(n.cancel(),n(t,r)):(n.cancel(),c=!0,s[e]=t,n(s)))};t.cancel=PF,u[e]=t})),n.cancel=function(){c||(c=!0,a.forEach((function(e){return u[e].cancel()})))},a.forEach((function(e){c||i(t[e],o,u[e],e)}))},XV[tV]=function(e,t,n,r){var i=t.context,o=t.fn,a=t.args,s=r.task;try{var u=o.apply(i,a);if(SF(u))return void UV(u,n);if(CF(u))return void oZ(e,u,s.context,BV,YF(o),!1,n);n(u)}catch(c){n(c,!0)}},XV[nV]=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var a=function(e,t){bF(e)?n(t):n(e,!0)};i.apply(r,o.concat(a)),a.cancel&&(n.cancel=a.cancel)}catch(s){n(s,!0)}},XV[rV]=function(e,t,n,r){var i=t.context,o=t.fn,a=t.args,s=t.detached,u=r.task,c=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(CF(i))return i;var o=!1;return VF((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!SF(i)})}))}catch(oG){return VF((function(){throw oG}))}}({context:i,fn:o,args:a}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:YF(t)}(c,o);CV((function(){var t=oZ(e,c,u.context,BV,l,s,void 0);s?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},XV[iV]=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&DF(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(_F(t)){if(0===t.length)return void n([]);var a=HF(t,n);t.forEach((function(e,t){o(e,a[t])}))}else o(t,n)},XV[oV]=function(e,t,n,r){var i=r.task;t===hF?YV(i):_F(t)?t.forEach(YV):YV(t),n()},XV[aV]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(o){n(o,!0)}},XV[sV]=function(e,t,n){var r=t.pattern,i=jV(t.buffer),o=LV(r),a=function t(n){DV(n)||e.channel.take(t,o),i.put(n)},s=i.close;i.close=function(){a.cancel(),s()},e.channel.take(a,o),n(i)},XV[uV]=function(e,t,n,r){n(r.task.isCancelled())},XV[cV]=function(e,t,n){t.flush(n)},XV[lV]=function(e,t,n,r){n(r.task.context[t])},XV[dV]=function(e,t,n,r){var i=r.task;MF(i.context,t),n()},XV);function KV(e,t){return e+"?"+t}function JV(e){var t=e.name,n=e.location;return n?t+"  "+KV(n.fileName,n.lineNumber):t}function QV(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var qV=null,$V=[],eZ=function(e){e.crashedEffect=qV,$V.push(e)},tZ=function(){qV=null,$V.length=0},nZ=function(e){qV=e},rZ=function(){var e=$V[0],t=$V.slice(1),n=e.crashedEffect?function(e){var t=zF(e);return t?t.code+"  "+KV(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+JV(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+JV(e.meta)})),[QV($V)]).join("\n")};function iZ(e,t,n,r,i,o,a){var s;void 0===a&&(a=PF);var u,c,l=VV,d=null,f=[],p=Object.create(n),h=function(e,t,n){var r,i=[],o=!1;function a(e){t(),u(),n(e,!0)}function s(t){i.push(t),t.cont=function(s,u){o||(DF(i,t),t.cont=PF,u?a(s):(t===e&&(r=s),i.length||(o=!0,n(r))))}}function u(){o||(o=!0,i.forEach((function(e){e.cont=PF,e.cancel()})),i=[])}return s(e),{addTask:s,cancelAll:u,abort:a,getTasks:function(){return i}}}(t,(function(){f.push.apply(f,h.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(l=GV,eZ({meta:i,cancelledTasks:f}),m.isRoot){var r=rZ();tZ(),e.onError(t,{sagaStack:r})}c=t,d&&d.reject(t)}else t===mF?l=ZV:l!==ZV&&(l=WV),u=t,d&&d.resolve(t);m.cont(t,n),m.joiners.forEach((function(e){e.cb(t,n)})),m.joiners=null}var m=((s={})[vF]=!0,s.id=r,s.meta=i,s.isRoot=o,s.context=p,s.joiners=[],s.queue=h,s.cancel=function(){l===VV&&(l=ZV,h.cancelAll(),v(mF,!1))},s.cont=a,s.end=v,s.setContext=function(e){MF(p,e)},s.toPromise=function(){return d||(d=wV(),l===GV?d.reject(c):l!==VV&&d.resolve(u)),d.promise},s.isRunning=function(){return l===VV},s.isCancelled=function(){return l===ZV||l===VV&&t.status===ZV},s.isAborted=function(){return l===GV},s.result=function(){return u},s.error=function(){return c},s);return m}function oZ(e,t,n,r,i,o,a){var s=e.finalizeRunEffect((function(t,n,r){if(SF(t))UV(t,r);else if(CF(t))oZ(e,t,c.context,n,i,!1,r);else if(t&&t[lF]){(0,zV[t.type])(e,t.payload,r,l)}else r(t)}));d.cancel=PF;var u={meta:i,cancel:function(){u.status===VV&&(u.status=ZV,d(mF))},status:VV},c=iZ(e,u,n,r,i,o,a),l={task:c,digestEffect:f};return a&&(a.cancel=c.cancel),d(),c;function d(e,n){try{var i;n?(i=t.throw(e),tZ()):XF(e)?(u.status=ZV,d.cancel(),i=EF(t.return)?t.return(mF):{done:!0,value:mF}):i=UF(e)?EF(t.return)?t.return():{done:!0}:t.next(e),i.done?(u.status!==ZV&&(u.status=WV),u.cont(i.value)):f(i.value,r,d)}catch(o){if(u.status===ZV)throw o;u.status=GV,u.cont(o,!0)}}function f(t,n,r,i){void 0===i&&(i="");var o,a=HV();function u(n,i){o||(o=!0,r.cancel=PF,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),i&&nZ(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:t}),u.cancel=PF,r.cancel=function(){o||(o=!0,u.cancel(),u.cancel=PF,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},s(t,a,u)}}function aZ(e,t){var n=e.channel,r=void 0===n?FV():n,i=e.dispatch,o=e.getState,a=e.context,s=void 0===a?{}:a,u=e.sagaMonitor,c=e.effectMiddlewares,l=e.onError,d=void 0===l?ZF:l;for(var f=arguments.length,p=new Array(f>2?f-2:0),h=2;h<f;h++)p[h-2]=arguments[h];var v=t.apply(void 0,p);var m,g=HV();if(u&&(u.rootSagaStarted=u.rootSagaStarted||PF,u.effectTriggered=u.effectTriggered||PF,u.effectResolved=u.effectResolved||PF,u.effectRejected=u.effectRejected||PF,u.effectCancelled=u.effectCancelled||PF,u.actionDispatched=u.actionDispatched||PF,u.rootSagaStarted({effectId:g,saga:t,args:p})),c){var y=fE.apply(void 0,c);m=function(e){return function(t,n,r){return y((function(t){return e(t,n,r)}))(t)}}}else m=LF;var b={channel:r,dispatch:WF(i),getState:o,sagaMonitor:u,onError:d,finalizeRunEffect:m};return CV((function(){var e=oZ(b,v,s,g,YF(t),!0,void 0);return u&&u.effectResolved(g,e),e}))}var sZ=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,o=n.channel,a=void 0===o?FV():o,s=n.sagaMonitor,u=qx(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,r=e.dispatch;return t=aZ.bind(null,Qx({},u,{context:i,channel:a,dispatch:r,getState:n,sagaMonitor:s})),function(e){return function(t){s&&s.actionDispatched&&s.actionDispatched(t);var n=e(t);return a.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){MF(i,e)},c},uZ=sZ,cZ=function(e){return{done:!0,value:e}},lZ={};function dZ(e){return TF(e)?"channel":IF(e)?String(e):EF(e)?e.name:String(e)}function fZ(e,t,n){var r,i,o,a=t;function s(t,n){if(a===lZ)return cZ(t);if(n&&!i)throw a=lZ,n;r&&r(t);var s=n?e[i](n):e[a]();return a=s.nextState,o=s.effect,r=s.stateUpdater,i=s.errorState,a===lZ?cZ(t):o}return VF(s,(function(e){return s(null,e)}),n)}function pZ(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,a={done:!1,value:pV(e)},s=function(e){return{done:!1,value:gV.apply(void 0,[t].concat(r,[e]))}},u=function(e){return o=e};return fZ({q1:function(){return{nextState:"q2",effect:a,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:s(o)}}},"q1","takeEvery("+dZ(e)+", "+t.name+")")}function hZ(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return gV.apply(void 0,[pZ,e,t].concat(r))}var vZ=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nk,e.prev=1,e.next=4,(n=tw,r=t.email,i=t.password,Dr(ee(n),br.credential(r,i))).then((function(e){var t=e.user,n=t.email,r=t.displayName,i=void 0===r?"":r,o=t.emailVerified;return{displayName:i||"",phoneNumber:"",email:n||"",photoURL:"",providerId:"",uid:e.user.uid,emailVerified:o,idToken:""}}));case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new Error("user could not be signed in ");case 10:case"end":return e.stop()}var n,r,i}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),mZ=function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=tw.currentUser)||void 0===t?void 0:t.getIdToken();case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",r);case 6:throw new Error("Cannot ge Id token");case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Cannot get Id token");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),gZ=function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tw.signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yZ=n().mark(EZ),bZ=n().mark(kZ),wZ=n().mark(_Z);function EZ(e){var t,r,i;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,vZ(e.payload);case 3:return t=n.sent,n.next=6,mZ();case 6:return r=n.sent,n.next=9,he(he({},t),{},{idToken:r});case 9:return i=n.sent,n.next=12,hV($E(i));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,hV({type:"userSlice/signInFailed"});case 18:case"end":return n.stop()}}),yZ,null,[[0,14]])}function kZ(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gZ();case 3:return e.next=5,hV(ek());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("cannot signout");case 10:case"end":return e.stop()}}),bZ,null,[[0,7]])}function _Z(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hZ("userSlice/signIn",EZ);case 2:return e.next=4,hZ("userSlice/signOutUser",kZ);case 4:case"end":return e.stop()}}),wZ)}var SZ=Vg(nw,"games"),CZ=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Py(SZ,he({},t)).then((function(){return!0})).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xZ=n().mark(OZ),TZ=n().mark(AZ),IZ=n().mark(NZ),RZ=n().mark(PZ);function OZ(e,t){var r;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=lD(e,t),n.next=4,hV(_k(r));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),xZ,null,[[0,6]])}function AZ(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,mV((function(){return CZ(e.payload)}));case 3:return t.next=5,hV(Lk("Game Saved"));case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,hV(xk());case 11:return t.next=13,hV(Pk("".concat(t.t0)));case 13:case"end":return t.stop()}}),TZ,null,[[0,7]])}function NZ(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yV();case 2:return e=t.sent,console.log(e.games.fromDate),t.next=6,hV(bk({fromDate:new Date(e.games.fromDate),toDate:new Date(e.games.toDate)}));case 6:case"end":return t.stop()}}),IZ)}function PZ(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hZ("gameSlice/requestBookableDates",OZ);case 2:return e.next=4,hZ("gameSlice/saveNewGame",AZ);case 4:return e.next=6,hZ(["gameSlice/setFromDate","gameSlice/setToDate"],NZ);case 6:case"end":return e.stop()}}),RZ)}var LZ=n().mark(DZ),MZ=n().mark(jZ);function DZ(e){var t;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,yV();case 3:return t=n.sent,n.next=6,mV((function(){var n,r,i,o;return Qj(he(he({},e.payload),{},{idToken:null!==(n=null===(r=t.user.user)||void 0===r?void 0:r.idToken)&&void 0!==n?n:"",uid:null!==(i=null===(o=t.user.user)||void 0===o?void 0:o.uid)&&void 0!==i?i:""})).catch((function(e){throw new Error(e.response.data.error)}))}));case 6:return n.next=8,hV(Zk());case 8:return n.next=10,hV(Lk("Bot Saved"));case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,hV(Gk());case 16:return n.next=18,hV(Pk("".concat(null!==n.t0&&void 0!==n.t0?n.t0:""," Bot Could not be saved")));case 18:case"end":return n.stop()}}),LZ,null,[[0,12]])}function jZ(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hZ("botzSlice/saveTankBot",DZ);case 2:case"end":return e.stop()}}),MZ)}var FZ=n().mark(ZZ);function VZ(e){var t=e.payload;return n().mark((function e(){var r,i,o,a,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yV();case 3:if((r=e.sent).user.user){e.next=6;break}throw new Error("unauthorized");case 6:return i=r.user.user,o=i.idToken,a=i.email,s=i.uid,e.next=9,qj({botId:t.botId,idToken:o,email:null!==a&&void 0!==a?a:"",uid:s,sessionId:t.sessionId});case 9:return u=e.sent,e.next=12,hV(Hk(u));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=18,hV(Yk());case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))()}function ZZ(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hZ("tankBotSessionSlice/fetchCredentialsAttempt",VZ);case 2:case"end":return e.stop()}}),FZ)}var GZ=uZ(),WZ=function(e){var t,n=ME(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!AE(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=dE(o)}var h=s;"function"===typeof h&&(h=h(n));var v=pE.apply(void 0,h),m=fE;c&&(m=OE(TE({trace:!1},"object"===typeof c&&c)));var g=new PE(v),y=g;return Array.isArray(p)?y=bE([v],p):"function"===typeof p&&(y=p(g)),lE(t,d,m.apply(void 0,y))}({reducer:{user:KE.reducer,games:gk.reducer,toast:Ak.reducer,botz:Mk.reducer,tankBotSession:Uk.reducer},middleware:function(e){return e().concat(GZ)}});GZ.run(_Z),GZ.run(PZ),GZ.run(jZ),GZ.run(ZZ);new(v((function e(){var t=this;p(this,e),this.dates=WZ.getState().games.creatGame,this.botzRef=Vg(nw,"botz"),this.q=yy(this.botzRef),this.unsubscribe=void 0,this.resetlistener=function(){t.unsubscribe()},this.unsubscribe=Ly(this.q,(function(e){var t=e.docs.map((function(e){return he({},e.data())}));WZ.dispatch(Fk(t))}))})));var UZ=function(){var e=LS(VP),t=hS(),n=function(e){return(0,b_.jsx)("img",{style:{maxHeight:"200px",padding:"0px",maxWidth:"300px"},src:e.mainPhotoUrl,alt:"tankbot"})},r=function(e){return(0,b_.jsx)("div",{style:{maxWidth:"40%"},className:"flex flex-column",children:(0,b_.jsx)(aF,{className:"mb-1",severity:!0===e.status?"success":"danger",value:!0===e.status?"online":"offline"})})},i=function(e){return(0,b_.jsxs)("span",{className:"p-buttonset",children:[(0,b_.jsx)(Tx,{label:"Edit",icon:"pi pi-check"}),(0,b_.jsx)(Tx,{label:"Delete",icon:"pi pi-trash"}),(0,b_.jsx)(Tx,{onClick:function(){return t("/tankcockpit/?botId=".concat(e.botId,"&sessionId=").concat(e.sessionId))},label:"Connect",icon:"pi pi-video"})]})};return(0,b_.jsx)(b_.Fragment,{children:e.map((function(e,t){return(0,b_.jsxs)("div",{className:"bot-grid-body-container",children:[(0,b_.jsx)(NC,{title:"Id",children:e.botId}),(0,b_.jsx)(NC,{title:"Name",children:e.botName}),(0,b_.jsx)(NC,{title:"Player",children:e.players}),(0,b_.jsx)(NC,{title:"Session",children:e.sessionId}),(0,b_.jsx)(NC,{children:n(e)}),(0,b_.jsx)(NC,{title:"Status",children:r(e)}),(0,b_.jsxs)(NC,{title:"Action",children:[i(e)," "]})]})}))})},XZ=function(){return(0,b_.jsx)(UZ,{})},BZ=function(){return(0,b_.jsx)(NC,{className:"h-full",children:(0,b_.jsx)(ZP,{})})};function HZ(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var YZ=$k.startTransition;function zZ(e){var t,n=e.basename,r=e.children,i=e.future,o=e.window,a=qk.useRef();null==a.current&&(a.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),O_((function(e,t){var n=e.location;return T_("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:I_(t)}),null,t)));var s=a.current,u=y(qk.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1],d=(i||{}).v7_startTransition,f=qk.useCallback((function(e){d&&YZ?YZ((function(){return l(e)})):l(e)}),[l,d]);return qk.useLayoutEffect((function(){return s.listen(f)}),[s,f]),qk.createElement(RS,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var KZ,JZ;function QZ(e){var t=qk.useRef(HZ(e)),n=qk.useRef(!1),r=fS(),i=qk.useMemo((function(){return function(e,t){var n=HZ(e);if(t){var r,i=l(t.keys());try{var o=function(){var e=r.value;n.has(e)||t.getAll(e).forEach((function(t){n.append(e,t)}))};for(i.s();!(r=i.n()).done;)o()}catch(oG){i.e(oG)}finally{i.f()}}return n}(r.search,n.current?null:t.current)}),[r.search]),o=hS(),a=qk.useCallback((function(e,t){var r=HZ("function"===typeof e?e(i):e);n.current=!0,o("?"+r,t)}),[o,i]);return[i,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(KZ||(KZ={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(JZ||(JZ={}));var qZ=function(){var e=y(QZ(),2),t=e[0],n=(e[1],t.get("botId")),r=t.get("sessionId");return(0,b_.jsxs)(b_.Fragment,{children:[(null===n||void 0===n?void 0:n.length)&&(null===r||void 0===r?void 0:r.length)&&(0,b_.jsx)(sD,{botId:null!==n&&void 0!==n?n:"",sessionId:null!==r&&void 0!==r?r:""}),null===n||null===r&&(0,b_.jsx)("div",{children:"no credentials"})]})},$Z=function(){return(0,b_.jsx)(b_.Fragment,{children:(0,b_.jsxs)(zZ,{children:[(0,b_.jsx)(Bx,{}),(0,b_.jsx)(TO,{}),(0,b_.jsxs)(OS,{children:[(0,b_.jsx)(IS,{path:"/",element:(0,b_.jsx)(eG,{children:(0,b_.jsx)(w_,{})})}),(0,b_.jsx)(IS,{path:"/games",element:(0,b_.jsx)(eG,{children:(0,b_.jsx)($j,{})})}),(0,b_.jsx)(IS,{path:"/creategame",element:(0,b_.jsx)(eG,{children:(0,b_.jsx)(eF,{})})}),(0,b_.jsx)(IS,{path:"/botz",element:(0,b_.jsx)(eG,{children:(0,b_.jsx)(XZ,{})})}),(0,b_.jsx)(IS,{path:"/createbotz",element:(0,b_.jsx)(eG,{children:(0,b_.jsx)(BZ,{})})}),(0,b_.jsx)(IS,{path:"/tankcockpit/",element:(0,b_.jsx)(eG,{children:(0,b_.jsx)(qZ,{})})}),(0,b_.jsx)(IS,{path:"/login",element:(0,b_.jsx)(cD,{})})]})]})})},eG=function(e){var t=e.children;return tw.currentUser?t:(0,b_.jsx)(TS,{replace:!0,to:"/login"})},tG=new(v((function e(){var t=this;p(this,e),this.dates=WZ.getState().games.creatGame,this.gamesRef=Vg(nw,"games"),this.q=yy(this.gamesRef),this.unsubscribe=Ly(this.q,(function(e){var t=e.docs.map((function(e){var t=e.data();return he({id:e.id.toString()},t)}));WZ.dispatch(Ok(t))})),this.resetlistener=function(){t.unsubscribe()}}))),nG=!1,rG=function(){nG||(iG(),nG=!0)},iG=function(){o.render((0,b_.jsx)(f_,{store:WZ,children:(0,b_.jsx)($Z,{})}),document.getElementById("root"))};!function(e,t,n,r){ee(e).onAuthStateChanged(t,n,r)}(tw,function(){var e=i(n().mark((function e(t){var r,i,o,a,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return rG(),e.abrupt("return",WZ.dispatch(qE()));case 3:return e.next=5,t.getIdToken();case 5:return r=e.sent,i=t.email,o=t.displayName,a=void 0===o?"":o,s=t.emailVerified,u={displayName:a||"",phoneNumber:"",email:i||"",photoURL:"",providerId:"",uid:t.uid,emailVerified:s,idToken:r},rG(),WZ.dispatch($E(u)),aD.connect(r),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.render((0,b_.jsx)("p",{children:"Loading ... "}),document.getElementById("root"))}()})();
//# sourceMappingURL=main.60e91b5f.js.map